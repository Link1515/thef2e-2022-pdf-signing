var Ev=Object.defineProperty;var Pv=(St,_e,en)=>_e in St?Ev(St,_e,{enumerable:!0,configurable:!0,writable:!0,value:en}):St[_e]=en;var Do=(St,_e,en)=>(Pv(St,typeof _e!="symbol"?_e+"":_e,en),en),S1=(St,_e,en)=>{if(!_e.has(St))throw TypeError("Cannot "+en)};var vr=(St,_e,en)=>(S1(St,_e,"read from private field"),en?en.call(St):_e.get(St)),Jr=(St,_e,en)=>{if(_e.has(St))throw TypeError("Cannot add the same private member more than once");_e instanceof WeakSet?_e.add(St):_e.set(St,en)},ps=(St,_e,en,tn)=>(S1(St,_e,"write to private field"),tn?tn.call(St,en):_e.set(St,en),en),_1=(St,_e,en,tn)=>({set _(nn){ps(St,_e,nn,en)},get _(){return vr(St,_e,tn)}}),ss=(St,_e,en)=>(S1(St,_e,"access private method"),en);function _mergeNamespaces(St,_e){for(var en=0;en<_e.length;en++){const tn=_e[en];if(typeof tn!="string"&&!Array.isArray(tn)){for(const nn in tn)if(nn!=="default"&&!(nn in St)){const rn=Object.getOwnPropertyDescriptor(tn,nn);rn&&Object.defineProperty(St,nn,rn.get?rn:{enumerable:!0,get:()=>tn[nn]})}}}return Object.freeze(Object.defineProperty(St,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nn of document.querySelectorAll('link[rel="modulepreload"]'))tn(nn);new MutationObserver(nn=>{for(const rn of nn)if(rn.type==="childList")for(const sn of rn.addedNodes)sn.tagName==="LINK"&&sn.rel==="modulepreload"&&tn(sn)}).observe(document,{childList:!0,subtree:!0});function en(nn){const rn={};return nn.integrity&&(rn.integrity=nn.integrity),nn.referrerpolicy&&(rn.referrerPolicy=nn.referrerpolicy),nn.crossorigin==="use-credentials"?rn.credentials="include":nn.crossorigin==="anonymous"?rn.credentials="omit":rn.credentials="same-origin",rn}function tn(nn){if(nn.ep)return;nn.ep=!0;const rn=en(nn);fetch(nn.href,rn)}})();const index="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(St){return St&&St.__esModule&&Object.prototype.hasOwnProperty.call(St,"default")?St.default:St}function getAugmentedNamespace(St){var _e=St.default;if(typeof _e=="function"){var en=function(){return _e.apply(this,arguments)};en.prototype=_e.prototype}else en={};return Object.defineProperty(en,"__esModule",{value:!0}),Object.keys(St).forEach(function(tn){var nn=Object.getOwnPropertyDescriptor(St,tn);Object.defineProperty(en,tn,nn.get?nn:{enumerable:!0,get:function(){return St[tn]}})}),en}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(St){return St===null||typeof St!="object"?null:(St=z$2&&St[z$2]||St["@@iterator"],typeof St=="function"?St:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(St,_e,en){this.props=St,this.context=_e,this.refs=D$2,this.updater=en||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(St,_e){if(typeof St!="object"&&typeof St!="function"&&St!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,St,_e,"setState")};E$2.prototype.forceUpdate=function(St){this.updater.enqueueForceUpdate(this,St,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(St,_e,en){this.props=St,this.context=_e,this.refs=D$2,this.updater=en||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(St,_e,en){var tn,nn={},rn=null,sn=null;if(_e!=null)for(tn in _e.ref!==void 0&&(sn=_e.ref),_e.key!==void 0&&(rn=""+_e.key),_e)J$1.call(_e,tn)&&!L$2.hasOwnProperty(tn)&&(nn[tn]=_e[tn]);var an=arguments.length-2;if(an===1)nn.children=en;else if(1<an){for(var on=Array(an),cn=0;cn<an;cn++)on[cn]=arguments[cn+2];nn.children=on}if(St&&St.defaultProps)for(tn in an=St.defaultProps,an)nn[tn]===void 0&&(nn[tn]=an[tn]);return{$$typeof:l$3,type:St,key:rn,ref:sn,props:nn,_owner:K$2.current}}function N$2(St,_e){return{$$typeof:l$3,type:St.type,key:_e,ref:St.ref,props:St.props,_owner:St._owner}}function O$2(St){return typeof St=="object"&&St!==null&&St.$$typeof===l$3}function escape$1(St){var _e={"=":"=0",":":"=2"};return"$"+St.replace(/[=:]/g,function(en){return _e[en]})}var P$2=/\/+/g;function Q$2(St,_e){return typeof St=="object"&&St!==null&&St.key!=null?escape$1(""+St.key):_e.toString(36)}function R$2(St,_e,en,tn,nn){var rn=typeof St;(rn==="undefined"||rn==="boolean")&&(St=null);var sn=!1;if(St===null)sn=!0;else switch(rn){case"string":case"number":sn=!0;break;case"object":switch(St.$$typeof){case l$3:case n$4:sn=!0}}if(sn)return sn=St,nn=nn(sn),St=tn===""?"."+Q$2(sn,0):tn,I$2(nn)?(en="",St!=null&&(en=St.replace(P$2,"$&/")+"/"),R$2(nn,_e,en,"",function(cn){return cn})):nn!=null&&(O$2(nn)&&(nn=N$2(nn,en+(!nn.key||sn&&sn.key===nn.key?"":(""+nn.key).replace(P$2,"$&/")+"/")+St)),_e.push(nn)),1;if(sn=0,tn=tn===""?".":tn+":",I$2(St))for(var an=0;an<St.length;an++){rn=St[an];var on=tn+Q$2(rn,an);sn+=R$2(rn,_e,en,on,nn)}else if(on=A$2(St),typeof on=="function")for(St=on.call(St),an=0;!(rn=St.next()).done;)rn=rn.value,on=tn+Q$2(rn,an++),sn+=R$2(rn,_e,en,on,nn);else if(rn==="object")throw _e=String(St),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(St).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return sn}function S$2(St,_e,en){if(St==null)return St;var tn=[],nn=0;return R$2(St,tn,"","",function(rn){return _e.call(en,rn,nn++)}),tn}function T$2(St){if(St._status===-1){var _e=St._result;_e=_e(),_e.then(function(en){(St._status===0||St._status===-1)&&(St._status=1,St._result=en)},function(en){(St._status===0||St._status===-1)&&(St._status=2,St._result=en)}),St._status===-1&&(St._status=0,St._result=_e)}if(St._status===1)return St._result.default;throw St._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(St,_e,en){S$2(St,function(){_e.apply(this,arguments)},en)},count:function(St){var _e=0;return S$2(St,function(){_e++}),_e},toArray:function(St){return S$2(St,function(_e){return _e})||[]},only:function(St){if(!O$2(St))throw Error("React.Children.only expected to receive a single React element child.");return St}};react_production_min.Component=E$2;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(St,_e,en){if(St==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+St+".");var tn=C$2({},St.props),nn=St.key,rn=St.ref,sn=St._owner;if(_e!=null){if(_e.ref!==void 0&&(rn=_e.ref,sn=K$2.current),_e.key!==void 0&&(nn=""+_e.key),St.type&&St.type.defaultProps)var an=St.type.defaultProps;for(on in _e)J$1.call(_e,on)&&!L$2.hasOwnProperty(on)&&(tn[on]=_e[on]===void 0&&an!==void 0?an[on]:_e[on])}var on=arguments.length-2;if(on===1)tn.children=en;else if(1<on){an=Array(on);for(var cn=0;cn<on;cn++)an[cn]=arguments[cn+2];tn.children=an}return{$$typeof:l$3,type:St.type,key:nn,ref:rn,props:tn,_owner:sn}};react_production_min.createContext=function(St){return St={$$typeof:u$3,_currentValue:St,_currentValue2:St,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},St.Provider={$$typeof:t$2,_context:St},St.Consumer=St};react_production_min.createElement=M$2;react_production_min.createFactory=function(St){var _e=M$2.bind(null,St);return _e.type=St,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(St){return{$$typeof:v$3,render:St}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(St){return{$$typeof:y$1,_payload:{_status:-1,_result:St},_init:T$2}};react_production_min.memo=function(St,_e){return{$$typeof:x$2,type:St,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(St){var _e=V$2.transition;V$2.transition={};try{St()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(St,_e){return U$2.current.useCallback(St,_e)};react_production_min.useContext=function(St){return U$2.current.useContext(St)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(St){return U$2.current.useDeferredValue(St)};react_production_min.useEffect=function(St,_e){return U$2.current.useEffect(St,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(St,_e,en){return U$2.current.useImperativeHandle(St,_e,en)};react_production_min.useInsertionEffect=function(St,_e){return U$2.current.useInsertionEffect(St,_e)};react_production_min.useLayoutEffect=function(St,_e){return U$2.current.useLayoutEffect(St,_e)};react_production_min.useMemo=function(St,_e){return U$2.current.useMemo(St,_e)};react_production_min.useReducer=function(St,_e,en){return U$2.current.useReducer(St,_e,en)};react_production_min.useRef=function(St){return U$2.current.useRef(St)};react_production_min.useState=function(St){return U$2.current.useState(St)};react_production_min.useSyncExternalStore=function(St,_e,en){return U$2.current.useSyncExternalStore(St,_e,en)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(St){St.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(react.exports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[react.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(St){function _e(Jn,hr){var yr=Jn.length;Jn.push(hr);e:for(;0<yr;){var Mr=yr-1>>>1,Mn=Jn[Mr];if(0<nn(Mn,hr))Jn[Mr]=hr,Jn[yr]=Mn,yr=Mr;else break e}}function en(Jn){return Jn.length===0?null:Jn[0]}function tn(Jn){if(Jn.length===0)return null;var hr=Jn[0],yr=Jn.pop();if(yr!==hr){Jn[0]=yr;e:for(var Mr=0,Mn=Jn.length,Fn=Mn>>>1;Mr<Fn;){var Nn=2*(Mr+1)-1,Un=Jn[Nn],qn=Nn+1,er=Jn[qn];if(0>nn(Un,yr))qn<Mn&&0>nn(er,Un)?(Jn[Mr]=er,Jn[qn]=yr,Mr=qn):(Jn[Mr]=Un,Jn[Nn]=yr,Mr=Nn);else if(qn<Mn&&0>nn(er,yr))Jn[Mr]=er,Jn[qn]=yr,Mr=qn;else break e}}return hr}function nn(Jn,hr){var yr=Jn.sortIndex-hr.sortIndex;return yr!==0?yr:Jn.id-hr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rn=performance;St.unstable_now=function(){return rn.now()}}else{var sn=Date,an=sn.now();St.unstable_now=function(){return sn.now()-an}}var on=[],cn=[],dn=1,mn=null,pn=3,fn=!1,yn=!1,bn=!1,wn=typeof setTimeout=="function"?setTimeout:null,vn=typeof clearTimeout=="function"?clearTimeout:null,Sn=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xn(Jn){for(var hr=en(cn);hr!==null;){if(hr.callback===null)tn(cn);else if(hr.startTime<=Jn)tn(cn),hr.sortIndex=hr.expirationTime,_e(on,hr);else break;hr=en(cn)}}function En(Jn){if(bn=!1,xn(Jn),!yn)if(en(on)!==null)yn=!0,tr(Cn);else{var hr=en(cn);hr!==null&&dr(En,hr.startTime-Jn)}}function Cn(Jn,hr){yn=!1,bn&&(bn=!1,vn(Dn),Dn=-1),fn=!0;var yr=pn;try{for(xn(hr),mn=en(on);mn!==null&&(!(mn.expirationTime>hr)||Jn&&!On());){var Mr=mn.callback;if(typeof Mr=="function"){mn.callback=null,pn=mn.priorityLevel;var Mn=Mr(mn.expirationTime<=hr);hr=St.unstable_now(),typeof Mn=="function"?mn.callback=Mn:mn===en(on)&&tn(on),xn(hr)}else tn(on);mn=en(on)}if(mn!==null)var Fn=!0;else{var Nn=en(cn);Nn!==null&&dr(En,Nn.startTime-hr),Fn=!1}return Fn}finally{mn=null,pn=yr,fn=!1}}var kn=!1,In=null,Dn=-1,Wn=5,Vn=-1;function On(){return!(St.unstable_now()-Vn<Wn)}function zn(){if(In!==null){var Jn=St.unstable_now();Vn=Jn;var hr=!0;try{hr=In(!0,Jn)}finally{hr?nr():(kn=!1,In=null)}}else kn=!1}var nr;if(typeof Sn=="function")nr=function(){Sn(zn)};else if(typeof MessageChannel<"u"){var Yn=new MessageChannel,ar=Yn.port2;Yn.port1.onmessage=zn,nr=function(){ar.postMessage(null)}}else nr=function(){wn(zn,0)};function tr(Jn){In=Jn,kn||(kn=!0,nr())}function dr(Jn,hr){Dn=wn(function(){Jn(St.unstable_now())},hr)}St.unstable_IdlePriority=5,St.unstable_ImmediatePriority=1,St.unstable_LowPriority=4,St.unstable_NormalPriority=3,St.unstable_Profiling=null,St.unstable_UserBlockingPriority=2,St.unstable_cancelCallback=function(Jn){Jn.callback=null},St.unstable_continueExecution=function(){yn||fn||(yn=!0,tr(Cn))},St.unstable_forceFrameRate=function(Jn){0>Jn||125<Jn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wn=0<Jn?Math.floor(1e3/Jn):5},St.unstable_getCurrentPriorityLevel=function(){return pn},St.unstable_getFirstCallbackNode=function(){return en(on)},St.unstable_next=function(Jn){switch(pn){case 1:case 2:case 3:var hr=3;break;default:hr=pn}var yr=pn;pn=hr;try{return Jn()}finally{pn=yr}},St.unstable_pauseExecution=function(){},St.unstable_requestPaint=function(){},St.unstable_runWithPriority=function(Jn,hr){switch(Jn){case 1:case 2:case 3:case 4:case 5:break;default:Jn=3}var yr=pn;pn=Jn;try{return hr()}finally{pn=yr}},St.unstable_scheduleCallback=function(Jn,hr,yr){var Mr=St.unstable_now();switch(typeof yr=="object"&&yr!==null?(yr=yr.delay,yr=typeof yr=="number"&&0<yr?Mr+yr:Mr):yr=Mr,Jn){case 1:var Mn=-1;break;case 2:Mn=250;break;case 5:Mn=1073741823;break;case 4:Mn=1e4;break;default:Mn=5e3}return Mn=yr+Mn,Jn={id:dn++,callback:hr,priorityLevel:Jn,startTime:yr,expirationTime:Mn,sortIndex:-1},yr>Mr?(Jn.sortIndex=yr,_e(cn,Jn),en(on)===null&&Jn===en(cn)&&(bn?(vn(Dn),Dn=-1):bn=!0,dr(En,yr-Mr))):(Jn.sortIndex=Mn,_e(on,Jn),yn||fn||(yn=!0,tr(Cn))),Jn},St.unstable_shouldYield=On,St.unstable_wrapCallback=function(Jn){var hr=pn;return function(){var yr=pn;pn=hr;try{return Jn.apply(this,arguments)}finally{pn=yr}}}})(scheduler_production_min);(function(St){St.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca$1=scheduler.exports;function p$4(St){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+St,en=1;en<arguments.length;en++)_e+="&args[]="+encodeURIComponent(arguments[en]);return"Minified React error #"+St+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(St,_e){ha(St,_e),ha(St+"Capture",_e)}function ha(St,_e){for(ea[St]=_e,St=0;St<_e.length;St++)da.add(_e[St])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(St){return ja.call(ma,St)?!0:ja.call(la,St)?!1:ka.test(St)?ma[St]=!0:(la[St]=!0,!1)}function pa(St,_e,en,tn){if(en!==null&&en.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tn?!1:en!==null?!en.acceptsBooleans:(St=St.toLowerCase().slice(0,5),St!=="data-"&&St!=="aria-");default:return!1}}function qa(St,_e,en,tn){if(_e===null||typeof _e>"u"||pa(St,_e,en,tn))return!0;if(tn)return!1;if(en!==null)switch(en.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$2(St,_e,en,tn,nn,rn,sn){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tn,this.attributeNamespace=nn,this.mustUseProperty=en,this.propertyName=St,this.type=_e,this.sanitizeURL=rn,this.removeEmptyString=sn}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(St){z$1[St]=new v$2(St,0,!1,St,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(St){var _e=St[0];z$1[_e]=new v$2(_e,1,!1,St[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(St){z$1[St]=new v$2(St,2,!1,St.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(St){z$1[St]=new v$2(St,2,!1,St,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(St){z$1[St]=new v$2(St,3,!1,St.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(St){z$1[St]=new v$2(St,3,!0,St,null,!1,!1)});["capture","download"].forEach(function(St){z$1[St]=new v$2(St,4,!1,St,null,!1,!1)});["cols","rows","size","span"].forEach(function(St){z$1[St]=new v$2(St,6,!1,St,null,!1,!1)});["rowSpan","start"].forEach(function(St){z$1[St]=new v$2(St,5,!1,St.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(St){return St[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(St){var _e=St.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,St,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(St){var _e=St.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,St,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(St){var _e=St.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,St,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(St){z$1[St]=new v$2(St,1,!1,St.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(St){z$1[St]=new v$2(St,1,!1,St.toLowerCase(),null,!0,!0)});function ta(St,_e,en,tn){var nn=z$1.hasOwnProperty(_e)?z$1[_e]:null;(nn!==null?nn.type!==0:tn||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,en,nn,tn)&&(en=null),tn||nn===null?oa(_e)&&(en===null?St.removeAttribute(_e):St.setAttribute(_e,""+en)):nn.mustUseProperty?St[nn.propertyName]=en===null?nn.type===3?!1:"":en:(_e=nn.attributeName,tn=nn.attributeNamespace,en===null?St.removeAttribute(_e):(nn=nn.type,en=nn===3||nn===4&&en===!0?"":""+en,tn?St.setAttributeNS(tn,_e,en):St.setAttribute(_e,en))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(St){return St===null||typeof St!="object"?null:(St=Ja&&St[Ja]||St["@@iterator"],typeof St=="function"?St:null)}var A$1=Object.assign,La;function Ma(St){if(La===void 0)try{throw Error()}catch(en){var _e=en.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+St}var Na=!1;function Oa(St,_e){if(!St||Na)return"";Na=!0;var en=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(cn){var tn=cn}Reflect.construct(St,[],_e)}else{try{_e.call()}catch(cn){tn=cn}St.call(_e.prototype)}else{try{throw Error()}catch(cn){tn=cn}St()}}catch(cn){if(cn&&tn&&typeof cn.stack=="string"){for(var nn=cn.stack.split(`
`),rn=tn.stack.split(`
`),sn=nn.length-1,an=rn.length-1;1<=sn&&0<=an&&nn[sn]!==rn[an];)an--;for(;1<=sn&&0<=an;sn--,an--)if(nn[sn]!==rn[an]){if(sn!==1||an!==1)do if(sn--,an--,0>an||nn[sn]!==rn[an]){var on=`
`+nn[sn].replace(" at new "," at ");return St.displayName&&on.includes("<anonymous>")&&(on=on.replace("<anonymous>",St.displayName)),on}while(1<=sn&&0<=an);break}}}finally{Na=!1,Error.prepareStackTrace=en}return(St=St?St.displayName||St.name:"")?Ma(St):""}function Pa(St){switch(St.tag){case 5:return Ma(St.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return St=Oa(St.type,!1),St;case 11:return St=Oa(St.type.render,!1),St;case 1:return St=Oa(St.type,!0),St;default:return""}}function Qa(St){if(St==null)return null;if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St;switch(St){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof St=="object")switch(St.$$typeof){case Ca:return(St.displayName||"Context")+".Consumer";case Ba:return(St._context.displayName||"Context")+".Provider";case Da:var _e=St.render;return St=St.displayName,St||(St=_e.displayName||_e.name||"",St=St!==""?"ForwardRef("+St+")":"ForwardRef"),St;case Ga:return _e=St.displayName||null,_e!==null?_e:Qa(St.type)||"Memo";case Ha:_e=St._payload,St=St._init;try{return Qa(St(_e))}catch{}}return null}function Ra(St){var _e=St.type;switch(St.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return St=_e.render,St=St.displayName||St.name||"",_e.displayName||(St!==""?"ForwardRef("+St+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(St){switch(typeof St){case"boolean":case"number":case"string":case"undefined":return St;case"object":return St;default:return""}}function Ta(St){var _e=St.type;return(St=St.nodeName)&&St.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(St){var _e=Ta(St)?"checked":"value",en=Object.getOwnPropertyDescriptor(St.constructor.prototype,_e),tn=""+St[_e];if(!St.hasOwnProperty(_e)&&typeof en<"u"&&typeof en.get=="function"&&typeof en.set=="function"){var nn=en.get,rn=en.set;return Object.defineProperty(St,_e,{configurable:!0,get:function(){return nn.call(this)},set:function(sn){tn=""+sn,rn.call(this,sn)}}),Object.defineProperty(St,_e,{enumerable:en.enumerable}),{getValue:function(){return tn},setValue:function(sn){tn=""+sn},stopTracking:function(){St._valueTracker=null,delete St[_e]}}}}function Va(St){St._valueTracker||(St._valueTracker=Ua(St))}function Wa(St){if(!St)return!1;var _e=St._valueTracker;if(!_e)return!0;var en=_e.getValue(),tn="";return St&&(tn=Ta(St)?St.checked?"true":"false":St.value),St=tn,St!==en?(_e.setValue(St),!0):!1}function Xa(St){if(St=St||(typeof document<"u"?document:void 0),typeof St>"u")return null;try{return St.activeElement||St.body}catch{return St.body}}function Ya(St,_e){var en=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:en!=null?en:St._wrapperState.initialChecked})}function Za(St,_e){var en=_e.defaultValue==null?"":_e.defaultValue,tn=_e.checked!=null?_e.checked:_e.defaultChecked;en=Sa(_e.value!=null?_e.value:en),St._wrapperState={initialChecked:tn,initialValue:en,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(St,_e){_e=_e.checked,_e!=null&&ta(St,"checked",_e,!1)}function bb(St,_e){ab(St,_e);var en=Sa(_e.value),tn=_e.type;if(en!=null)tn==="number"?(en===0&&St.value===""||St.value!=en)&&(St.value=""+en):St.value!==""+en&&(St.value=""+en);else if(tn==="submit"||tn==="reset"){St.removeAttribute("value");return}_e.hasOwnProperty("value")?cb$1(St,_e.type,en):_e.hasOwnProperty("defaultValue")&&cb$1(St,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(St.defaultChecked=!!_e.defaultChecked)}function db(St,_e,en){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tn=_e.type;if(!(tn!=="submit"&&tn!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+St._wrapperState.initialValue,en||_e===St.value||(St.value=_e),St.defaultValue=_e}en=St.name,en!==""&&(St.name=""),St.defaultChecked=!!St._wrapperState.initialChecked,en!==""&&(St.name=en)}function cb$1(St,_e,en){(_e!=="number"||Xa(St.ownerDocument)!==St)&&(en==null?St.defaultValue=""+St._wrapperState.initialValue:St.defaultValue!==""+en&&(St.defaultValue=""+en))}var eb=Array.isArray;function fb(St,_e,en,tn){if(St=St.options,_e){_e={};for(var nn=0;nn<en.length;nn++)_e["$"+en[nn]]=!0;for(en=0;en<St.length;en++)nn=_e.hasOwnProperty("$"+St[en].value),St[en].selected!==nn&&(St[en].selected=nn),nn&&tn&&(St[en].defaultSelected=!0)}else{for(en=""+Sa(en),_e=null,nn=0;nn<St.length;nn++){if(St[nn].value===en){St[nn].selected=!0,tn&&(St[nn].defaultSelected=!0);return}_e!==null||St[nn].disabled||(_e=St[nn])}_e!==null&&(_e.selected=!0)}}function gb(St,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+St._wrapperState.initialValue})}function hb(St,_e){var en=_e.value;if(en==null){if(en=_e.children,_e=_e.defaultValue,en!=null){if(_e!=null)throw Error(p$4(92));if(eb(en)){if(1<en.length)throw Error(p$4(93));en=en[0]}_e=en}_e==null&&(_e=""),en=_e}St._wrapperState={initialValue:Sa(en)}}function ib(St,_e){var en=Sa(_e.value),tn=Sa(_e.defaultValue);en!=null&&(en=""+en,en!==St.value&&(St.value=en),_e.defaultValue==null&&St.defaultValue!==en&&(St.defaultValue=en)),tn!=null&&(St.defaultValue=""+tn)}function jb(St){var _e=St.textContent;_e===St._wrapperState.initialValue&&_e!==""&&_e!==null&&(St.value=_e)}function kb(St){switch(St){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(St,_e){return St==null||St==="http://www.w3.org/1999/xhtml"?kb(_e):St==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":St}var mb,nb=function(St){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,en,tn,nn){MSApp.execUnsafeLocalFunction(function(){return St(_e,en,tn,nn)})}:St}(function(St,_e){if(St.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in St)St.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;St.firstChild;)St.removeChild(St.firstChild);for(;_e.firstChild;)St.appendChild(_e.firstChild)}});function ob(St,_e){if(_e){var en=St.firstChild;if(en&&en===St.lastChild&&en.nodeType===3){en.nodeValue=_e;return}}St.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(St){qb.forEach(function(_e){_e=_e+St.charAt(0).toUpperCase()+St.substring(1),pb[_e]=pb[St]})});function rb(St,_e,en){return _e==null||typeof _e=="boolean"||_e===""?"":en||typeof _e!="number"||_e===0||pb.hasOwnProperty(St)&&pb[St]?(""+_e).trim():_e+"px"}function sb(St,_e){St=St.style;for(var en in _e)if(_e.hasOwnProperty(en)){var tn=en.indexOf("--")===0,nn=rb(en,_e[en],tn);en==="float"&&(en="cssFloat"),tn?St.setProperty(en,nn):St[en]=nn}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(St,_e){if(_e){if(tb[St]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$4(137,St));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$4(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$4(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$4(62))}}function vb(St,_e){if(St.indexOf("-")===-1)return typeof _e.is=="string";switch(St){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(St){return St=St.target||St.srcElement||window,St.correspondingUseElement&&(St=St.correspondingUseElement),St.nodeType===3?St.parentNode:St}var yb=null,zb=null,Ab=null;function Bb(St){if(St=Cb(St)){if(typeof yb!="function")throw Error(p$4(280));var _e=St.stateNode;_e&&(_e=Db(_e),yb(St.stateNode,St.type,_e))}}function Eb(St){zb?Ab?Ab.push(St):Ab=[St]:zb=St}function Fb(){if(zb){var St=zb,_e=Ab;if(Ab=zb=null,Bb(St),_e)for(St=0;St<_e.length;St++)Bb(_e[St])}}function Gb(St,_e){return St(_e)}function Hb(){}var Ib=!1;function Jb(St,_e,en){if(Ib)return St(_e,en);Ib=!0;try{return Gb(St,_e,en)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(St,_e){var en=St.stateNode;if(en===null)return null;var tn=Db(en);if(tn===null)return null;en=tn[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tn=!tn.disabled)||(St=St.type,tn=!(St==="button"||St==="input"||St==="select"||St==="textarea")),St=!tn;break e;default:St=!1}if(St)return null;if(en&&typeof en!="function")throw Error(p$4(231,_e,typeof en));return en}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(St,_e,en,tn,nn,rn,sn,an,on){var cn=Array.prototype.slice.call(arguments,3);try{_e.apply(en,cn)}catch(dn){this.onError(dn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(St){Ob=!0,Pb=St}};function Tb(St,_e,en,tn,nn,rn,sn,an,on){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(St,_e,en,tn,nn,rn,sn,an,on){if(Tb.apply(this,arguments),Ob){if(Ob){var cn=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=cn)}}function Vb(St){var _e=St,en=St;if(St.alternate)for(;_e.return;)_e=_e.return;else{St=_e;do _e=St,(_e.flags&4098)!==0&&(en=_e.return),St=_e.return;while(St)}return _e.tag===3?en:null}function Wb(St){if(St.tag===13){var _e=St.memoizedState;if(_e===null&&(St=St.alternate,St!==null&&(_e=St.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(St){if(Vb(St)!==St)throw Error(p$4(188))}function Yb(St){var _e=St.alternate;if(!_e){if(_e=Vb(St),_e===null)throw Error(p$4(188));return _e!==St?null:St}for(var en=St,tn=_e;;){var nn=en.return;if(nn===null)break;var rn=nn.alternate;if(rn===null){if(tn=nn.return,tn!==null){en=tn;continue}break}if(nn.child===rn.child){for(rn=nn.child;rn;){if(rn===en)return Xb(nn),St;if(rn===tn)return Xb(nn),_e;rn=rn.sibling}throw Error(p$4(188))}if(en.return!==tn.return)en=nn,tn=rn;else{for(var sn=!1,an=nn.child;an;){if(an===en){sn=!0,en=nn,tn=rn;break}if(an===tn){sn=!0,tn=nn,en=rn;break}an=an.sibling}if(!sn){for(an=rn.child;an;){if(an===en){sn=!0,en=rn,tn=nn;break}if(an===tn){sn=!0,tn=rn,en=nn;break}an=an.sibling}if(!sn)throw Error(p$4(189))}}if(en.alternate!==tn)throw Error(p$4(190))}if(en.tag!==3)throw Error(p$4(188));return en.stateNode.current===en?St:_e}function Zb(St){return St=Yb(St),St!==null?$b(St):null}function $b(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){var _e=$b(St);if(_e!==null)return _e;St=St.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc$1=null;function mc(St){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,St,void 0,(St.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(St){return St>>>=0,St===0?32:31-(pc(St)/qc|0)|0}var rc=64,sc=4194304;function tc(St){switch(St&-St){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return St&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return St}}function uc(St,_e){var en=St.pendingLanes;if(en===0)return 0;var tn=0,nn=St.suspendedLanes,rn=St.pingedLanes,sn=en&268435455;if(sn!==0){var an=sn&~nn;an!==0?tn=tc(an):(rn&=sn,rn!==0&&(tn=tc(rn)))}else sn=en&~nn,sn!==0?tn=tc(sn):rn!==0&&(tn=tc(rn));if(tn===0)return 0;if(_e!==0&&_e!==tn&&(_e&nn)===0&&(nn=tn&-tn,rn=_e&-_e,nn>=rn||nn===16&&(rn&4194240)!==0))return _e;if((tn&4)!==0&&(tn|=en&16),_e=St.entangledLanes,_e!==0)for(St=St.entanglements,_e&=tn;0<_e;)en=31-oc(_e),nn=1<<en,tn|=St[en],_e&=~nn;return tn}function vc(St,_e){switch(St){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(St,_e){for(var en=St.suspendedLanes,tn=St.pingedLanes,nn=St.expirationTimes,rn=St.pendingLanes;0<rn;){var sn=31-oc(rn),an=1<<sn,on=nn[sn];on===-1?((an&en)===0||(an&tn)!==0)&&(nn[sn]=vc(an,_e)):on<=_e&&(St.expiredLanes|=an),rn&=~an}}function xc(St){return St=St.pendingLanes&-1073741825,St!==0?St:St&1073741824?1073741824:0}function yc(){var St=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),St}function zc(St){for(var _e=[],en=0;31>en;en++)_e.push(St);return _e}function Ac(St,_e,en){St.pendingLanes|=_e,_e!==536870912&&(St.suspendedLanes=0,St.pingedLanes=0),St=St.eventTimes,_e=31-oc(_e),St[_e]=en}function Bc(St,_e){var en=St.pendingLanes&~_e;St.pendingLanes=_e,St.suspendedLanes=0,St.pingedLanes=0,St.expiredLanes&=_e,St.mutableReadLanes&=_e,St.entangledLanes&=_e,_e=St.entanglements;var tn=St.eventTimes;for(St=St.expirationTimes;0<en;){var nn=31-oc(en),rn=1<<nn;_e[nn]=0,tn[nn]=-1,St[nn]=-1,en&=~rn}}function Cc(St,_e){var en=St.entangledLanes|=_e;for(St=St.entanglements;en;){var tn=31-oc(en),nn=1<<tn;nn&_e|St[tn]&_e&&(St[tn]|=_e),en&=~nn}}var C$1=0;function Dc(St){return St&=-St,1<St?4<St?(St&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(St,_e){switch(St){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(St,_e,en,tn,nn,rn){return St===null||St.nativeEvent!==rn?(St={blockedOn:_e,domEventName:en,eventSystemFlags:tn,nativeEvent:rn,targetContainers:[nn]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),St):(St.eventSystemFlags|=tn,_e=St.targetContainers,nn!==null&&_e.indexOf(nn)===-1&&_e.push(nn),St)}function Uc(St,_e,en,tn,nn){switch(_e){case"focusin":return Lc=Tc(Lc,St,_e,en,tn,nn),!0;case"dragenter":return Mc=Tc(Mc,St,_e,en,tn,nn),!0;case"mouseover":return Nc=Tc(Nc,St,_e,en,tn,nn),!0;case"pointerover":var rn=nn.pointerId;return Oc.set(rn,Tc(Oc.get(rn)||null,St,_e,en,tn,nn)),!0;case"gotpointercapture":return rn=nn.pointerId,Pc.set(rn,Tc(Pc.get(rn)||null,St,_e,en,tn,nn)),!0}return!1}function Vc(St){var _e=Wc(St.target);if(_e!==null){var en=Vb(_e);if(en!==null){if(_e=en.tag,_e===13){if(_e=Wb(en),_e!==null){St.blockedOn=_e,Ic(St.priority,function(){Gc(en)});return}}else if(_e===3&&en.stateNode.current.memoizedState.isDehydrated){St.blockedOn=en.tag===3?en.stateNode.containerInfo:null;return}}}St.blockedOn=null}function Xc(St){if(St.blockedOn!==null)return!1;for(var _e=St.targetContainers;0<_e.length;){var en=Yc(St.domEventName,St.eventSystemFlags,_e[0],St.nativeEvent);if(en===null){en=St.nativeEvent;var tn=new en.constructor(en.type,en);wb=tn,en.target.dispatchEvent(tn),wb=null}else return _e=Cb(en),_e!==null&&Fc(_e),St.blockedOn=en,!1;_e.shift()}return!0}function Zc(St,_e,en){Xc(St)&&en.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(St,_e){St.blockedOn===_e&&(St.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(St){function _e(nn){return ad(nn,St)}if(0<Kc.length){ad(Kc[0],St);for(var en=1;en<Kc.length;en++){var tn=Kc[en];tn.blockedOn===St&&(tn.blockedOn=null)}}for(Lc!==null&&ad(Lc,St),Mc!==null&&ad(Mc,St),Nc!==null&&ad(Nc,St),Oc.forEach(_e),Pc.forEach(_e),en=0;en<Qc.length;en++)tn=Qc[en],tn.blockedOn===St&&(tn.blockedOn=null);for(;0<Qc.length&&(en=Qc[0],en.blockedOn===null);)Vc(en),en.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(St,_e,en,tn){var nn=C$1,rn=cd.transition;cd.transition=null;try{C$1=1,fd$1(St,_e,en,tn)}finally{C$1=nn,cd.transition=rn}}function gd(St,_e,en,tn){var nn=C$1,rn=cd.transition;cd.transition=null;try{C$1=4,fd$1(St,_e,en,tn)}finally{C$1=nn,cd.transition=rn}}function fd$1(St,_e,en,tn){if(dd){var nn=Yc(St,_e,en,tn);if(nn===null)hd(St,_e,tn,id$1,en),Sc(St,tn);else if(Uc(nn,St,_e,en,tn))tn.stopPropagation();else if(Sc(St,tn),_e&4&&-1<Rc.indexOf(St)){for(;nn!==null;){var rn=Cb(nn);if(rn!==null&&Ec(rn),rn=Yc(St,_e,en,tn),rn===null&&hd(St,_e,tn,id$1,en),rn===nn)break;nn=rn}nn!==null&&tn.stopPropagation()}else hd(St,_e,tn,null,en)}}var id$1=null;function Yc(St,_e,en,tn){if(id$1=null,St=xb(tn),St=Wc(St),St!==null)if(_e=Vb(St),_e===null)St=null;else if(en=_e.tag,en===13){if(St=Wb(_e),St!==null)return St;St=null}else if(en===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;St=null}else _e!==St&&(St=null);return id$1=St,null}function jd(St){switch(St){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var St,_e=ld,en=_e.length,tn,nn="value"in kd?kd.value:kd.textContent,rn=nn.length;for(St=0;St<en&&_e[St]===nn[St];St++);var sn=en-St;for(tn=1;tn<=sn&&_e[en-tn]===nn[rn-tn];tn++);return md=nn.slice(St,1<tn?1-tn:void 0)}function od(St){var _e=St.keyCode;return"charCode"in St?(St=St.charCode,St===0&&_e===13&&(St=13)):St=_e,St===10&&(St=13),32<=St||St===13?St:0}function pd(){return!0}function qd(){return!1}function rd(St){function _e(en,tn,nn,rn,sn){this._reactName=en,this._targetInst=nn,this.type=tn,this.nativeEvent=rn,this.target=sn,this.currentTarget=null;for(var an in St)St.hasOwnProperty(an)&&(en=St[an],this[an]=en?en(rn):rn[an]);return this.isDefaultPrevented=(rn.defaultPrevented!=null?rn.defaultPrevented:rn.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var en=this.nativeEvent;en&&(en.preventDefault?en.preventDefault():typeof en.returnValue!="unknown"&&(en.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var en=this.nativeEvent;en&&(en.stopPropagation?en.stopPropagation():typeof en.cancelBubble!="unknown"&&(en.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(St){return St.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(St){return St.relatedTarget===void 0?St.fromElement===St.srcElement?St.toElement:St.fromElement:St.relatedTarget},movementX:function(St){return"movementX"in St?St.movementX:(St!==yd&&(yd&&St.type==="mousemove"?(wd=St.screenX-yd.screenX,xd=St.screenY-yd.screenY):xd=wd=0,yd=St),wd)},movementY:function(St){return"movementY"in St?St.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(St){return"clipboardData"in St?St.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(St){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(St):(St=Od[St])?!!_e[St]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(St){if(St.key){var _e=Md[St.key]||St.key;if(_e!=="Unidentified")return _e}return St.type==="keypress"?(St=od(St),St===13?"Enter":String.fromCharCode(St)):St.type==="keydown"||St.type==="keyup"?Nd[St.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(St){return St.type==="keypress"?od(St):0},keyCode:function(St){return St.type==="keydown"||St.type==="keyup"?St.keyCode:0},which:function(St){return St.type==="keypress"?od(St):St.type==="keydown"||St.type==="keyup"?St.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(St){return"deltaX"in St?St.deltaX:"wheelDeltaX"in St?-St.wheelDeltaX:0},deltaY:function(St){return"deltaY"in St?St.deltaY:"wheelDeltaY"in St?-St.wheelDeltaY:"wheelDelta"in St?-St.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(St,_e){switch(St){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(St){return St=St.detail,typeof St=="object"&&"data"in St?St.data:null}var ie$1=!1;function je(St,_e){switch(St){case"compositionend":return he$1(_e);case"keypress":return _e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return St=_e.data,St===ee$1&&fe$1?null:St;default:return null}}function ke(St,_e){if(ie$1)return St==="compositionend"||!ae$1&&ge$1(St,_e)?(St=nd(),md=ld=kd=null,ie$1=!1,St):null;switch(St){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(St){var _e=St&&St.nodeName&&St.nodeName.toLowerCase();return _e==="input"?!!le$1[St.type]:_e==="textarea"}function ne$1(St,_e,en,tn){Eb(tn),_e=oe$1(_e,"onChange"),0<_e.length&&(en=new td("onChange","change",null,en,tn),St.push({event:en,listeners:_e}))}var pe$1=null,qe=null;function re$1(St){se$1(St,0)}function te$1(St){var _e=ue$1(St);if(Wa(_e))return St}function ve$1(St,_e){if(St==="change")return _e}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(St){if(St.propertyName==="value"&&te$1(qe)){var _e=[];ne$1(_e,qe,St,xb(St)),Jb(re$1,_e)}}function Ce(St,_e,en){St==="focusin"?(Ae(),pe$1=_e,qe=en,pe$1.attachEvent("onpropertychange",Be)):St==="focusout"&&Ae()}function De(St){if(St==="selectionchange"||St==="keyup"||St==="keydown")return te$1(qe)}function Ee(St,_e){if(St==="click")return te$1(_e)}function Fe(St,_e){if(St==="input"||St==="change")return te$1(_e)}function Ge(St,_e){return St===_e&&(St!==0||1/St===1/_e)||St!==St&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(St,_e){if(He(St,_e))return!0;if(typeof St!="object"||St===null||typeof _e!="object"||_e===null)return!1;var en=Object.keys(St),tn=Object.keys(_e);if(en.length!==tn.length)return!1;for(tn=0;tn<en.length;tn++){var nn=en[tn];if(!ja.call(_e,nn)||!He(St[nn],_e[nn]))return!1}return!0}function Je(St){for(;St&&St.firstChild;)St=St.firstChild;return St}function Ke(St,_e){var en=Je(St);St=0;for(var tn;en;){if(en.nodeType===3){if(tn=St+en.textContent.length,St<=_e&&tn>=_e)return{node:en,offset:_e-St};St=tn}e:{for(;en;){if(en.nextSibling){en=en.nextSibling;break e}en=en.parentNode}en=void 0}en=Je(en)}}function Le$1(St,_e){return St&&_e?St===_e?!0:St&&St.nodeType===3?!1:_e&&_e.nodeType===3?Le$1(St,_e.parentNode):"contains"in St?St.contains(_e):St.compareDocumentPosition?!!(St.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var St=window,_e=Xa();_e instanceof St.HTMLIFrameElement;){try{var en=typeof _e.contentWindow.location.href=="string"}catch{en=!1}if(en)St=_e.contentWindow;else break;_e=Xa(St.document)}return _e}function Ne$1(St){var _e=St&&St.nodeName&&St.nodeName.toLowerCase();return _e&&(_e==="input"&&(St.type==="text"||St.type==="search"||St.type==="tel"||St.type==="url"||St.type==="password")||_e==="textarea"||St.contentEditable==="true")}function Oe(St){var _e=Me(),en=St.focusedElem,tn=St.selectionRange;if(_e!==en&&en&&en.ownerDocument&&Le$1(en.ownerDocument.documentElement,en)){if(tn!==null&&Ne$1(en)){if(_e=tn.start,St=tn.end,St===void 0&&(St=_e),"selectionStart"in en)en.selectionStart=_e,en.selectionEnd=Math.min(St,en.value.length);else if(St=(_e=en.ownerDocument||document)&&_e.defaultView||window,St.getSelection){St=St.getSelection();var nn=en.textContent.length,rn=Math.min(tn.start,nn);tn=tn.end===void 0?rn:Math.min(tn.end,nn),!St.extend&&rn>tn&&(nn=tn,tn=rn,rn=nn),nn=Ke(en,rn);var sn=Ke(en,tn);nn&&sn&&(St.rangeCount!==1||St.anchorNode!==nn.node||St.anchorOffset!==nn.offset||St.focusNode!==sn.node||St.focusOffset!==sn.offset)&&(_e=_e.createRange(),_e.setStart(nn.node,nn.offset),St.removeAllRanges(),rn>tn?(St.addRange(_e),St.extend(sn.node,sn.offset)):(_e.setEnd(sn.node,sn.offset),St.addRange(_e)))}}for(_e=[],St=en;St=St.parentNode;)St.nodeType===1&&_e.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof en.focus=="function"&&en.focus(),en=0;en<_e.length;en++)St=_e[en],St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(St,_e,en){var tn=en.window===en?en.document:en.nodeType===9?en:en.ownerDocument;Te||Qe==null||Qe!==Xa(tn)||(tn=Qe,"selectionStart"in tn&&Ne$1(tn)?tn={start:tn.selectionStart,end:tn.selectionEnd}:(tn=(tn.ownerDocument&&tn.ownerDocument.defaultView||window).getSelection(),tn={anchorNode:tn.anchorNode,anchorOffset:tn.anchorOffset,focusNode:tn.focusNode,focusOffset:tn.focusOffset}),Se&&Ie(Se,tn)||(Se=tn,tn=oe$1(Re,"onSelect"),0<tn.length&&(_e=new td("onSelect","select",null,_e,en),St.push({event:_e,listeners:tn}),_e.target=Qe)))}function Ve(St,_e){var en={};return en[St.toLowerCase()]=_e.toLowerCase(),en["Webkit"+St]="webkit"+_e,en["Moz"+St]="moz"+_e,en}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(St){if(Xe[St])return Xe[St];if(!We[St])return St;var _e=We[St],en;for(en in _e)if(_e.hasOwnProperty(en)&&en in Ye)return Xe[St]=_e[en];return St}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(St,_e){df.set(St,_e),fa(_e,[St])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(St,_e,en){var tn=St.type||"unknown-event";St.currentTarget=en,Ub(tn,_e,void 0,St),St.currentTarget=null}function se$1(St,_e){_e=(_e&4)!==0;for(var en=0;en<St.length;en++){var tn=St[en],nn=tn.event;tn=tn.listeners;e:{var rn=void 0;if(_e)for(var sn=tn.length-1;0<=sn;sn--){var an=tn[sn],on=an.instance,cn=an.currentTarget;if(an=an.listener,on!==rn&&nn.isPropagationStopped())break e;nf(nn,an,cn),rn=on}else for(sn=0;sn<tn.length;sn++){if(an=tn[sn],on=an.instance,cn=an.currentTarget,an=an.listener,on!==rn&&nn.isPropagationStopped())break e;nf(nn,an,cn),rn=on}}}if(Qb)throw St=Rb,Qb=!1,Rb=null,St}function D$1(St,_e){var en=_e[of];en===void 0&&(en=_e[of]=new Set);var tn=St+"__bubble";en.has(tn)||(pf(_e,St,2,!1),en.add(tn))}function qf(St,_e,en){var tn=0;_e&&(tn|=4),pf(en,St,tn,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(St){if(!St[rf]){St[rf]=!0,da.forEach(function(en){en!=="selectionchange"&&(mf.has(en)||qf(en,!1,St),qf(en,!0,St))});var _e=St.nodeType===9?St:St.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(St,_e,en,tn){switch(jd(_e)){case 1:var nn=ed;break;case 4:nn=gd;break;default:nn=fd$1}en=nn.bind(null,_e,en,St),nn=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nn=!0),tn?nn!==void 0?St.addEventListener(_e,en,{capture:!0,passive:nn}):St.addEventListener(_e,en,!0):nn!==void 0?St.addEventListener(_e,en,{passive:nn}):St.addEventListener(_e,en,!1)}function hd(St,_e,en,tn,nn){var rn=tn;if((_e&1)===0&&(_e&2)===0&&tn!==null)e:for(;;){if(tn===null)return;var sn=tn.tag;if(sn===3||sn===4){var an=tn.stateNode.containerInfo;if(an===nn||an.nodeType===8&&an.parentNode===nn)break;if(sn===4)for(sn=tn.return;sn!==null;){var on=sn.tag;if((on===3||on===4)&&(on=sn.stateNode.containerInfo,on===nn||on.nodeType===8&&on.parentNode===nn))return;sn=sn.return}for(;an!==null;){if(sn=Wc(an),sn===null)return;if(on=sn.tag,on===5||on===6){tn=rn=sn;continue e}an=an.parentNode}}tn=tn.return}Jb(function(){var cn=rn,dn=xb(en),mn=[];e:{var pn=df.get(St);if(pn!==void 0){var fn=td,yn=St;switch(St){case"keypress":if(od(en)===0)break e;case"keydown":case"keyup":fn=Rd;break;case"focusin":yn="focus",fn=Fd;break;case"focusout":yn="blur",fn=Fd;break;case"beforeblur":case"afterblur":fn=Fd;break;case"click":if(en.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=Vd;break;case $e:case af:case bf:fn=Hd;break;case cf:fn=Xd;break;case"scroll":fn=vd;break;case"wheel":fn=Zd;break;case"copy":case"cut":case"paste":fn=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=Td}var bn=(_e&4)!==0,wn=!bn&&St==="scroll",vn=bn?pn!==null?pn+"Capture":null:pn;bn=[];for(var Sn=cn,xn;Sn!==null;){xn=Sn;var En=xn.stateNode;if(xn.tag===5&&En!==null&&(xn=En,vn!==null&&(En=Kb(Sn,vn),En!=null&&bn.push(tf(Sn,En,xn)))),wn)break;Sn=Sn.return}0<bn.length&&(pn=new fn(pn,yn,null,en,dn),mn.push({event:pn,listeners:bn}))}}if((_e&7)===0){e:{if(pn=St==="mouseover"||St==="pointerover",fn=St==="mouseout"||St==="pointerout",pn&&en!==wb&&(yn=en.relatedTarget||en.fromElement)&&(Wc(yn)||yn[uf]))break e;if((fn||pn)&&(pn=dn.window===dn?dn:(pn=dn.ownerDocument)?pn.defaultView||pn.parentWindow:window,fn?(yn=en.relatedTarget||en.toElement,fn=cn,yn=yn?Wc(yn):null,yn!==null&&(wn=Vb(yn),yn!==wn||yn.tag!==5&&yn.tag!==6)&&(yn=null)):(fn=null,yn=cn),fn!==yn)){if(bn=Bd,En="onMouseLeave",vn="onMouseEnter",Sn="mouse",(St==="pointerout"||St==="pointerover")&&(bn=Td,En="onPointerLeave",vn="onPointerEnter",Sn="pointer"),wn=fn==null?pn:ue$1(fn),xn=yn==null?pn:ue$1(yn),pn=new bn(En,Sn+"leave",fn,en,dn),pn.target=wn,pn.relatedTarget=xn,En=null,Wc(dn)===cn&&(bn=new bn(vn,Sn+"enter",yn,en,dn),bn.target=xn,bn.relatedTarget=wn,En=bn),wn=En,fn&&yn)t:{for(bn=fn,vn=yn,Sn=0,xn=bn;xn;xn=vf(xn))Sn++;for(xn=0,En=vn;En;En=vf(En))xn++;for(;0<Sn-xn;)bn=vf(bn),Sn--;for(;0<xn-Sn;)vn=vf(vn),xn--;for(;Sn--;){if(bn===vn||vn!==null&&bn===vn.alternate)break t;bn=vf(bn),vn=vf(vn)}bn=null}else bn=null;fn!==null&&wf(mn,pn,fn,bn,!1),yn!==null&&wn!==null&&wf(mn,wn,yn,bn,!0)}}e:{if(pn=cn?ue$1(cn):window,fn=pn.nodeName&&pn.nodeName.toLowerCase(),fn==="select"||fn==="input"&&pn.type==="file")var Cn=ve$1;else if(me$1(pn))if(we$1)Cn=Fe;else{Cn=De;var kn=Ce}else(fn=pn.nodeName)&&fn.toLowerCase()==="input"&&(pn.type==="checkbox"||pn.type==="radio")&&(Cn=Ee);if(Cn&&(Cn=Cn(St,cn))){ne$1(mn,Cn,en,dn);break e}kn&&kn(St,pn,cn),St==="focusout"&&(kn=pn._wrapperState)&&kn.controlled&&pn.type==="number"&&cb$1(pn,"number",pn.value)}switch(kn=cn?ue$1(cn):window,St){case"focusin":(me$1(kn)||kn.contentEditable==="true")&&(Qe=kn,Re=cn,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(mn,en,dn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(mn,en,dn)}var In;if(ae$1)e:{switch(St){case"compositionstart":var Dn="onCompositionStart";break e;case"compositionend":Dn="onCompositionEnd";break e;case"compositionupdate":Dn="onCompositionUpdate";break e}Dn=void 0}else ie$1?ge$1(St,en)&&(Dn="onCompositionEnd"):St==="keydown"&&en.keyCode===229&&(Dn="onCompositionStart");Dn&&(de$1&&en.locale!=="ko"&&(ie$1||Dn!=="onCompositionStart"?Dn==="onCompositionEnd"&&ie$1&&(In=nd()):(kd=dn,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),kn=oe$1(cn,Dn),0<kn.length&&(Dn=new Ld(Dn,St,null,en,dn),mn.push({event:Dn,listeners:kn}),In?Dn.data=In:(In=he$1(en),In!==null&&(Dn.data=In)))),(In=ce$1?je(St,en):ke(St,en))&&(cn=oe$1(cn,"onBeforeInput"),0<cn.length&&(dn=new Ld("onBeforeInput","beforeinput",null,en,dn),mn.push({event:dn,listeners:cn}),dn.data=In))}se$1(mn,_e)})}function tf(St,_e,en){return{instance:St,listener:_e,currentTarget:en}}function oe$1(St,_e){for(var en=_e+"Capture",tn=[];St!==null;){var nn=St,rn=nn.stateNode;nn.tag===5&&rn!==null&&(nn=rn,rn=Kb(St,en),rn!=null&&tn.unshift(tf(St,rn,nn)),rn=Kb(St,_e),rn!=null&&tn.push(tf(St,rn,nn))),St=St.return}return tn}function vf(St){if(St===null)return null;do St=St.return;while(St&&St.tag!==5);return St||null}function wf(St,_e,en,tn,nn){for(var rn=_e._reactName,sn=[];en!==null&&en!==tn;){var an=en,on=an.alternate,cn=an.stateNode;if(on!==null&&on===tn)break;an.tag===5&&cn!==null&&(an=cn,nn?(on=Kb(en,rn),on!=null&&sn.unshift(tf(en,on,an))):nn||(on=Kb(en,rn),on!=null&&sn.push(tf(en,on,an)))),en=en.return}sn.length!==0&&St.push({event:_e,listeners:sn})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(St){return(typeof St=="string"?St:""+St).replace(xf,`
`).replace(yf,"")}function Af(St,_e,en){if(_e=zf(_e),zf(St)!==_e&&en)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(St,_e){return St==="textarea"||St==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(St){return Hf.resolve(null).then(St).catch(If)}:Ff;function If(St){setTimeout(function(){throw St})}function Kf(St,_e){var en=_e,tn=0;do{var nn=en.nextSibling;if(St.removeChild(en),nn&&nn.nodeType===8)if(en=nn.data,en==="/$"){if(tn===0){St.removeChild(nn),bd(_e);return}tn--}else en!=="$"&&en!=="$?"&&en!=="$!"||tn++;en=nn}while(en);bd(_e)}function Lf(St){for(;St!=null;St=St.nextSibling){var _e=St.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=St.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return St}function Mf(St){St=St.previousSibling;for(var _e=0;St;){if(St.nodeType===8){var en=St.data;if(en==="$"||en==="$!"||en==="$?"){if(_e===0)return St;_e--}else en==="/$"&&_e++}St=St.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(St){var _e=St[Of];if(_e)return _e;for(var en=St.parentNode;en;){if(_e=en[uf]||en[Of]){if(en=_e.alternate,_e.child!==null||en!==null&&en.child!==null)for(St=Mf(St);St!==null;){if(en=St[Of])return en;St=Mf(St)}return _e}St=en,en=St.parentNode}return null}function Cb(St){return St=St[Of]||St[uf],!St||St.tag!==5&&St.tag!==6&&St.tag!==13&&St.tag!==3?null:St}function ue$1(St){if(St.tag===5||St.tag===6)return St.stateNode;throw Error(p$4(33))}function Db(St){return St[Pf]||null}var Sf=[],Tf=-1;function Uf(St){return{current:St}}function E$1(St){0>Tf||(St.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(St,_e){Tf++,Sf[Tf]=St.current,St.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(St,_e){var en=St.type.contextTypes;if(!en)return Vf;var tn=St.stateNode;if(tn&&tn.__reactInternalMemoizedUnmaskedChildContext===_e)return tn.__reactInternalMemoizedMaskedChildContext;var nn={},rn;for(rn in en)nn[rn]=_e[rn];return tn&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=_e,St.__reactInternalMemoizedMaskedChildContext=nn),nn}function Zf(St){return St=St.childContextTypes,St!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(St,_e,en){if(H$1.current!==Vf)throw Error(p$4(168));G$1(H$1,_e),G$1(Wf,en)}function bg(St,_e,en){var tn=St.stateNode;if(_e=_e.childContextTypes,typeof tn.getChildContext!="function")return en;tn=tn.getChildContext();for(var nn in tn)if(!(nn in _e))throw Error(p$4(108,Ra(St)||"Unknown",nn));return A$1({},en,tn)}function cg(St){return St=(St=St.stateNode)&&St.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,St),G$1(Wf,Wf.current),!0}function dg(St,_e,en){var tn=St.stateNode;if(!tn)throw Error(p$4(169));en?(St=bg(St,_e,Xf),tn.__reactInternalMemoizedMergedChildContext=St,E$1(Wf),E$1(H$1),G$1(H$1,St)):E$1(Wf),G$1(Wf,en)}var eg=null,fg=!1,gg=!1;function hg(St){eg===null?eg=[St]:eg.push(St)}function ig(St){fg=!0,hg(St)}function jg(){if(!gg&&eg!==null){gg=!0;var St=0,_e=C$1;try{var en=eg;for(C$1=1;St<en.length;St++){var tn=en[St];do tn=tn(!0);while(tn!==null)}eg=null,fg=!1}catch(nn){throw eg!==null&&(eg=eg.slice(St+1)),ac(fc,jg),nn}finally{C$1=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(St,_e){kg[lg++]=ng,kg[lg++]=mg,mg=St,ng=_e}function ug(St,_e,en){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=St;var tn=rg;St=sg;var nn=32-oc(tn)-1;tn&=~(1<<nn),en+=1;var rn=32-oc(_e)+nn;if(30<rn){var sn=nn-nn%5;rn=(tn&(1<<sn)-1).toString(32),tn>>=sn,nn-=sn,rg=1<<32-oc(_e)+nn|en<<nn|tn,sg=rn+St}else rg=1<<rn|en<<nn|tn,sg=St}function vg(St){St.return!==null&&(tg(St,1),ug(St,1,0))}function wg(St){for(;St===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;St===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(St,_e){var en=Bg(5,null,null,0);en.elementType="DELETED",en.stateNode=_e,en.return=St,_e=St.deletions,_e===null?(St.deletions=[en],St.flags|=16):_e.push(en)}function Cg(St,_e){switch(St.tag){case 5:var en=St.type;return _e=_e.nodeType!==1||en.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(St.stateNode=_e,xg=St,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=St.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(St.stateNode=_e,xg=St,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(en=qg!==null?{id:rg,overflow:sg}:null,St.memoizedState={dehydrated:_e,treeContext:en,retryLane:1073741824},en=Bg(18,null,null,0),en.stateNode=_e,en.return=St,St.child=en,xg=St,yg=null,!0):!1;default:return!1}}function Dg(St){return(St.mode&1)!==0&&(St.flags&128)===0}function Eg(St){if(I$1){var _e=yg;if(_e){var en=_e;if(!Cg(St,_e)){if(Dg(St))throw Error(p$4(418));_e=Lf(en.nextSibling);var tn=xg;_e&&Cg(St,_e)?Ag(tn,en):(St.flags=St.flags&-4097|2,I$1=!1,xg=St)}}else{if(Dg(St))throw Error(p$4(418));St.flags=St.flags&-4097|2,I$1=!1,xg=St}}}function Fg(St){for(St=St.return;St!==null&&St.tag!==5&&St.tag!==3&&St.tag!==13;)St=St.return;xg=St}function Gg(St){if(St!==xg)return!1;if(!I$1)return Fg(St),I$1=!0,!1;var _e;if((_e=St.tag!==3)&&!(_e=St.tag!==5)&&(_e=St.type,_e=_e!=="head"&&_e!=="body"&&!Ef(St.type,St.memoizedProps)),_e&&(_e=yg)){if(Dg(St))throw Hg(),Error(p$4(418));for(;_e;)Ag(St,_e),_e=Lf(_e.nextSibling)}if(Fg(St),St.tag===13){if(St=St.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$4(317));e:{for(St=St.nextSibling,_e=0;St;){if(St.nodeType===8){var en=St.data;if(en==="/$"){if(_e===0){yg=Lf(St.nextSibling);break e}_e--}else en!=="$"&&en!=="$!"&&en!=="$?"||_e++}St=St.nextSibling}yg=null}}else yg=xg?Lf(St.stateNode.nextSibling):null;return!0}function Hg(){for(var St=yg;St;)St=Lf(St.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(St){zg===null?zg=[St]:zg.push(St)}var Kg=ua.ReactCurrentBatchConfig;function Lg(St,_e){if(St&&St.defaultProps){_e=A$1({},_e),St=St.defaultProps;for(var en in St)_e[en]===void 0&&(_e[en]=St[en]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(St){var _e=Mg.current;E$1(Mg),St._currentValue=_e}function Sg(St,_e,en){for(;St!==null;){var tn=St.alternate;if((St.childLanes&_e)!==_e?(St.childLanes|=_e,tn!==null&&(tn.childLanes|=_e)):tn!==null&&(tn.childLanes&_e)!==_e&&(tn.childLanes|=_e),St===en)break;St=St.return}}function Tg(St,_e){Ng=St,Pg=Og=null,St=St.dependencies,St!==null&&St.firstContext!==null&&((St.lanes&_e)!==0&&(Ug=!0),St.firstContext=null)}function Vg(St){var _e=St._currentValue;if(Pg!==St)if(St={context:St,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=St,Ng.dependencies={lanes:0,firstContext:St}}else Og=Og.next=St;return _e}var Wg=null;function Xg(St){Wg===null?Wg=[St]:Wg.push(St)}function Yg(St,_e,en,tn){var nn=_e.interleaved;return nn===null?(en.next=en,Xg(_e)):(en.next=nn.next,nn.next=en),_e.interleaved=en,Zg(St,tn)}function Zg(St,_e){St.lanes|=_e;var en=St.alternate;for(en!==null&&(en.lanes|=_e),en=St,St=St.return;St!==null;)St.childLanes|=_e,en=St.alternate,en!==null&&(en.childLanes|=_e),en=St,St=St.return;return en.tag===3?en.stateNode:null}var $g=!1;function ah(St){St.updateQueue={baseState:St.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(St,_e){St=St.updateQueue,_e.updateQueue===St&&(_e.updateQueue={baseState:St.baseState,firstBaseUpdate:St.firstBaseUpdate,lastBaseUpdate:St.lastBaseUpdate,shared:St.shared,effects:St.effects})}function ch(St,_e){return{eventTime:St,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(St,_e,en){var tn=St.updateQueue;if(tn===null)return null;if(tn=tn.shared,(K$1&2)!==0){var nn=tn.pending;return nn===null?_e.next=_e:(_e.next=nn.next,nn.next=_e),tn.pending=_e,Zg(St,en)}return nn=tn.interleaved,nn===null?(_e.next=_e,Xg(tn)):(_e.next=nn.next,nn.next=_e),tn.interleaved=_e,Zg(St,en)}function eh(St,_e,en){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(en&4194240)!==0)){var tn=_e.lanes;tn&=St.pendingLanes,en|=tn,_e.lanes=en,Cc(St,en)}}function fh(St,_e){var en=St.updateQueue,tn=St.alternate;if(tn!==null&&(tn=tn.updateQueue,en===tn)){var nn=null,rn=null;if(en=en.firstBaseUpdate,en!==null){do{var sn={eventTime:en.eventTime,lane:en.lane,tag:en.tag,payload:en.payload,callback:en.callback,next:null};rn===null?nn=rn=sn:rn=rn.next=sn,en=en.next}while(en!==null);rn===null?nn=rn=_e:rn=rn.next=_e}else nn=rn=_e;en={baseState:tn.baseState,firstBaseUpdate:nn,lastBaseUpdate:rn,shared:tn.shared,effects:tn.effects},St.updateQueue=en;return}St=en.lastBaseUpdate,St===null?en.firstBaseUpdate=_e:St.next=_e,en.lastBaseUpdate=_e}function gh(St,_e,en,tn){var nn=St.updateQueue;$g=!1;var rn=nn.firstBaseUpdate,sn=nn.lastBaseUpdate,an=nn.shared.pending;if(an!==null){nn.shared.pending=null;var on=an,cn=on.next;on.next=null,sn===null?rn=cn:sn.next=cn,sn=on;var dn=St.alternate;dn!==null&&(dn=dn.updateQueue,an=dn.lastBaseUpdate,an!==sn&&(an===null?dn.firstBaseUpdate=cn:an.next=cn,dn.lastBaseUpdate=on))}if(rn!==null){var mn=nn.baseState;sn=0,dn=cn=on=null,an=rn;do{var pn=an.lane,fn=an.eventTime;if((tn&pn)===pn){dn!==null&&(dn=dn.next={eventTime:fn,lane:0,tag:an.tag,payload:an.payload,callback:an.callback,next:null});e:{var yn=St,bn=an;switch(pn=_e,fn=en,bn.tag){case 1:if(yn=bn.payload,typeof yn=="function"){mn=yn.call(fn,mn,pn);break e}mn=yn;break e;case 3:yn.flags=yn.flags&-65537|128;case 0:if(yn=bn.payload,pn=typeof yn=="function"?yn.call(fn,mn,pn):yn,pn==null)break e;mn=A$1({},mn,pn);break e;case 2:$g=!0}}an.callback!==null&&an.lane!==0&&(St.flags|=64,pn=nn.effects,pn===null?nn.effects=[an]:pn.push(an))}else fn={eventTime:fn,lane:pn,tag:an.tag,payload:an.payload,callback:an.callback,next:null},dn===null?(cn=dn=fn,on=mn):dn=dn.next=fn,sn|=pn;if(an=an.next,an===null){if(an=nn.shared.pending,an===null)break;pn=an,an=pn.next,pn.next=null,nn.lastBaseUpdate=pn,nn.shared.pending=null}}while(1);if(dn===null&&(on=mn),nn.baseState=on,nn.firstBaseUpdate=cn,nn.lastBaseUpdate=dn,_e=nn.shared.interleaved,_e!==null){nn=_e;do sn|=nn.lane,nn=nn.next;while(nn!==_e)}else rn===null&&(nn.shared.lanes=0);hh|=sn,St.lanes=sn,St.memoizedState=mn}}function ih(St,_e,en){if(St=_e.effects,_e.effects=null,St!==null)for(_e=0;_e<St.length;_e++){var tn=St[_e],nn=tn.callback;if(nn!==null){if(tn.callback=null,tn=en,typeof nn!="function")throw Error(p$4(191,nn));nn.call(tn)}}}var jh=new aa.Component().refs;function kh(St,_e,en,tn){_e=St.memoizedState,en=en(tn,_e),en=en==null?_e:A$1({},_e,en),St.memoizedState=en,St.lanes===0&&(St.updateQueue.baseState=en)}var nh={isMounted:function(St){return(St=St._reactInternals)?Vb(St)===St:!1},enqueueSetState:function(St,_e,en){St=St._reactInternals;var tn=L$1(),nn=lh(St),rn=ch(tn,nn);rn.payload=_e,en!=null&&(rn.callback=en),_e=dh(St,rn,nn),_e!==null&&(mh(_e,St,nn,tn),eh(_e,St,nn))},enqueueReplaceState:function(St,_e,en){St=St._reactInternals;var tn=L$1(),nn=lh(St),rn=ch(tn,nn);rn.tag=1,rn.payload=_e,en!=null&&(rn.callback=en),_e=dh(St,rn,nn),_e!==null&&(mh(_e,St,nn,tn),eh(_e,St,nn))},enqueueForceUpdate:function(St,_e){St=St._reactInternals;var en=L$1(),tn=lh(St),nn=ch(en,tn);nn.tag=2,_e!=null&&(nn.callback=_e),_e=dh(St,nn,tn),_e!==null&&(mh(_e,St,tn,en),eh(_e,St,tn))}};function oh(St,_e,en,tn,nn,rn,sn){return St=St.stateNode,typeof St.shouldComponentUpdate=="function"?St.shouldComponentUpdate(tn,rn,sn):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(en,tn)||!Ie(nn,rn):!0}function ph(St,_e,en){var tn=!1,nn=Vf,rn=_e.contextType;return typeof rn=="object"&&rn!==null?rn=Vg(rn):(nn=Zf(_e)?Xf:H$1.current,tn=_e.contextTypes,rn=(tn=tn!=null)?Yf(St,nn):Vf),_e=new _e(en,rn),St.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,St.stateNode=_e,_e._reactInternals=St,tn&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=nn,St.__reactInternalMemoizedMaskedChildContext=rn),_e}function qh(St,_e,en,tn){St=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(en,tn),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(en,tn),_e.state!==St&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(St,_e,en,tn){var nn=St.stateNode;nn.props=en,nn.state=St.memoizedState,nn.refs=jh,ah(St);var rn=_e.contextType;typeof rn=="object"&&rn!==null?nn.context=Vg(rn):(rn=Zf(_e)?Xf:H$1.current,nn.context=Yf(St,rn)),nn.state=St.memoizedState,rn=_e.getDerivedStateFromProps,typeof rn=="function"&&(kh(St,_e,rn,en),nn.state=St.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nn.getSnapshotBeforeUpdate=="function"||typeof nn.UNSAFE_componentWillMount!="function"&&typeof nn.componentWillMount!="function"||(_e=nn.state,typeof nn.componentWillMount=="function"&&nn.componentWillMount(),typeof nn.UNSAFE_componentWillMount=="function"&&nn.UNSAFE_componentWillMount(),_e!==nn.state&&nh.enqueueReplaceState(nn,nn.state,null),gh(St,en,nn,tn),nn.state=St.memoizedState),typeof nn.componentDidMount=="function"&&(St.flags|=4194308)}function sh(St,_e,en){if(St=en.ref,St!==null&&typeof St!="function"&&typeof St!="object"){if(en._owner){if(en=en._owner,en){if(en.tag!==1)throw Error(p$4(309));var tn=en.stateNode}if(!tn)throw Error(p$4(147,St));var nn=tn,rn=""+St;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===rn?_e.ref:(_e=function(sn){var an=nn.refs;an===jh&&(an=nn.refs={}),sn===null?delete an[rn]:an[rn]=sn},_e._stringRef=rn,_e)}if(typeof St!="string")throw Error(p$4(284));if(!en._owner)throw Error(p$4(290,St))}return St}function th(St,_e){throw St=Object.prototype.toString.call(_e),Error(p$4(31,St==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":St))}function uh(St){var _e=St._init;return _e(St._payload)}function vh$1(St){function _e(vn,Sn){if(St){var xn=vn.deletions;xn===null?(vn.deletions=[Sn],vn.flags|=16):xn.push(Sn)}}function en(vn,Sn){if(!St)return null;for(;Sn!==null;)_e(vn,Sn),Sn=Sn.sibling;return null}function tn(vn,Sn){for(vn=new Map;Sn!==null;)Sn.key!==null?vn.set(Sn.key,Sn):vn.set(Sn.index,Sn),Sn=Sn.sibling;return vn}function nn(vn,Sn){return vn=wh(vn,Sn),vn.index=0,vn.sibling=null,vn}function rn(vn,Sn,xn){return vn.index=xn,St?(xn=vn.alternate,xn!==null?(xn=xn.index,xn<Sn?(vn.flags|=2,Sn):xn):(vn.flags|=2,Sn)):(vn.flags|=1048576,Sn)}function sn(vn){return St&&vn.alternate===null&&(vn.flags|=2),vn}function an(vn,Sn,xn,En){return Sn===null||Sn.tag!==6?(Sn=xh(xn,vn.mode,En),Sn.return=vn,Sn):(Sn=nn(Sn,xn),Sn.return=vn,Sn)}function on(vn,Sn,xn,En){var Cn=xn.type;return Cn===ya?dn(vn,Sn,xn.props.children,En,xn.key):Sn!==null&&(Sn.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===Ha&&uh(Cn)===Sn.type)?(En=nn(Sn,xn.props),En.ref=sh(vn,Sn,xn),En.return=vn,En):(En=yh(xn.type,xn.key,xn.props,null,vn.mode,En),En.ref=sh(vn,Sn,xn),En.return=vn,En)}function cn(vn,Sn,xn,En){return Sn===null||Sn.tag!==4||Sn.stateNode.containerInfo!==xn.containerInfo||Sn.stateNode.implementation!==xn.implementation?(Sn=zh(xn,vn.mode,En),Sn.return=vn,Sn):(Sn=nn(Sn,xn.children||[]),Sn.return=vn,Sn)}function dn(vn,Sn,xn,En,Cn){return Sn===null||Sn.tag!==7?(Sn=Ah(xn,vn.mode,En,Cn),Sn.return=vn,Sn):(Sn=nn(Sn,xn),Sn.return=vn,Sn)}function mn(vn,Sn,xn){if(typeof Sn=="string"&&Sn!==""||typeof Sn=="number")return Sn=xh(""+Sn,vn.mode,xn),Sn.return=vn,Sn;if(typeof Sn=="object"&&Sn!==null){switch(Sn.$$typeof){case va:return xn=yh(Sn.type,Sn.key,Sn.props,null,vn.mode,xn),xn.ref=sh(vn,null,Sn),xn.return=vn,xn;case wa:return Sn=zh(Sn,vn.mode,xn),Sn.return=vn,Sn;case Ha:var En=Sn._init;return mn(vn,En(Sn._payload),xn)}if(eb(Sn)||Ka(Sn))return Sn=Ah(Sn,vn.mode,xn,null),Sn.return=vn,Sn;th(vn,Sn)}return null}function pn(vn,Sn,xn,En){var Cn=Sn!==null?Sn.key:null;if(typeof xn=="string"&&xn!==""||typeof xn=="number")return Cn!==null?null:an(vn,Sn,""+xn,En);if(typeof xn=="object"&&xn!==null){switch(xn.$$typeof){case va:return xn.key===Cn?on(vn,Sn,xn,En):null;case wa:return xn.key===Cn?cn(vn,Sn,xn,En):null;case Ha:return Cn=xn._init,pn(vn,Sn,Cn(xn._payload),En)}if(eb(xn)||Ka(xn))return Cn!==null?null:dn(vn,Sn,xn,En,null);th(vn,xn)}return null}function fn(vn,Sn,xn,En,Cn){if(typeof En=="string"&&En!==""||typeof En=="number")return vn=vn.get(xn)||null,an(Sn,vn,""+En,Cn);if(typeof En=="object"&&En!==null){switch(En.$$typeof){case va:return vn=vn.get(En.key===null?xn:En.key)||null,on(Sn,vn,En,Cn);case wa:return vn=vn.get(En.key===null?xn:En.key)||null,cn(Sn,vn,En,Cn);case Ha:var kn=En._init;return fn(vn,Sn,xn,kn(En._payload),Cn)}if(eb(En)||Ka(En))return vn=vn.get(xn)||null,dn(Sn,vn,En,Cn,null);th(Sn,En)}return null}function yn(vn,Sn,xn,En){for(var Cn=null,kn=null,In=Sn,Dn=Sn=0,Wn=null;In!==null&&Dn<xn.length;Dn++){In.index>Dn?(Wn=In,In=null):Wn=In.sibling;var Vn=pn(vn,In,xn[Dn],En);if(Vn===null){In===null&&(In=Wn);break}St&&In&&Vn.alternate===null&&_e(vn,In),Sn=rn(Vn,Sn,Dn),kn===null?Cn=Vn:kn.sibling=Vn,kn=Vn,In=Wn}if(Dn===xn.length)return en(vn,In),I$1&&tg(vn,Dn),Cn;if(In===null){for(;Dn<xn.length;Dn++)In=mn(vn,xn[Dn],En),In!==null&&(Sn=rn(In,Sn,Dn),kn===null?Cn=In:kn.sibling=In,kn=In);return I$1&&tg(vn,Dn),Cn}for(In=tn(vn,In);Dn<xn.length;Dn++)Wn=fn(In,vn,Dn,xn[Dn],En),Wn!==null&&(St&&Wn.alternate!==null&&In.delete(Wn.key===null?Dn:Wn.key),Sn=rn(Wn,Sn,Dn),kn===null?Cn=Wn:kn.sibling=Wn,kn=Wn);return St&&In.forEach(function(On){return _e(vn,On)}),I$1&&tg(vn,Dn),Cn}function bn(vn,Sn,xn,En){var Cn=Ka(xn);if(typeof Cn!="function")throw Error(p$4(150));if(xn=Cn.call(xn),xn==null)throw Error(p$4(151));for(var kn=Cn=null,In=Sn,Dn=Sn=0,Wn=null,Vn=xn.next();In!==null&&!Vn.done;Dn++,Vn=xn.next()){In.index>Dn?(Wn=In,In=null):Wn=In.sibling;var On=pn(vn,In,Vn.value,En);if(On===null){In===null&&(In=Wn);break}St&&In&&On.alternate===null&&_e(vn,In),Sn=rn(On,Sn,Dn),kn===null?Cn=On:kn.sibling=On,kn=On,In=Wn}if(Vn.done)return en(vn,In),I$1&&tg(vn,Dn),Cn;if(In===null){for(;!Vn.done;Dn++,Vn=xn.next())Vn=mn(vn,Vn.value,En),Vn!==null&&(Sn=rn(Vn,Sn,Dn),kn===null?Cn=Vn:kn.sibling=Vn,kn=Vn);return I$1&&tg(vn,Dn),Cn}for(In=tn(vn,In);!Vn.done;Dn++,Vn=xn.next())Vn=fn(In,vn,Dn,Vn.value,En),Vn!==null&&(St&&Vn.alternate!==null&&In.delete(Vn.key===null?Dn:Vn.key),Sn=rn(Vn,Sn,Dn),kn===null?Cn=Vn:kn.sibling=Vn,kn=Vn);return St&&In.forEach(function(zn){return _e(vn,zn)}),I$1&&tg(vn,Dn),Cn}function wn(vn,Sn,xn,En){if(typeof xn=="object"&&xn!==null&&xn.type===ya&&xn.key===null&&(xn=xn.props.children),typeof xn=="object"&&xn!==null){switch(xn.$$typeof){case va:e:{for(var Cn=xn.key,kn=Sn;kn!==null;){if(kn.key===Cn){if(Cn=xn.type,Cn===ya){if(kn.tag===7){en(vn,kn.sibling),Sn=nn(kn,xn.props.children),Sn.return=vn,vn=Sn;break e}}else if(kn.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===Ha&&uh(Cn)===kn.type){en(vn,kn.sibling),Sn=nn(kn,xn.props),Sn.ref=sh(vn,kn,xn),Sn.return=vn,vn=Sn;break e}en(vn,kn);break}else _e(vn,kn);kn=kn.sibling}xn.type===ya?(Sn=Ah(xn.props.children,vn.mode,En,xn.key),Sn.return=vn,vn=Sn):(En=yh(xn.type,xn.key,xn.props,null,vn.mode,En),En.ref=sh(vn,Sn,xn),En.return=vn,vn=En)}return sn(vn);case wa:e:{for(kn=xn.key;Sn!==null;){if(Sn.key===kn)if(Sn.tag===4&&Sn.stateNode.containerInfo===xn.containerInfo&&Sn.stateNode.implementation===xn.implementation){en(vn,Sn.sibling),Sn=nn(Sn,xn.children||[]),Sn.return=vn,vn=Sn;break e}else{en(vn,Sn);break}else _e(vn,Sn);Sn=Sn.sibling}Sn=zh(xn,vn.mode,En),Sn.return=vn,vn=Sn}return sn(vn);case Ha:return kn=xn._init,wn(vn,Sn,kn(xn._payload),En)}if(eb(xn))return yn(vn,Sn,xn,En);if(Ka(xn))return bn(vn,Sn,xn,En);th(vn,xn)}return typeof xn=="string"&&xn!==""||typeof xn=="number"?(xn=""+xn,Sn!==null&&Sn.tag===6?(en(vn,Sn.sibling),Sn=nn(Sn,xn),Sn.return=vn,vn=Sn):(en(vn,Sn),Sn=xh(xn,vn.mode,En),Sn.return=vn,vn=Sn),sn(vn)):en(vn,Sn)}return wn}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(St){if(St===Dh)throw Error(p$4(174));return St}function Ih(St,_e){switch(G$1(Gh,_e),G$1(Fh,St),G$1(Eh,Dh),St=_e.nodeType,St){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:St=St===8?_e.parentNode:_e,_e=St.namespaceURI||null,St=St.tagName,_e=lb(_e,St)}E$1(Eh),G$1(Eh,_e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(St){Hh(Gh.current);var _e=Hh(Eh.current),en=lb(_e,St.type);_e!==en&&(G$1(Fh,St),G$1(Eh,en))}function Lh(St){Fh.current===St&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(St){for(var _e=St;_e!==null;){if(_e.tag===13){var en=_e.memoizedState;if(en!==null&&(en=en.dehydrated,en===null||en.data==="$?"||en.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===St)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===St)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var St=0;St<Nh.length;St++)Nh[St]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$4(321))}function Wh(St,_e){if(_e===null)return!1;for(var en=0;en<_e.length&&en<St.length;en++)if(!He(St[en],_e[en]))return!1;return!0}function Xh(St,_e,en,tn,nn,rn){if(Rh=rn,N$1=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=St===null||St.memoizedState===null?Yh:Zh,St=en(tn,nn),Th){rn=0;do{if(Th=!1,Uh=0,25<=rn)throw Error(p$4(301));rn+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,St=en(tn,nn)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,_e)throw Error(p$4(300));return St}function bi(){var St=Uh!==0;return Uh=0,St}function ci(){var St={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=St:P$1=P$1.next=St,P$1}function di(){if(O$1===null){var St=N$1.alternate;St=St!==null?St.memoizedState:null}else St=O$1.next;var _e=P$1===null?N$1.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=St;else{if(St===null)throw Error(p$4(310));O$1=St,St={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=St:P$1=P$1.next=St}return P$1}function ei(St,_e){return typeof _e=="function"?_e(St):_e}function fi(St){var _e=di(),en=_e.queue;if(en===null)throw Error(p$4(311));en.lastRenderedReducer=St;var tn=O$1,nn=tn.baseQueue,rn=en.pending;if(rn!==null){if(nn!==null){var sn=nn.next;nn.next=rn.next,rn.next=sn}tn.baseQueue=nn=rn,en.pending=null}if(nn!==null){rn=nn.next,tn=tn.baseState;var an=sn=null,on=null,cn=rn;do{var dn=cn.lane;if((Rh&dn)===dn)on!==null&&(on=on.next={lane:0,action:cn.action,hasEagerState:cn.hasEagerState,eagerState:cn.eagerState,next:null}),tn=cn.hasEagerState?cn.eagerState:St(tn,cn.action);else{var mn={lane:dn,action:cn.action,hasEagerState:cn.hasEagerState,eagerState:cn.eagerState,next:null};on===null?(an=on=mn,sn=tn):on=on.next=mn,N$1.lanes|=dn,hh|=dn}cn=cn.next}while(cn!==null&&cn!==rn);on===null?sn=tn:on.next=an,He(tn,_e.memoizedState)||(Ug=!0),_e.memoizedState=tn,_e.baseState=sn,_e.baseQueue=on,en.lastRenderedState=tn}if(St=en.interleaved,St!==null){nn=St;do rn=nn.lane,N$1.lanes|=rn,hh|=rn,nn=nn.next;while(nn!==St)}else nn===null&&(en.lanes=0);return[_e.memoizedState,en.dispatch]}function gi(St){var _e=di(),en=_e.queue;if(en===null)throw Error(p$4(311));en.lastRenderedReducer=St;var tn=en.dispatch,nn=en.pending,rn=_e.memoizedState;if(nn!==null){en.pending=null;var sn=nn=nn.next;do rn=St(rn,sn.action),sn=sn.next;while(sn!==nn);He(rn,_e.memoizedState)||(Ug=!0),_e.memoizedState=rn,_e.baseQueue===null&&(_e.baseState=rn),en.lastRenderedState=rn}return[rn,tn]}function hi(){}function ii(St,_e){var en=N$1,tn=di(),nn=_e(),rn=!He(tn.memoizedState,nn);if(rn&&(tn.memoizedState=nn,Ug=!0),tn=tn.queue,ji(ki.bind(null,en,tn,St),[St]),tn.getSnapshot!==_e||rn||P$1!==null&&P$1.memoizedState.tag&1){if(en.flags|=2048,li(9,mi.bind(null,en,tn,nn,_e),void 0,null),R$1===null)throw Error(p$4(349));(Rh&30)!==0||ni(en,_e,nn)}return nn}function ni(St,_e,en){St.flags|=16384,St={getSnapshot:_e,value:en},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.stores=[St]):(en=_e.stores,en===null?_e.stores=[St]:en.push(St))}function mi(St,_e,en,tn){_e.value=en,_e.getSnapshot=tn,oi(_e)&&pi(St)}function ki(St,_e,en){return en(function(){oi(_e)&&pi(St)})}function oi(St){var _e=St.getSnapshot;St=St.value;try{var en=_e();return!He(St,en)}catch{return!0}}function pi(St){var _e=Zg(St,1);_e!==null&&mh(_e,St,1,-1)}function qi(St){var _e=ci();return typeof St=="function"&&(St=St()),_e.memoizedState=_e.baseState=St,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:St},_e.queue=St,St=St.dispatch=ri.bind(null,N$1,St),[_e.memoizedState,St]}function li(St,_e,en,tn){return St={tag:St,create:_e,destroy:en,deps:tn,next:null},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.lastEffect=St.next=St):(en=_e.lastEffect,en===null?_e.lastEffect=St.next=St:(tn=en.next,en.next=St,St.next=tn,_e.lastEffect=St)),St}function si(){return di().memoizedState}function ti(St,_e,en,tn){var nn=ci();N$1.flags|=St,nn.memoizedState=li(1|_e,en,void 0,tn===void 0?null:tn)}function ui(St,_e,en,tn){var nn=di();tn=tn===void 0?null:tn;var rn=void 0;if(O$1!==null){var sn=O$1.memoizedState;if(rn=sn.destroy,tn!==null&&Wh(tn,sn.deps)){nn.memoizedState=li(_e,en,rn,tn);return}}N$1.flags|=St,nn.memoizedState=li(1|_e,en,rn,tn)}function vi(St,_e){return ti(8390656,8,St,_e)}function ji(St,_e){return ui(2048,8,St,_e)}function wi(St,_e){return ui(4,2,St,_e)}function xi(St,_e){return ui(4,4,St,_e)}function yi(St,_e){if(typeof _e=="function")return St=St(),_e(St),function(){_e(null)};if(_e!=null)return St=St(),_e.current=St,function(){_e.current=null}}function zi(St,_e,en){return en=en!=null?en.concat([St]):null,ui(4,4,yi.bind(null,_e,St),en)}function Ai(){}function Bi(St,_e){var en=di();_e=_e===void 0?null:_e;var tn=en.memoizedState;return tn!==null&&_e!==null&&Wh(_e,tn[1])?tn[0]:(en.memoizedState=[St,_e],St)}function Ci(St,_e){var en=di();_e=_e===void 0?null:_e;var tn=en.memoizedState;return tn!==null&&_e!==null&&Wh(_e,tn[1])?tn[0]:(St=St(),en.memoizedState=[St,_e],St)}function Di(St,_e,en){return(Rh&21)===0?(St.baseState&&(St.baseState=!1,Ug=!0),St.memoizedState=en):(He(en,_e)||(en=yc(),N$1.lanes|=en,hh|=en,St.baseState=!0),_e)}function Ei(St,_e){var en=C$1;C$1=en!==0&&4>en?en:4,St(!0);var tn=Qh.transition;Qh.transition={};try{St(!1),_e()}finally{C$1=en,Qh.transition=tn}}function Fi(){return di().memoizedState}function Gi(St,_e,en){var tn=lh(St);if(en={lane:tn,action:en,hasEagerState:!1,eagerState:null,next:null},Hi(St))Ii(_e,en);else if(en=Yg(St,_e,en,tn),en!==null){var nn=L$1();mh(en,St,tn,nn),Ji(en,_e,tn)}}function ri(St,_e,en){var tn=lh(St),nn={lane:tn,action:en,hasEagerState:!1,eagerState:null,next:null};if(Hi(St))Ii(_e,nn);else{var rn=St.alternate;if(St.lanes===0&&(rn===null||rn.lanes===0)&&(rn=_e.lastRenderedReducer,rn!==null))try{var sn=_e.lastRenderedState,an=rn(sn,en);if(nn.hasEagerState=!0,nn.eagerState=an,He(an,sn)){var on=_e.interleaved;on===null?(nn.next=nn,Xg(_e)):(nn.next=on.next,on.next=nn),_e.interleaved=nn;return}}catch{}finally{}en=Yg(St,_e,nn,tn),en!==null&&(nn=L$1(),mh(en,St,tn,nn),Ji(en,_e,tn))}}function Hi(St){var _e=St.alternate;return St===N$1||_e!==null&&_e===N$1}function Ii(St,_e){Th=Sh=!0;var en=St.pending;en===null?_e.next=_e:(_e.next=en.next,en.next=_e),St.pending=_e}function Ji(St,_e,en){if((en&4194240)!==0){var tn=_e.lanes;tn&=St.pendingLanes,en|=tn,_e.lanes=en,Cc(St,en)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(St,_e){return ci().memoizedState=[St,_e===void 0?null:_e],St},useContext:Vg,useEffect:vi,useImperativeHandle:function(St,_e,en){return en=en!=null?en.concat([St]):null,ti(4194308,4,yi.bind(null,_e,St),en)},useLayoutEffect:function(St,_e){return ti(4194308,4,St,_e)},useInsertionEffect:function(St,_e){return ti(4,2,St,_e)},useMemo:function(St,_e){var en=ci();return _e=_e===void 0?null:_e,St=St(),en.memoizedState=[St,_e],St},useReducer:function(St,_e,en){var tn=ci();return _e=en!==void 0?en(_e):_e,tn.memoizedState=tn.baseState=_e,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:St,lastRenderedState:_e},tn.queue=St,St=St.dispatch=Gi.bind(null,N$1,St),[tn.memoizedState,St]},useRef:function(St){var _e=ci();return St={current:St},_e.memoizedState=St},useState:qi,useDebugValue:Ai,useDeferredValue:function(St){return ci().memoizedState=St},useTransition:function(){var St=qi(!1),_e=St[0];return St=Ei.bind(null,St[1]),ci().memoizedState=St,[_e,St]},useMutableSource:function(){},useSyncExternalStore:function(St,_e,en){var tn=N$1,nn=ci();if(I$1){if(en===void 0)throw Error(p$4(407));en=en()}else{if(en=_e(),R$1===null)throw Error(p$4(349));(Rh&30)!==0||ni(tn,_e,en)}nn.memoizedState=en;var rn={value:en,getSnapshot:_e};return nn.queue=rn,vi(ki.bind(null,tn,rn,St),[St]),tn.flags|=2048,li(9,mi.bind(null,tn,rn,en,_e),void 0,null),en},useId:function(){var St=ci(),_e=R$1.identifierPrefix;if(I$1){var en=sg,tn=rg;en=(tn&~(1<<32-oc(tn)-1)).toString(32)+en,_e=":"+_e+"R"+en,en=Uh++,0<en&&(_e+="H"+en.toString(32)),_e+=":"}else en=Vh++,_e=":"+_e+"r"+en.toString(32)+":";return St.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var _e=di();return Di(_e,O$1.memoizedState,St)},useTransition:function(){var St=fi(ei)[0],_e=di().memoizedState;return[St,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var _e=di();return O$1===null?_e.memoizedState=St:Di(_e,O$1.memoizedState,St)},useTransition:function(){var St=gi(ei)[0],_e=di().memoizedState;return[St,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(St,_e){try{var en="",tn=_e;do en+=Pa(tn),tn=tn.return;while(tn);var nn=en}catch(rn){nn=`
Error generating stack: `+rn.message+`
`+rn.stack}return{value:St,source:_e,stack:nn,digest:null}}function Li(St,_e,en){return{value:St,source:null,stack:en!=null?en:null,digest:_e!=null?_e:null}}function Mi(St,_e){try{console.error(_e.value)}catch(en){setTimeout(function(){throw en})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(St,_e,en){en=ch(-1,en),en.tag=3,en.payload={element:null};var tn=_e.value;return en.callback=function(){Pi||(Pi=!0,Qi=tn),Mi(St,_e)},en}function Ri(St,_e,en){en=ch(-1,en),en.tag=3;var tn=St.type.getDerivedStateFromError;if(typeof tn=="function"){var nn=_e.value;en.payload=function(){return tn(nn)},en.callback=function(){Mi(St,_e)}}var rn=St.stateNode;return rn!==null&&typeof rn.componentDidCatch=="function"&&(en.callback=function(){Mi(St,_e),typeof tn!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var sn=_e.stack;this.componentDidCatch(_e.value,{componentStack:sn!==null?sn:""})}),en}function Ti(St,_e,en){var tn=St.pingCache;if(tn===null){tn=St.pingCache=new Ni;var nn=new Set;tn.set(_e,nn)}else nn=tn.get(_e),nn===void 0&&(nn=new Set,tn.set(_e,nn));nn.has(en)||(nn.add(en),St=Ui.bind(null,St,_e,en),_e.then(St,St))}function Vi(St){do{var _e;if((_e=St.tag===13)&&(_e=St.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return St;St=St.return}while(St!==null);return null}function Wi(St,_e,en,tn,nn){return(St.mode&1)===0?(St===_e?St.flags|=65536:(St.flags|=128,en.flags|=131072,en.flags&=-52805,en.tag===1&&(en.alternate===null?en.tag=17:(_e=ch(-1,1),_e.tag=2,dh(en,_e,1))),en.lanes|=1),St):(St.flags|=65536,St.lanes=nn,St)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(St,_e,en,tn){_e.child=St===null?Ch(_e,null,en,tn):Bh(_e,St.child,en,tn)}function Zi(St,_e,en,tn,nn){en=en.render;var rn=_e.ref;return Tg(_e,nn),tn=Xh(St,_e,en,tn,rn,nn),en=bi(),St!==null&&!Ug?(_e.updateQueue=St.updateQueue,_e.flags&=-2053,St.lanes&=~nn,$i(St,_e,nn)):(I$1&&en&&vg(_e),_e.flags|=1,Yi(St,_e,tn,nn),_e.child)}function aj(St,_e,en,tn,nn){if(St===null){var rn=en.type;return typeof rn=="function"&&!bj(rn)&&rn.defaultProps===void 0&&en.compare===null&&en.defaultProps===void 0?(_e.tag=15,_e.type=rn,cj(St,_e,rn,tn,nn)):(St=yh(en.type,null,tn,_e,_e.mode,nn),St.ref=_e.ref,St.return=_e,_e.child=St)}if(rn=St.child,(St.lanes&nn)===0){var sn=rn.memoizedProps;if(en=en.compare,en=en!==null?en:Ie,en(sn,tn)&&St.ref===_e.ref)return $i(St,_e,nn)}return _e.flags|=1,St=wh(rn,tn),St.ref=_e.ref,St.return=_e,_e.child=St}function cj(St,_e,en,tn,nn){if(St!==null){var rn=St.memoizedProps;if(Ie(rn,tn)&&St.ref===_e.ref)if(Ug=!1,_e.pendingProps=tn=rn,(St.lanes&nn)!==0)(St.flags&131072)!==0&&(Ug=!0);else return _e.lanes=St.lanes,$i(St,_e,nn)}return dj(St,_e,en,tn,nn)}function ej(St,_e,en){var tn=_e.pendingProps,nn=tn.children,rn=St!==null?St.memoizedState:null;if(tn.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=en;else{if((en&1073741824)===0)return St=rn!==null?rn.baseLanes|en:en,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:St,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=St,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn=rn!==null?rn.baseLanes:en,G$1(fj,gj),gj|=tn}else rn!==null?(tn=rn.baseLanes|en,_e.memoizedState=null):tn=en,G$1(fj,gj),gj|=tn;return Yi(St,_e,nn,en),_e.child}function hj(St,_e){var en=_e.ref;(St===null&&en!==null||St!==null&&St.ref!==en)&&(_e.flags|=512,_e.flags|=2097152)}function dj(St,_e,en,tn,nn){var rn=Zf(en)?Xf:H$1.current;return rn=Yf(_e,rn),Tg(_e,nn),en=Xh(St,_e,en,tn,rn,nn),tn=bi(),St!==null&&!Ug?(_e.updateQueue=St.updateQueue,_e.flags&=-2053,St.lanes&=~nn,$i(St,_e,nn)):(I$1&&tn&&vg(_e),_e.flags|=1,Yi(St,_e,en,nn),_e.child)}function ij(St,_e,en,tn,nn){if(Zf(en)){var rn=!0;cg(_e)}else rn=!1;if(Tg(_e,nn),_e.stateNode===null)jj(St,_e),ph(_e,en,tn),rh(_e,en,tn,nn),tn=!0;else if(St===null){var sn=_e.stateNode,an=_e.memoizedProps;sn.props=an;var on=sn.context,cn=en.contextType;typeof cn=="object"&&cn!==null?cn=Vg(cn):(cn=Zf(en)?Xf:H$1.current,cn=Yf(_e,cn));var dn=en.getDerivedStateFromProps,mn=typeof dn=="function"||typeof sn.getSnapshotBeforeUpdate=="function";mn||typeof sn.UNSAFE_componentWillReceiveProps!="function"&&typeof sn.componentWillReceiveProps!="function"||(an!==tn||on!==cn)&&qh(_e,sn,tn,cn),$g=!1;var pn=_e.memoizedState;sn.state=pn,gh(_e,tn,sn,nn),on=_e.memoizedState,an!==tn||pn!==on||Wf.current||$g?(typeof dn=="function"&&(kh(_e,en,dn,tn),on=_e.memoizedState),(an=$g||oh(_e,en,an,tn,pn,on,cn))?(mn||typeof sn.UNSAFE_componentWillMount!="function"&&typeof sn.componentWillMount!="function"||(typeof sn.componentWillMount=="function"&&sn.componentWillMount(),typeof sn.UNSAFE_componentWillMount=="function"&&sn.UNSAFE_componentWillMount()),typeof sn.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof sn.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tn,_e.memoizedState=on),sn.props=tn,sn.state=on,sn.context=cn,tn=an):(typeof sn.componentDidMount=="function"&&(_e.flags|=4194308),tn=!1)}else{sn=_e.stateNode,bh(St,_e),an=_e.memoizedProps,cn=_e.type===_e.elementType?an:Lg(_e.type,an),sn.props=cn,mn=_e.pendingProps,pn=sn.context,on=en.contextType,typeof on=="object"&&on!==null?on=Vg(on):(on=Zf(en)?Xf:H$1.current,on=Yf(_e,on));var fn=en.getDerivedStateFromProps;(dn=typeof fn=="function"||typeof sn.getSnapshotBeforeUpdate=="function")||typeof sn.UNSAFE_componentWillReceiveProps!="function"&&typeof sn.componentWillReceiveProps!="function"||(an!==mn||pn!==on)&&qh(_e,sn,tn,on),$g=!1,pn=_e.memoizedState,sn.state=pn,gh(_e,tn,sn,nn);var yn=_e.memoizedState;an!==mn||pn!==yn||Wf.current||$g?(typeof fn=="function"&&(kh(_e,en,fn,tn),yn=_e.memoizedState),(cn=$g||oh(_e,en,cn,tn,pn,yn,on)||!1)?(dn||typeof sn.UNSAFE_componentWillUpdate!="function"&&typeof sn.componentWillUpdate!="function"||(typeof sn.componentWillUpdate=="function"&&sn.componentWillUpdate(tn,yn,on),typeof sn.UNSAFE_componentWillUpdate=="function"&&sn.UNSAFE_componentWillUpdate(tn,yn,on)),typeof sn.componentDidUpdate=="function"&&(_e.flags|=4),typeof sn.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof sn.componentDidUpdate!="function"||an===St.memoizedProps&&pn===St.memoizedState||(_e.flags|=4),typeof sn.getSnapshotBeforeUpdate!="function"||an===St.memoizedProps&&pn===St.memoizedState||(_e.flags|=1024),_e.memoizedProps=tn,_e.memoizedState=yn),sn.props=tn,sn.state=yn,sn.context=on,tn=cn):(typeof sn.componentDidUpdate!="function"||an===St.memoizedProps&&pn===St.memoizedState||(_e.flags|=4),typeof sn.getSnapshotBeforeUpdate!="function"||an===St.memoizedProps&&pn===St.memoizedState||(_e.flags|=1024),tn=!1)}return kj(St,_e,en,tn,rn,nn)}function kj(St,_e,en,tn,nn,rn){hj(St,_e);var sn=(_e.flags&128)!==0;if(!tn&&!sn)return nn&&dg(_e,en,!1),$i(St,_e,rn);tn=_e.stateNode,Xi.current=_e;var an=sn&&typeof en.getDerivedStateFromError!="function"?null:tn.render();return _e.flags|=1,St!==null&&sn?(_e.child=Bh(_e,St.child,null,rn),_e.child=Bh(_e,null,an,rn)):Yi(St,_e,an,rn),_e.memoizedState=tn.state,nn&&dg(_e,en,!0),_e.child}function lj(St){var _e=St.stateNode;_e.pendingContext?ag(St,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(St,_e.context,!1),Ih(St,_e.containerInfo)}function mj(St,_e,en,tn,nn){return Ig(),Jg(nn),_e.flags|=256,Yi(St,_e,en,tn),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(St){return{baseLanes:St,cachePool:null,transitions:null}}function pj(St,_e,en){var tn=_e.pendingProps,nn=M$1.current,rn=!1,sn=(_e.flags&128)!==0,an;if((an=sn)||(an=St!==null&&St.memoizedState===null?!1:(nn&2)!==0),an?(rn=!0,_e.flags&=-129):(St===null||St.memoizedState!==null)&&(nn|=1),G$1(M$1,nn&1),St===null)return Eg(_e),St=_e.memoizedState,St!==null&&(St=St.dehydrated,St!==null)?((_e.mode&1)===0?_e.lanes=1:St.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(sn=tn.children,St=tn.fallback,rn?(tn=_e.mode,rn=_e.child,sn={mode:"hidden",children:sn},(tn&1)===0&&rn!==null?(rn.childLanes=0,rn.pendingProps=sn):rn=qj(sn,tn,0,null),St=Ah(St,tn,en,null),rn.return=_e,St.return=_e,rn.sibling=St,_e.child=rn,_e.child.memoizedState=oj(en),_e.memoizedState=nj,St):rj(_e,sn));if(nn=St.memoizedState,nn!==null&&(an=nn.dehydrated,an!==null))return sj(St,_e,sn,tn,an,nn,en);if(rn){rn=tn.fallback,sn=_e.mode,nn=St.child,an=nn.sibling;var on={mode:"hidden",children:tn.children};return(sn&1)===0&&_e.child!==nn?(tn=_e.child,tn.childLanes=0,tn.pendingProps=on,_e.deletions=null):(tn=wh(nn,on),tn.subtreeFlags=nn.subtreeFlags&14680064),an!==null?rn=wh(an,rn):(rn=Ah(rn,sn,en,null),rn.flags|=2),rn.return=_e,tn.return=_e,tn.sibling=rn,_e.child=tn,tn=rn,rn=_e.child,sn=St.child.memoizedState,sn=sn===null?oj(en):{baseLanes:sn.baseLanes|en,cachePool:null,transitions:sn.transitions},rn.memoizedState=sn,rn.childLanes=St.childLanes&~en,_e.memoizedState=nj,tn}return rn=St.child,St=rn.sibling,tn=wh(rn,{mode:"visible",children:tn.children}),(_e.mode&1)===0&&(tn.lanes=en),tn.return=_e,tn.sibling=null,St!==null&&(en=_e.deletions,en===null?(_e.deletions=[St],_e.flags|=16):en.push(St)),_e.child=tn,_e.memoizedState=null,tn}function rj(St,_e){return _e=qj({mode:"visible",children:_e},St.mode,0,null),_e.return=St,St.child=_e}function tj(St,_e,en,tn){return tn!==null&&Jg(tn),Bh(_e,St.child,null,en),St=rj(_e,_e.pendingProps.children),St.flags|=2,_e.memoizedState=null,St}function sj(St,_e,en,tn,nn,rn,sn){if(en)return _e.flags&256?(_e.flags&=-257,tn=Li(Error(p$4(422))),tj(St,_e,sn,tn)):_e.memoizedState!==null?(_e.child=St.child,_e.flags|=128,null):(rn=tn.fallback,nn=_e.mode,tn=qj({mode:"visible",children:tn.children},nn,0,null),rn=Ah(rn,nn,sn,null),rn.flags|=2,tn.return=_e,rn.return=_e,tn.sibling=rn,_e.child=tn,(_e.mode&1)!==0&&Bh(_e,St.child,null,sn),_e.child.memoizedState=oj(sn),_e.memoizedState=nj,rn);if((_e.mode&1)===0)return tj(St,_e,sn,null);if(nn.data==="$!"){if(tn=nn.nextSibling&&nn.nextSibling.dataset,tn)var an=tn.dgst;return tn=an,rn=Error(p$4(419)),tn=Li(rn,tn,void 0),tj(St,_e,sn,tn)}if(an=(sn&St.childLanes)!==0,Ug||an){if(tn=R$1,tn!==null){switch(sn&-sn){case 4:nn=2;break;case 16:nn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nn=32;break;case 536870912:nn=268435456;break;default:nn=0}nn=(nn&(tn.suspendedLanes|sn))!==0?0:nn,nn!==0&&nn!==rn.retryLane&&(rn.retryLane=nn,Zg(St,nn),mh(tn,St,nn,-1))}return uj(),tn=Li(Error(p$4(421))),tj(St,_e,sn,tn)}return nn.data==="$?"?(_e.flags|=128,_e.child=St.child,_e=vj.bind(null,St),nn._reactRetry=_e,null):(St=rn.treeContext,yg=Lf(nn.nextSibling),xg=_e,I$1=!0,zg=null,St!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=St.id,sg=St.overflow,qg=_e),_e=rj(_e,tn.children),_e.flags|=4096,_e)}function wj(St,_e,en){St.lanes|=_e;var tn=St.alternate;tn!==null&&(tn.lanes|=_e),Sg(St.return,_e,en)}function xj(St,_e,en,tn,nn){var rn=St.memoizedState;rn===null?St.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tn,tail:en,tailMode:nn}:(rn.isBackwards=_e,rn.rendering=null,rn.renderingStartTime=0,rn.last=tn,rn.tail=en,rn.tailMode=nn)}function yj(St,_e,en){var tn=_e.pendingProps,nn=tn.revealOrder,rn=tn.tail;if(Yi(St,_e,tn.children,en),tn=M$1.current,(tn&2)!==0)tn=tn&1|2,_e.flags|=128;else{if(St!==null&&(St.flags&128)!==0)e:for(St=_e.child;St!==null;){if(St.tag===13)St.memoizedState!==null&&wj(St,en,_e);else if(St.tag===19)wj(St,en,_e);else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===_e)break e;for(;St.sibling===null;){if(St.return===null||St.return===_e)break e;St=St.return}St.sibling.return=St.return,St=St.sibling}tn&=1}if(G$1(M$1,tn),(_e.mode&1)===0)_e.memoizedState=null;else switch(nn){case"forwards":for(en=_e.child,nn=null;en!==null;)St=en.alternate,St!==null&&Mh(St)===null&&(nn=en),en=en.sibling;en=nn,en===null?(nn=_e.child,_e.child=null):(nn=en.sibling,en.sibling=null),xj(_e,!1,nn,en,rn);break;case"backwards":for(en=null,nn=_e.child,_e.child=null;nn!==null;){if(St=nn.alternate,St!==null&&Mh(St)===null){_e.child=nn;break}St=nn.sibling,nn.sibling=en,en=nn,nn=St}xj(_e,!0,en,null,rn);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(St,_e){(_e.mode&1)===0&&St!==null&&(St.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(St,_e,en){if(St!==null&&(_e.dependencies=St.dependencies),hh|=_e.lanes,(en&_e.childLanes)===0)return null;if(St!==null&&_e.child!==St.child)throw Error(p$4(153));if(_e.child!==null){for(St=_e.child,en=wh(St,St.pendingProps),_e.child=en,en.return=_e;St.sibling!==null;)St=St.sibling,en=en.sibling=wh(St,St.pendingProps),en.return=_e;en.sibling=null}return _e.child}function zj(St,_e,en){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var tn=_e.type._context,nn=_e.memoizedProps.value;G$1(Mg,tn._currentValue),tn._currentValue=nn;break;case 13:if(tn=_e.memoizedState,tn!==null)return tn.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):(en&_e.child.childLanes)!==0?pj(St,_e,en):(G$1(M$1,M$1.current&1),St=$i(St,_e,en),St!==null?St.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tn=(en&_e.childLanes)!==0,(St.flags&128)!==0){if(tn)return yj(St,_e,en);_e.flags|=128}if(nn=_e.memoizedState,nn!==null&&(nn.rendering=null,nn.tail=null,nn.lastEffect=null),G$1(M$1,M$1.current),tn)break;return null;case 22:case 23:return _e.lanes=0,ej(St,_e,en)}return $i(St,_e,en)}var Aj,Bj,Cj,Dj;Aj=function(St,_e){for(var en=_e.child;en!==null;){if(en.tag===5||en.tag===6)St.appendChild(en.stateNode);else if(en.tag!==4&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===_e)break;for(;en.sibling===null;){if(en.return===null||en.return===_e)return;en=en.return}en.sibling.return=en.return,en=en.sibling}};Bj=function(){};Cj=function(St,_e,en,tn){var nn=St.memoizedProps;if(nn!==tn){St=_e.stateNode,Hh(Eh.current);var rn=null;switch(en){case"input":nn=Ya(St,nn),tn=Ya(St,tn),rn=[];break;case"select":nn=A$1({},nn,{value:void 0}),tn=A$1({},tn,{value:void 0}),rn=[];break;case"textarea":nn=gb(St,nn),tn=gb(St,tn),rn=[];break;default:typeof nn.onClick!="function"&&typeof tn.onClick=="function"&&(St.onclick=Bf)}ub(en,tn);var sn;en=null;for(cn in nn)if(!tn.hasOwnProperty(cn)&&nn.hasOwnProperty(cn)&&nn[cn]!=null)if(cn==="style"){var an=nn[cn];for(sn in an)an.hasOwnProperty(sn)&&(en||(en={}),en[sn]="")}else cn!=="dangerouslySetInnerHTML"&&cn!=="children"&&cn!=="suppressContentEditableWarning"&&cn!=="suppressHydrationWarning"&&cn!=="autoFocus"&&(ea.hasOwnProperty(cn)?rn||(rn=[]):(rn=rn||[]).push(cn,null));for(cn in tn){var on=tn[cn];if(an=nn!=null?nn[cn]:void 0,tn.hasOwnProperty(cn)&&on!==an&&(on!=null||an!=null))if(cn==="style")if(an){for(sn in an)!an.hasOwnProperty(sn)||on&&on.hasOwnProperty(sn)||(en||(en={}),en[sn]="");for(sn in on)on.hasOwnProperty(sn)&&an[sn]!==on[sn]&&(en||(en={}),en[sn]=on[sn])}else en||(rn||(rn=[]),rn.push(cn,en)),en=on;else cn==="dangerouslySetInnerHTML"?(on=on?on.__html:void 0,an=an?an.__html:void 0,on!=null&&an!==on&&(rn=rn||[]).push(cn,on)):cn==="children"?typeof on!="string"&&typeof on!="number"||(rn=rn||[]).push(cn,""+on):cn!=="suppressContentEditableWarning"&&cn!=="suppressHydrationWarning"&&(ea.hasOwnProperty(cn)?(on!=null&&cn==="onScroll"&&D$1("scroll",St),rn||an===on||(rn=[])):(rn=rn||[]).push(cn,on))}en&&(rn=rn||[]).push("style",en);var cn=rn;(_e.updateQueue=cn)&&(_e.flags|=4)}};Dj=function(St,_e,en,tn){en!==tn&&(_e.flags|=4)};function Ej(St,_e){if(!I$1)switch(St.tailMode){case"hidden":_e=St.tail;for(var en=null;_e!==null;)_e.alternate!==null&&(en=_e),_e=_e.sibling;en===null?St.tail=null:en.sibling=null;break;case"collapsed":en=St.tail;for(var tn=null;en!==null;)en.alternate!==null&&(tn=en),en=en.sibling;tn===null?_e||St.tail===null?St.tail=null:St.tail.sibling=null:tn.sibling=null}}function S$1(St){var _e=St.alternate!==null&&St.alternate.child===St.child,en=0,tn=0;if(_e)for(var nn=St.child;nn!==null;)en|=nn.lanes|nn.childLanes,tn|=nn.subtreeFlags&14680064,tn|=nn.flags&14680064,nn.return=St,nn=nn.sibling;else for(nn=St.child;nn!==null;)en|=nn.lanes|nn.childLanes,tn|=nn.subtreeFlags,tn|=nn.flags,nn.return=St,nn=nn.sibling;return St.subtreeFlags|=tn,St.childLanes=en,_e}function Fj(St,_e,en){var tn=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return tn=_e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tn.pendingContext&&(tn.context=tn.pendingContext,tn.pendingContext=null),(St===null||St.child===null)&&(Gg(_e)?_e.flags|=4:St===null||St.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(St,_e),S$1(_e),null;case 5:Lh(_e);var nn=Hh(Gh.current);if(en=_e.type,St!==null&&_e.stateNode!=null)Cj(St,_e,en,tn,nn),St.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tn){if(_e.stateNode===null)throw Error(p$4(166));return S$1(_e),null}if(St=Hh(Eh.current),Gg(_e)){tn=_e.stateNode,en=_e.type;var rn=_e.memoizedProps;switch(tn[Of]=_e,tn[Pf]=rn,St=(_e.mode&1)!==0,en){case"dialog":D$1("cancel",tn),D$1("close",tn);break;case"iframe":case"object":case"embed":D$1("load",tn);break;case"video":case"audio":for(nn=0;nn<lf.length;nn++)D$1(lf[nn],tn);break;case"source":D$1("error",tn);break;case"img":case"image":case"link":D$1("error",tn),D$1("load",tn);break;case"details":D$1("toggle",tn);break;case"input":Za(tn,rn),D$1("invalid",tn);break;case"select":tn._wrapperState={wasMultiple:!!rn.multiple},D$1("invalid",tn);break;case"textarea":hb(tn,rn),D$1("invalid",tn)}ub(en,rn),nn=null;for(var sn in rn)if(rn.hasOwnProperty(sn)){var an=rn[sn];sn==="children"?typeof an=="string"?tn.textContent!==an&&(rn.suppressHydrationWarning!==!0&&Af(tn.textContent,an,St),nn=["children",an]):typeof an=="number"&&tn.textContent!==""+an&&(rn.suppressHydrationWarning!==!0&&Af(tn.textContent,an,St),nn=["children",""+an]):ea.hasOwnProperty(sn)&&an!=null&&sn==="onScroll"&&D$1("scroll",tn)}switch(en){case"input":Va(tn),db(tn,rn,!0);break;case"textarea":Va(tn),jb(tn);break;case"select":case"option":break;default:typeof rn.onClick=="function"&&(tn.onclick=Bf)}tn=nn,_e.updateQueue=tn,tn!==null&&(_e.flags|=4)}else{sn=nn.nodeType===9?nn:nn.ownerDocument,St==="http://www.w3.org/1999/xhtml"&&(St=kb(en)),St==="http://www.w3.org/1999/xhtml"?en==="script"?(St=sn.createElement("div"),St.innerHTML="<script><\/script>",St=St.removeChild(St.firstChild)):typeof tn.is=="string"?St=sn.createElement(en,{is:tn.is}):(St=sn.createElement(en),en==="select"&&(sn=St,tn.multiple?sn.multiple=!0:tn.size&&(sn.size=tn.size))):St=sn.createElementNS(St,en),St[Of]=_e,St[Pf]=tn,Aj(St,_e,!1,!1),_e.stateNode=St;e:{switch(sn=vb(en,tn),en){case"dialog":D$1("cancel",St),D$1("close",St),nn=tn;break;case"iframe":case"object":case"embed":D$1("load",St),nn=tn;break;case"video":case"audio":for(nn=0;nn<lf.length;nn++)D$1(lf[nn],St);nn=tn;break;case"source":D$1("error",St),nn=tn;break;case"img":case"image":case"link":D$1("error",St),D$1("load",St),nn=tn;break;case"details":D$1("toggle",St),nn=tn;break;case"input":Za(St,tn),nn=Ya(St,tn),D$1("invalid",St);break;case"option":nn=tn;break;case"select":St._wrapperState={wasMultiple:!!tn.multiple},nn=A$1({},tn,{value:void 0}),D$1("invalid",St);break;case"textarea":hb(St,tn),nn=gb(St,tn),D$1("invalid",St);break;default:nn=tn}ub(en,nn),an=nn;for(rn in an)if(an.hasOwnProperty(rn)){var on=an[rn];rn==="style"?sb(St,on):rn==="dangerouslySetInnerHTML"?(on=on?on.__html:void 0,on!=null&&nb(St,on)):rn==="children"?typeof on=="string"?(en!=="textarea"||on!=="")&&ob(St,on):typeof on=="number"&&ob(St,""+on):rn!=="suppressContentEditableWarning"&&rn!=="suppressHydrationWarning"&&rn!=="autoFocus"&&(ea.hasOwnProperty(rn)?on!=null&&rn==="onScroll"&&D$1("scroll",St):on!=null&&ta(St,rn,on,sn))}switch(en){case"input":Va(St),db(St,tn,!1);break;case"textarea":Va(St),jb(St);break;case"option":tn.value!=null&&St.setAttribute("value",""+Sa(tn.value));break;case"select":St.multiple=!!tn.multiple,rn=tn.value,rn!=null?fb(St,!!tn.multiple,rn,!1):tn.defaultValue!=null&&fb(St,!!tn.multiple,tn.defaultValue,!0);break;default:typeof nn.onClick=="function"&&(St.onclick=Bf)}switch(en){case"button":case"input":case"select":case"textarea":tn=!!tn.autoFocus;break e;case"img":tn=!0;break e;default:tn=!1}}tn&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if(St&&_e.stateNode!=null)Dj(St,_e,St.memoizedProps,tn);else{if(typeof tn!="string"&&_e.stateNode===null)throw Error(p$4(166));if(en=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(tn=_e.stateNode,en=_e.memoizedProps,tn[Of]=_e,(rn=tn.nodeValue!==en)&&(St=xg,St!==null))switch(St.tag){case 3:Af(tn.nodeValue,en,(St.mode&1)!==0);break;case 5:St.memoizedProps.suppressHydrationWarning!==!0&&Af(tn.nodeValue,en,(St.mode&1)!==0)}rn&&(_e.flags|=4)}else tn=(en.nodeType===9?en:en.ownerDocument).createTextNode(tn),tn[Of]=_e,_e.stateNode=tn}return S$1(_e),null;case 13:if(E$1(M$1),tn=_e.memoizedState,St===null||St.memoizedState!==null&&St.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,rn=!1;else if(rn=Gg(_e),tn!==null&&tn.dehydrated!==null){if(St===null){if(!rn)throw Error(p$4(318));if(rn=_e.memoizedState,rn=rn!==null?rn.dehydrated:null,!rn)throw Error(p$4(317));rn[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),rn=!1}else zg!==null&&(Gj(zg),zg=null),rn=!0;if(!rn)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=en,_e):(tn=tn!==null,tn!==(St!==null&&St.memoizedState!==null)&&tn&&(_e.child.flags|=8192,(_e.mode&1)!==0&&(St===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj(St,_e),St===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E$1(M$1),rn=_e.memoizedState,rn===null)return S$1(_e),null;if(tn=(_e.flags&128)!==0,sn=rn.rendering,sn===null)if(tn)Ej(rn,!1);else{if(T$1!==0||St!==null&&(St.flags&128)!==0)for(St=_e.child;St!==null;){if(sn=Mh(St),sn!==null){for(_e.flags|=128,Ej(rn,!1),tn=sn.updateQueue,tn!==null&&(_e.updateQueue=tn,_e.flags|=4),_e.subtreeFlags=0,tn=en,en=_e.child;en!==null;)rn=en,St=tn,rn.flags&=14680066,sn=rn.alternate,sn===null?(rn.childLanes=0,rn.lanes=St,rn.child=null,rn.subtreeFlags=0,rn.memoizedProps=null,rn.memoizedState=null,rn.updateQueue=null,rn.dependencies=null,rn.stateNode=null):(rn.childLanes=sn.childLanes,rn.lanes=sn.lanes,rn.child=sn.child,rn.subtreeFlags=0,rn.deletions=null,rn.memoizedProps=sn.memoizedProps,rn.memoizedState=sn.memoizedState,rn.updateQueue=sn.updateQueue,rn.type=sn.type,St=sn.dependencies,rn.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext}),en=en.sibling;return G$1(M$1,M$1.current&1|2),_e.child}St=St.sibling}rn.tail!==null&&B$1()>Hj&&(_e.flags|=128,tn=!0,Ej(rn,!1),_e.lanes=4194304)}else{if(!tn)if(St=Mh(sn),St!==null){if(_e.flags|=128,tn=!0,en=St.updateQueue,en!==null&&(_e.updateQueue=en,_e.flags|=4),Ej(rn,!0),rn.tail===null&&rn.tailMode==="hidden"&&!sn.alternate&&!I$1)return S$1(_e),null}else 2*B$1()-rn.renderingStartTime>Hj&&en!==1073741824&&(_e.flags|=128,tn=!0,Ej(rn,!1),_e.lanes=4194304);rn.isBackwards?(sn.sibling=_e.child,_e.child=sn):(en=rn.last,en!==null?en.sibling=sn:_e.child=sn,rn.last=sn)}return rn.tail!==null?(_e=rn.tail,rn.rendering=_e,rn.tail=_e.sibling,rn.renderingStartTime=B$1(),_e.sibling=null,en=M$1.current,G$1(M$1,tn?en&1|2:en&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),tn=_e.memoizedState!==null,St!==null&&St.memoizedState!==null!==tn&&(_e.flags|=8192),tn&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$4(156,_e.tag))}function Jj(St,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),St=_e.flags,St&65536?(_e.flags=St&-65537|128,_e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),St=_e.flags,(St&65536)!==0&&(St&128)===0?(_e.flags=St&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$1(M$1),St=_e.memoizedState,St!==null&&St.dehydrated!==null){if(_e.alternate===null)throw Error(p$4(340));Ig()}return St=_e.flags,St&65536?(_e.flags=St&-65537|128,_e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(St,_e){var en=St.ref;if(en!==null)if(typeof en=="function")try{en(null)}catch(tn){W$1(St,_e,tn)}else en.current=null}function Nj(St,_e,en){try{en()}catch(tn){W$1(St,_e,tn)}}var Oj=!1;function Pj(St,_e){if(Cf=dd,St=Me(),Ne$1(St)){if("selectionStart"in St)var en={start:St.selectionStart,end:St.selectionEnd};else e:{en=(en=St.ownerDocument)&&en.defaultView||window;var tn=en.getSelection&&en.getSelection();if(tn&&tn.rangeCount!==0){en=tn.anchorNode;var nn=tn.anchorOffset,rn=tn.focusNode;tn=tn.focusOffset;try{en.nodeType,rn.nodeType}catch{en=null;break e}var sn=0,an=-1,on=-1,cn=0,dn=0,mn=St,pn=null;t:for(;;){for(var fn;mn!==en||nn!==0&&mn.nodeType!==3||(an=sn+nn),mn!==rn||tn!==0&&mn.nodeType!==3||(on=sn+tn),mn.nodeType===3&&(sn+=mn.nodeValue.length),(fn=mn.firstChild)!==null;)pn=mn,mn=fn;for(;;){if(mn===St)break t;if(pn===en&&++cn===nn&&(an=sn),pn===rn&&++dn===tn&&(on=sn),(fn=mn.nextSibling)!==null)break;mn=pn,pn=mn.parentNode}mn=fn}en=an===-1||on===-1?null:{start:an,end:on}}else en=null}en=en||{start:0,end:0}}else en=null;for(Df={focusedElem:St,selectionRange:en},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,St=_e.child,(_e.subtreeFlags&1028)!==0&&St!==null)St.return=_e,V$1=St;else for(;V$1!==null;){_e=V$1;try{var yn=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(yn!==null){var bn=yn.memoizedProps,wn=yn.memoizedState,vn=_e.stateNode,Sn=vn.getSnapshotBeforeUpdate(_e.elementType===_e.type?bn:Lg(_e.type,bn),wn);vn.__reactInternalSnapshotBeforeUpdate=Sn}break;case 3:var xn=_e.stateNode.containerInfo;xn.nodeType===1?xn.textContent="":xn.nodeType===9&&xn.documentElement&&xn.removeChild(xn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(En){W$1(_e,_e.return,En)}if(St=_e.sibling,St!==null){St.return=_e.return,V$1=St;break}V$1=_e.return}return yn=Oj,Oj=!1,yn}function Qj(St,_e,en){var tn=_e.updateQueue;if(tn=tn!==null?tn.lastEffect:null,tn!==null){var nn=tn=tn.next;do{if((nn.tag&St)===St){var rn=nn.destroy;nn.destroy=void 0,rn!==void 0&&Nj(_e,en,rn)}nn=nn.next}while(nn!==tn)}}function Rj(St,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var en=_e=_e.next;do{if((en.tag&St)===St){var tn=en.create;en.destroy=tn()}en=en.next}while(en!==_e)}}function Sj(St){var _e=St.ref;if(_e!==null){var en=St.stateNode;switch(St.tag){case 5:St=en;break;default:St=en}typeof _e=="function"?_e(St):_e.current=St}}function Tj(St){var _e=St.alternate;_e!==null&&(St.alternate=null,Tj(_e)),St.child=null,St.deletions=null,St.sibling=null,St.tag===5&&(_e=St.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),St.stateNode=null,St.return=null,St.dependencies=null,St.memoizedProps=null,St.memoizedState=null,St.pendingProps=null,St.stateNode=null,St.updateQueue=null}function Uj(St){return St.tag===5||St.tag===3||St.tag===4}function Vj(St){e:for(;;){for(;St.sibling===null;){if(St.return===null||Uj(St.return))return null;St=St.return}for(St.sibling.return=St.return,St=St.sibling;St.tag!==5&&St.tag!==6&&St.tag!==18;){if(St.flags&2||St.child===null||St.tag===4)continue e;St.child.return=St,St=St.child}if(!(St.flags&2))return St.stateNode}}function Wj(St,_e,en){var tn=St.tag;if(tn===5||tn===6)St=St.stateNode,_e?en.nodeType===8?en.parentNode.insertBefore(St,_e):en.insertBefore(St,_e):(en.nodeType===8?(_e=en.parentNode,_e.insertBefore(St,en)):(_e=en,_e.appendChild(St)),en=en._reactRootContainer,en!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tn!==4&&(St=St.child,St!==null))for(Wj(St,_e,en),St=St.sibling;St!==null;)Wj(St,_e,en),St=St.sibling}function Xj(St,_e,en){var tn=St.tag;if(tn===5||tn===6)St=St.stateNode,_e?en.insertBefore(St,_e):en.appendChild(St);else if(tn!==4&&(St=St.child,St!==null))for(Xj(St,_e,en),St=St.sibling;St!==null;)Xj(St,_e,en),St=St.sibling}var X$1=null,Yj=!1;function Zj(St,_e,en){for(en=en.child;en!==null;)ak(St,_e,en),en=en.sibling}function ak(St,_e,en){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,en)}catch{}switch(en.tag){case 5:U$1||Mj(en,_e);case 6:var tn=X$1,nn=Yj;X$1=null,Zj(St,_e,en),X$1=tn,Yj=nn,X$1!==null&&(Yj?(St=X$1,en=en.stateNode,St.nodeType===8?St.parentNode.removeChild(en):St.removeChild(en)):X$1.removeChild(en.stateNode));break;case 18:X$1!==null&&(Yj?(St=X$1,en=en.stateNode,St.nodeType===8?Kf(St.parentNode,en):St.nodeType===1&&Kf(St,en),bd(St)):Kf(X$1,en.stateNode));break;case 4:tn=X$1,nn=Yj,X$1=en.stateNode.containerInfo,Yj=!0,Zj(St,_e,en),X$1=tn,Yj=nn;break;case 0:case 11:case 14:case 15:if(!U$1&&(tn=en.updateQueue,tn!==null&&(tn=tn.lastEffect,tn!==null))){nn=tn=tn.next;do{var rn=nn,sn=rn.destroy;rn=rn.tag,sn!==void 0&&((rn&2)!==0||(rn&4)!==0)&&Nj(en,_e,sn),nn=nn.next}while(nn!==tn)}Zj(St,_e,en);break;case 1:if(!U$1&&(Mj(en,_e),tn=en.stateNode,typeof tn.componentWillUnmount=="function"))try{tn.props=en.memoizedProps,tn.state=en.memoizedState,tn.componentWillUnmount()}catch(an){W$1(en,_e,an)}Zj(St,_e,en);break;case 21:Zj(St,_e,en);break;case 22:en.mode&1?(U$1=(tn=U$1)||en.memoizedState!==null,Zj(St,_e,en),U$1=tn):Zj(St,_e,en);break;default:Zj(St,_e,en)}}function bk(St){var _e=St.updateQueue;if(_e!==null){St.updateQueue=null;var en=St.stateNode;en===null&&(en=St.stateNode=new Lj),_e.forEach(function(tn){var nn=ck.bind(null,St,tn);en.has(tn)||(en.add(tn),tn.then(nn,nn))})}}function dk(St,_e){var en=_e.deletions;if(en!==null)for(var tn=0;tn<en.length;tn++){var nn=en[tn];try{var rn=St,sn=_e,an=sn;e:for(;an!==null;){switch(an.tag){case 5:X$1=an.stateNode,Yj=!1;break e;case 3:X$1=an.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=an.stateNode.containerInfo,Yj=!0;break e}an=an.return}if(X$1===null)throw Error(p$4(160));ak(rn,sn,nn),X$1=null,Yj=!1;var on=nn.alternate;on!==null&&(on.return=null),nn.return=null}catch(cn){W$1(nn,_e,cn)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,St),_e=_e.sibling}function ek(St,_e){var en=St.alternate,tn=St.flags;switch(St.tag){case 0:case 11:case 14:case 15:if(dk(_e,St),fk(St),tn&4){try{Qj(3,St,St.return),Rj(3,St)}catch(bn){W$1(St,St.return,bn)}try{Qj(5,St,St.return)}catch(bn){W$1(St,St.return,bn)}}break;case 1:dk(_e,St),fk(St),tn&512&&en!==null&&Mj(en,en.return);break;case 5:if(dk(_e,St),fk(St),tn&512&&en!==null&&Mj(en,en.return),St.flags&32){var nn=St.stateNode;try{ob(nn,"")}catch(bn){W$1(St,St.return,bn)}}if(tn&4&&(nn=St.stateNode,nn!=null)){var rn=St.memoizedProps,sn=en!==null?en.memoizedProps:rn,an=St.type,on=St.updateQueue;if(St.updateQueue=null,on!==null)try{an==="input"&&rn.type==="radio"&&rn.name!=null&&ab(nn,rn),vb(an,sn);var cn=vb(an,rn);for(sn=0;sn<on.length;sn+=2){var dn=on[sn],mn=on[sn+1];dn==="style"?sb(nn,mn):dn==="dangerouslySetInnerHTML"?nb(nn,mn):dn==="children"?ob(nn,mn):ta(nn,dn,mn,cn)}switch(an){case"input":bb(nn,rn);break;case"textarea":ib(nn,rn);break;case"select":var pn=nn._wrapperState.wasMultiple;nn._wrapperState.wasMultiple=!!rn.multiple;var fn=rn.value;fn!=null?fb(nn,!!rn.multiple,fn,!1):pn!==!!rn.multiple&&(rn.defaultValue!=null?fb(nn,!!rn.multiple,rn.defaultValue,!0):fb(nn,!!rn.multiple,rn.multiple?[]:"",!1))}nn[Pf]=rn}catch(bn){W$1(St,St.return,bn)}}break;case 6:if(dk(_e,St),fk(St),tn&4){if(St.stateNode===null)throw Error(p$4(162));nn=St.stateNode,rn=St.memoizedProps;try{nn.nodeValue=rn}catch(bn){W$1(St,St.return,bn)}}break;case 3:if(dk(_e,St),fk(St),tn&4&&en!==null&&en.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(bn){W$1(St,St.return,bn)}break;case 4:dk(_e,St),fk(St);break;case 13:dk(_e,St),fk(St),nn=St.child,nn.flags&8192&&(rn=nn.memoizedState!==null,nn.stateNode.isHidden=rn,!rn||nn.alternate!==null&&nn.alternate.memoizedState!==null||(gk=B$1())),tn&4&&bk(St);break;case 22:if(dn=en!==null&&en.memoizedState!==null,St.mode&1?(U$1=(cn=U$1)||dn,dk(_e,St),U$1=cn):dk(_e,St),fk(St),tn&8192){if(cn=St.memoizedState!==null,(St.stateNode.isHidden=cn)&&!dn&&(St.mode&1)!==0)for(V$1=St,dn=St.child;dn!==null;){for(mn=V$1=dn;V$1!==null;){switch(pn=V$1,fn=pn.child,pn.tag){case 0:case 11:case 14:case 15:Qj(4,pn,pn.return);break;case 1:Mj(pn,pn.return);var yn=pn.stateNode;if(typeof yn.componentWillUnmount=="function"){tn=pn,en=pn.return;try{_e=tn,yn.props=_e.memoizedProps,yn.state=_e.memoizedState,yn.componentWillUnmount()}catch(bn){W$1(tn,en,bn)}}break;case 5:Mj(pn,pn.return);break;case 22:if(pn.memoizedState!==null){hk(mn);continue}}fn!==null?(fn.return=pn,V$1=fn):hk(mn)}dn=dn.sibling}e:for(dn=null,mn=St;;){if(mn.tag===5){if(dn===null){dn=mn;try{nn=mn.stateNode,cn?(rn=nn.style,typeof rn.setProperty=="function"?rn.setProperty("display","none","important"):rn.display="none"):(an=mn.stateNode,on=mn.memoizedProps.style,sn=on!=null&&on.hasOwnProperty("display")?on.display:null,an.style.display=rb("display",sn))}catch(bn){W$1(St,St.return,bn)}}}else if(mn.tag===6){if(dn===null)try{mn.stateNode.nodeValue=cn?"":mn.memoizedProps}catch(bn){W$1(St,St.return,bn)}}else if((mn.tag!==22&&mn.tag!==23||mn.memoizedState===null||mn===St)&&mn.child!==null){mn.child.return=mn,mn=mn.child;continue}if(mn===St)break e;for(;mn.sibling===null;){if(mn.return===null||mn.return===St)break e;dn===mn&&(dn=null),mn=mn.return}dn===mn&&(dn=null),mn.sibling.return=mn.return,mn=mn.sibling}}break;case 19:dk(_e,St),fk(St),tn&4&&bk(St);break;case 21:break;default:dk(_e,St),fk(St)}}function fk(St){var _e=St.flags;if(_e&2){try{e:{for(var en=St.return;en!==null;){if(Uj(en)){var tn=en;break e}en=en.return}throw Error(p$4(160))}switch(tn.tag){case 5:var nn=tn.stateNode;tn.flags&32&&(ob(nn,""),tn.flags&=-33);var rn=Vj(St);Xj(St,rn,nn);break;case 3:case 4:var sn=tn.stateNode.containerInfo,an=Vj(St);Wj(St,an,sn);break;default:throw Error(p$4(161))}}catch(on){W$1(St,St.return,on)}St.flags&=-3}_e&4096&&(St.flags&=-4097)}function ik(St,_e,en){V$1=St,jk(St)}function jk(St,_e,en){for(var tn=(St.mode&1)!==0;V$1!==null;){var nn=V$1,rn=nn.child;if(nn.tag===22&&tn){var sn=nn.memoizedState!==null||Kj;if(!sn){var an=nn.alternate,on=an!==null&&an.memoizedState!==null||U$1;an=Kj;var cn=U$1;if(Kj=sn,(U$1=on)&&!cn)for(V$1=nn;V$1!==null;)sn=V$1,on=sn.child,sn.tag===22&&sn.memoizedState!==null?kk(nn):on!==null?(on.return=sn,V$1=on):kk(nn);for(;rn!==null;)V$1=rn,jk(rn),rn=rn.sibling;V$1=nn,Kj=an,U$1=cn}lk(St)}else(nn.subtreeFlags&8772)!==0&&rn!==null?(rn.return=nn,V$1=rn):lk(St)}}function lk(St){for(;V$1!==null;){var _e=V$1;if((_e.flags&8772)!==0){var en=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var tn=_e.stateNode;if(_e.flags&4&&!U$1)if(en===null)tn.componentDidMount();else{var nn=_e.elementType===_e.type?en.memoizedProps:Lg(_e.type,en.memoizedProps);tn.componentDidUpdate(nn,en.memoizedState,tn.__reactInternalSnapshotBeforeUpdate)}var rn=_e.updateQueue;rn!==null&&ih(_e,rn,tn);break;case 3:var sn=_e.updateQueue;if(sn!==null){if(en=null,_e.child!==null)switch(_e.child.tag){case 5:en=_e.child.stateNode;break;case 1:en=_e.child.stateNode}ih(_e,sn,en)}break;case 5:var an=_e.stateNode;if(en===null&&_e.flags&4){en=an;var on=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":on.autoFocus&&en.focus();break;case"img":on.src&&(en.src=on.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var cn=_e.alternate;if(cn!==null){var dn=cn.memoizedState;if(dn!==null){var mn=dn.dehydrated;mn!==null&&bd(mn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$1||_e.flags&512&&Sj(_e)}catch(pn){W$1(_e,_e.return,pn)}}if(_e===St){V$1=null;break}if(en=_e.sibling,en!==null){en.return=_e.return,V$1=en;break}V$1=_e.return}}function hk(St){for(;V$1!==null;){var _e=V$1;if(_e===St){V$1=null;break}var en=_e.sibling;if(en!==null){en.return=_e.return,V$1=en;break}V$1=_e.return}}function kk(St){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var en=_e.return;try{Rj(4,_e)}catch(on){W$1(_e,en,on)}break;case 1:var tn=_e.stateNode;if(typeof tn.componentDidMount=="function"){var nn=_e.return;try{tn.componentDidMount()}catch(on){W$1(_e,nn,on)}}var rn=_e.return;try{Sj(_e)}catch(on){W$1(_e,rn,on)}break;case 5:var sn=_e.return;try{Sj(_e)}catch(on){W$1(_e,sn,on)}}}catch(on){W$1(_e,_e.return,on)}if(_e===St){V$1=null;break}var an=_e.sibling;if(an!==null){an.return=_e.return,V$1=an;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K$1&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(St){return(St.mode&1)===0?1:(K$1&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(St=C$1,St!==0||(St=window.event,St=St===void 0?16:jd(St.type)),St)}function mh(St,_e,en,tn){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac(St,en,tn),((K$1&2)===0||St!==R$1)&&(St===R$1&&((K$1&2)===0&&(rk|=en),T$1===4&&Dk(St,Z$1)),Ek(St,tn),en===1&&K$1===0&&(_e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(St,_e){var en=St.callbackNode;wc(St,_e);var tn=uc(St,St===R$1?Z$1:0);if(tn===0)en!==null&&bc(en),St.callbackNode=null,St.callbackPriority=0;else if(_e=tn&-tn,St.callbackPriority!==_e){if(en!=null&&bc(en),_e===1)St.tag===0?ig(Fk.bind(null,St)):hg(Fk.bind(null,St)),Jf(function(){(K$1&6)===0&&jg()}),en=null;else{switch(Dc(tn)){case 1:en=fc;break;case 4:en=gc;break;case 16:en=hc;break;case 536870912:en=jc;break;default:en=hc}en=Gk(en,Hk.bind(null,St))}St.callbackPriority=_e,St.callbackNode=en}}function Hk(St,_e){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$4(327));var en=St.callbackNode;if(Ik()&&St.callbackNode!==en)return null;var tn=uc(St,St===R$1?Z$1:0);if(tn===0)return null;if((tn&30)!==0||(tn&St.expiredLanes)!==0||_e)_e=Jk(St,tn);else{_e=tn;var nn=K$1;K$1|=2;var rn=Kk();(R$1!==St||Z$1!==_e)&&(vk=null,Hj=B$1()+500,Lk(St,_e));do try{Mk();break}catch(an){Nk(St,an)}while(1);Qg(),nk.current=rn,K$1=nn,Y$1!==null?_e=0:(R$1=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(nn=xc(St),nn!==0&&(tn=nn,_e=Ok(St,nn))),_e===1)throw en=qk,Lk(St,0),Dk(St,tn),Ek(St,B$1()),en;if(_e===6)Dk(St,tn);else{if(nn=St.current.alternate,(tn&30)===0&&!Pk(nn)&&(_e=Jk(St,tn),_e===2&&(rn=xc(St),rn!==0&&(tn=rn,_e=Ok(St,rn))),_e===1))throw en=qk,Lk(St,0),Dk(St,tn),Ek(St,B$1()),en;switch(St.finishedWork=nn,St.finishedLanes=tn,_e){case 0:case 1:throw Error(p$4(345));case 2:Qk(St,uk,vk);break;case 3:if(Dk(St,tn),(tn&130023424)===tn&&(_e=gk+500-B$1(),10<_e)){if(uc(St,0)!==0)break;if(nn=St.suspendedLanes,(nn&tn)!==tn){L$1(),St.pingedLanes|=St.suspendedLanes&nn;break}St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),_e);break}Qk(St,uk,vk);break;case 4:if(Dk(St,tn),(tn&4194240)===tn)break;for(_e=St.eventTimes,nn=-1;0<tn;){var sn=31-oc(tn);rn=1<<sn,sn=_e[sn],sn>nn&&(nn=sn),tn&=~rn}if(tn=nn,tn=B$1()-tn,tn=(120>tn?120:480>tn?480:1080>tn?1080:1920>tn?1920:3e3>tn?3e3:4320>tn?4320:1960*mk(tn/1960))-tn,10<tn){St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),tn);break}Qk(St,uk,vk);break;case 5:Qk(St,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(St,B$1()),St.callbackNode===en?Hk.bind(null,St):null}function Ok(St,_e){var en=tk;return St.current.memoizedState.isDehydrated&&(Lk(St,_e).flags|=256),St=Jk(St,_e),St!==2&&(_e=uk,uk=en,_e!==null&&Gj(_e)),St}function Gj(St){uk===null?uk=St:uk.push.apply(uk,St)}function Pk(St){for(var _e=St;;){if(_e.flags&16384){var en=_e.updateQueue;if(en!==null&&(en=en.stores,en!==null))for(var tn=0;tn<en.length;tn++){var nn=en[tn],rn=nn.getSnapshot;nn=nn.value;try{if(!He(rn(),nn))return!1}catch{return!1}}}if(en=_e.child,_e.subtreeFlags&16384&&en!==null)en.return=_e,_e=en;else{if(_e===St)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===St)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(St,_e){for(_e&=~sk,_e&=~rk,St.suspendedLanes|=_e,St.pingedLanes&=~_e,St=St.expirationTimes;0<_e;){var en=31-oc(_e),tn=1<<en;St[en]=-1,_e&=~tn}}function Fk(St){if((K$1&6)!==0)throw Error(p$4(327));Ik();var _e=uc(St,0);if((_e&1)===0)return Ek(St,B$1()),null;var en=Jk(St,_e);if(St.tag!==0&&en===2){var tn=xc(St);tn!==0&&(_e=tn,en=Ok(St,tn))}if(en===1)throw en=qk,Lk(St,0),Dk(St,_e),Ek(St,B$1()),en;if(en===6)throw Error(p$4(345));return St.finishedWork=St.current.alternate,St.finishedLanes=_e,Qk(St,uk,vk),Ek(St,B$1()),null}function Rk(St,_e){var en=K$1;K$1|=1;try{return St(_e)}finally{K$1=en,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(St){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var _e=K$1;K$1|=1;var en=pk.transition,tn=C$1;try{if(pk.transition=null,C$1=1,St)return St()}finally{C$1=tn,pk.transition=en,K$1=_e,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(St,_e){St.finishedWork=null,St.finishedLanes=0;var en=St.timeoutHandle;if(en!==-1&&(St.timeoutHandle=-1,Gf(en)),Y$1!==null)for(en=Y$1.return;en!==null;){var tn=en;switch(wg(tn),tn.tag){case 1:tn=tn.type.childContextTypes,tn!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tn);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tn.type._context);break;case 22:case 23:Ij()}en=en.return}if(R$1=St,Y$1=St=wh(St.current,null),Z$1=gj=_e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(en=Wg[_e],tn=en.interleaved,tn!==null){en.interleaved=null;var nn=tn.next,rn=en.pending;if(rn!==null){var sn=rn.next;rn.next=nn,tn.next=sn}en.pending=tn}Wg=null}return St}function Nk(St,_e){do{var en=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var tn=N$1.memoizedState;tn!==null;){var nn=tn.queue;nn!==null&&(nn.pending=null),tn=tn.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,en===null||en.return===null){T$1=1,qk=_e,Y$1=null;break}e:{var rn=St,sn=en.return,an=en,on=_e;if(_e=Z$1,an.flags|=32768,on!==null&&typeof on=="object"&&typeof on.then=="function"){var cn=on,dn=an,mn=dn.tag;if((dn.mode&1)===0&&(mn===0||mn===11||mn===15)){var pn=dn.alternate;pn?(dn.updateQueue=pn.updateQueue,dn.memoizedState=pn.memoizedState,dn.lanes=pn.lanes):(dn.updateQueue=null,dn.memoizedState=null)}var fn=Vi(sn);if(fn!==null){fn.flags&=-257,Wi(fn,sn,an,rn,_e),fn.mode&1&&Ti(rn,cn,_e),_e=fn,on=cn;var yn=_e.updateQueue;if(yn===null){var bn=new Set;bn.add(on),_e.updateQueue=bn}else yn.add(on);break e}else{if((_e&1)===0){Ti(rn,cn,_e),uj();break e}on=Error(p$4(426))}}else if(I$1&&an.mode&1){var wn=Vi(sn);if(wn!==null){(wn.flags&65536)===0&&(wn.flags|=256),Wi(wn,sn,an,rn,_e),Jg(Ki(on,an));break e}}rn=on=Ki(on,an),T$1!==4&&(T$1=2),tk===null?tk=[rn]:tk.push(rn),rn=sn;do{switch(rn.tag){case 3:rn.flags|=65536,_e&=-_e,rn.lanes|=_e;var vn=Oi(rn,on,_e);fh(rn,vn);break e;case 1:an=on;var Sn=rn.type,xn=rn.stateNode;if((rn.flags&128)===0&&(typeof Sn.getDerivedStateFromError=="function"||xn!==null&&typeof xn.componentDidCatch=="function"&&(Si===null||!Si.has(xn)))){rn.flags|=65536,_e&=-_e,rn.lanes|=_e;var En=Ri(rn,an,_e);fh(rn,En);break e}}rn=rn.return}while(rn!==null)}Tk(en)}catch(Cn){_e=Cn,Y$1===en&&en!==null&&(Y$1=en=en.return);continue}break}while(1)}function Kk(){var St=nk.current;return nk.current=ai,St===null?ai:St}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk(St,_e){var en=K$1;K$1|=2;var tn=Kk();(R$1!==St||Z$1!==_e)&&(vk=null,Lk(St,_e));do try{Uk();break}catch(nn){Nk(St,nn)}while(1);if(Qg(),K$1=en,nk.current=tn,Y$1!==null)throw Error(p$4(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk(St){var _e=Wk(St.alternate,St,gj);St.memoizedProps=St.pendingProps,_e===null?Tk(St):Y$1=_e,ok.current=null}function Tk(St){var _e=St;do{var en=_e.alternate;if(St=_e.return,(_e.flags&32768)===0){if(en=Fj(en,_e,gj),en!==null){Y$1=en;return}}else{if(en=Jj(en,_e),en!==null){en.flags&=32767,Y$1=en;return}if(St!==null)St.flags|=32768,St.subtreeFlags=0,St.deletions=null;else{T$1=6,Y$1=null;return}}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=St}while(_e!==null);T$1===0&&(T$1=5)}function Qk(St,_e,en){var tn=C$1,nn=pk.transition;try{pk.transition=null,C$1=1,Xk(St,_e,en,tn)}finally{pk.transition=nn,C$1=tn}return null}function Xk(St,_e,en,tn){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$4(327));en=St.finishedWork;var nn=St.finishedLanes;if(en===null)return null;if(St.finishedWork=null,St.finishedLanes=0,en===St.current)throw Error(p$4(177));St.callbackNode=null,St.callbackPriority=0;var rn=en.lanes|en.childLanes;if(Bc(St,rn),St===R$1&&(Y$1=R$1=null,Z$1=0),(en.subtreeFlags&2064)===0&&(en.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rn=(en.flags&15990)!==0,(en.subtreeFlags&15990)!==0||rn){rn=pk.transition,pk.transition=null;var sn=C$1;C$1=1;var an=K$1;K$1|=4,ok.current=null,Pj(St,en),ek(en,St),Oe(Df),dd=!!Cf,Df=Cf=null,St.current=en,ik(en),dc(),K$1=an,C$1=sn,pk.transition=rn}else St.current=en;if(wk&&(wk=!1,xk=St,yk=nn),rn=St.pendingLanes,rn===0&&(Si=null),mc(en.stateNode),Ek(St,B$1()),_e!==null)for(tn=St.onRecoverableError,en=0;en<_e.length;en++)nn=_e[en],tn(nn.value,{componentStack:nn.stack,digest:nn.digest});if(Pi)throw Pi=!1,St=Qi,Qi=null,St;return(yk&1)!==0&&St.tag!==0&&Ik(),rn=St.pendingLanes,(rn&1)!==0?St===Ak?zk++:(zk=0,Ak=St):zk=0,jg(),null}function Ik(){if(xk!==null){var St=Dc(yk),_e=pk.transition,en=C$1;try{if(pk.transition=null,C$1=16>St?16:St,xk===null)var tn=!1;else{if(St=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$4(331));var nn=K$1;for(K$1|=4,V$1=St.current;V$1!==null;){var rn=V$1,sn=rn.child;if((V$1.flags&16)!==0){var an=rn.deletions;if(an!==null){for(var on=0;on<an.length;on++){var cn=an[on];for(V$1=cn;V$1!==null;){var dn=V$1;switch(dn.tag){case 0:case 11:case 15:Qj(8,dn,rn)}var mn=dn.child;if(mn!==null)mn.return=dn,V$1=mn;else for(;V$1!==null;){dn=V$1;var pn=dn.sibling,fn=dn.return;if(Tj(dn),dn===cn){V$1=null;break}if(pn!==null){pn.return=fn,V$1=pn;break}V$1=fn}}}var yn=rn.alternate;if(yn!==null){var bn=yn.child;if(bn!==null){yn.child=null;do{var wn=bn.sibling;bn.sibling=null,bn=wn}while(bn!==null)}}V$1=rn}}if((rn.subtreeFlags&2064)!==0&&sn!==null)sn.return=rn,V$1=sn;else e:for(;V$1!==null;){if(rn=V$1,(rn.flags&2048)!==0)switch(rn.tag){case 0:case 11:case 15:Qj(9,rn,rn.return)}var vn=rn.sibling;if(vn!==null){vn.return=rn.return,V$1=vn;break e}V$1=rn.return}}var Sn=St.current;for(V$1=Sn;V$1!==null;){sn=V$1;var xn=sn.child;if((sn.subtreeFlags&2064)!==0&&xn!==null)xn.return=sn,V$1=xn;else e:for(sn=Sn;V$1!==null;){if(an=V$1,(an.flags&2048)!==0)try{switch(an.tag){case 0:case 11:case 15:Rj(9,an)}}catch(Cn){W$1(an,an.return,Cn)}if(an===sn){V$1=null;break e}var En=an.sibling;if(En!==null){En.return=an.return,V$1=En;break e}V$1=an.return}}if(K$1=nn,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,St)}catch{}tn=!0}return tn}finally{C$1=en,pk.transition=_e}}return!1}function Yk(St,_e,en){_e=Ki(en,_e),_e=Oi(St,_e,1),St=dh(St,_e,1),_e=L$1(),St!==null&&(Ac(St,1,_e),Ek(St,_e))}function W$1(St,_e,en){if(St.tag===3)Yk(St,St,en);else for(;_e!==null;){if(_e.tag===3){Yk(_e,St,en);break}else if(_e.tag===1){var tn=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tn.componentDidCatch=="function"&&(Si===null||!Si.has(tn))){St=Ki(en,St),St=Ri(_e,St,1),_e=dh(_e,St,1),St=L$1(),_e!==null&&(Ac(_e,1,St),Ek(_e,St));break}}_e=_e.return}}function Ui(St,_e,en){var tn=St.pingCache;tn!==null&&tn.delete(_e),_e=L$1(),St.pingedLanes|=St.suspendedLanes&en,R$1===St&&(Z$1&en)===en&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(St,0):sk|=en),Ek(St,_e)}function Zk(St,_e){_e===0&&((St.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var en=L$1();St=Zg(St,_e),St!==null&&(Ac(St,_e,en),Ek(St,en))}function vj(St){var _e=St.memoizedState,en=0;_e!==null&&(en=_e.retryLane),Zk(St,en)}function ck(St,_e){var en=0;switch(St.tag){case 13:var tn=St.stateNode,nn=St.memoizedState;nn!==null&&(en=nn.retryLane);break;case 19:tn=St.stateNode;break;default:throw Error(p$4(314))}tn!==null&&tn.delete(_e),Zk(St,en)}var Wk;Wk=function(St,_e,en){if(St!==null)if(St.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if((St.lanes&en)===0&&(_e.flags&128)===0)return Ug=!1,zj(St,_e,en);Ug=(St.flags&131072)!==0}else Ug=!1,I$1&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tn=_e.type;jj(St,_e),St=_e.pendingProps;var nn=Yf(_e,H$1.current);Tg(_e,en),nn=Xh(null,_e,tn,St,nn,en);var rn=bi();return _e.flags|=1,typeof nn=="object"&&nn!==null&&typeof nn.render=="function"&&nn.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tn)?(rn=!0,cg(_e)):rn=!1,_e.memoizedState=nn.state!==null&&nn.state!==void 0?nn.state:null,ah(_e),nn.updater=nh,_e.stateNode=nn,nn._reactInternals=_e,rh(_e,tn,St,en),_e=kj(null,_e,tn,!0,rn,en)):(_e.tag=0,I$1&&rn&&vg(_e),Yi(null,_e,nn,en),_e=_e.child),_e;case 16:tn=_e.elementType;e:{switch(jj(St,_e),St=_e.pendingProps,nn=tn._init,tn=nn(tn._payload),_e.type=tn,nn=_e.tag=$k(tn),St=Lg(tn,St),nn){case 0:_e=dj(null,_e,tn,St,en);break e;case 1:_e=ij(null,_e,tn,St,en);break e;case 11:_e=Zi(null,_e,tn,St,en);break e;case 14:_e=aj(null,_e,tn,Lg(tn.type,St),en);break e}throw Error(p$4(306,tn,""))}return _e;case 0:return tn=_e.type,nn=_e.pendingProps,nn=_e.elementType===tn?nn:Lg(tn,nn),dj(St,_e,tn,nn,en);case 1:return tn=_e.type,nn=_e.pendingProps,nn=_e.elementType===tn?nn:Lg(tn,nn),ij(St,_e,tn,nn,en);case 3:e:{if(lj(_e),St===null)throw Error(p$4(387));tn=_e.pendingProps,rn=_e.memoizedState,nn=rn.element,bh(St,_e),gh(_e,tn,null,en);var sn=_e.memoizedState;if(tn=sn.element,rn.isDehydrated)if(rn={element:tn,isDehydrated:!1,cache:sn.cache,pendingSuspenseBoundaries:sn.pendingSuspenseBoundaries,transitions:sn.transitions},_e.updateQueue.baseState=rn,_e.memoizedState=rn,_e.flags&256){nn=Ki(Error(p$4(423)),_e),_e=mj(St,_e,tn,en,nn);break e}else if(tn!==nn){nn=Ki(Error(p$4(424)),_e),_e=mj(St,_e,tn,en,nn);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,en=Ch(_e,null,tn,en),_e.child=en;en;)en.flags=en.flags&-3|4096,en=en.sibling;else{if(Ig(),tn===nn){_e=$i(St,_e,en);break e}Yi(St,_e,tn,en)}_e=_e.child}return _e;case 5:return Kh(_e),St===null&&Eg(_e),tn=_e.type,nn=_e.pendingProps,rn=St!==null?St.memoizedProps:null,sn=nn.children,Ef(tn,nn)?sn=null:rn!==null&&Ef(tn,rn)&&(_e.flags|=32),hj(St,_e),Yi(St,_e,sn,en),_e.child;case 6:return St===null&&Eg(_e),null;case 13:return pj(St,_e,en);case 4:return Ih(_e,_e.stateNode.containerInfo),tn=_e.pendingProps,St===null?_e.child=Bh(_e,null,tn,en):Yi(St,_e,tn,en),_e.child;case 11:return tn=_e.type,nn=_e.pendingProps,nn=_e.elementType===tn?nn:Lg(tn,nn),Zi(St,_e,tn,nn,en);case 7:return Yi(St,_e,_e.pendingProps,en),_e.child;case 8:return Yi(St,_e,_e.pendingProps.children,en),_e.child;case 12:return Yi(St,_e,_e.pendingProps.children,en),_e.child;case 10:e:{if(tn=_e.type._context,nn=_e.pendingProps,rn=_e.memoizedProps,sn=nn.value,G$1(Mg,tn._currentValue),tn._currentValue=sn,rn!==null)if(He(rn.value,sn)){if(rn.children===nn.children&&!Wf.current){_e=$i(St,_e,en);break e}}else for(rn=_e.child,rn!==null&&(rn.return=_e);rn!==null;){var an=rn.dependencies;if(an!==null){sn=rn.child;for(var on=an.firstContext;on!==null;){if(on.context===tn){if(rn.tag===1){on=ch(-1,en&-en),on.tag=2;var cn=rn.updateQueue;if(cn!==null){cn=cn.shared;var dn=cn.pending;dn===null?on.next=on:(on.next=dn.next,dn.next=on),cn.pending=on}}rn.lanes|=en,on=rn.alternate,on!==null&&(on.lanes|=en),Sg(rn.return,en,_e),an.lanes|=en;break}on=on.next}}else if(rn.tag===10)sn=rn.type===_e.type?null:rn.child;else if(rn.tag===18){if(sn=rn.return,sn===null)throw Error(p$4(341));sn.lanes|=en,an=sn.alternate,an!==null&&(an.lanes|=en),Sg(sn,en,_e),sn=rn.sibling}else sn=rn.child;if(sn!==null)sn.return=rn;else for(sn=rn;sn!==null;){if(sn===_e){sn=null;break}if(rn=sn.sibling,rn!==null){rn.return=sn.return,sn=rn;break}sn=sn.return}rn=sn}Yi(St,_e,nn.children,en),_e=_e.child}return _e;case 9:return nn=_e.type,tn=_e.pendingProps.children,Tg(_e,en),nn=Vg(nn),tn=tn(nn),_e.flags|=1,Yi(St,_e,tn,en),_e.child;case 14:return tn=_e.type,nn=Lg(tn,_e.pendingProps),nn=Lg(tn.type,nn),aj(St,_e,tn,nn,en);case 15:return cj(St,_e,_e.type,_e.pendingProps,en);case 17:return tn=_e.type,nn=_e.pendingProps,nn=_e.elementType===tn?nn:Lg(tn,nn),jj(St,_e),_e.tag=1,Zf(tn)?(St=!0,cg(_e)):St=!1,Tg(_e,en),ph(_e,tn,nn),rh(_e,tn,nn,en),kj(null,_e,tn,!0,St,en);case 19:return yj(St,_e,en);case 22:return ej(St,_e,en)}throw Error(p$4(156,_e.tag))};function Gk(St,_e){return ac(St,_e)}function al(St,_e,en,tn){this.tag=St,this.key=en,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(St,_e,en,tn){return new al(St,_e,en,tn)}function bj(St){return St=St.prototype,!(!St||!St.isReactComponent)}function $k(St){if(typeof St=="function")return bj(St)?1:0;if(St!=null){if(St=St.$$typeof,St===Da)return 11;if(St===Ga)return 14}return 2}function wh(St,_e){var en=St.alternate;return en===null?(en=Bg(St.tag,_e,St.key,St.mode),en.elementType=St.elementType,en.type=St.type,en.stateNode=St.stateNode,en.alternate=St,St.alternate=en):(en.pendingProps=_e,en.type=St.type,en.flags=0,en.subtreeFlags=0,en.deletions=null),en.flags=St.flags&14680064,en.childLanes=St.childLanes,en.lanes=St.lanes,en.child=St.child,en.memoizedProps=St.memoizedProps,en.memoizedState=St.memoizedState,en.updateQueue=St.updateQueue,_e=St.dependencies,en.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},en.sibling=St.sibling,en.index=St.index,en.ref=St.ref,en}function yh(St,_e,en,tn,nn,rn){var sn=2;if(tn=St,typeof St=="function")bj(St)&&(sn=1);else if(typeof St=="string")sn=5;else e:switch(St){case ya:return Ah(en.children,nn,rn,_e);case za:sn=8,nn|=8;break;case Aa:return St=Bg(12,en,_e,nn|2),St.elementType=Aa,St.lanes=rn,St;case Ea:return St=Bg(13,en,_e,nn),St.elementType=Ea,St.lanes=rn,St;case Fa:return St=Bg(19,en,_e,nn),St.elementType=Fa,St.lanes=rn,St;case Ia:return qj(en,nn,rn,_e);default:if(typeof St=="object"&&St!==null)switch(St.$$typeof){case Ba:sn=10;break e;case Ca:sn=9;break e;case Da:sn=11;break e;case Ga:sn=14;break e;case Ha:sn=16,tn=null;break e}throw Error(p$4(130,St==null?St:typeof St,""))}return _e=Bg(sn,en,_e,nn),_e.elementType=St,_e.type=tn,_e.lanes=rn,_e}function Ah(St,_e,en,tn){return St=Bg(7,St,tn,_e),St.lanes=en,St}function qj(St,_e,en,tn){return St=Bg(22,St,tn,_e),St.elementType=Ia,St.lanes=en,St.stateNode={isHidden:!1},St}function xh(St,_e,en){return St=Bg(6,St,null,_e),St.lanes=en,St}function zh(St,_e,en){return _e=Bg(4,St.children!==null?St.children:[],St.key,_e),_e.lanes=en,_e.stateNode={containerInfo:St.containerInfo,pendingChildren:null,implementation:St.implementation},_e}function bl(St,_e,en,tn,nn){this.tag=_e,this.containerInfo=St,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tn,this.onRecoverableError=nn,this.mutableSourceEagerHydrationData=null}function cl(St,_e,en,tn,nn,rn,sn,an,on){return St=new bl(St,_e,en,an,on),_e===1?(_e=1,rn===!0&&(_e|=8)):_e=0,rn=Bg(3,null,null,_e),St.current=rn,rn.stateNode=St,rn.memoizedState={element:tn,isDehydrated:en,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rn),St}function dl(St,_e,en){var tn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tn==null?null:""+tn,children:St,containerInfo:_e,implementation:en}}function el(St){if(!St)return Vf;St=St._reactInternals;e:{if(Vb(St)!==St||St.tag!==1)throw Error(p$4(170));var _e=St;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$4(171))}if(St.tag===1){var en=St.type;if(Zf(en))return bg(St,en,_e)}return _e}function fl$1(St,_e,en,tn,nn,rn,sn,an,on){return St=cl(en,tn,!0,St,nn,rn,sn,an,on),St.context=el(null),en=St.current,tn=L$1(),nn=lh(en),rn=ch(tn,nn),rn.callback=_e!=null?_e:null,dh(en,rn,nn),St.current.lanes=nn,Ac(St,nn,tn),Ek(St,tn),St}function gl(St,_e,en,tn){var nn=_e.current,rn=L$1(),sn=lh(nn);return en=el(en),_e.context===null?_e.context=en:_e.pendingContext=en,_e=ch(rn,sn),_e.payload={element:St},tn=tn===void 0?null:tn,tn!==null&&(_e.callback=tn),St=dh(nn,_e,sn),St!==null&&(mh(St,nn,sn,rn),eh(St,nn,sn)),sn}function hl(St){if(St=St.current,!St.child)return null;switch(St.child.tag){case 5:return St.child.stateNode;default:return St.child.stateNode}}function il(St,_e){if(St=St.memoizedState,St!==null&&St.dehydrated!==null){var en=St.retryLane;St.retryLane=en!==0&&en<_e?en:_e}}function jl(St,_e){il(St,_e),(St=St.alternate)&&il(St,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(St){console.error(St)};function ml(St){this._internalRoot=St}nl.prototype.render=ml.prototype.render=function(St){var _e=this._internalRoot;if(_e===null)throw Error(p$4(409));gl(St,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var St=this._internalRoot;if(St!==null){this._internalRoot=null;var _e=St.containerInfo;Sk(function(){gl(null,St,null,null)}),_e[uf]=null}};function nl(St){this._internalRoot=St}nl.prototype.unstable_scheduleHydration=function(St){if(St){var _e=Hc();St={blockedOn:null,target:St,priority:_e};for(var en=0;en<Qc.length&&_e!==0&&_e<Qc[en].priority;en++);Qc.splice(en,0,St),en===0&&Vc(St)}};function ol(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11)}function pl(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11&&(St.nodeType!==8||St.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(St,_e,en,tn,nn){if(nn){if(typeof tn=="function"){var rn=tn;tn=function(){var cn=hl(sn);rn.call(cn)}}var sn=fl$1(_e,tn,St,0,null,!1,!1,"",ql);return St._reactRootContainer=sn,St[uf]=sn.current,sf(St.nodeType===8?St.parentNode:St),Sk(),sn}for(;nn=St.lastChild;)St.removeChild(nn);if(typeof tn=="function"){var an=tn;tn=function(){var cn=hl(on);an.call(cn)}}var on=cl(St,0,!1,null,null,!1,!1,"",ql);return St._reactRootContainer=on,St[uf]=on.current,sf(St.nodeType===8?St.parentNode:St),Sk(function(){gl(_e,on,en,tn)}),on}function sl(St,_e,en,tn,nn){var rn=en._reactRootContainer;if(rn){var sn=rn;if(typeof nn=="function"){var an=nn;nn=function(){var on=hl(sn);an.call(on)}}gl(_e,sn,St,nn)}else sn=rl(en,_e,St,nn,tn);return hl(sn)}Ec=function(St){switch(St.tag){case 3:var _e=St.stateNode;if(_e.current.memoizedState.isDehydrated){var en=tc(_e.pendingLanes);en!==0&&(Cc(_e,en|1),Ek(_e,B$1()),(K$1&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tn=Zg(St,1);if(tn!==null){var nn=L$1();mh(tn,St,1,nn)}}),jl(St,1)}};Fc=function(St){if(St.tag===13){var _e=Zg(St,134217728);if(_e!==null){var en=L$1();mh(_e,St,134217728,en)}jl(St,134217728)}};Gc=function(St){if(St.tag===13){var _e=lh(St),en=Zg(St,_e);if(en!==null){var tn=L$1();mh(en,St,_e,tn)}jl(St,_e)}};Hc=function(){return C$1};Ic=function(St,_e){var en=C$1;try{return C$1=St,_e()}finally{C$1=en}};yb=function(St,_e,en){switch(_e){case"input":if(bb(St,en),_e=en.name,en.type==="radio"&&_e!=null){for(en=St;en.parentNode;)en=en.parentNode;for(en=en.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<en.length;_e++){var tn=en[_e];if(tn!==St&&tn.form===St.form){var nn=Db(tn);if(!nn)throw Error(p$4(90));Wa(tn),bb(tn,nn)}}}break;case"textarea":ib(St,en);break;case"select":_e=en.value,_e!=null&&fb(St,!!en.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(St){return St=Zb(St),St===null?null:St.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(St,_e){var en=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$4(200));return dl(St,_e,null,en)};reactDom_production_min.createRoot=function(St,_e){if(!ol(St))throw Error(p$4(299));var en=!1,tn="",nn=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(en=!0),_e.identifierPrefix!==void 0&&(tn=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nn=_e.onRecoverableError)),_e=cl(St,1,!1,null,null,en,!1,tn,nn),St[uf]=_e.current,sf(St.nodeType===8?St.parentNode:St),new ml(_e)};reactDom_production_min.findDOMNode=function(St){if(St==null)return null;if(St.nodeType===1)return St;var _e=St._reactInternals;if(_e===void 0)throw typeof St.render=="function"?Error(p$4(188)):(St=Object.keys(St).join(","),Error(p$4(268,St)));return St=Zb(_e),St=St===null?null:St.stateNode,St};reactDom_production_min.flushSync=function(St){return Sk(St)};reactDom_production_min.hydrate=function(St,_e,en){if(!pl(_e))throw Error(p$4(200));return sl(null,St,_e,!0,en)};reactDom_production_min.hydrateRoot=function(St,_e,en){if(!ol(St))throw Error(p$4(405));var tn=en!=null&&en.hydratedSources||null,nn=!1,rn="",sn=ll;if(en!=null&&(en.unstable_strictMode===!0&&(nn=!0),en.identifierPrefix!==void 0&&(rn=en.identifierPrefix),en.onRecoverableError!==void 0&&(sn=en.onRecoverableError)),_e=fl$1(_e,null,St,1,en!=null?en:null,nn,!1,rn,sn),St[uf]=_e.current,sf(St),tn)for(St=0;St<tn.length;St++)en=tn[St],nn=en._getVersion,nn=nn(en._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[en,nn]:_e.mutableSourceEagerHydrationData.push(en,nn);return new nl(_e)};reactDom_production_min.render=function(St,_e,en){if(!pl(_e))throw Error(p$4(200));return sl(null,St,_e,!1,en)};reactDom_production_min.unmountComponentAtNode=function(St){if(!pl(St))throw Error(p$4(40));return St._reactRootContainer?(Sk(function(){sl(null,null,St,!1,function(){St._reactRootContainer=null,St[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(St,_e,en,tn){if(!pl(en))throw Error(p$4(200));if(St==null||St._reactInternals===void 0)throw Error(p$4(38));return sl(St,_e,en,!1,tn)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(St){function _e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_e)}catch(en){console.error(en)}}_e(),St.exports=reactDom_production_min})(reactDom);var m$3=reactDom.exports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(St){for(var _e=1;_e<arguments.length;_e++){var en=arguments[_e];for(var tn in en)Object.prototype.hasOwnProperty.call(en,tn)&&(St[tn]=en[tn])}return St},_extends$1.apply(this,arguments)}var Action;(function(St){St.Pop="POP",St.Push="PUSH",St.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(St){St===void 0&&(St={});function _e(tn,nn){let{pathname:rn,search:sn,hash:an}=tn.location;return createLocation("",{pathname:rn,search:sn,hash:an},nn.state&&nn.state.usr||null,nn.state&&nn.state.key||"default")}function en(tn,nn){return typeof nn=="string"?nn:createPath(nn)}return getUrlBasedHistory(_e,en,null,St)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(St){return{usr:St.state,key:St.key}}function createLocation(St,_e,en,tn){return en===void 0&&(en=null),_extends$1({pathname:typeof St=="string"?St:St.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:en,key:_e&&_e.key||tn||createKey()})}function createPath(St){let{pathname:_e="/",search:en="",hash:tn=""}=St;return en&&en!=="?"&&(_e+=en.charAt(0)==="?"?en:"?"+en),tn&&tn!=="#"&&(_e+=tn.charAt(0)==="#"?tn:"#"+tn),_e}function parsePath(St){let _e={};if(St){let en=St.indexOf("#");en>=0&&(_e.hash=St.substr(en),St=St.substr(0,en));let tn=St.indexOf("?");tn>=0&&(_e.search=St.substr(tn),St=St.substr(0,tn)),St&&(_e.pathname=St)}return _e}function createURL(St){let _e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",en=typeof St=="string"?St:createPath(St);return new URL(en,_e)}function getUrlBasedHistory(St,_e,en,tn){tn===void 0&&(tn={});let{window:nn=document.defaultView,v5Compat:rn=!1}=tn,sn=nn.history,an=Action.Pop,on=null;function cn(){an=Action.Pop,on&&on({action:an,location:pn.location})}function dn(fn,yn){an=Action.Push;let bn=createLocation(pn.location,fn,yn);en&&en(bn,fn);let wn=getHistoryState(bn),vn=pn.createHref(bn);try{sn.pushState(wn,"",vn)}catch{nn.location.assign(vn)}rn&&on&&on({action:an,location:pn.location})}function mn(fn,yn){an=Action.Replace;let bn=createLocation(pn.location,fn,yn);en&&en(bn,fn);let wn=getHistoryState(bn),vn=pn.createHref(bn);sn.replaceState(wn,"",vn),rn&&on&&on({action:an,location:pn.location})}let pn={get action(){return an},get location(){return St(nn,sn)},listen(fn){if(on)throw new Error("A history only accepts one active listener");return nn.addEventListener(PopStateEventType,cn),on=fn,()=>{nn.removeEventListener(PopStateEventType,cn),on=null}},createHref(fn){return _e(nn,fn)},encodeLocation(fn){let yn=createURL(createPath(fn));return _extends$1({},fn,{pathname:yn.pathname,search:yn.search,hash:yn.hash})},push:dn,replace:mn,go(fn){return sn.go(fn)}};return pn}var ResultType;(function(St){St.data="data",St.deferred="deferred",St.redirect="redirect",St.error="error"})(ResultType||(ResultType={}));function isIndexRoute(St){return St.index===!0}function convertRoutesToDataRoutes(St,_e,en){return _e===void 0&&(_e=[]),en===void 0&&(en=new Set),St.map((tn,nn)=>{let rn=[..._e,nn],sn=typeof tn.id=="string"?tn.id:rn.join("-");return invariant$1(tn.index!==!0||!tn.children,"Cannot specify children on an index route"),invariant$1(!en.has(sn),'Found a route id collision on id "'+sn+`".  Route id's must be globally unique within Data Router usages`),en.add(sn),isIndexRoute(tn)?_extends$1({},tn,{id:sn}):_extends$1({},tn,{id:sn,children:tn.children?convertRoutesToDataRoutes(tn.children,rn,en):void 0})})}function matchRoutes(St,_e,en){en===void 0&&(en="/");let tn=typeof _e=="string"?parsePath(_e):_e,nn=stripBasename(tn.pathname||"/",en);if(nn==null)return null;let rn=flattenRoutes(St);rankRouteBranches(rn);let sn=null;for(let an=0;sn==null&&an<rn.length;++an)sn=matchRouteBranch(rn[an],safelyDecodeURI(nn));return sn}function flattenRoutes(St,_e,en,tn){return _e===void 0&&(_e=[]),en===void 0&&(en=[]),tn===void 0&&(tn=""),St.forEach((nn,rn)=>{let sn={relativePath:nn.path||"",caseSensitive:nn.caseSensitive===!0,childrenIndex:rn,route:nn};sn.relativePath.startsWith("/")&&(invariant$1(sn.relativePath.startsWith(tn),'Absolute route path "'+sn.relativePath+'" nested under path '+('"'+tn+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),sn.relativePath=sn.relativePath.slice(tn.length));let an=joinPaths([tn,sn.relativePath]),on=en.concat(sn);nn.children&&nn.children.length>0&&(invariant$1(nn.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+an+'".')),flattenRoutes(nn.children,_e,on,an)),!(nn.path==null&&!nn.index)&&_e.push({path:an,score:computeScore(an,nn.index),routesMeta:on})}),_e}function rankRouteBranches(St){St.sort((_e,en)=>_e.score!==en.score?en.score-_e.score:compareIndexes(_e.routesMeta.map(tn=>tn.childrenIndex),en.routesMeta.map(tn=>tn.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=St=>St==="*";function computeScore(St,_e){let en=St.split("/"),tn=en.length;return en.some(isSplat)&&(tn+=splatPenalty),_e&&(tn+=indexRouteValue),en.filter(nn=>!isSplat(nn)).reduce((nn,rn)=>nn+(paramRe.test(rn)?dynamicSegmentValue:rn===""?emptySegmentValue:staticSegmentValue),tn)}function compareIndexes(St,_e){return St.length===_e.length&&St.slice(0,-1).every((tn,nn)=>tn===_e[nn])?St[St.length-1]-_e[_e.length-1]:0}function matchRouteBranch(St,_e){let{routesMeta:en}=St,tn={},nn="/",rn=[];for(let sn=0;sn<en.length;++sn){let an=en[sn],on=sn===en.length-1,cn=nn==="/"?_e:_e.slice(nn.length)||"/",dn=matchPath({path:an.relativePath,caseSensitive:an.caseSensitive,end:on},cn);if(!dn)return null;Object.assign(tn,dn.params);let mn=an.route;rn.push({params:tn,pathname:joinPaths([nn,dn.pathname]),pathnameBase:normalizePathname(joinPaths([nn,dn.pathnameBase])),route:mn}),dn.pathnameBase!=="/"&&(nn=joinPaths([nn,dn.pathnameBase]))}return rn}function matchPath(St,_e){typeof St=="string"&&(St={path:St,caseSensitive:!1,end:!0});let[en,tn]=compilePath(St.path,St.caseSensitive,St.end),nn=_e.match(en);if(!nn)return null;let rn=nn[0],sn=rn.replace(/(.)\/+$/,"$1"),an=nn.slice(1);return{params:tn.reduce((cn,dn,mn)=>{if(dn==="*"){let pn=an[mn]||"";sn=rn.slice(0,rn.length-pn.length).replace(/(.)\/+$/,"$1")}return cn[dn]=safelyDecodeURIComponent(an[mn]||"",dn),cn},{}),pathname:rn,pathnameBase:sn,pattern:St}}function compilePath(St,_e,en){_e===void 0&&(_e=!1),en===void 0&&(en=!0),warning$1(St==="*"||!St.endsWith("*")||St.endsWith("/*"),'Route path "'+St+'" will be treated as if it were '+('"'+St.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+St.replace(/\*$/,"/*")+'".'));let tn=[],nn="^"+St.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(sn,an)=>(tn.push(an),"([^\\/]+)"));return St.endsWith("*")?(tn.push("*"),nn+=St==="*"||St==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):en?nn+="\\/*$":St!==""&&St!=="/"&&(nn+="(?:(?=\\/|$))"),[new RegExp(nn,_e?void 0:"i"),tn]}function safelyDecodeURI(St){try{return decodeURI(St)}catch(_e){return warning$1(!1,'The URL path "'+St+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),St}}function safelyDecodeURIComponent(St,_e){try{return decodeURIComponent(St)}catch(en){return warning$1(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+St+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+en+").")),St}}function stripBasename(St,_e){if(_e==="/")return St;if(!St.toLowerCase().startsWith(_e.toLowerCase()))return null;let en=_e.endsWith("/")?_e.length-1:_e.length,tn=St.charAt(en);return tn&&tn!=="/"?null:St.slice(en)||"/"}function invariant$1(St,_e){if(St===!1||St===null||typeof St>"u")throw new Error(_e)}function warning$1(St,_e){if(!St){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function resolvePath(St,_e){_e===void 0&&(_e="/");let{pathname:en,search:tn="",hash:nn=""}=typeof St=="string"?parsePath(St):St;return{pathname:en?en.startsWith("/")?en:resolvePathname(en,_e):_e,search:normalizeSearch(tn),hash:normalizeHash(nn)}}function resolvePathname(St,_e){let en=_e.replace(/\/+$/,"").split("/");return St.split("/").forEach(nn=>{nn===".."?en.length>1&&en.pop():nn!=="."&&en.push(nn)}),en.length>1?en.join("/"):"/"}function getInvalidPathError(St,_e,en,tn){return"Cannot include a '"+St+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(tn)+"].  Please separate it out to the ")+("`to."+en+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(St){return St.filter((_e,en)=>en===0||_e.route.path&&_e.route.path.length>0)}function resolveTo(St,_e,en,tn){tn===void 0&&(tn=!1);let nn;typeof St=="string"?nn=parsePath(St):(nn=_extends$1({},St),invariant$1(!nn.pathname||!nn.pathname.includes("?"),getInvalidPathError("?","pathname","search",nn)),invariant$1(!nn.pathname||!nn.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nn)),invariant$1(!nn.search||!nn.search.includes("#"),getInvalidPathError("#","search","hash",nn)));let rn=St===""||nn.pathname==="",sn=rn?"/":nn.pathname,an;if(tn||sn==null)an=en;else{let mn=_e.length-1;if(sn.startsWith("..")){let pn=sn.split("/");for(;pn[0]==="..";)pn.shift(),mn-=1;nn.pathname=pn.join("/")}an=mn>=0?_e[mn]:"/"}let on=resolvePath(nn,an),cn=sn&&sn!=="/"&&sn.endsWith("/"),dn=(rn||sn===".")&&en.endsWith("/");return!on.pathname.endsWith("/")&&(cn||dn)&&(on.pathname+="/"),on}const joinPaths=St=>St.join("/").replace(/\/\/+/g,"/"),normalizePathname=St=>St.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=St=>!St||St==="?"?"":St.startsWith("?")?St:"?"+St,normalizeHash=St=>!St||St==="#"?"":St.startsWith("#")?St:"#"+St;class AbortedDeferredError extends Error{}class DeferredData{constructor(_e){this.pendingKeys=new Set,this.subscriber=void 0,invariant$1(_e&&typeof _e=="object"&&!Array.isArray(_e),"defer() only accepts plain objects");let en;this.abortPromise=new Promise((nn,rn)=>en=rn),this.controller=new AbortController;let tn=()=>en(new AbortedDeferredError("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",tn),this.controller.signal.addEventListener("abort",tn),this.data=Object.entries(_e).reduce((nn,rn)=>{let[sn,an]=rn;return Object.assign(nn,{[sn]:this.trackPromise(sn,an)})},{})}trackPromise(_e,en){if(!(en instanceof Promise))return en;this.pendingKeys.add(_e);let tn=Promise.race([en,this.abortPromise]).then(nn=>this.onSettle(tn,_e,null,nn),nn=>this.onSettle(tn,_e,nn));return tn.catch(()=>{}),Object.defineProperty(tn,"_tracked",{get:()=>!0}),tn}onSettle(_e,en,tn,nn){if(this.controller.signal.aborted&&tn instanceof AbortedDeferredError)return this.unlistenAbortSignal(),Object.defineProperty(_e,"_error",{get:()=>tn}),Promise.reject(tn);this.pendingKeys.delete(en),this.done&&this.unlistenAbortSignal();const rn=this.subscriber;return tn?(Object.defineProperty(_e,"_error",{get:()=>tn}),rn&&rn(!1),Promise.reject(tn)):(Object.defineProperty(_e,"_data",{get:()=>nn}),rn&&rn(!1),nn)}subscribe(_e){this.subscriber=_e}cancel(){this.controller.abort(),this.pendingKeys.forEach((en,tn)=>this.pendingKeys.delete(tn));let _e=this.subscriber;_e&&_e(!0)}async resolveData(_e){let en=!1;if(!this.done){let tn=()=>this.cancel();_e.addEventListener("abort",tn),en=await new Promise(nn=>{this.subscribe(rn=>{_e.removeEventListener("abort",tn),(rn||this.done)&&nn(rn)})})}return en}get done(){return this.pendingKeys.size===0}get unwrappedData(){return invariant$1(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((_e,en)=>{let[tn,nn]=en;return Object.assign(_e,{[tn]:unwrapTrackedPromise(nn)})},{})}}function isTrackedPromise(St){return St instanceof Promise&&St._tracked===!0}function unwrapTrackedPromise(St){if(!isTrackedPromise(St))return St;if(St._error)throw St._error;return St._data}class ErrorResponse{constructor(_e,en,tn){this.status=_e,this.statusText=en||"",this.data=tn}}function isRouteErrorResponse(St){return St instanceof ErrorResponse}const IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServer=!isBrowser$1;function createRouter(St){invariant$1(St.routes.length>0,"You must provide a non-empty routes array to createRouter");let _e=convertRoutesToDataRoutes(St.routes),en=null,tn=new Set,nn=null,rn=null,sn=null,an=!1,on=matchRoutes(_e,St.history.location,St.basename),cn=null;if(on==null){let{matches:Xn,route:Zn,error:pr}=getNotFoundMatches(_e);on=Xn,cn={[Zn.id]:pr}}let dn=!on.some(Xn=>Xn.route.loader)||St.hydrationData!=null,mn,pn={historyAction:St.history.action,location:St.history.location,matches:on,initialized:dn,navigation:IDLE_NAVIGATION,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:St.hydrationData&&St.hydrationData.loaderData||{},actionData:St.hydrationData&&St.hydrationData.actionData||null,errors:St.hydrationData&&St.hydrationData.errors||cn,fetchers:new Map},fn=Action.Pop,yn=!1,bn,wn=!1,vn=!1,Sn=[],xn=[],En=new Map,Cn=0,kn=-1,In=new Map,Dn=new Set,Wn=new Map,Vn=new Map;function On(){return en=St.history.listen(Xn=>{let{action:Zn,location:pr}=Xn;return Jn(Zn,pr)}),pn.initialized||Jn(Action.Pop,pn.location),mn}function zn(){en&&en(),tn.clear(),bn&&bn.abort(),pn.fetchers.forEach((Xn,Zn)=>ur(Zn))}function nr(Xn){return tn.add(Xn),()=>tn.delete(Xn)}function Yn(Xn){pn=_extends$1({},pn,Xn),tn.forEach(Zn=>Zn(pn))}function ar(Xn,Zn){var pr;let Tr=pn.actionData!=null&&pn.navigation.formMethod!=null&&pn.navigation.state==="loading"&&((pr=pn.navigation.formAction)==null?void 0:pr.split("?")[0])===Xn.pathname,xr=Zn.loaderData?{loaderData:mergeLoaderData(pn.loaderData,Zn.loaderData,Zn.matches||[])}:{};Yn(_extends$1({},Tr?{}:{actionData:null},Zn,xr,{historyAction:fn,location:Xn,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:pn.navigation.formData?!1:fr(Xn,Zn.matches||pn.matches),preventScrollReset:yn})),wn||fn===Action.Pop||(fn===Action.Push?St.history.push(Xn,Xn.state):fn===Action.Replace&&St.history.replace(Xn,Xn.state)),fn=Action.Pop,yn=!1,wn=!1,vn=!1,Sn=[],xn=[]}async function tr(Xn,Zn){if(typeof Xn=="number"){St.history.go(Xn);return}let{path:pr,submission:Tr,error:xr}=normalizeNavigateOptions(Xn,Zn),Ur=createLocation(pn.location,pr,Zn&&Zn.state);Ur=St.history.encodeLocation(Ur);let lr=(Zn&&Zn.replace)===!0||Tr!=null?Action.Replace:Action.Push,Rr=Zn&&"preventScrollReset"in Zn?Zn.preventScrollReset===!0:void 0;return await Jn(lr,Ur,{submission:Tr,pendingError:xr,preventScrollReset:Rr,replace:Zn&&Zn.replace})}function dr(){if(er(),Yn({revalidation:"loading"}),pn.navigation.state!=="submitting"){if(pn.navigation.state==="idle"){Jn(pn.historyAction,pn.location,{startUninterruptedRevalidation:!0});return}Jn(fn||pn.historyAction,pn.navigation.location,{overrideNavigation:pn.navigation})}}async function Jn(Xn,Zn,pr){bn&&bn.abort(),bn=null,fn=Xn,wn=(pr&&pr.startUninterruptedRevalidation)===!0,jn(pn.location,pn.matches),yn=(pr&&pr.preventScrollReset)===!0;let Tr=pr&&pr.overrideNavigation,xr=matchRoutes(_e,Zn,St.basename);if(!xr){let{matches:Hr,route:ns,error:Xr}=getNotFoundMatches(_e);$n(),ar(Zn,{matches:Hr,loaderData:{},errors:{[ns.id]:Xr}});return}if(isHashChangeOnly(pn.location,Zn)){ar(Zn,{matches:xr});return}bn=new AbortController;let Ur=createRequest(Zn,bn.signal,pr&&pr.submission),lr,Rr;if(pr&&pr.pendingError)Rr={[findNearestBoundary(xr).route.id]:pr.pendingError};else if(pr&&pr.submission){let Hr=await hr(Ur,Zn,pr.submission,xr,{replace:pr.replace});if(Hr.shortCircuited)return;lr=Hr.pendingActionData,Rr=Hr.pendingActionError,Tr=_extends$1({state:"loading",location:Zn},pr.submission)}let{shortCircuited:zr,loaderData:qr,errors:Ar}=await yr(Ur,Zn,xr,Tr,pr&&pr.submission,pr&&pr.replace,lr,Rr);zr||(bn=null,ar(Zn,{matches:xr,loaderData:qr,errors:Ar}))}async function hr(Xn,Zn,pr,Tr,xr){er();let Ur=_extends$1({state:"submitting",location:Zn},pr);Yn({navigation:Ur});let lr,Rr=getTargetMatch(Tr,Zn);if(!Rr.route.action)lr=getMethodNotAllowedResult(Zn);else if(lr=await callLoaderOrAction("action",Xn,Rr,Tr,mn.basename),Xn.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(lr)){let zr=_extends$1({state:"loading",location:createLocation(pn.location,lr.location)},pr);return await Un(lr,zr,xr&&xr.replace),{shortCircuited:!0}}if(isErrorResult(lr)){let zr=findNearestBoundary(Tr,Rr.route.id);return(xr&&xr.replace)!==!0&&(fn=Action.Push),{pendingActionError:{[zr.route.id]:lr.error}}}if(isDeferredResult(lr))throw new Error("defer() is not supported in actions");return{pendingActionData:{[Rr.route.id]:lr.data}}}async function yr(Xn,Zn,pr,Tr,xr,Ur,lr,Rr){let zr=Tr;zr||(zr={state:"loading",location:Zn,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[qr,Ar]=getMatchesToLoad(pn,pr,xr,Zn,vn,Sn,xn,lr,Rr,Wn);if($n(Rs=>!(pr&&pr.some(_r=>_r.route.id===Rs))||qr&&qr.some(_r=>_r.route.id===Rs)),qr.length===0&&Ar.length===0)return ar(Zn,{matches:pr,loaderData:mergeLoaderData(pn.loaderData,{},pr),errors:Rr||null,actionData:lr||null}),{shortCircuited:!0};wn||(Ar.forEach(Rs=>{let[_r]=Rs,gr=pn.fetchers.get(_r),Cr={state:"loading",data:gr&&gr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};pn.fetchers.set(_r,Cr)}),Yn(_extends$1({navigation:zr,actionData:lr||pn.actionData||null},Ar.length>0?{fetchers:new Map(pn.fetchers)}:{}))),kn=++Cn,Ar.forEach(Rs=>{let[_r]=Rs;return En.set(_r,bn)});let{results:Hr,loaderResults:ns,fetcherResults:Xr}=await qn(pn.matches,pr,qr,Ar,Xn);if(Xn.signal.aborted)return{shortCircuited:!0};Ar.forEach(Rs=>{let[_r]=Rs;return En.delete(_r)});let Cs=findRedirect(Hr);if(Cs){let Rs=getLoaderRedirect(pn,Cs);return await Un(Cs,Rs,Ur),{shortCircuited:!0}}let{loaderData:ms,errors:ys}=processLoaderData(pn,pr,qr,ns,Rr,Ar,Xr,Vn);Vn.forEach((Rs,_r)=>{Rs.subscribe(gr=>{(gr||Rs.done)&&Vn.delete(_r)})}),Er();let ks=Pr(kn);return _extends$1({loaderData:ms,errors:ys},ks||Ar.length>0?{fetchers:new Map(pn.fetchers)}:{})}function Mr(Xn){return pn.fetchers.get(Xn)||IDLE_FETCHER}function Mn(Xn,Zn,pr,Tr){if(isServer)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");En.has(Xn)&&br(Xn);let xr=matchRoutes(_e,pr,St.basename);if(!xr){sr(Xn,Zn,new ErrorResponse(404,"Not Found",null));return}let{path:Ur,submission:lr}=normalizeNavigateOptions(pr,Tr,!0),Rr=getTargetMatch(xr,Ur);if(lr){Fn(Xn,Zn,Ur,Rr,xr,lr);return}Wn.set(Xn,[Ur,Rr,xr]),Nn(Xn,Zn,Ur,Rr,xr)}async function Fn(Xn,Zn,pr,Tr,xr,Ur){if(er(),Wn.delete(Xn),!Tr.route.action){let{error:as}=getMethodNotAllowedResult(pr);sr(Xn,Zn,as);return}let lr=pn.fetchers.get(Xn),Rr=_extends$1({state:"submitting"},Ur,{data:lr&&lr.data});pn.fetchers.set(Xn,Rr),Yn({fetchers:new Map(pn.fetchers)});let zr=new AbortController,qr=createRequest(pr,zr.signal,Ur);En.set(Xn,zr);let Ar=await callLoaderOrAction("action",qr,Tr,xr,mn.basename);if(qr.signal.aborted){En.get(Xn)===zr&&En.delete(Xn);return}if(isRedirectResult(Ar)){En.delete(Xn),Dn.add(Xn);let as=_extends$1({state:"loading"},Ur,{data:void 0});pn.fetchers.set(Xn,as),Yn({fetchers:new Map(pn.fetchers)});let vs=_extends$1({state:"loading",location:createLocation(pn.location,Ar.location)},Ur);await Un(Ar,vs);return}if(isErrorResult(Ar)){sr(Xn,Zn,Ar.error);return}isDeferredResult(Ar)&&invariant$1(!1,"defer() is not supported in actions");let Hr=pn.navigation.location||pn.location,ns=createRequest(Hr,zr.signal),Xr=pn.navigation.state!=="idle"?matchRoutes(_e,pn.navigation.location,St.basename):pn.matches;invariant$1(Xr,"Didn't find any matches after fetcher action");let Cs=++Cn;In.set(Xn,Cs);let ms=_extends$1({state:"loading",data:Ar.data},Ur);pn.fetchers.set(Xn,ms);let[ys,ks]=getMatchesToLoad(pn,Xr,Ur,Hr,vn,Sn,xn,{[Tr.route.id]:Ar.data},void 0,Wn);ks.filter(as=>{let[vs]=as;return vs!==Xn}).forEach(as=>{let[vs]=as,Os=pn.fetchers.get(vs),Ls={state:"loading",data:Os&&Os.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};pn.fetchers.set(vs,Ls),En.set(vs,zr)}),Yn({fetchers:new Map(pn.fetchers)});let{results:Rs,loaderResults:_r,fetcherResults:gr}=await qn(pn.matches,Xr,ys,ks,ns);if(zr.signal.aborted)return;In.delete(Xn),En.delete(Xn),ks.forEach(as=>{let[vs]=as;return En.delete(vs)});let Cr=findRedirect(Rs);if(Cr){let as=getLoaderRedirect(pn,Cr);await Un(Cr,as);return}let{loaderData:_i,errors:cs}=processLoaderData(pn,pn.matches,ys,_r,void 0,ks,gr,Vn),xs={state:"idle",data:Ar.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};pn.fetchers.set(Xn,xs);let ls=Pr(Cs);pn.navigation.state==="loading"&&Cs>kn?(invariant$1(fn,"Expected pending action"),bn&&bn.abort(),ar(pn.navigation.location,{matches:Xr,loaderData:_i,errors:cs,fetchers:new Map(pn.fetchers)})):(Yn(_extends$1({errors:cs,loaderData:mergeLoaderData(pn.loaderData,_i,Xr)},ls?{fetchers:new Map(pn.fetchers)}:{})),vn=!1)}async function Nn(Xn,Zn,pr,Tr,xr){let Ur=pn.fetchers.get(Xn),lr={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:Ur&&Ur.data};pn.fetchers.set(Xn,lr),Yn({fetchers:new Map(pn.fetchers)});let Rr=new AbortController,zr=createRequest(pr,Rr.signal);En.set(Xn,Rr);let qr=await callLoaderOrAction("loader",zr,Tr,xr,mn.basename);if(isDeferredResult(qr)&&(qr=await resolveDeferredData(qr,zr.signal,!0)||qr),En.get(Xn)===Rr&&En.delete(Xn),zr.signal.aborted)return;if(isRedirectResult(qr)){let Hr=getLoaderRedirect(pn,qr);await Un(qr,Hr);return}if(isErrorResult(qr)){let Hr=findNearestBoundary(pn.matches,Zn);pn.fetchers.delete(Xn),Yn({fetchers:new Map(pn.fetchers),errors:{[Hr.route.id]:qr.error}});return}invariant$1(!isDeferredResult(qr),"Unhandled fetcher deferred data");let Ar={state:"idle",data:qr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};pn.fetchers.set(Xn,Ar),Yn({fetchers:new Map(pn.fetchers)})}async function Un(Xn,Zn,pr){Xn.revalidate&&(vn=!0),invariant$1(Zn.location,"Expected a location on the redirect navigation"),bn=null;let Tr=pr===!0?Action.Replace:Action.Push;await Jn(Tr,Zn.location,{overrideNavigation:Zn})}async function qn(Xn,Zn,pr,Tr,xr){let Ur=await Promise.all([...pr.map(zr=>callLoaderOrAction("loader",xr,zr,Zn,mn.basename)),...Tr.map(zr=>{let[,qr,Ar,Hr]=zr;return callLoaderOrAction("loader",createRequest(qr,xr.signal),Ar,Hr,mn.basename)})]),lr=Ur.slice(0,pr.length),Rr=Ur.slice(pr.length);return await Promise.all([resolveDeferredResults(Xn,pr,lr,xr.signal,!1,pn.loaderData),resolveDeferredResults(Xn,Tr.map(zr=>{let[,,qr]=zr;return qr}),Rr,xr.signal,!0)]),{results:Ur,loaderResults:lr,fetcherResults:Rr}}function er(){vn=!0,Sn.push(...$n()),Wn.forEach((Xn,Zn)=>{En.has(Zn)&&(xn.push(Zn),br(Zn))})}function sr(Xn,Zn,pr){let Tr=findNearestBoundary(pn.matches,Zn);ur(Xn),Yn({errors:{[Tr.route.id]:pr},fetchers:new Map(pn.fetchers)})}function ur(Xn){En.has(Xn)&&br(Xn),Wn.delete(Xn),In.delete(Xn),Dn.delete(Xn),pn.fetchers.delete(Xn)}function br(Xn){let Zn=En.get(Xn);invariant$1(Zn,"Expected fetch controller: "+Xn),Zn.abort(),En.delete(Xn)}function kr(Xn){for(let Zn of Xn){let Tr={state:"idle",data:Mr(Zn).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};pn.fetchers.set(Zn,Tr)}}function Er(){let Xn=[];for(let Zn of Dn){let pr=pn.fetchers.get(Zn);invariant$1(pr,"Expected fetcher: "+Zn),pr.state==="loading"&&(Dn.delete(Zn),Xn.push(Zn))}kr(Xn)}function Pr(Xn){let Zn=[];for(let[pr,Tr]of In)if(Tr<Xn){let xr=pn.fetchers.get(pr);invariant$1(xr,"Expected fetcher: "+pr),xr.state==="loading"&&(br(pr),In.delete(pr),Zn.push(pr))}return kr(Zn),Zn.length>0}function $n(Xn){let Zn=[];return Vn.forEach((pr,Tr)=>{(!Xn||Xn(Tr))&&(pr.cancel(),Zn.push(Tr),Vn.delete(Tr))}),Zn}function Gn(Xn,Zn,pr){if(nn=Xn,sn=Zn,rn=pr||(Tr=>Tr.key),!an&&pn.navigation===IDLE_NAVIGATION){an=!0;let Tr=fr(pn.location,pn.matches);Tr!=null&&Yn({restoreScrollPosition:Tr})}return()=>{nn=null,sn=null,rn=null}}function jn(Xn,Zn){if(nn&&rn&&sn){let pr=Zn.map(xr=>createUseMatchesMatch(xr,pn.loaderData)),Tr=rn(Xn,pr)||Xn.key;nn[Tr]=sn()}}function fr(Xn,Zn){if(nn&&rn&&sn){let pr=Zn.map(Ur=>createUseMatchesMatch(Ur,pn.loaderData)),Tr=rn(Xn,pr)||Xn.key,xr=nn[Tr];if(typeof xr=="number")return xr}return null}return mn={get basename(){return St.basename},get state(){return pn},get routes(){return _e},initialize:On,subscribe:nr,enableScrollRestoration:Gn,navigate:tr,fetch:Mn,revalidate:dr,createHref:Xn=>St.history.createHref(Xn),getFetcher:Mr,deleteFetcher:ur,dispose:zn,_internalFetchControllers:En,_internalActiveDeferreds:Vn},mn}const validActionMethods=new Set(["POST","PUT","PATCH","DELETE"]);[...validActionMethods];function normalizeNavigateOptions(St,_e,en){en===void 0&&(en=!1);let tn=typeof St=="string"?St:createPath(St);if(!_e||!("formMethod"in _e)&&!("formData"in _e))return{path:tn};if(_e.formMethod!=null&&_e.formMethod!=="get")return{path:tn,submission:{formMethod:_e.formMethod,formAction:stripHashFromPath(tn),formEncType:_e&&_e.formEncType||"application/x-www-form-urlencoded",formData:_e.formData}};if(!_e.formData)return{path:tn};let nn=parsePath(tn);try{let rn=convertFormDataToSearchParams(_e.formData);en&&nn.search&&hasNakedIndexQuery(nn.search)&&rn.append("index",""),nn.search="?"+rn}catch{return{path:tn,error:new ErrorResponse(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:createPath(nn)}}function getLoaderRedirect(St,_e){let{formMethod:en,formAction:tn,formEncType:nn,formData:rn}=St.navigation;return{state:"loading",location:createLocation(St.location,_e.location),formMethod:en||void 0,formAction:tn||void 0,formEncType:nn||void 0,formData:rn||void 0}}function getLoaderMatchesUntilBoundary(St,_e){let en=St;if(_e){let tn=St.findIndex(nn=>nn.route.id===_e);tn>=0&&(en=St.slice(0,tn))}return en}function getMatchesToLoad(St,_e,en,tn,nn,rn,sn,an,on,cn){let dn=on?Object.values(on)[0]:an?Object.values(an)[0]:null,mn=on?Object.keys(on)[0]:void 0,fn=getLoaderMatchesUntilBoundary(_e,mn).filter((bn,wn)=>bn.route.loader!=null&&(isNewLoader(St.loaderData,St.matches[wn],bn)||rn.some(vn=>vn===bn.route.id)||shouldRevalidateLoader(St.location,St.matches[wn],en,tn,bn,nn,dn))),yn=[];return cn&&cn.forEach((bn,wn)=>{let[vn,Sn,xn]=bn;sn.includes(wn)?yn.push([wn,vn,Sn,xn]):nn&&shouldRevalidateLoader(vn,Sn,en,vn,Sn,nn,dn)&&yn.push([wn,vn,Sn,xn])}),[fn,yn]}function isNewLoader(St,_e,en){let tn=!_e||en.route.id!==_e.route.id,nn=St[en.route.id]===void 0;return tn||nn}function isNewRouteInstance(St,_e){let en=St.route.path;return St.pathname!==_e.pathname||en&&en.endsWith("*")&&St.params["*"]!==_e.params["*"]}function shouldRevalidateLoader(St,_e,en,tn,nn,rn,sn){let an=createURL(St),on=_e.params,cn=createURL(tn),dn=nn.params,mn=isNewRouteInstance(_e,nn)||an.toString()===cn.toString()||an.search!==cn.search||rn;if(nn.route.shouldRevalidate){let pn=nn.route.shouldRevalidate(_extends$1({currentUrl:an,currentParams:on,nextUrl:cn,nextParams:dn},en,{actionResult:sn,defaultShouldRevalidate:mn}));if(typeof pn=="boolean")return pn}return mn}async function callLoaderOrAction(St,_e,en,tn,nn,rn,sn){rn===void 0&&(rn=!1),sn===void 0&&(sn=!1);let an,on,cn,dn=new Promise((pn,fn)=>cn=fn),mn=()=>cn();_e.signal.addEventListener("abort",mn);try{let pn=en.route[St];invariant$1(pn,"Could not find the "+St+' to run on the "'+en.route.id+'" route'),on=await Promise.race([pn({request:_e,params:en.params}),dn])}catch(pn){an=ResultType.error,on=pn}finally{_e.signal.removeEventListener("abort",mn)}if(on instanceof Response){let pn=on.status;if(pn>=300&&pn<=399){let bn=on.headers.get("Location");invariant$1(bn,"Redirects returned/thrown from loaders/actions must have a Location header");let wn=tn.slice(0,tn.indexOf(en)+1),vn=getPathContributingMatches(wn).map(En=>En.pathnameBase),Sn=createURL(_e.url).pathname,xn=resolveTo(bn,vn,Sn);if(invariant$1(createPath(xn),"Unable to resolve redirect location: "+on.headers.get("Location")),nn){let En=xn.pathname;xn.pathname=En==="/"?nn:joinPaths([nn,En])}if(bn=createPath(xn),rn)throw on.headers.set("Location",bn),on;return{type:ResultType.redirect,status:pn,location:bn,revalidate:on.headers.get("X-Remix-Revalidate")!==null}}if(sn)throw{type:an||ResultType.data,response:on};let fn,yn=on.headers.get("Content-Type");return yn&&yn.startsWith("application/json")?fn=await on.json():fn=await on.text(),an===ResultType.error?{type:an,error:new ErrorResponse(pn,on.statusText,fn),headers:on.headers}:{type:ResultType.data,data:fn,statusCode:on.status,headers:on.headers}}return an===ResultType.error?{type:an,error:on}:on instanceof DeferredData?{type:ResultType.deferred,deferredData:on}:{type:ResultType.data,data:on}}function createRequest(St,_e,en){let tn=createURL(stripHashFromPath(St)).toString(),nn={signal:_e};if(en){let{formMethod:rn,formEncType:sn,formData:an}=en;nn.method=rn.toUpperCase(),nn.body=sn==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(an):an}return new Request(tn,nn)}function convertFormDataToSearchParams(St){let _e=new URLSearchParams;for(let[en,tn]of St.entries())invariant$1(typeof tn=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),_e.append(en,tn);return _e}function processRouteLoaderData(St,_e,en,tn,nn){let rn={},sn=null,an,on=!1,cn={};return en.forEach((dn,mn)=>{let pn=_e[mn].route.id;if(invariant$1(!isRedirectResult(dn),"Cannot handle redirect results in processLoaderData"),isErrorResult(dn)){let fn=findNearestBoundary(St,pn),yn=dn.error;tn&&(yn=Object.values(tn)[0],tn=void 0),sn=Object.assign(sn||{},{[fn.route.id]:yn}),on||(on=!0,an=isRouteErrorResponse(dn.error)?dn.error.status:500),dn.headers&&(cn[pn]=dn.headers)}else isDeferredResult(dn)?(nn&&nn.set(pn,dn.deferredData),rn[pn]=dn.deferredData.data):(rn[pn]=dn.data,dn.statusCode!=null&&dn.statusCode!==200&&!on&&(an=dn.statusCode),dn.headers&&(cn[pn]=dn.headers))}),tn&&(sn=tn),{loaderData:rn,errors:sn,statusCode:an||200,loaderHeaders:cn}}function processLoaderData(St,_e,en,tn,nn,rn,sn,an){let{loaderData:on,errors:cn}=processRouteLoaderData(_e,en,tn,nn,an);for(let dn=0;dn<rn.length;dn++){let[mn,,pn]=rn[dn];invariant$1(sn!==void 0&&sn[dn]!==void 0,"Did not find corresponding fetcher result");let fn=sn[dn];if(isErrorResult(fn)){let yn=findNearestBoundary(St.matches,pn.route.id);cn&&cn[yn.route.id]||(cn=_extends$1({},cn,{[yn.route.id]:fn.error})),St.fetchers.delete(mn)}else{if(isRedirectResult(fn))throw new Error("Unhandled fetcher revalidation redirect");if(isDeferredResult(fn))throw new Error("Unhandled fetcher deferred data");{let yn={state:"idle",data:fn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};St.fetchers.set(mn,yn)}}}return{loaderData:on,errors:cn}}function mergeLoaderData(St,_e,en){let tn=_extends$1({},_e);return en.forEach(nn=>{let rn=nn.route.id;_e[rn]===void 0&&St[rn]!==void 0&&(tn[rn]=St[rn])}),tn}function findNearestBoundary(St,_e){return(_e?St.slice(0,St.findIndex(tn=>tn.route.id===_e)+1):[...St]).reverse().find(tn=>tn.route.hasErrorBoundary===!0)||St[0]}function getShortCircuitMatches(St,_e,en){let tn=St.find(nn=>nn.index||!nn.path||nn.path==="/")||{id:"__shim-"+_e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:tn}],route:tn,error:new ErrorResponse(_e,en,null)}}function getNotFoundMatches(St){return getShortCircuitMatches(St,404,"Not Found")}function getMethodNotAllowedResult(St){let _e=typeof St=="string"?St:createPath(St);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+_e+"]")),{type:ResultType.error,error:new ErrorResponse(405,"Method Not Allowed","")}}function findRedirect(St){for(let _e=St.length-1;_e>=0;_e--){let en=St[_e];if(isRedirectResult(en))return en}}function stripHashFromPath(St){let _e=typeof St=="string"?parsePath(St):St;return createPath(_extends$1({},_e,{hash:""}))}function isHashChangeOnly(St,_e){return St.pathname===_e.pathname&&St.search===_e.search&&St.hash!==_e.hash}function isDeferredResult(St){return St.type===ResultType.deferred}function isErrorResult(St){return St.type===ResultType.error}function isRedirectResult(St){return(St&&St.type)===ResultType.redirect}async function resolveDeferredResults(St,_e,en,tn,nn,rn){for(let sn=0;sn<en.length;sn++){let an=en[sn],on=_e[sn],cn=St.find(mn=>mn.route.id===on.route.id),dn=cn!=null&&!isNewRouteInstance(cn,on)&&(rn&&rn[on.route.id])!==void 0;isDeferredResult(an)&&(nn||dn)&&await resolveDeferredData(an,tn,nn).then(mn=>{mn&&(en[sn]=mn||en[sn])})}}async function resolveDeferredData(St,_e,en){if(en===void 0&&(en=!1),!await St.deferredData.resolveData(_e)){if(en)try{return{type:ResultType.data,data:St.deferredData.unwrappedData}}catch(nn){return{type:ResultType.error,error:nn}}return{type:ResultType.data,data:St.deferredData.data}}}function hasNakedIndexQuery(St){return new URLSearchParams(St).getAll("index").some(_e=>_e==="")}function createUseMatchesMatch(St,_e){let{route:en,pathname:tn,params:nn}=St;return{id:en.id,pathname:tn,params:nn,data:_e[en.id],handle:en.handle}}function getTargetMatch(St,_e){let en=typeof _e=="string"?parsePath(_e).search:_e.search;if(St[St.length-1].route.index&&hasNakedIndexQuery(en||""))return St[St.length-1];let tn=getPathContributingMatches(St);return tn[tn.length-1]}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$3=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$3(St,_e,en){var tn,nn={},rn=null,sn=null;en!==void 0&&(rn=""+en),_e.key!==void 0&&(rn=""+_e.key),_e.ref!==void 0&&(sn=_e.ref);for(tn in _e)m$2.call(_e,tn)&&!p$3.hasOwnProperty(tn)&&(nn[tn]=_e[tn]);if(St&&St.defaultProps)for(tn in _e=St.defaultProps,_e)nn[tn]===void 0&&(nn[tn]=_e[tn]);return{$$typeof:k$2,type:St,key:rn,ref:sn,props:nn,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;(function(St){St.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(St){for(var _e=1;_e<arguments.length;_e++){var en=arguments[_e];for(var tn in en)Object.prototype.hasOwnProperty.call(en,tn)&&(St[tn]=en[tn])}return St},_extends.apply(this,arguments)}function isPolyfill(St,_e){return St===_e&&(St!==0||1/St===1/_e)||St!==St&&_e!==_e}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$2;function useSyncExternalStore$2(St,_e,en){const tn=_e(),[{inst:nn},rn]=useState({inst:{value:tn,getSnapshot:_e}});return useLayoutEffect(()=>{nn.value=tn,nn.getSnapshot=_e,checkIfSnapshotChanged(nn)&&rn({inst:nn})},[St,tn,_e]),useEffect(()=>(checkIfSnapshotChanged(nn)&&rn({inst:nn}),St(()=>{checkIfSnapshotChanged(nn)&&rn({inst:nn})})),[St]),useDebugValue(tn),tn}function checkIfSnapshotChanged(St){const _e=St.getSnapshot,en=St.value;try{const tn=_e();return!is(en,tn)}catch{return!0}}function useSyncExternalStore$1(St,_e,en){return _e()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim$1=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2,useSyncExternalStore="useSyncExternalStore"in React$2?(St=>St.useSyncExternalStore)(React$2):shim$1,DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:St,navigator:_e}=react.exports.useContext(NavigationContext),{matches:en}=react.exports.useContext(RouteContext),{pathname:tn}=useLocation(),nn=JSON.stringify(getPathContributingMatches(en).map(an=>an.pathnameBase)),rn=react.exports.useRef(!1);return react.exports.useEffect(()=>{rn.current=!0}),react.exports.useCallback(function(an,on){if(on===void 0&&(on={}),!rn.current)return;if(typeof an=="number"){_e.go(an);return}let cn=resolveTo(an,JSON.parse(nn),tn,on.relative==="path");St!=="/"&&(cn.pathname=cn.pathname==="/"?St:joinPaths([St,cn.pathname])),(on.replace?_e.replace:_e.push)(cn,on.state,on)},[St,_e,nn,tn])}const OutletContext=react.exports.createContext(null);function useOutlet(St){let _e=react.exports.useContext(RouteContext).outlet;return _e&&jsx(OutletContext.Provider,{value:St,children:_e})}function useRoutes(St,_e){useInRouterContext()||invariant$1(!1);let en=react.exports.useContext(DataRouterStateContext),{matches:tn}=react.exports.useContext(RouteContext),nn=tn[tn.length-1],rn=nn?nn.params:{};nn&&nn.pathname;let sn=nn?nn.pathnameBase:"/";nn&&nn.route;let an=useLocation(),on;if(_e){var cn;let yn=typeof _e=="string"?parsePath(_e):_e;sn==="/"||((cn=yn.pathname)==null?void 0:cn.startsWith(sn))||invariant$1(!1),on=yn}else on=an;let dn=on.pathname||"/",mn=sn==="/"?dn:dn.slice(sn.length)||"/",pn=matchRoutes(St,{pathname:mn}),fn=_renderMatches(pn&&pn.map(yn=>Object.assign({},yn,{params:Object.assign({},rn,yn.params),pathname:joinPaths([sn,yn.pathname]),pathnameBase:yn.pathnameBase==="/"?sn:joinPaths([sn,yn.pathnameBase])})),tn,en||void 0);return _e&&fn?jsx(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},on),navigationType:Action.Pop},children:fn}):fn}function DefaultErrorElement(){let St=useRouteError(),_e=isRouteErrorResponse(St)?St.status+" "+St.statusText:St instanceof Error?St.message:JSON.stringify(St),en=St instanceof Error?St.stack:null,tn="rgba(200,200,200, 0.5)",nn={padding:"0.5rem",backgroundColor:tn},rn={padding:"2px 4px",backgroundColor:tn};return jsxs(Fragment,{children:[jsx("h2",{children:"Unhandled Thrown Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:_e}),en?jsx("pre",{style:nn,children:en}):null,jsx("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jsxs("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",jsx("code",{style:rn,children:"errorElement"})," props on\xA0",jsx("code",{style:rn,children:"<Route>"})]})]})}class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,en){return en.location!==_e.location?{error:_e.error,location:_e.location}:{error:_e.error||en.error,location:en.location}}componentDidCatch(_e,en){console.error("React Router caught the following error during render",_e,en)}render(){return this.state.error?jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute(St){let{routeContext:_e,match:en,children:tn}=St,nn=react.exports.useContext(DataStaticRouterContext);return nn&&en.route.errorElement&&(nn._deepestRenderedBoundaryId=en.route.id),jsx(RouteContext.Provider,{value:_e,children:tn})}function _renderMatches(St,_e,en){if(_e===void 0&&(_e=[]),St==null)if(en!=null&&en.errors)St=en.matches;else return null;let tn=St,nn=en==null?void 0:en.errors;if(nn!=null){let rn=tn.findIndex(sn=>sn.route.id&&(nn==null?void 0:nn[sn.route.id]));rn>=0||invariant$1(!1),tn=tn.slice(0,Math.min(tn.length,rn+1))}return tn.reduceRight((rn,sn,an)=>{let on=sn.route.id?nn==null?void 0:nn[sn.route.id]:null,cn=en?sn.route.errorElement||jsx(DefaultErrorElement,{}):null,dn=()=>jsx(RenderedRoute,{match:sn,routeContext:{outlet:rn,matches:_e.concat(tn.slice(0,an+1))},children:on?cn:sn.route.element!==void 0?sn.route.element:rn});return en&&(sn.route.errorElement||an===0)?jsx(RenderErrorBoundary,{location:en.location,component:cn,error:on,children:dn()}):dn()},null)}var DataRouterHook$1;(function(St){St.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(St){St.UseLoaderData="useLoaderData",St.UseActionData="useActionData",St.UseRouteError="useRouteError",St.UseNavigation="useNavigation",St.UseRouteLoaderData="useRouteLoaderData",St.UseMatches="useMatches",St.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(St){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant$1(!1),_e}function useRouteError(){var St;let _e=react.exports.useContext(RouteErrorContext),en=useDataRouterState(DataRouterStateHook$1.UseRouteError),tn=react.exports.useContext(RouteContext),nn=tn.matches[tn.matches.length-1];return _e||(tn||invariant$1(!1),nn.route.id||invariant$1(!1),(St=en.errors)==null?void 0:St[nn.route.id])}function RouterProvider(St){let{fallbackElement:_e,router:en}=St,tn=useSyncExternalStore(en.subscribe,()=>en.state,()=>en.state),nn=react.exports.useMemo(()=>({createHref:en.createHref,go:sn=>en.navigate(sn),push:(sn,an,on)=>en.navigate(sn,{state:an,preventScrollReset:on==null?void 0:on.preventScrollReset}),replace:(sn,an,on)=>en.navigate(sn,{replace:!0,state:an,preventScrollReset:on==null?void 0:on.preventScrollReset})}),[en]),rn=en.basename||"/";return jsx(DataRouterContext.Provider,{value:{router:en,navigator:nn,static:!1,basename:rn},children:jsx(DataRouterStateContext.Provider,{value:tn,children:jsx(Router,{basename:en.basename,location:en.state.location,navigationType:en.state.historyAction,navigator:nn,children:en.state.initialized?jsx(Routes,{}):_e})})})}function Outlet(St){return useOutlet(St.context)}function Route(St){invariant$1(!1)}function Router(St){let{basename:_e="/",children:en=null,location:tn,navigationType:nn=Action.Pop,navigator:rn,static:sn=!1}=St;useInRouterContext()&&invariant$1(!1);let an=_e.replace(/^\/*/,"/"),on=react.exports.useMemo(()=>({basename:an,navigator:rn,static:sn}),[an,rn,sn]);typeof tn=="string"&&(tn=parsePath(tn));let{pathname:cn="/",search:dn="",hash:mn="",state:pn=null,key:fn="default"}=tn,yn=react.exports.useMemo(()=>{let bn=stripBasename(cn,an);return bn==null?null:{pathname:bn,search:dn,hash:mn,state:pn,key:fn}},[an,cn,dn,mn,pn,fn]);return yn==null?null:jsx(NavigationContext.Provider,{value:on,children:jsx(LocationContext.Provider,{children:en,value:{location:yn,navigationType:nn}})})}function Routes(St){let{children:_e,location:en}=St,tn=react.exports.useContext(DataRouterContext),nn=tn&&!_e?tn.router.routes:createRoutesFromChildren(_e);return useRoutes(nn,en)}var AwaitRenderStatus;(function(St){St[St.pending=0]="pending",St[St.success=1]="success",St[St.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(St,_e){_e===void 0&&(_e=[]);let en=[];return react.exports.Children.forEach(St,(tn,nn)=>{if(!react.exports.isValidElement(tn))return;if(tn.type===react.exports.Fragment){en.push.apply(en,createRoutesFromChildren(tn.props.children,_e));return}tn.type!==Route&&invariant$1(!1),!tn.props.index||!tn.props.children||invariant$1(!1);let rn=[..._e,nn],sn={id:tn.props.id||rn.join("-"),caseSensitive:tn.props.caseSensitive,element:tn.props.element,index:tn.props.index,path:tn.props.path,loader:tn.props.loader,action:tn.props.action,errorElement:tn.props.errorElement,hasErrorBoundary:tn.props.errorElement!=null,shouldRevalidate:tn.props.shouldRevalidate,handle:tn.props.handle};tn.props.children&&(sn.children=createRoutesFromChildren(tn.props.children,rn)),en.push(sn)}),en}function enhanceManualRouteObjects(St){return St.map(_e=>{let en=_extends({},_e);return en.hasErrorBoundary==null&&(en.hasErrorBoundary=en.errorElement!=null),en.children&&(en.children=enhanceManualRouteObjects(en.children)),en})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function createBrowserRouter(St,_e){var en;return createRouter({basename:_e==null?void 0:_e.basename,history:createBrowserHistory({window:_e==null?void 0:_e.window}),hydrationData:(_e==null?void 0:_e.hydrationData)||((en=window)==null?void 0:en.__staticRouterHydrationData),routes:enhanceManualRouteObjects(St)}).initialize()}var DataRouterHook;(function(St){St.UseScrollRestoration="useScrollRestoration",St.UseSubmitImpl="useSubmitImpl",St.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(St){St.UseFetchers="useFetchers",St.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const App=()=>jsx(Fragment,{children:jsx(Outlet,{})});var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function St(tn,nn,rn,sn,an,on){if(on!==ReactPropTypesSecret){var cn=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw cn.name="Invariant Violation",cn}}St.isRequired=St;function _e(){return St}var en={array:St,bigint:St,bool:St,func:St,number:St,object:St,string:St,symbol:St,any:St,arrayOf:_e,element:St,elementType:St,instanceOf:_e,node:St,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return en.PropTypes=en,en};propTypes.exports=factoryWithThrowingShims();function __awaiter(St,_e,en,tn){function nn(rn){return rn instanceof en?rn:new en(function(sn){sn(rn)})}return new(en||(en=Promise))(function(rn,sn){function an(dn){try{cn(tn.next(dn))}catch(mn){sn(mn)}}function on(dn){try{cn(tn.throw(dn))}catch(mn){sn(mn)}}function cn(dn){dn.done?rn(dn.value):nn(dn.value).then(an,on)}cn((tn=tn.apply(St,_e||[])).next())})}function __generator(St,_e){var en={label:0,sent:function(){if(rn[0]&1)throw rn[1];return rn[1]},trys:[],ops:[]},tn,nn,rn,sn;return sn={next:an(0),throw:an(1),return:an(2)},typeof Symbol=="function"&&(sn[Symbol.iterator]=function(){return this}),sn;function an(cn){return function(dn){return on([cn,dn])}}function on(cn){if(tn)throw new TypeError("Generator is already executing.");for(;sn&&(sn=0,cn[0]&&(en=0)),en;)try{if(tn=1,nn&&(rn=cn[0]&2?nn.return:cn[0]?nn.throw||((rn=nn.return)&&rn.call(nn),0):nn.next)&&!(rn=rn.call(nn,cn[1])).done)return rn;switch(nn=0,rn&&(cn=[cn[0]&2,rn.value]),cn[0]){case 0:case 1:rn=cn;break;case 4:return en.label++,{value:cn[1],done:!1};case 5:en.label++,nn=cn[1],cn=[0];continue;case 7:cn=en.ops.pop(),en.trys.pop();continue;default:if(rn=en.trys,!(rn=rn.length>0&&rn[rn.length-1])&&(cn[0]===6||cn[0]===2)){en=0;continue}if(cn[0]===3&&(!rn||cn[1]>rn[0]&&cn[1]<rn[3])){en.label=cn[1];break}if(cn[0]===6&&en.label<rn[1]){en.label=rn[1],rn=cn;break}if(rn&&en.label<rn[2]){en.label=rn[2],en.ops.push(cn);break}rn[2]&&en.ops.pop(),en.trys.pop();continue}cn=_e.call(St,en)}catch(dn){cn=[6,dn],nn=0}finally{tn=rn=0}if(cn[0]&5)throw cn[1];return{value:cn[0]?cn[1]:void 0,done:!0}}}function __read(St,_e){var en=typeof Symbol=="function"&&St[Symbol.iterator];if(!en)return St;var tn=en.call(St),nn,rn=[],sn;try{for(;(_e===void 0||_e-- >0)&&!(nn=tn.next()).done;)rn.push(nn.value)}catch(an){sn={error:an}}finally{try{nn&&!nn.done&&(en=tn.return)&&en.call(tn)}finally{if(sn)throw sn.error}}return rn}function __spreadArray(St,_e,en){if(en||arguments.length===2)for(var tn=0,nn=_e.length,rn;tn<nn;tn++)(rn||!(tn in _e))&&(rn||(rn=Array.prototype.slice.call(_e,0,tn)),rn[tn]=_e[tn]);return St.concat(rn||Array.prototype.slice.call(_e))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(St,_e){var en=withMimeType(St);if(typeof en.path!="string"){var tn=St.webkitRelativePath;Object.defineProperty(en,"path",{value:typeof _e=="string"?_e:typeof tn=="string"&&tn.length>0?tn:St.name,writable:!1,configurable:!1,enumerable:!0})}return en}function withMimeType(St){var _e=St.name,en=_e&&_e.lastIndexOf(".")!==-1;if(en&&!St.type){var tn=_e.split(".").pop().toLowerCase(),nn=COMMON_MIME_TYPES.get(tn);nn&&Object.defineProperty(St,"type",{value:nn,writable:!1,configurable:!1,enumerable:!0})}return St}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return isObject(St)&&isDataTransfer(St.dataTransfer)?[2,getDataTransferFiles(St.dataTransfer,St.type)]:isChangeEvt(St)?[2,getInputFiles(St)]:Array.isArray(St)&&St.every(function(en){return"getFile"in en&&typeof en.getFile=="function"})?[2,getFsHandleFiles(St)]:[2,[]]})})}function isDataTransfer(St){return isObject(St)}function isChangeEvt(St){return isObject(St)&&isObject(St.target)}function isObject(St){return typeof St=="object"&&St!==null}function getInputFiles(St){return fromList(St.target.files).map(function(_e){return toFileWithPath(_e)})}function getFsHandleFiles(St){return __awaiter(this,void 0,void 0,function(){var _e;return __generator(this,function(en){switch(en.label){case 0:return[4,Promise.all(St.map(function(tn){return tn.getFile()}))];case 1:return _e=en.sent(),[2,_e.map(function(tn){return toFileWithPath(tn)})]}})})}function getDataTransferFiles(St,_e){return __awaiter(this,void 0,void 0,function(){var en,tn;return __generator(this,function(nn){switch(nn.label){case 0:return St.items?(en=fromList(St.items).filter(function(rn){return rn.kind==="file"}),_e!=="drop"?[2,en]:[4,Promise.all(en.map(toFilePromises))]):[3,2];case 1:return tn=nn.sent(),[2,noIgnoredFiles(flatten(tn))];case 2:return[2,noIgnoredFiles(fromList(St.files).map(function(rn){return toFileWithPath(rn)}))]}})})}function noIgnoredFiles(St){return St.filter(function(_e){return FILES_TO_IGNORE.indexOf(_e.name)===-1})}function fromList(St){if(St===null)return[];for(var _e=[],en=0;en<St.length;en++){var tn=St[en];_e.push(tn)}return _e}function toFilePromises(St){if(typeof St.webkitGetAsEntry!="function")return fromDataTransferItem(St);var _e=St.webkitGetAsEntry();return _e&&_e.isDirectory?fromDirEntry(_e):fromDataTransferItem(St)}function flatten(St){return St.reduce(function(_e,en){return __spreadArray(__spreadArray([],__read(_e),!1),__read(Array.isArray(en)?flatten(en):[en]),!1)},[])}function fromDataTransferItem(St){var _e=St.getAsFile();if(!_e)return Promise.reject("".concat(St," is not a File"));var en=toFileWithPath(_e);return Promise.resolve(en)}function fromEntry(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return[2,St.isDirectory?fromDirEntry(St):fromFileEntry(St)]})})}function fromDirEntry(St){var _e=St.createReader();return new Promise(function(en,tn){var nn=[];function rn(){var sn=this;_e.readEntries(function(an){return __awaiter(sn,void 0,void 0,function(){var on,cn,dn;return __generator(this,function(mn){switch(mn.label){case 0:if(an.length)return[3,5];mn.label=1;case 1:return mn.trys.push([1,3,,4]),[4,Promise.all(nn)];case 2:return on=mn.sent(),en(on),[3,4];case 3:return cn=mn.sent(),tn(cn),[3,4];case 4:return[3,6];case 5:dn=Promise.all(an.map(fromEntry)),nn.push(dn),rn(),mn.label=6;case 6:return[2]}})})},function(an){tn(an)})}rn()})}function fromFileEntry(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return[2,new Promise(function(en,tn){St.file(function(nn){var rn=toFileWithPath(nn,St.fullPath);en(rn)},function(nn){tn(nn)})})]})})}var _default=function(St,_e){if(St&&_e){var en=Array.isArray(_e)?_e:_e.split(","),tn=St.name||"",nn=(St.type||"").toLowerCase(),rn=nn.replace(/\/.*$/,"");return en.some(function(sn){var an=sn.trim().toLowerCase();return an.charAt(0)==="."?tn.toLowerCase().endsWith(an):an.endsWith("/*")?rn===an.replace(/\/.*$/,""):nn===an})}return!0};function _toConsumableArray$1(St){return _arrayWithoutHoles$1(St)||_iterableToArray$1(St)||_unsupportedIterableToArray$1(St)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(St){if(typeof Symbol<"u"&&St[Symbol.iterator]!=null||St["@@iterator"]!=null)return Array.from(St)}function _arrayWithoutHoles$1(St){if(Array.isArray(St))return _arrayLikeToArray$1(St)}function ownKeys$1(St,_e){var en=Object.keys(St);if(Object.getOwnPropertySymbols){var tn=Object.getOwnPropertySymbols(St);_e&&(tn=tn.filter(function(nn){return Object.getOwnPropertyDescriptor(St,nn).enumerable})),en.push.apply(en,tn)}return en}function _objectSpread$1(St){for(var _e=1;_e<arguments.length;_e++){var en=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(en),!0).forEach(function(tn){_defineProperty$1(St,tn,en[tn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(en)):ownKeys$1(Object(en)).forEach(function(tn){Object.defineProperty(St,tn,Object.getOwnPropertyDescriptor(en,tn))})}return St}function _defineProperty$1(St,_e,en){return _e in St?Object.defineProperty(St,_e,{value:en,enumerable:!0,configurable:!0,writable:!0}):St[_e]=en,St}function _slicedToArray$1(St,_e){return _arrayWithHoles$1(St)||_iterableToArrayLimit$1(St,_e)||_unsupportedIterableToArray$1(St,_e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(St,_e){if(!!St){if(typeof St=="string")return _arrayLikeToArray$1(St,_e);var en=Object.prototype.toString.call(St).slice(8,-1);if(en==="Object"&&St.constructor&&(en=St.constructor.name),en==="Map"||en==="Set")return Array.from(St);if(en==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(en))return _arrayLikeToArray$1(St,_e)}}function _arrayLikeToArray$1(St,_e){(_e==null||_e>St.length)&&(_e=St.length);for(var en=0,tn=new Array(_e);en<_e;en++)tn[en]=St[en];return tn}function _iterableToArrayLimit$1(St,_e){var en=St==null?null:typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(en!=null){var tn=[],nn=!0,rn=!1,sn,an;try{for(en=en.call(St);!(nn=(sn=en.next()).done)&&(tn.push(sn.value),!(_e&&tn.length===_e));nn=!0);}catch(on){rn=!0,an=on}finally{try{!nn&&en.return!=null&&en.return()}finally{if(rn)throw an}}return tn}}function _arrayWithHoles$1(St){if(Array.isArray(St))return St}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(_e){_e=Array.isArray(_e)&&_e.length===1?_e[0]:_e;var en=Array.isArray(_e)?"one of ".concat(_e.join(", ")):_e;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(en)}},getTooLargeRejectionErr=function(_e){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(_e," ").concat(_e===1?"byte":"bytes")}},getTooSmallRejectionErr=function(_e){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(_e," ").concat(_e===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(St,_e){var en=St.type==="application/x-moz-file"||_default(St,_e);return[en,en?null:getInvalidTypeRejectionErr(_e)]}function fileMatchSize(St,_e,en){if(isDefined(St.size))if(isDefined(_e)&&isDefined(en)){if(St.size>en)return[!1,getTooLargeRejectionErr(en)];if(St.size<_e)return[!1,getTooSmallRejectionErr(_e)]}else{if(isDefined(_e)&&St.size<_e)return[!1,getTooSmallRejectionErr(_e)];if(isDefined(en)&&St.size>en)return[!1,getTooLargeRejectionErr(en)]}return[!0,null]}function isDefined(St){return St!=null}function allFilesAccepted(St){var _e=St.files,en=St.accept,tn=St.minSize,nn=St.maxSize,rn=St.multiple,sn=St.maxFiles,an=St.validator;return!rn&&_e.length>1||rn&&sn>=1&&_e.length>sn?!1:_e.every(function(on){var cn=fileAccepted(on,en),dn=_slicedToArray$1(cn,1),mn=dn[0],pn=fileMatchSize(on,tn,nn),fn=_slicedToArray$1(pn,1),yn=fn[0],bn=an?an(on):null;return mn&&yn&&!bn})}function isPropagationStopped(St){return typeof St.isPropagationStopped=="function"?St.isPropagationStopped():typeof St.cancelBubble<"u"?St.cancelBubble:!1}function isEvtWithFiles(St){return St.dataTransfer?Array.prototype.some.call(St.dataTransfer.types,function(_e){return _e==="Files"||_e==="application/x-moz-file"}):!!St.target&&!!St.target.files}function onDocumentDragOver(St){St.preventDefault()}function isIe(St){return St.indexOf("MSIE")!==-1||St.indexOf("Trident/")!==-1}function isEdge(St){return St.indexOf("Edge/")!==-1}function isIeOrEdge(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(St)||isEdge(St)}function composeEventHandlers(){for(var St=arguments.length,_e=new Array(St),en=0;en<St;en++)_e[en]=arguments[en];return function(tn){for(var nn=arguments.length,rn=new Array(nn>1?nn-1:0),sn=1;sn<nn;sn++)rn[sn-1]=arguments[sn];return _e.some(function(an){return!isPropagationStopped(tn)&&an&&an.apply(void 0,[tn].concat(rn)),isPropagationStopped(tn)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(St){if(isDefined(St)){var _e=Object.entries(St).filter(function(en){var tn=_slicedToArray$1(en,2),nn=tn[0],rn=tn[1],sn=!0;return isMIMEType(nn)||(console.warn('Skipped "'.concat(nn,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),sn=!1),(!Array.isArray(rn)||!rn.every(isExt))&&(console.warn('Skipped "'.concat(nn,'" because an invalid file extension was provided.')),sn=!1),sn}).reduce(function(en,tn){var nn=_slicedToArray$1(tn,2),rn=nn[0],sn=nn[1];return _objectSpread$1(_objectSpread$1({},en),{},_defineProperty$1({},rn,sn))},{});return[{description:"Files",accept:_e}]}return St}function acceptPropAsAcceptAttr(St){if(isDefined(St))return Object.entries(St).reduce(function(_e,en){var tn=_slicedToArray$1(en,2),nn=tn[0],rn=tn[1];return[].concat(_toConsumableArray$1(_e),[nn],_toConsumableArray$1(rn))},[]).filter(function(_e){return isMIMEType(_e)||isExt(_e)}).join(",")}function isAbort(St){return St instanceof DOMException&&(St.name==="AbortError"||St.code===St.ABORT_ERR)}function isSecurityError(St){return St instanceof DOMException&&(St.name==="SecurityError"||St.code===St.SECURITY_ERR)}function isMIMEType(St){return St==="audio/*"||St==="video/*"||St==="image/*"||St==="text/*"||/\w+\/[-+.\w]+/g.test(St)}function isExt(St){return/^.*\.[\w]+$/.test(St)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(St){return _arrayWithoutHoles(St)||_iterableToArray(St)||_unsupportedIterableToArray(St)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(St){if(typeof Symbol<"u"&&St[Symbol.iterator]!=null||St["@@iterator"]!=null)return Array.from(St)}function _arrayWithoutHoles(St){if(Array.isArray(St))return _arrayLikeToArray(St)}function _slicedToArray(St,_e){return _arrayWithHoles(St)||_iterableToArrayLimit(St,_e)||_unsupportedIterableToArray(St,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(St,_e){if(!!St){if(typeof St=="string")return _arrayLikeToArray(St,_e);var en=Object.prototype.toString.call(St).slice(8,-1);if(en==="Object"&&St.constructor&&(en=St.constructor.name),en==="Map"||en==="Set")return Array.from(St);if(en==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(en))return _arrayLikeToArray(St,_e)}}function _arrayLikeToArray(St,_e){(_e==null||_e>St.length)&&(_e=St.length);for(var en=0,tn=new Array(_e);en<_e;en++)tn[en]=St[en];return tn}function _iterableToArrayLimit(St,_e){var en=St==null?null:typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(en!=null){var tn=[],nn=!0,rn=!1,sn,an;try{for(en=en.call(St);!(nn=(sn=en.next()).done)&&(tn.push(sn.value),!(_e&&tn.length===_e));nn=!0);}catch(on){rn=!0,an=on}finally{try{!nn&&en.return!=null&&en.return()}finally{if(rn)throw an}}return tn}}function _arrayWithHoles(St){if(Array.isArray(St))return St}function ownKeys(St,_e){var en=Object.keys(St);if(Object.getOwnPropertySymbols){var tn=Object.getOwnPropertySymbols(St);_e&&(tn=tn.filter(function(nn){return Object.getOwnPropertyDescriptor(St,nn).enumerable})),en.push.apply(en,tn)}return en}function _objectSpread(St){for(var _e=1;_e<arguments.length;_e++){var en=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(en),!0).forEach(function(tn){_defineProperty(St,tn,en[tn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(en)):ownKeys(Object(en)).forEach(function(tn){Object.defineProperty(St,tn,Object.getOwnPropertyDescriptor(en,tn))})}return St}function _defineProperty(St,_e,en){return _e in St?Object.defineProperty(St,_e,{value:en,enumerable:!0,configurable:!0,writable:!0}):St[_e]=en,St}function _objectWithoutProperties(St,_e){if(St==null)return{};var en=_objectWithoutPropertiesLoose(St,_e),tn,nn;if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(St);for(nn=0;nn<rn.length;nn++)tn=rn[nn],!(_e.indexOf(tn)>=0)&&(!Object.prototype.propertyIsEnumerable.call(St,tn)||(en[tn]=St[tn]))}return en}function _objectWithoutPropertiesLoose(St,_e){if(St==null)return{};var en={},tn=Object.keys(St),nn,rn;for(rn=0;rn<tn.length;rn++)nn=tn[rn],!(_e.indexOf(nn)>=0)&&(en[nn]=St[nn]);return en}var Dropzone=react.exports.forwardRef(function(St,_e){var en=St.children,tn=_objectWithoutProperties(St,_excluded),nn=useDropzone(tn),rn=nn.open,sn=_objectWithoutProperties(nn,_excluded2);return react.exports.useImperativeHandle(_e,function(){return{open:rn}},[rn]),jsx(react.exports.Fragment,{children:en(_objectSpread(_objectSpread({},sn),{},{open:rn}))})});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:propTypes.exports.func,accept:propTypes.exports.objectOf(propTypes.exports.arrayOf(propTypes.exports.string)),multiple:propTypes.exports.bool,preventDropOnDocument:propTypes.exports.bool,noClick:propTypes.exports.bool,noKeyboard:propTypes.exports.bool,noDrag:propTypes.exports.bool,noDragEventsBubbling:propTypes.exports.bool,minSize:propTypes.exports.number,maxSize:propTypes.exports.number,maxFiles:propTypes.exports.number,disabled:propTypes.exports.bool,getFilesFromEvent:propTypes.exports.func,onFileDialogCancel:propTypes.exports.func,onFileDialogOpen:propTypes.exports.func,useFsAccessApi:propTypes.exports.bool,autoFocus:propTypes.exports.bool,onDragEnter:propTypes.exports.func,onDragLeave:propTypes.exports.func,onDragOver:propTypes.exports.func,onDrop:propTypes.exports.func,onDropAccepted:propTypes.exports.func,onDropRejected:propTypes.exports.func,onError:propTypes.exports.func,validator:propTypes.exports.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=_objectSpread(_objectSpread({},defaultProps),St),en=_e.accept,tn=_e.disabled,nn=_e.getFilesFromEvent,rn=_e.maxSize,sn=_e.minSize,an=_e.multiple,on=_e.maxFiles,cn=_e.onDragEnter,dn=_e.onDragLeave,mn=_e.onDragOver,pn=_e.onDrop,fn=_e.onDropAccepted,yn=_e.onDropRejected,bn=_e.onFileDialogCancel,wn=_e.onFileDialogOpen,vn=_e.useFsAccessApi,Sn=_e.autoFocus,xn=_e.preventDropOnDocument,En=_e.noClick,Cn=_e.noKeyboard,kn=_e.noDrag,In=_e.noDragEventsBubbling,Dn=_e.onError,Wn=_e.validator,Vn=react.exports.useMemo(function(){return acceptPropAsAcceptAttr(en)},[en]),On=react.exports.useMemo(function(){return pickerOptionsFromAccept(en)},[en]),zn=react.exports.useMemo(function(){return typeof wn=="function"?wn:noop},[wn]),nr=react.exports.useMemo(function(){return typeof bn=="function"?bn:noop},[bn]),Yn=react.exports.useRef(null),ar=react.exports.useRef(null),tr=react.exports.useReducer(reducer,initialState),dr=_slicedToArray(tr,2),Jn=dr[0],hr=dr[1],yr=Jn.isFocused,Mr=Jn.isFileDialogActive,Mn=react.exports.useRef(typeof window<"u"&&window.isSecureContext&&vn&&canUseFileSystemAccessAPI()),Fn=function(){!Mn.current&&Mr&&setTimeout(function(){if(ar.current){var Rr=ar.current.files;Rr.length||(hr({type:"closeDialog"}),nr())}},300)};react.exports.useEffect(function(){return window.addEventListener("focus",Fn,!1),function(){window.removeEventListener("focus",Fn,!1)}},[ar,Mr,nr,Mn]);var Nn=react.exports.useRef([]),Un=function(Rr){Yn.current&&Yn.current.contains(Rr.target)||(Rr.preventDefault(),Nn.current=[])};react.exports.useEffect(function(){return xn&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Un,!1)),function(){xn&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Un))}},[Yn,xn]),react.exports.useEffect(function(){return!tn&&Sn&&Yn.current&&Yn.current.focus(),function(){}},[Yn,Sn,tn]);var qn=react.exports.useCallback(function(lr){Dn?Dn(lr):console.error(lr)},[Dn]),er=react.exports.useCallback(function(lr){lr.preventDefault(),lr.persist(),pr(lr),Nn.current=[].concat(_toConsumableArray(Nn.current),[lr.target]),isEvtWithFiles(lr)&&Promise.resolve(nn(lr)).then(function(Rr){if(!(isPropagationStopped(lr)&&!In)){var zr=Rr.length,qr=zr>0&&allFilesAccepted({files:Rr,accept:Vn,minSize:sn,maxSize:rn,multiple:an,maxFiles:on,validator:Wn}),Ar=zr>0&&!qr;hr({isDragAccept:qr,isDragReject:Ar,isDragActive:!0,type:"setDraggedFiles"}),cn&&cn(lr)}}).catch(function(Rr){return qn(Rr)})},[nn,cn,qn,In,Vn,sn,rn,an,on,Wn]),sr=react.exports.useCallback(function(lr){lr.preventDefault(),lr.persist(),pr(lr);var Rr=isEvtWithFiles(lr);if(Rr&&lr.dataTransfer)try{lr.dataTransfer.dropEffect="copy"}catch{}return Rr&&mn&&mn(lr),!1},[mn,In]),ur=react.exports.useCallback(function(lr){lr.preventDefault(),lr.persist(),pr(lr);var Rr=Nn.current.filter(function(qr){return Yn.current&&Yn.current.contains(qr)}),zr=Rr.indexOf(lr.target);zr!==-1&&Rr.splice(zr,1),Nn.current=Rr,!(Rr.length>0)&&(hr({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(lr)&&dn&&dn(lr))},[Yn,dn,In]),br=react.exports.useCallback(function(lr,Rr){var zr=[],qr=[];lr.forEach(function(Ar){var Hr=fileAccepted(Ar,Vn),ns=_slicedToArray(Hr,2),Xr=ns[0],Cs=ns[1],ms=fileMatchSize(Ar,sn,rn),ys=_slicedToArray(ms,2),ks=ys[0],Rs=ys[1],_r=Wn?Wn(Ar):null;if(Xr&&ks&&!_r)zr.push(Ar);else{var gr=[Cs,Rs];_r&&(gr=gr.concat(_r)),qr.push({file:Ar,errors:gr.filter(function(Cr){return Cr})})}}),(!an&&zr.length>1||an&&on>=1&&zr.length>on)&&(zr.forEach(function(Ar){qr.push({file:Ar,errors:[TOO_MANY_FILES_REJECTION]})}),zr.splice(0)),hr({acceptedFiles:zr,fileRejections:qr,type:"setFiles"}),pn&&pn(zr,qr,Rr),qr.length>0&&yn&&yn(qr,Rr),zr.length>0&&fn&&fn(zr,Rr)},[hr,an,Vn,sn,rn,on,pn,fn,yn,Wn]),kr=react.exports.useCallback(function(lr){lr.preventDefault(),lr.persist(),pr(lr),Nn.current=[],isEvtWithFiles(lr)&&Promise.resolve(nn(lr)).then(function(Rr){isPropagationStopped(lr)&&!In||br(Rr,lr)}).catch(function(Rr){return qn(Rr)}),hr({type:"reset"})},[nn,br,qn,In]),Er=react.exports.useCallback(function(){if(Mn.current){hr({type:"openDialog"}),zn();var lr={multiple:an,types:On};window.showOpenFilePicker(lr).then(function(Rr){return nn(Rr)}).then(function(Rr){br(Rr,null),hr({type:"closeDialog"})}).catch(function(Rr){isAbort(Rr)?(nr(Rr),hr({type:"closeDialog"})):isSecurityError(Rr)?(Mn.current=!1,ar.current?(ar.current.value=null,ar.current.click()):qn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):qn(Rr)});return}ar.current&&(hr({type:"openDialog"}),zn(),ar.current.value=null,ar.current.click())},[hr,zn,nr,vn,br,qn,On,an]),Pr=react.exports.useCallback(function(lr){!Yn.current||!Yn.current.isEqualNode(lr.target)||(lr.key===" "||lr.key==="Enter"||lr.keyCode===32||lr.keyCode===13)&&(lr.preventDefault(),Er())},[Yn,Er]),$n=react.exports.useCallback(function(){hr({type:"focus"})},[]),Gn=react.exports.useCallback(function(){hr({type:"blur"})},[]),jn=react.exports.useCallback(function(){En||(isIeOrEdge()?setTimeout(Er,0):Er())},[En,Er]),fr=function(Rr){return tn?null:Rr},Xn=function(Rr){return Cn?null:fr(Rr)},Zn=function(Rr){return kn?null:fr(Rr)},pr=function(Rr){In&&Rr.stopPropagation()},Tr=react.exports.useMemo(function(){return function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Rr=lr.refKey,zr=Rr===void 0?"ref":Rr,qr=lr.role,Ar=lr.onKeyDown,Hr=lr.onFocus,ns=lr.onBlur,Xr=lr.onClick,Cs=lr.onDragEnter,ms=lr.onDragOver,ys=lr.onDragLeave,ks=lr.onDrop,Rs=_objectWithoutProperties(lr,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Xn(composeEventHandlers(Ar,Pr)),onFocus:Xn(composeEventHandlers(Hr,$n)),onBlur:Xn(composeEventHandlers(ns,Gn)),onClick:fr(composeEventHandlers(Xr,jn)),onDragEnter:Zn(composeEventHandlers(Cs,er)),onDragOver:Zn(composeEventHandlers(ms,sr)),onDragLeave:Zn(composeEventHandlers(ys,ur)),onDrop:Zn(composeEventHandlers(ks,kr)),role:typeof qr=="string"&&qr!==""?qr:"presentation"},zr,Yn),!tn&&!Cn?{tabIndex:0}:{}),Rs)}},[Yn,Pr,$n,Gn,jn,er,sr,ur,kr,Cn,kn,tn]),xr=react.exports.useCallback(function(lr){lr.stopPropagation()},[]),Ur=react.exports.useMemo(function(){return function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Rr=lr.refKey,zr=Rr===void 0?"ref":Rr,qr=lr.onChange,Ar=lr.onClick,Hr=_objectWithoutProperties(lr,_excluded4),ns=_defineProperty({accept:Vn,multiple:an,type:"file",style:{display:"none"},onChange:fr(composeEventHandlers(qr,kr)),onClick:fr(composeEventHandlers(Ar,xr)),tabIndex:-1},zr,ar);return _objectSpread(_objectSpread({},ns),Hr)}},[ar,en,an,kr,tn]);return _objectSpread(_objectSpread({},Jn),{},{isFocused:yr&&!tn,getRootProps:Tr,getInputProps:Ur,rootRef:Yn,inputRef:ar,open:fr(Er)})}function reducer(St,_e){switch(_e.type){case"focus":return _objectSpread(_objectSpread({},St),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},St),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},St),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},St),{},{isDragActive:_e.isDragActive,isDragAccept:_e.isDragAccept,isDragReject:_e.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},St),{},{acceptedFiles:_e.acceptedFiles,fileRejections:_e.fileRejections});case"reset":return _objectSpread({},initialState);default:return St}}function noop(){}const imageUpload="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAABsCAYAAAB3hqw6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATPSURBVHgB7dpNaBxlHAbw/7vphmwEu2wFUdpmD6GtB3XxKqXRnixKIwgSbHGikPbWghoQLEkOvfQgkV6irckULAYEU7UHe1AbihYVbcRik/rBxmQhh2SzUZPdJO28zkw/aGdndmbSye5/+z4/GMLOxxL2mXfmmQ+xuLQsSUF//pXN/vTjb890dr6YJaZipKiV5dV0PE7fDA2NpIkpZcO5iXVAqodjsQM6fXokQ8wgnBvSUvILSKhaCK5c+Z3GzcmhIOX1zv37XzpDATUd1NK0Qm3mbp6ONcRarHnGdWPS/FELgmisdFI/T2uEcFzFtH379p7y2japacmVxtghacjDJChJlUgzJCHOGKtGX0nXsxQCwvFUHlCoUFwIEnqYkHDO8WTo5jmo59anuKZlluPikpSydy3BWCRJTZjfkejSDgdZHyPHhxDU2zV6NmsYRv9aQ3H/XtG79MFgX6V1MHJ8jM/P9hrS0KMMxmKNwOau13oqrYNwKpgrLdHQxFigdXdu307n3ui2p2MvdwTaxg7oda3daznCqcAKxgooiJZND5kB7bCnJzdvoaBkTAxZRcNtGcLx8N3MFE0UZqkKkqVGci0ICMfD55MTVC1CikNuowfhuLBGTNDDWUSSyxtIc85EOC4uzc5Q1Qmx1zkL4biYXlygGmhzHto2+G0xODhMuVwN9qQIHDkS6EK8zNR//1AtLMYpbf653d19wykWSzQ/XyBVLF1btSenndt20Lk3u4N8hV2nzat/z+VHv/jMnpyEETKcVCpJ+XykF8csJDc+SFtbNpfNn/m3NqPGEpMU7rDW0dFO96NHHn3YnpwWikWikY+oJmKUvfOjbziq2ZhImFOzGdLdVfrC1XF67O23PLd7IfPU7ds2FybGqUv/0HNdewcIAOG42JJK0UKu/Dpncm7Oc5uCI8xK63ppumY+Ob3jM6q0i6dbt1ENjBV0/a7mhSrtYs8TGXp/9GuqLjnqnIMq7cIaOW7nnfUkG6jfOU/ZKu3nwK5n6diXZ6kaBEm9OFD+XoGyVdrPgbbdNPzDRfo7H/7EHpbRQK6Pq1EIPFiV+vgrr9J6k0L2lQbc38ZR9gWPoAZGv6J3Pv2E1oP5mPpU6aSueS3HyPFxcNdu6n7ueYqaXzAW35GjYpV2E+0Iku8VT+i+/xyqdEDWCNrzeIbaj7+79pIgKCsN2Rn0/WlU6RC2pjbRzz1H6WOzxQ1/f5G+/eNq0E3HDPMwlniA9EK/HnhPRyG4B9YIsgK6PD1Fl3PT9kXrr7npLEnz7rIQWSmNXwxB51dP6MFefnNAOBFrTjSmhRCTFAG0NcYQDmP39V3p9dDamq7aLS1U6ZDy+er9FqjSISUSTVQtaGsRQ1tTBMJhDOEwhiodEqo0Y6jSjKFK1zFUaUUgHMYQDmOo0iGhSjOGKs0YqnQdQ5VWBMJhDOEwhiodEqo0Y6jSjKFK1zFUaUUgHMYQDmOo0iGhSjOGKs0YqnQdQ5VWBMJhDOEwhiodEqo0Y6jSjKFK1zFUaUUgHMYQDmOo0iGhSjOGKs0YqnQdQ5VWBMJhDOEwhiodEqo0Y6jSjKFK1zFUaUUgHMYQDmOo0iGhSjOGKs0YqnQdQ5VWBMJhDOEwhnAYQziMIRzGEA5jCIcxhMPY/8LUf33OO+bGAAAAAElFTkSuQmCC",createStoreImpl=St=>{let _e;const en=new Set,tn=(on,cn)=>{const dn=typeof on=="function"?on(_e):on;if(!Object.is(dn,_e)){const mn=_e;_e=(cn!=null?cn:typeof dn!="object")?dn:Object.assign({},_e,dn),en.forEach(pn=>pn(_e,mn))}},nn=()=>_e,an={setState:tn,getState:nn,subscribe:on=>(en.add(on),()=>en.delete(on)),destroy:()=>en.clear()};return _e=St(tn,nn,an),an},createStore=St=>St?createStoreImpl(St):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=react.exports;function h$2(St,_e){return St===_e&&(St!==0||1/St===1/_e)||St!==St&&_e!==_e}var k$1=typeof Object.is=="function"?Object.is:h$2,l$1=e.useState,m$1=e.useEffect,n$2=e.useLayoutEffect,p$2=e.useDebugValue;function q$2(St,_e){var en=_e(),tn=l$1({inst:{value:en,getSnapshot:_e}}),nn=tn[0].inst,rn=tn[1];return n$2(function(){nn.value=en,nn.getSnapshot=_e,r$1(nn)&&rn({inst:nn})},[St,en,_e]),m$1(function(){return r$1(nn)&&rn({inst:nn}),St(function(){r$1(nn)&&rn({inst:nn})})},[St]),p$2(en),en}function r$1(St){var _e=St.getSnapshot;St=St.value;try{var en=_e();return!k$1(St,en)}catch{return!0}}function t$1(St,_e){return _e()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$2;(function(St){St.exports=useSyncExternalStoreShim_production_min})(shim);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$1=react.exports,n$1=shim.exports;function p$1(St,_e){return St===_e&&(St!==0||1/St===1/_e)||St!==St&&_e!==_e}var q$1=typeof Object.is=="function"?Object.is:p$1,r=n$1.useSyncExternalStore,t=h$1.useRef,u$1=h$1.useEffect,v$1=h$1.useMemo,w$1=h$1.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(St,_e,en,tn,nn){var rn=t(null);if(rn.current===null){var sn={hasValue:!1,value:null};rn.current=sn}else sn=rn.current;rn=v$1(function(){function on(fn){if(!cn){if(cn=!0,dn=fn,fn=tn(fn),nn!==void 0&&sn.hasValue){var yn=sn.value;if(nn(yn,fn))return mn=yn}return mn=fn}if(yn=mn,q$1(dn,fn))return yn;var bn=tn(fn);return nn!==void 0&&nn(yn,bn)?yn:(dn=fn,mn=bn)}var cn=!1,dn,mn,pn=en===void 0?null:en;return[function(){return on(_e())},pn===null?void 0:function(){return on(pn())}]},[_e,en,tn,nn]);var an=r(St,rn[0],rn[1]);return u$1(function(){sn.hasValue=!0,sn.value=an},[an]),w$1(an),an};(function(St){St.exports=withSelector_production_min})(withSelector);const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelector.exports),{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(St,_e=St.getState,en){const tn=useSyncExternalStoreWithSelector(St.subscribe,St.getState,St.getServerState||St.getState,_e,en);return react.exports.useDebugValue(tn),tn}const createImpl=St=>{const _e=typeof St=="function"?createStore(St):St,en=(tn,nn)=>useStore(_e,tn,nn);return Object.assign(en,_e),en},create=St=>St?createImpl(St):createImpl,useBaseFileStore=create(St=>({canvasEl:void 0,pdfDocProxy:void 0,finalData:void 0,setPdfDocProxy:_e=>St({pdfDocProxy:_e}),setCanvasEl:_e=>St({canvasEl:_e}),setFinalData:_e=>St({finalData:_e})})),toThenable=St=>_e=>{try{const en=St(_e);return en instanceof Promise?en:{then(tn){return toThenable(tn)(en)},catch(tn){return this}}}catch(en){return{then(tn){return this},catch(tn){return toThenable(tn)(en)}}}},persistImpl=(St,_e)=>(en,tn,nn)=>{let rn={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:wn=>wn,version:0,merge:(wn,vn)=>({...vn,...wn}),..._e},sn=!1;const an=new Set,on=new Set;let cn;try{cn=rn.getStorage()}catch{}if(!cn)return St((...wn)=>{console.warn(`[zustand persist middleware] Unable to update item '${rn.name}', the given storage is currently unavailable.`),en(...wn)},tn,nn);const dn=toThenable(rn.serialize),mn=()=>{const wn=rn.partialize({...tn()});let vn;const Sn=dn({state:wn,version:rn.version}).then(xn=>cn.setItem(rn.name,xn)).catch(xn=>{vn=xn});if(vn)throw vn;return Sn},pn=nn.setState;nn.setState=(wn,vn)=>{pn(wn,vn),mn()};const fn=St((...wn)=>{en(...wn),mn()},tn,nn);let yn;const bn=()=>{var wn;if(!cn)return;sn=!1,an.forEach(Sn=>Sn(tn()));const vn=((wn=rn.onRehydrateStorage)==null?void 0:wn.call(rn,tn()))||void 0;return toThenable(cn.getItem.bind(cn))(rn.name).then(Sn=>{if(Sn)return rn.deserialize(Sn)}).then(Sn=>{if(Sn)if(typeof Sn.version=="number"&&Sn.version!==rn.version){if(rn.migrate)return rn.migrate(Sn.state,Sn.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Sn.state}).then(Sn=>{var xn;return yn=rn.merge(Sn,(xn=tn())!=null?xn:fn),en(yn,!0),mn()}).then(()=>{vn==null||vn(yn,void 0),sn=!0,on.forEach(Sn=>Sn(yn))}).catch(Sn=>{vn==null||vn(void 0,Sn)})};return nn.persist={setOptions:wn=>{rn={...rn,...wn},wn.getStorage&&(cn=wn.getStorage())},clearStorage:()=>{cn==null||cn.removeItem(rn.name)},getOptions:()=>rn,rehydrate:()=>bn(),hasHydrated:()=>sn,onHydrate:wn=>(an.add(wn),()=>{an.delete(wn)}),onFinishHydration:wn=>(on.add(wn),()=>{on.delete(wn)})},bn(),yn||fn},persist=persistImpl;let nanoid=(St=21)=>crypto.getRandomValues(new Uint8Array(St)).reduce((_e,en)=>(en&=63,en<36?_e+=en.toString(36):en<62?_e+=(en-26).toString(36).toUpperCase():en>62?_e+="-":_e+="_",_e),"");const useSignStore=create()(persist(St=>({localList:[],saveToLocal:_e=>St(en=>({localList:[...en.localList,{id:nanoid(),url:_e}]})),removeFromLocal:_e=>St(en=>({localList:[...en.localList.filter(tn=>tn.id!==_e)]})),usingList:[],selectedId:"",apply:_e=>St(en=>({usingList:[...en.usingList,_e]})),remove:_e=>St(en=>({usingList:[...en.usingList.filter(tn=>tn.id!==_e)]})),select:_e=>{St({selectedId:_e})}}),{name:"sign-storage",partialize:St=>({localList:St.localList})})),fileTobase64=St=>new Promise((_e,en)=>{if(St){const tn=new FileReader;tn.addEventListener("load",()=>{typeof tn.result=="string"&&_e(tn.result)}),tn.addEventListener("error",en),tn.readAsDataURL(St)}else throw en("file is null")});function commonjsRequire(St){throw new Error('Could not dynamically require "'+St+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_e,en){module.exports=en()})(globalThis,()=>(()=>{var __webpack_modules__=[,(St,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.UNSUPPORTED_FEATURES=_e.TextRenderingMode=_e.StreamType=_e.RenderingIntentFlag=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FontType=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.AnnotationType=_e.AnnotationStateModelType=_e.AnnotationReviewState=_e.AnnotationReplyType=_e.AnnotationMode=_e.AnnotationMarkedState=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.arrayByteLength=jn,_e.arraysToBytes=fr,_e.assert=Mn,_e.bytesToString=$n,_e.createPromiseCapability=Rs,_e.createValidAbsoluteUrl=Nn,_e.escapeString=Ar,_e.getModificationDate=ks,_e.getVerbosityLevel=Jn,_e.info=hr,_e.isArrayBuffer=ms,_e.isArrayEqual=ys,_e.isAscii=Hr,_e.objectFromMap=pr,_e.objectSize=Zn,_e.setVerbosityLevel=dr,_e.shadow=Un,_e.string32=Xn,_e.stringToBytes=Gn,_e.stringToPDFString=qr,_e.stringToUTF16BEString=ns,_e.stringToUTF8String=Xr,_e.unreachable=Mr,_e.utf8StringToString=Cs,_e.warn=yr;const en=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=en;const tn=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=tn;const nn=1.35;_e.LINE_FACTOR=nn;const rn=.35;_e.LINE_DESCENT_FACTOR=rn;const sn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=sn;const an={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=an;const on="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=on;const cn={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};_e.AnnotationEditorType=cn;const dn={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};_e.AnnotationEditorParamsType=dn;const mn={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=mn;const pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=pn;const fn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=fn;const yn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=yn;const bn={MARKED:"Marked",REVIEW:"Review"};_e.AnnotationStateModelType=bn;const wn={MARKED:"Marked",UNMARKED:"Unmarked"};_e.AnnotationMarkedState=wn;const vn={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};_e.AnnotationReviewState=vn;const Sn={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=Sn;const xn={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=xn;const En={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=En;const Cn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=Cn;const kn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=kn;const In={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=In;const Dn={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=Dn;const Wn={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};_e.StreamType=Wn;const Vn={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};_e.FontType=Vn;const On={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=On;const zn={NONE:0,BINARY:1};_e.CMapCompressionType=zn;const nr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=nr;const Yn={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};_e.UNSUPPORTED_FEATURES=Yn;const ar={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=ar;let tr=On.WARNINGS;function dr(_r){Number.isInteger(_r)&&(tr=_r)}function Jn(){return tr}function hr(_r){tr>=On.INFOS&&console.log(`Info: ${_r}`)}function yr(_r){tr>=On.WARNINGS&&console.log(`Warning: ${_r}`)}function Mr(_r){throw new Error(_r)}function Mn(_r,gr){_r||Mr(gr)}function Fn(_r){if(!_r)return!1;switch(_r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Nn(_r,gr=null,Cr=null){if(!_r)return null;try{if(Cr&&typeof _r=="string"){if(Cr.addDefaultProtocol&&_r.startsWith("www.")){const cs=_r.match(/\./g);cs&&cs.length>=2&&(_r=`http://${_r}`)}if(Cr.tryConvertEncoding)try{_r=Xr(_r)}catch{}}const _i=gr?new URL(_r,gr):new URL(_r);if(Fn(_i))return _i}catch{}return null}function Un(_r,gr,Cr){return Object.defineProperty(_r,gr,{value:Cr,enumerable:!0,configurable:!0,writable:!1}),Cr}const qn=function(){function gr(Cr,_i){this.constructor===gr&&Mr("Cannot initialize BaseException."),this.message=Cr,this.name=_i}return gr.prototype=new Error,gr.constructor=gr,gr}();_e.BaseException=qn;class er extends qn{constructor(gr,Cr){super(gr,"PasswordException"),this.code=Cr}}_e.PasswordException=er;class sr extends qn{constructor(gr,Cr){super(gr,"UnknownErrorException"),this.details=Cr}}_e.UnknownErrorException=sr;class ur extends qn{constructor(gr){super(gr,"InvalidPDFException")}}_e.InvalidPDFException=ur;class br extends qn{constructor(gr){super(gr,"MissingPDFException")}}_e.MissingPDFException=br;class kr extends qn{constructor(gr,Cr){super(gr,"UnexpectedResponseException"),this.status=Cr}}_e.UnexpectedResponseException=kr;class Er extends qn{constructor(gr){super(gr,"FormatError")}}_e.FormatError=Er;class Pr extends qn{constructor(gr){super(gr,"AbortException")}}_e.AbortException=Pr;function $n(_r){(typeof _r!="object"||_r===null||_r.length===void 0)&&Mr("Invalid argument for bytesToString");const gr=_r.length,Cr=8192;if(gr<Cr)return String.fromCharCode.apply(null,_r);const _i=[];for(let cs=0;cs<gr;cs+=Cr){const xs=Math.min(cs+Cr,gr),ls=_r.subarray(cs,xs);_i.push(String.fromCharCode.apply(null,ls))}return _i.join("")}function Gn(_r){typeof _r!="string"&&Mr("Invalid argument for stringToBytes");const gr=_r.length,Cr=new Uint8Array(gr);for(let _i=0;_i<gr;++_i)Cr[_i]=_r.charCodeAt(_i)&255;return Cr}function jn(_r){if(_r.length!==void 0)return _r.length;if(_r.byteLength!==void 0)return _r.byteLength;Mr("Invalid argument for arrayByteLength")}function fr(_r){const gr=_r.length;if(gr===1&&_r[0]instanceof Uint8Array)return _r[0];let Cr=0;for(let xs=0;xs<gr;xs++)Cr+=jn(_r[xs]);let _i=0;const cs=new Uint8Array(Cr);for(let xs=0;xs<gr;xs++){let ls=_r[xs];ls instanceof Uint8Array||(typeof ls=="string"?ls=Gn(ls):ls=new Uint8Array(ls));const as=ls.byteLength;cs.set(ls,_i),_i+=as}return cs}function Xn(_r){return String.fromCharCode(_r>>24&255,_r>>16&255,_r>>8&255,_r&255)}function Zn(_r){return Object.keys(_r).length}function pr(_r){const gr=Object.create(null);for(const[Cr,_i]of _r)gr[Cr]=_i;return gr}function Tr(){const _r=new Uint8Array(4);return _r[0]=1,new Uint32Array(_r.buffer,0,1)[0]===1}function xr(){try{return new Function(""),!0}catch{return!1}}class Ur{static get isLittleEndian(){return Un(this,"isLittleEndian",Tr())}static get isEvalSupported(){return Un(this,"isEvalSupported",xr())}static get isOffscreenCanvasSupported(){return Un(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}_e.FeatureTest=Ur;const lr=[...Array(256).keys()].map(_r=>_r.toString(16).padStart(2,"0"));class Rr{static makeHexColor(gr,Cr,_i){return`#${lr[gr]}${lr[Cr]}${lr[_i]}`}static scaleMinMax(gr,Cr){let _i;gr[0]?(gr[0]<0&&(_i=Cr[0],Cr[0]=Cr[1],Cr[1]=_i),Cr[0]*=gr[0],Cr[1]*=gr[0],gr[3]<0&&(_i=Cr[2],Cr[2]=Cr[3],Cr[3]=_i),Cr[2]*=gr[3],Cr[3]*=gr[3]):(_i=Cr[0],Cr[0]=Cr[2],Cr[2]=_i,_i=Cr[1],Cr[1]=Cr[3],Cr[3]=_i,gr[1]<0&&(_i=Cr[2],Cr[2]=Cr[3],Cr[3]=_i),Cr[2]*=gr[1],Cr[3]*=gr[1],gr[2]<0&&(_i=Cr[0],Cr[0]=Cr[1],Cr[1]=_i),Cr[0]*=gr[2],Cr[1]*=gr[2]),Cr[0]+=gr[4],Cr[1]+=gr[4],Cr[2]+=gr[5],Cr[3]+=gr[5]}static transform(gr,Cr){return[gr[0]*Cr[0]+gr[2]*Cr[1],gr[1]*Cr[0]+gr[3]*Cr[1],gr[0]*Cr[2]+gr[2]*Cr[3],gr[1]*Cr[2]+gr[3]*Cr[3],gr[0]*Cr[4]+gr[2]*Cr[5]+gr[4],gr[1]*Cr[4]+gr[3]*Cr[5]+gr[5]]}static applyTransform(gr,Cr){const _i=gr[0]*Cr[0]+gr[1]*Cr[2]+Cr[4],cs=gr[0]*Cr[1]+gr[1]*Cr[3]+Cr[5];return[_i,cs]}static applyInverseTransform(gr,Cr){const _i=Cr[0]*Cr[3]-Cr[1]*Cr[2],cs=(gr[0]*Cr[3]-gr[1]*Cr[2]+Cr[2]*Cr[5]-Cr[4]*Cr[3])/_i,xs=(-gr[0]*Cr[1]+gr[1]*Cr[0]+Cr[4]*Cr[1]-Cr[5]*Cr[0])/_i;return[cs,xs]}static getAxialAlignedBoundingBox(gr,Cr){const _i=Rr.applyTransform(gr,Cr),cs=Rr.applyTransform(gr.slice(2,4),Cr),xs=Rr.applyTransform([gr[0],gr[3]],Cr),ls=Rr.applyTransform([gr[2],gr[1]],Cr);return[Math.min(_i[0],cs[0],xs[0],ls[0]),Math.min(_i[1],cs[1],xs[1],ls[1]),Math.max(_i[0],cs[0],xs[0],ls[0]),Math.max(_i[1],cs[1],xs[1],ls[1])]}static inverseTransform(gr){const Cr=gr[0]*gr[3]-gr[1]*gr[2];return[gr[3]/Cr,-gr[1]/Cr,-gr[2]/Cr,gr[0]/Cr,(gr[2]*gr[5]-gr[4]*gr[3])/Cr,(gr[4]*gr[1]-gr[5]*gr[0])/Cr]}static singularValueDecompose2dScale(gr){const Cr=[gr[0],gr[2],gr[1],gr[3]],_i=gr[0]*Cr[0]+gr[1]*Cr[2],cs=gr[0]*Cr[1]+gr[1]*Cr[3],xs=gr[2]*Cr[0]+gr[3]*Cr[2],ls=gr[2]*Cr[1]+gr[3]*Cr[3],as=(_i+ls)/2,vs=Math.sqrt((_i+ls)**2-4*(_i*ls-xs*cs))/2,Os=as+vs||1,Ls=as-vs||1;return[Math.sqrt(Os),Math.sqrt(Ls)]}static normalizeRect(gr){const Cr=gr.slice(0);return gr[0]>gr[2]&&(Cr[0]=gr[2],Cr[2]=gr[0]),gr[1]>gr[3]&&(Cr[1]=gr[3],Cr[3]=gr[1]),Cr}static intersect(gr,Cr){const _i=Math.max(Math.min(gr[0],gr[2]),Math.min(Cr[0],Cr[2])),cs=Math.min(Math.max(gr[0],gr[2]),Math.max(Cr[0],Cr[2]));if(_i>cs)return null;const xs=Math.max(Math.min(gr[1],gr[3]),Math.min(Cr[1],Cr[3])),ls=Math.min(Math.max(gr[1],gr[3]),Math.max(Cr[1],Cr[3]));return xs>ls?null:[_i,xs,cs,ls]}static bezierBoundingBox(gr,Cr,_i,cs,xs,ls,as,vs){const Os=[],Ls=[[],[]];let zs,Fs,ws,Bs,oo,Js,Vs,Zs;for(let No=0;No<2;++No){if(No===0?(Fs=6*gr-12*_i+6*xs,zs=-3*gr+9*_i-9*xs+3*as,ws=3*_i-3*gr):(Fs=6*Cr-12*cs+6*ls,zs=-3*Cr+9*cs-9*ls+3*vs,ws=3*cs-3*Cr),Math.abs(zs)<1e-12){if(Math.abs(Fs)<1e-12)continue;Bs=-ws/Fs,0<Bs&&Bs<1&&Os.push(Bs);continue}Vs=Fs*Fs-4*ws*zs,Zs=Math.sqrt(Vs),!(Vs<0)&&(oo=(-Fs+Zs)/(2*zs),0<oo&&oo<1&&Os.push(oo),Js=(-Fs-Zs)/(2*zs),0<Js&&Js<1&&Os.push(Js))}let fo=Os.length,ro;const Lo=fo;for(;fo--;)Bs=Os[fo],ro=1-Bs,Ls[0][fo]=ro*ro*ro*gr+3*ro*ro*Bs*_i+3*ro*Bs*Bs*xs+Bs*Bs*Bs*as,Ls[1][fo]=ro*ro*ro*Cr+3*ro*ro*Bs*cs+3*ro*Bs*Bs*ls+Bs*Bs*Bs*vs;return Ls[0][Lo]=gr,Ls[1][Lo]=Cr,Ls[0][Lo+1]=as,Ls[1][Lo+1]=vs,Ls[0].length=Ls[1].length=Lo+2,[Math.min(...Ls[0]),Math.min(...Ls[1]),Math.max(...Ls[0]),Math.max(...Ls[1])]}}_e.Util=Rr;const zr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function qr(_r){if(_r[0]>="\xEF"){let Cr;if(_r[0]==="\xFE"&&_r[1]==="\xFF"?Cr="utf-16be":_r[0]==="\xFF"&&_r[1]==="\xFE"?Cr="utf-16le":_r[0]==="\xEF"&&_r[1]==="\xBB"&&_r[2]==="\xBF"&&(Cr="utf-8"),Cr)try{const _i=new TextDecoder(Cr,{fatal:!0}),cs=Gn(_r);return _i.decode(cs)}catch(_i){yr(`stringToPDFString: "${_i}".`)}}const gr=[];for(let Cr=0,_i=_r.length;Cr<_i;Cr++){const cs=zr[_r.charCodeAt(Cr)];gr.push(cs?String.fromCharCode(cs):_r.charAt(Cr))}return gr.join("")}function Ar(_r){return _r.replace(/([()\\\n\r])/g,gr=>gr===`
`?"\\n":gr==="\r"?"\\r":`\\${gr}`)}function Hr(_r){return/^[\x00-\x7F]*$/.test(_r)}function ns(_r){const gr=["\xFE\xFF"];for(let Cr=0,_i=_r.length;Cr<_i;Cr++){const cs=_r.charCodeAt(Cr);gr.push(String.fromCharCode(cs>>8&255),String.fromCharCode(cs&255))}return gr.join("")}function Xr(_r){return decodeURIComponent(escape(_r))}function Cs(_r){return unescape(encodeURIComponent(_r))}function ms(_r){return typeof _r=="object"&&_r!==null&&_r.byteLength!==void 0}function ys(_r,gr){if(_r.length!==gr.length)return!1;for(let Cr=0,_i=_r.length;Cr<_i;Cr++)if(_r[Cr]!==gr[Cr])return!1;return!0}function ks(_r=new Date){return[_r.getUTCFullYear().toString(),(_r.getUTCMonth()+1).toString().padStart(2,"0"),_r.getUTCDate().toString().padStart(2,"0"),_r.getUTCHours().toString().padStart(2,"0"),_r.getUTCMinutes().toString().padStart(2,"0"),_r.getUTCSeconds().toString().padStart(2,"0")].join("")}function Rs(){const _r=Object.create(null);let gr=!1;return Object.defineProperty(_r,"settled",{get(){return gr}}),_r.promise=new Promise(function(Cr,_i){_r.resolve=function(cs){gr=!0,Cr(cs)},_r.reject=function(cs){gr=!0,_i(cs)}}),_r}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var St,en,tn,nn,rn,sn,an,on,cn,dn,mn,w1,fn,yn;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:wn,NodeCMapReaderFactory:vn,NodeStandardFontDataFactory:Sn}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=wn,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=vn,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=Sn}let createPDFNetworkStream;function setPDFNetworkStreamFactory(wn){createPDFNetworkStream=wn}function getDocument(wn){const vn=new PDFDocumentLoadingTask;let Sn;if(typeof wn=="string"||wn instanceof URL)Sn={url:wn};else if((0,_util.isArrayBuffer)(wn))Sn={data:wn};else if(wn instanceof PDFDataRangeTransport)Sn={range:wn};else{if(typeof wn!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!wn.url&&!wn.data&&!wn.range)throw new Error("Invalid parameter object: need either .data, .range or .url");Sn=wn}const xn=Object.create(null);let En=null,Cn=null;for(const In in Sn){const Dn=Sn[In];switch(In){case"url":if(typeof window<"u")try{xn[In]=new URL(Dn,window.location).href;continue}catch(Wn){(0,_util.warn)(`Cannot create valid URL: "${Wn}".`)}else if(typeof Dn=="string"||Dn instanceof URL){xn[In]=Dn.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":En=Dn;continue;case"worker":Cn=Dn;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Dn instanceof Buffer)xn[In]=new Uint8Array(Dn);else{if(Dn instanceof Uint8Array)break;if(typeof Dn=="string")xn[In]=(0,_util.stringToBytes)(Dn);else if(typeof Dn=="object"&&Dn!==null&&!isNaN(Dn.length))xn[In]=new Uint8Array(Dn);else if((0,_util.isArrayBuffer)(Dn))xn[In]=new Uint8Array(Dn);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}xn[In]=Dn}if(xn.CMapReaderFactory=xn.CMapReaderFactory||DefaultCMapReaderFactory,xn.StandardFontDataFactory=xn.StandardFontDataFactory||DefaultStandardFontDataFactory,xn.ignoreErrors=xn.stopAtErrors!==!0,xn.fontExtraProperties=xn.fontExtraProperties===!0,xn.pdfBug=xn.pdfBug===!0,xn.enableXfa=xn.enableXfa===!0,(!Number.isInteger(xn.rangeChunkSize)||xn.rangeChunkSize<1)&&(xn.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof xn.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(xn.docBaseUrl))&&(xn.docBaseUrl=null),(!Number.isInteger(xn.maxImageSize)||xn.maxImageSize<-1)&&(xn.maxImageSize=-1),typeof xn.cMapUrl!="string"&&(xn.cMapUrl=null),typeof xn.standardFontDataUrl!="string"&&(xn.standardFontDataUrl=null),typeof xn.useWorkerFetch!="boolean"&&(xn.useWorkerFetch=xn.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&xn.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof xn.isEvalSupported!="boolean"&&(xn.isEvalSupported=!0),typeof xn.isOffscreenCanvasSupported!="boolean"&&(xn.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof xn.disableFontFace!="boolean"&&(xn.disableFontFace=_is_node.isNodeJS),typeof xn.useSystemFonts!="boolean"&&(xn.useSystemFonts=!_is_node.isNodeJS&&!xn.disableFontFace),(typeof xn.ownerDocument!="object"||xn.ownerDocument===null)&&(xn.ownerDocument=globalThis.document),typeof xn.disableRange!="boolean"&&(xn.disableRange=!1),typeof xn.disableStream!="boolean"&&(xn.disableStream=!1),typeof xn.disableAutoFetch!="boolean"&&(xn.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(xn.verbosity),!Cn){const In={verbosity:xn.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Cn=In.port?PDFWorker.fromPort(In):new PDFWorker(In),vn._worker=Cn}const kn=vn.docId;return Cn.promise.then(function(){if(vn.destroyed)throw new Error("Loading aborted");const In=_fetchDocument(Cn,xn,En,kn),Dn=new Promise(function(Wn){let Vn;En?Vn=new _transport_stream.PDFDataTransportStream({length:xn.length,initialData:xn.initialData,progressiveDone:xn.progressiveDone,contentDispositionFilename:xn.contentDispositionFilename,disableRange:xn.disableRange,disableStream:xn.disableStream},En):xn.data||(Vn=createPDFNetworkStream({url:xn.url,length:xn.length,httpHeaders:xn.httpHeaders,withCredentials:xn.withCredentials,rangeChunkSize:xn.rangeChunkSize,disableRange:xn.disableRange,disableStream:xn.disableStream})),Wn(Vn)});return Promise.all([In,Dn]).then(function([Wn,Vn]){if(vn.destroyed)throw new Error("Loading aborted");const On=new _message_handler.MessageHandler(kn,Wn,Cn.port),zn=new WorkerTransport(On,vn,Vn,xn);vn._transport=zn,On.send("Ready",null)})}).catch(vn._capability.reject),vn}async function _fetchDocument(wn,vn,Sn,xn){if(wn.destroyed)throw new Error("Worker was destroyed");Sn&&(vn.length=Sn.length,vn.initialData=Sn.initialData,vn.progressiveDone=Sn.progressiveDone,vn.contentDispositionFilename=Sn.contentDispositionFilename);const En=await wn.messageHandler.sendWithPromise("GetDocRequest",{docId:xn,apiVersion:"3.0.279",data:vn.data,password:vn.password,disableAutoFetch:vn.disableAutoFetch,rangeChunkSize:vn.rangeChunkSize,length:vn.length,docBaseUrl:vn.docBaseUrl,enableXfa:vn.enableXfa,evaluatorOptions:{maxImageSize:vn.maxImageSize,disableFontFace:vn.disableFontFace,ignoreErrors:vn.ignoreErrors,isEvalSupported:vn.isEvalSupported,isOffscreenCanvasSupported:vn.isOffscreenCanvasSupported,fontExtraProperties:vn.fontExtraProperties,useSystemFonts:vn.useSystemFonts,cMapUrl:vn.useWorkerFetch?vn.cMapUrl:null,standardFontDataUrl:vn.useWorkerFetch?vn.standardFontDataUrl:null}});if(vn.data&&(vn.data=null),wn.destroyed)throw new Error("Worker was destroyed");return En}const _e=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_1(_e,St)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var vn;this.destroyed=!0,await((vn=this._transport)==null?void 0:vn.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=_e;St=new WeakMap,Jr(PDFDocumentLoadingTask,St,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(vn,Sn,xn=!1,En=null){this.length=vn,this.initialData=Sn,this.progressiveDone=xn,this.contentDispositionFilename=En,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(vn){this._rangeListeners.push(vn)}addProgressListener(vn){this._progressListeners.push(vn)}addProgressiveReadListener(vn){this._progressiveReadListeners.push(vn)}addProgressiveDoneListener(vn){this._progressiveDoneListeners.push(vn)}onDataRange(vn,Sn){for(const xn of this._rangeListeners)xn(vn,Sn)}onDataProgress(vn,Sn){this._readyCapability.promise.then(()=>{for(const xn of this._progressListeners)xn(vn,Sn)})}onDataProgressiveRead(vn){this._readyCapability.promise.then(()=>{for(const Sn of this._progressiveReadListeners)Sn(vn)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const vn of this._progressiveDoneListeners)vn()})}transportReady(){this._readyCapability.resolve()}requestDataRange(vn,Sn){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(vn,Sn){this._pdfInfo=vn,this._transport=Sn}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(vn){return this._transport.getPage(vn)}getPageIndex(vn){return this._transport.getPageIndex(vn)}getDestinations(){return this._transport.getDestinations()}getDestination(vn){return this._transport.getDestination(vn)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(vn=!1){return this._transport.startCleanup(vn||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(vn,Sn,xn,En,Cn=!1){this._pageIndex=vn,this._pageInfo=Sn,this._ownerDocument=En,this._transport=xn,this._stats=Cn?new _display_utils.StatTimer:null,this._pdfBug=Cn,this.commonObjs=xn.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:vn,rotation:Sn=this.rotate,offsetX:xn=0,offsetY:En=0,dontFlip:Cn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:vn,rotation:Sn,offsetX:xn,offsetY:En,dontFlip:Cn})}getAnnotations({intent:vn="display"}={}){const Sn=this._transport.getRenderingIntent(vn);let xn=this._annotationPromises.get(Sn.cacheKey);return xn||(xn=this._transport.getAnnotations(this._pageIndex,Sn.renderingIntent),this._annotationPromises.set(Sn.cacheKey,xn)),xn}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var vn;return((vn=this._transport._htmlForXfa)==null?void 0:vn.children[this._pageIndex])||null}render({canvasContext:vn,viewport:Sn,intent:xn="display",annotationMode:En=_util.AnnotationMode.ENABLE,transform:Cn=null,canvasFactory:kn=null,background:In=null,optionalContentConfigPromise:Dn=null,annotationCanvasMap:Wn=null,pageColors:Vn=null,printAnnotationStorage:On=null}){var hr,yr;(hr=this._stats)==null||hr.time("Overall");const zn=this._transport.getRenderingIntent(xn,En,On);this.pendingCleanup=!1,Dn||(Dn=this._transport.getOptionalContentConfig());let nr=this._intentStates.get(zn.cacheKey);nr||(nr=Object.create(null),this._intentStates.set(zn.cacheKey,nr)),nr.streamReaderCancelTimeout&&(clearTimeout(nr.streamReaderCancelTimeout),nr.streamReaderCancelTimeout=null);const Yn=kn||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ar=!!(zn.renderingIntent&_util.RenderingIntentFlag.PRINT);nr.displayReadyCapability||(nr.displayReadyCapability=(0,_util.createPromiseCapability)(),nr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(yr=this._stats)==null||yr.time("Page Request"),this._pumpOperatorList(zn));const tr=Mr=>{var Mn,Fn;nr.renderTasks.delete(dr),(this.cleanupAfterRender||ar)&&(this.pendingCleanup=!0),this._tryCleanup(),Mr?(dr.capability.reject(Mr),this._abortOperatorList({intentState:nr,reason:Mr instanceof Error?Mr:new Error(Mr)})):dr.capability.resolve(),(Mn=this._stats)==null||Mn.timeEnd("Rendering"),(Fn=this._stats)==null||Fn.timeEnd("Overall")},dr=new InternalRenderTask({callback:tr,params:{canvasContext:vn,viewport:Sn,transform:Cn,background:In},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Wn,operatorList:nr.operatorList,pageIndex:this._pageIndex,canvasFactory:Yn,useRequestAnimationFrame:!ar,pdfBug:this._pdfBug,pageColors:Vn});(nr.renderTasks||(nr.renderTasks=new Set)).add(dr);const Jn=dr.task;return Promise.all([nr.displayReadyCapability.promise,Dn]).then(([Mr,Mn])=>{var Fn;if(this.pendingCleanup){tr();return}(Fn=this._stats)==null||Fn.time("Rendering"),dr.initializeGraphics({transparency:Mr,optionalContentConfig:Mn}),dr.operatorListChanged()}).catch(tr),Jn}getOperatorList({intent:vn="display",annotationMode:Sn=_util.AnnotationMode.ENABLE,printAnnotationStorage:xn=null}={}){var Dn;function En(){kn.operatorList.lastChunk&&(kn.opListReadCapability.resolve(kn.operatorList),kn.renderTasks.delete(In))}const Cn=this._transport.getRenderingIntent(vn,Sn,xn,!0);let kn=this._intentStates.get(Cn.cacheKey);kn||(kn=Object.create(null),this._intentStates.set(Cn.cacheKey,kn));let In;return kn.opListReadCapability||(In=Object.create(null),In.operatorListChanged=En,kn.opListReadCapability=(0,_util.createPromiseCapability)(),(kn.renderTasks||(kn.renderTasks=new Set)).add(In),kn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Dn=this._stats)==null||Dn.time("Page Request"),this._pumpOperatorList(Cn)),kn.opListReadCapability.promise}streamTextContent({disableCombineTextItems:vn=!1,includeMarkedContent:Sn=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:vn!==!0,includeMarkedContent:Sn===!0},{highWaterMark:100,size(En){return En.items.length}})}getTextContent(vn={}){if(this._transport._htmlForXfa)return this.getXfa().then(xn=>_xfa_text.XfaText.textContent(xn));const Sn=this.streamTextContent(vn);return new Promise(function(xn,En){function Cn(){kn.read().then(function({value:Dn,done:Wn}){if(Wn){xn(In);return}Object.assign(In.styles,Dn.styles),In.items.push(...Dn.items),Cn()},En)}const kn=Sn.getReader(),In={items:[],styles:Object.create(null)};Cn()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const vn=[];for(const Sn of this._intentStates.values())if(this._abortOperatorList({intentState:Sn,reason:new Error("Page was destroyed."),force:!0}),!Sn.opListReadCapability)for(const xn of Sn.renderTasks)vn.push(xn.completed),xn.cancel();this.objs.clear();for(const Sn of this._bitmaps)Sn.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(vn)}cleanup(vn=!1){return this.pendingCleanup=!0,this._tryCleanup(vn)}_tryCleanup(vn=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:Sn,operatorList:xn}of this._intentStates.values())if(Sn.size>0||!xn.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,vn&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const Sn of this._bitmaps)Sn.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(vn,Sn){var En,Cn;const xn=this._intentStates.get(Sn);!xn||((En=this._stats)==null||En.timeEnd("Page Request"),(Cn=xn.displayReadyCapability)==null||Cn.resolve(vn))}_renderPageChunk(vn,Sn){for(let xn=0,En=vn.length;xn<En;xn++)Sn.operatorList.fnArray.push(vn.fnArray[xn]),Sn.operatorList.argsArray.push(vn.argsArray[xn]);Sn.operatorList.lastChunk=vn.lastChunk,Sn.operatorList.separateAnnots=vn.separateAnnots;for(const xn of Sn.renderTasks)xn.operatorListChanged();vn.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:vn,cacheKey:Sn,annotationStorageMap:xn}){const Cn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:vn,cacheKey:Sn,annotationStorage:xn}).getReader(),kn=this._intentStates.get(Sn);kn.streamReader=Cn;const In=()=>{Cn.read().then(({value:Dn,done:Wn})=>{if(Wn){kn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Dn,kn),In())},Dn=>{if(kn.streamReader=null,!this._transport.destroyed){if(kn.operatorList){kn.operatorList.lastChunk=!0;for(const Wn of kn.renderTasks)Wn.operatorListChanged();this._tryCleanup()}if(kn.displayReadyCapability)kn.displayReadyCapability.reject(Dn);else if(kn.opListReadCapability)kn.opListReadCapability.reject(Dn);else throw Dn}})};In()}_abortOperatorList({intentState:vn,reason:Sn,force:xn=!1}){if(!!vn.streamReader){if(!xn){if(vn.renderTasks.size>0)return;if(Sn instanceof _display_utils.RenderingCancelledException){vn.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:vn,reason:Sn,force:!0}),vn.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(vn.streamReader.cancel(new _util.AbortException(Sn.message)).catch(()=>{}),vn.streamReader=null,!this._transport.destroyed){for(const[En,Cn]of this._intentStates)if(Cn===vn){this._intentStates.delete(En);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Jr(this,en,[]);Jr(this,tn,Promise.resolve())}postMessage(vn,Sn){const xn={data:structuredClone(vn,Sn)};vr(this,tn).then(()=>{for(const En of vr(this,en))En.call(this,xn)})}addEventListener(vn,Sn){vr(this,en).push(Sn)}removeEventListener(vn,Sn){const xn=vr(this,en).indexOf(Sn);vr(this,en).splice(xn,1)}terminate(){vr(this,en).length=0}}en=new WeakMap,tn=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const wn=(nn=document==null?void 0:document.currentScript)==null?void 0:nn.src;wn&&(PDFWorkerUtil.fallbackWorkerSrc=wn.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(wn,vn){let Sn;try{if(Sn=new URL(wn),!Sn.origin||Sn.origin==="null")return!1}catch{return!1}const xn=new URL(vn,Sn);return Sn.origin===xn.origin},PDFWorkerUtil.createCDNWrapper=function(wn){const vn=`importScripts("${wn}");`;return URL.createObjectURL(new Blob([vn]))}}const _PDFWorker=class{constructor({name:wn=null,port:vn=null,verbosity:Sn=(0,_util.getVerbosityLevel)()}={}){if(vn&&vr(_PDFWorker,rn).has(vn))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=wn,this.destroyed=!1,this.verbosity=Sn,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,vn){vr(_PDFWorker,rn).set(vn,this),this._initializeFromPort(vn);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(wn){this._port=wn,this._messageHandler=new _message_handler.MessageHandler("main","worker",wn),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:wn}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,wn)||(wn=PDFWorkerUtil.createCDNWrapper(new URL(wn,window.location).href));const vn=new Worker(wn),Sn=new _message_handler.MessageHandler("main","worker",vn),xn=()=>{vn.removeEventListener("error",En),Sn.destroy(),vn.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},En=()=>{this._webWorker||xn()};vn.addEventListener("error",En),Sn.on("test",kn=>{if(vn.removeEventListener("error",En),this.destroyed){xn();return}kn?(this._messageHandler=Sn,this._port=vn,this._webWorker=vn,this._readyCapability.resolve(),Sn.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Sn.destroy(),vn.terminate())}),Sn.on("ready",kn=>{if(vn.removeEventListener("error",En),this.destroyed){xn();return}try{Cn()}catch{this._setupFakeWorker()}});const Cn=()=>{const kn=new Uint8Array;Sn.send("test",kn,[kn.buffer])};Cn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(wn=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const vn=new LoopbackPort;this._port=vn;const Sn=`fake${PDFWorkerUtil.fakeWorkerId++}`,xn=new _message_handler.MessageHandler(Sn+"_worker",Sn,vn);wn.setup(xn,vn);const En=new _message_handler.MessageHandler(Sn,Sn+"_worker",vn);this._messageHandler=En,this._readyCapability.resolve(),En.send("configure",{verbosity:this.verbosity})}).catch(wn=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${wn.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),vr(_PDFWorker,rn).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(wn){if(!(wn!=null&&wn.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return vr(this,rn).has(wn.port)?vr(this,rn).get(wn.port):new _PDFWorker(wn)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var wn;try{return((wn=globalThis.pdfjsWorker)==null?void 0:wn.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;rn=new WeakMap,Jr(PDFWorker,rn,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(vn,Sn,xn,En){Jr(this,sn,null);Jr(this,an,new Map);Jr(this,on,new Map);Jr(this,cn,null);this.messageHandler=vn,this.loadingTask=Sn,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:En.ownerDocument,styleElement:En.styleElement}),this._params=En,En.useWorkerFetch||(this.CMapReaderFactory=new En.CMapReaderFactory({baseUrl:En.cMapUrl,isCompressed:En.cMapPacked}),this.StandardFontDataFactory=new En.StandardFontDataFactory({baseUrl:En.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=xn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return vr(this,sn)}getRenderingIntent(vn,Sn=_util.AnnotationMode.ENABLE,xn=null,En=!1){let Cn=_util.RenderingIntentFlag.DISPLAY,kn=null;switch(vn){case"any":Cn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Cn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${vn}`)}switch(Sn){case _util.AnnotationMode.DISABLE:Cn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Cn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Cn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,kn=(Cn&_util.RenderingIntentFlag.PRINT&&xn instanceof _annotation_storage.PrintAnnotationStorage?xn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Sn}`)}return En&&(Cn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Cn,cacheKey:`${Cn}_${_annotation_storage.AnnotationStorage.getHash(kn)}`,annotationStorageMap:kn}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const vn=[];for(const xn of vr(this,an).values())vn.push(xn._destroy());vr(this,an).clear(),vr(this,on).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Sn=this.messageHandler.sendWithPromise("Terminate",null);return vn.push(Sn),Promise.all(vn).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ps(this,cn,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:vn,loadingTask:Sn}=this;vn.on("GetReader",(xn,En)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Cn=>{this._lastProgress={loaded:Cn.loaded,total:Cn.total}},En.onPull=()=>{this._fullReader.read().then(function({value:Cn,done:kn}){if(kn){En.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Cn),"GetReader - expected an ArrayBuffer."),En.enqueue(new Uint8Array(Cn),1,[Cn])}).catch(Cn=>{En.error(Cn)})},En.onCancel=Cn=>{this._fullReader.cancel(Cn),En.ready.catch(kn=>{if(!this.destroyed)throw kn})}}),vn.on("ReaderHeadersReady",xn=>{const En=(0,_util.createPromiseCapability)(),Cn=this._fullReader;return Cn.headersReady.then(()=>{var kn;(!Cn.isStreamingSupported||!Cn.isRangeSupported)&&(this._lastProgress&&((kn=Sn.onProgress)==null||kn.call(Sn,this._lastProgress)),Cn.onProgress=In=>{var Dn;(Dn=Sn.onProgress)==null||Dn.call(Sn,{loaded:In.loaded,total:In.total})}),En.resolve({isStreamingSupported:Cn.isStreamingSupported,isRangeSupported:Cn.isRangeSupported,contentLength:Cn.contentLength})},En.reject),En.promise}),vn.on("GetRangeReader",(xn,En)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Cn=this._networkStream.getRangeReader(xn.begin,xn.end);if(!Cn){En.close();return}En.onPull=()=>{Cn.read().then(function({value:kn,done:In}){if(In){En.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(kn),"GetRangeReader - expected an ArrayBuffer."),En.enqueue(new Uint8Array(kn),1,[kn])}).catch(kn=>{En.error(kn)})},En.onCancel=kn=>{Cn.cancel(kn),En.ready.catch(In=>{if(!this.destroyed)throw In})}}),vn.on("GetDoc",({pdfInfo:xn})=>{this._numPages=xn.numPages,this._htmlForXfa=xn.htmlForXfa,delete xn.htmlForXfa,Sn._capability.resolve(new PDFDocumentProxy(xn,this))}),vn.on("DocException",function(xn){let En;switch(xn.name){case"PasswordException":En=new _util.PasswordException(xn.message,xn.code);break;case"InvalidPDFException":En=new _util.InvalidPDFException(xn.message);break;case"MissingPDFException":En=new _util.MissingPDFException(xn.message);break;case"UnexpectedResponseException":En=new _util.UnexpectedResponseException(xn.message,xn.status);break;case"UnknownErrorException":En=new _util.UnknownErrorException(xn.message,xn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Sn._capability.reject(En)}),vn.on("PasswordRequest",xn=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Sn.onPassword){const En=Cn=>{Cn instanceof Error?this._passwordCapability.reject(Cn):this._passwordCapability.resolve({password:Cn})};try{Sn.onPassword(En,xn.code)}catch(Cn){this._passwordCapability.reject(Cn)}}else this._passwordCapability.reject(new _util.PasswordException(xn.message,xn.code));return this._passwordCapability.promise}),vn.on("DataLoaded",xn=>{var En;(En=Sn.onProgress)==null||En.call(Sn,{loaded:xn.length,total:xn.length}),this.downloadInfoCapability.resolve(xn)}),vn.on("StartRenderPage",xn=>{if(this.destroyed)return;vr(this,an).get(xn.pageIndex)._startRenderPage(xn.transparency,xn.cacheKey)}),vn.on("commonobj",([xn,En,Cn])=>{var kn;if(!this.destroyed&&!this.commonObjs.has(xn))switch(En){case"Font":const In=this._params;if("error"in Cn){const Vn=Cn.error;(0,_util.warn)(`Error during font loading: ${Vn}`),this.commonObjs.resolve(xn,Vn);break}let Dn=null;In.pdfBug&&((kn=globalThis.FontInspector)==null?void 0:kn.enabled)&&(Dn={registerFont(Vn,On){globalThis.FontInspector.fontAdded(Vn,On)}});const Wn=new _font_loader.FontFaceObject(Cn,{isEvalSupported:In.isEvalSupported,disableFontFace:In.disableFontFace,ignoreErrors:In.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Dn});this.fontLoader.bind(Wn).catch(Vn=>vn.sendWithPromise("FontFallback",{id:xn})).finally(()=>{!In.fontExtraProperties&&Wn.data&&(Wn.data=null),this.commonObjs.resolve(xn,Wn)});break;case"FontPath":case"Image":this.commonObjs.resolve(xn,Cn);break;default:throw new Error(`Got unknown common object type ${En}`)}}),vn.on("obj",([xn,En,Cn,kn])=>{var Dn;if(this.destroyed)return;const In=vr(this,an).get(En);if(!In.objs.has(xn))switch(Cn){case"Image":In.objs.resolve(xn,kn);const Wn=8e6;if(kn){let Vn;if(kn.bitmap){const{bitmap:On,width:zn,height:nr}=kn;Vn=zn*nr*4,In._bitmaps.add(On)}else Vn=((Dn=kn.data)==null?void 0:Dn.length)||0;Vn>Wn&&(In.cleanupAfterRender=!0)}break;case"Pattern":In.objs.resolve(xn,kn);break;default:throw new Error(`Got unknown object type ${Cn}`)}}),vn.on("DocProgress",xn=>{var En;this.destroyed||(En=Sn.onProgress)==null||En.call(Sn,{loaded:xn.loaded,total:xn.total})}),vn.on("DocStats",xn=>{this.destroyed||ps(this,sn,Object.freeze({streamTypes:Object.freeze(xn.streamTypes),fontTypes:Object.freeze(xn.fontTypes)}))}),vn.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),vn.on("FetchBuiltInCMap",xn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(xn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),vn.on("FetchStandardFontData",xn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(xn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:vn}){var Sn,xn;this.destroyed||(xn=(Sn=this.loadingTask).onUnsupportedFeature)==null||xn.call(Sn,vn)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vn,Sn;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(Sn=(vn=this._fullReader)==null?void 0:vn.filename)!=null?Sn:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(vn){if(!Number.isInteger(vn)||vn<=0||vn>this._numPages)return Promise.reject(new Error("Invalid page request."));const Sn=vn-1,xn=vr(this,on).get(Sn);if(xn)return xn;const En=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Sn}).then(Cn=>{if(this.destroyed)throw new Error("Transport destroyed");const kn=new PDFPageProxy(Sn,Cn,this,this._params.ownerDocument,this._params.pdfBug);return vr(this,an).set(Sn,kn),kn});return vr(this,on).set(Sn,En),En}getPageIndex(vn){return typeof vn!="object"||vn===null||!Number.isInteger(vn.num)||vn.num<0||!Number.isInteger(vn.gen)||vn.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:vn.num,gen:vn.gen})}getAnnotations(vn,Sn){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:vn,intent:Sn})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(vn){return typeof vn!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:vn})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(vn){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:vn})}getStructTree(vn){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:vn})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(vn=>new _optional_content_config.OptionalContentConfig(vn))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return vr(this,cn)||ps(this,cn,this.messageHandler.sendWithPromise("GetMetadata",null).then(vn=>{var Sn,xn,En,Cn;return{info:vn[0],metadata:vn[1]?new _metadata.Metadata(vn[1]):null,contentDispositionFilename:(xn=(Sn=this._fullReader)==null?void 0:Sn.filename)!=null?xn:null,contentLength:(Cn=(En=this._fullReader)==null?void 0:En.contentLength)!=null?Cn:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(vn=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Sn of vr(this,an).values())if(!Sn.cleanup())throw new Error(`startCleanup: Page ${Sn.pageNumber} is currently rendering.`);this.commonObjs.clear(),vn||this.fontLoader.clear(),ps(this,cn,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const vn=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:vn.disableAutoFetch,enableXfa:vn.enableXfa})}}sn=new WeakMap,an=new WeakMap,on=new WeakMap,cn=new WeakMap;class PDFObjects{constructor(){Jr(this,mn);Jr(this,dn,Object.create(null))}get(vn,Sn=null){if(Sn){const En=ss(this,mn,w1).call(this,vn);return En.capability.promise.then(()=>Sn(En.data)),null}const xn=vr(this,dn)[vn];if(!(xn!=null&&xn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${vn}.`);return xn.data}has(vn){const Sn=vr(this,dn)[vn];return(Sn==null?void 0:Sn.capability.settled)||!1}resolve(vn,Sn=null){const xn=ss(this,mn,w1).call(this,vn);xn.data=Sn,xn.capability.resolve()}clear(){ps(this,dn,Object.create(null))}}dn=new WeakMap,mn=new WeakSet,w1=function(vn){const Sn=vr(this,dn)[vn];return Sn||(vr(this,dn)[vn]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(vn){Jr(this,fn,null);ps(this,fn,vn),this.onContinue=null}get promise(){return vr(this,fn).capability.promise}cancel(){vr(this,fn).cancel()}get separateAnnots(){const{separateAnnots:vn}=vr(this,fn).operatorList;if(!vn)return!1;const{annotationCanvasMap:Sn}=vr(this,fn);return vn.form||vn.canvas&&(Sn==null?void 0:Sn.size)>0}}fn=new WeakMap,exports.RenderTask=RenderTask;const bn=class{constructor({callback:vn,params:Sn,objs:xn,commonObjs:En,annotationCanvasMap:Cn,operatorList:kn,pageIndex:In,canvasFactory:Dn,useRequestAnimationFrame:Wn=!1,pdfBug:Vn=!1,pageColors:On=null}){this.callback=vn,this.params=Sn,this.objs=xn,this.commonObjs=En,this.annotationCanvasMap=Cn,this.operatorListIdx=null,this.operatorList=kn,this._pageIndex=In,this.canvasFactory=Dn,this._pdfBug=Vn,this.pageColors=On,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Wn===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Sn.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:vn=!1,optionalContentConfig:Sn}){var In,Dn;if(this.cancelled)return;if(this._canvas){if(vr(bn,yn).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");vr(bn,yn).add(this._canvas)}this._pdfBug&&((In=globalThis.StepperManager)==null?void 0:In.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:xn,viewport:En,transform:Cn,background:kn}=this.params;this.gfx=new _canvas.CanvasGraphics(xn,this.commonObjs,this.objs,this.canvasFactory,Sn,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Cn,viewport:En,transparency:vn,background:kn}),this.operatorListIdx=0,this.graphicsReady=!0,(Dn=this.graphicsReadyCallback)==null||Dn.call(this)}cancel(vn=null){var Sn;this.running=!1,this.cancelled=!0,(Sn=this.gfx)==null||Sn.endDrawing(),this._canvas&&vr(bn,yn).delete(this._canvas),this.callback(vn||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var vn;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(vn=this.stepper)==null||vn.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&vr(bn,yn).delete(this._canvas),this.callback())))}};let InternalRenderTask=bn;yn=new WeakMap,Jr(InternalRenderTask,yn,new WeakSet);const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(St,_e,en)=>{var on,W1,dn;Object.defineProperty(_e,"__esModule",{value:!0}),_e.PrintAnnotationStorage=_e.AnnotationStorage=void 0;var tn=en(1),nn=en(4),rn=en(8);class sn{constructor(){Jr(this,on);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(pn,fn){const yn=this._storage.get(pn);return yn===void 0?fn:Object.assign(fn,yn)}getRawValue(pn){return this._storage.get(pn)}remove(pn){if(this._storage.delete(pn),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const fn of this._storage.values())if(fn instanceof nn.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(pn,fn){const yn=this._storage.get(pn);let bn=!1;if(yn!==void 0)for(const[wn,vn]of Object.entries(fn))yn[wn]!==vn&&(bn=!0,yn[wn]=vn);else bn=!0,this._storage.set(pn,fn);bn&&ss(this,on,W1).call(this),fn instanceof nn.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(fn.constructor._type)}has(pn){return this._storage.has(pn)}getAll(){return this._storage.size>0?(0,tn.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new an(this)}get serializable(){if(this._storage.size===0)return null;const pn=new Map;for(const[fn,yn]of this._storage){const bn=yn instanceof nn.AnnotationEditor?yn.serialize():yn;bn&&pn.set(fn,bn)}return pn}static getHash(pn){if(!pn)return"";const fn=new rn.MurmurHash3_64;for(const[yn,bn]of pn)fn.update(`${yn}:${JSON.stringify(bn)}`);return fn.hexdigest()}}on=new WeakSet,W1=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},_e.AnnotationStorage=sn;class an extends sn{constructor(fn){super();Jr(this,dn,null);ps(this,dn,structuredClone(fn.serializable))}get print(){(0,tn.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return vr(this,dn)}}dn=new WeakMap,_e.PrintAnnotationStorage=an},(St,_e,en)=>{var sn,an,on,cn,dn,mn;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditor=void 0;var tn=en(5),nn=en(1);const pn=class{constructor(yn){Jr(this,sn,this.focusin.bind(this));Jr(this,an,this.focusout.bind(this));Jr(this,on,!1);Jr(this,cn,!1);Jr(this,dn,!1);Jr(this,mn,pn._zIndex++);this.constructor===pn&&(0,nn.unreachable)("Cannot initialize AnnotationEditor."),this.parent=yn.parent,this.id=yn.id,this.width=this.height=null,this.pageIndex=yn.parent.pageIndex,this.name=yn.name,this.div=null;const[bn,wn]=this.parent.viewportBaseDimensions;this.x=yn.x/bn,this.y=yn.y/wn,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,nn.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=vr(this,mn)}focusin(yn){vr(this,on)?ps(this,on,!1):this.parent.setSelected(this)}focusout(yn){if(!this.isAttachedToDOM)return;const bn=yn.relatedTarget;bn!=null&&bn.closest(`#${this.id}`)||(yn.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(yn){const bn=this.parent.div.getBoundingClientRect();this.startX=yn.clientX-bn.x,this.startY=yn.clientY-bn.y,yn.dataTransfer.setData("text/plain",this.id),yn.dataTransfer.effectAllowed="move"}setAt(yn,bn,wn,vn){const[Sn,xn]=this.parent.viewportBaseDimensions;[wn,vn]=this.screenToPageTranslation(wn,vn),this.x=(yn+wn)/Sn,this.y=(bn+vn)/xn,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(yn,bn){const[wn,vn]=this.parent.viewportBaseDimensions;[yn,bn]=this.screenToPageTranslation(yn,bn),this.x+=yn/wn,this.y+=bn/vn,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(yn,bn){const{rotation:wn}=this.parent.viewport;switch(wn){case 90:return[bn,-yn];case 180:return[-yn,-bn];case 270:return[-bn,yn];default:return[yn,bn]}}setDims(yn,bn){const[wn,vn]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*yn/wn}%`,this.div.style.height=`${100*bn/vn}%`}fixDims(){const{style:yn}=this.div,{height:bn,width:wn}=yn,vn=wn.endsWith("%"),Sn=bn.endsWith("%");if(vn&&Sn)return;const[xn,En]=this.parent.viewportBaseDimensions;vn||(yn.width=`${100*parseFloat(wn)/xn}%`),Sn||(yn.height=`${100*parseFloat(bn)/En}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",vr(this,sn)),this.div.addEventListener("focusout",vr(this,an));const[yn,bn]=this.getInitialTranslation();return this.translate(yn,bn),(0,tn.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(yn){const bn=tn.KeyboardManager.platform.isMac;if(yn.button!==0||yn.ctrlKey&&bn){yn.preventDefault();return}yn.ctrlKey&&!bn||yn.shiftKey||yn.metaKey&&bn?this.parent.toggleSelected(this):this.parent.setSelected(this),ps(this,on,!0)}getRect(yn,bn){const[wn,vn]=this.parent.viewportBaseDimensions,[Sn,xn]=this.parent.pageDimensions,En=Sn*yn/wn,Cn=xn*bn/vn,kn=this.x*Sn,In=this.y*xn,Dn=this.width*Sn,Wn=this.height*xn;switch(this.rotation){case 0:return[kn+En,xn-In-Cn-Wn,kn+En+Dn,xn-In-Cn];case 90:return[kn+Cn,xn-In+En,kn+Cn+Wn,xn-In+En+Dn];case 180:return[kn-En-Dn,xn-In+Cn,kn-En,xn-In+Cn+Wn];case 270:return[kn-Cn-Wn,xn-In-En-Dn,kn-Cn,xn-In-En];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(yn,bn){const[wn,vn,Sn,xn]=yn,En=Sn-wn,Cn=xn-vn;switch(this.rotation){case 0:return[wn,bn-xn,En,Cn];case 90:return[wn,bn-vn,Cn,En];case 180:return[Sn,bn-vn,En,Cn];case 270:return[Sn,bn-xn,Cn,En];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ps(this,dn,!0)}disableEditMode(){ps(this,dn,!1)}isInEditMode(){return vr(this,dn)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var yn;(yn=this.div)==null||yn.addEventListener("focusin",vr(this,sn))}serialize(){(0,nn.unreachable)("An editor must be serializable")}static deserialize(yn,bn){const wn=new this.prototype.constructor({parent:bn,id:bn.getNextId()});wn.rotation=yn.rotation;const[vn,Sn]=bn.pageDimensions,[xn,En,Cn,kn]=wn.getRectInCurrentCoords(yn.rect,Sn);return wn.x=xn/vn,wn.y=En/Sn,wn.width=Cn/vn,wn.height=kn/Sn,wn}remove(){this.div.removeEventListener("focusin",vr(this,sn)),this.div.removeEventListener("focusout",vr(this,an)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var yn;(yn=this.div)==null||yn.classList.add("selectedEditor")}unselect(){var yn;(yn=this.div)==null||yn.classList.remove("selectedEditor")}updateParams(yn,bn){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return vr(this,cn)}set isEditing(yn){ps(this,cn,yn),yn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let rn=pn;sn=new WeakMap,an=new WeakMap,on=new WeakMap,cn=new WeakMap,dn=new WeakMap,mn=new WeakMap,Do(rn,"_colorManager",new tn.ColorManager),Do(rn,"_zIndex",1),_e.AnnotationEditor=rn},(St,_e,en)=>{var pn,fn,yn,bn,wn,vn,K1,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar,tr,dr,Jn,hr,yr,Mr,Mn,Fn,Nn,Y1,qn,b1,sr,X1,br,Q1,Er,Vu,$n,B0,jn,J1,Xn,Z1,pr,x1,xr,U0,lr,A1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardManager=_e.CommandManager=_e.ColorManager=_e.AnnotationEditorUIManager=void 0,_e.bindEvents=rn,_e.opacityToHex=sn;var tn=en(1),nn=en(6);function rn(qr,Ar,Hr){for(const ns of Hr)Ar.addEventListener(ns,qr[ns].bind(qr))}function sn(qr){return Math.round(Math.min(255,Math.max(1,255*qr))).toString(16).padStart(2,"0")}class an{constructor(){Jr(this,pn,0)}getId(){return`${tn.AnnotationEditorPrefix}${_1(this,pn)._++}`}}pn=new WeakMap;class on{constructor(Ar=128){Jr(this,fn,[]);Jr(this,yn,!1);Jr(this,bn,void 0);Jr(this,wn,-1);ps(this,bn,Ar)}add({cmd:Ar,undo:Hr,mustExec:ns,type:Xr=NaN,overwriteIfSameType:Cs=!1,keepUndo:ms=!1}){if(ns&&Ar(),vr(this,yn))return;const ys={cmd:Ar,undo:Hr,type:Xr};if(vr(this,wn)===-1){vr(this,fn).length>0&&(vr(this,fn).length=0),ps(this,wn,0),vr(this,fn).push(ys);return}if(Cs&&vr(this,fn)[vr(this,wn)].type===Xr){ms&&(ys.undo=vr(this,fn)[vr(this,wn)].undo),vr(this,fn)[vr(this,wn)]=ys;return}const ks=vr(this,wn)+1;ks===vr(this,bn)?vr(this,fn).splice(0,1):(ps(this,wn,ks),ks<vr(this,fn).length&&vr(this,fn).splice(ks)),vr(this,fn).push(ys)}undo(){vr(this,wn)!==-1&&(ps(this,yn,!0),vr(this,fn)[vr(this,wn)].undo(),ps(this,yn,!1),ps(this,wn,vr(this,wn)-1))}redo(){vr(this,wn)<vr(this,fn).length-1&&(ps(this,wn,vr(this,wn)+1),ps(this,yn,!0),vr(this,fn)[vr(this,wn)].cmd(),ps(this,yn,!1))}hasSomethingToUndo(){return vr(this,wn)!==-1}hasSomethingToRedo(){return vr(this,wn)<vr(this,fn).length-1}destroy(){ps(this,fn,null)}}fn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap,_e.CommandManager=on;const xn=class{constructor(Ar){Jr(this,vn);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Hr=xn.platform.isMac;for(const[ns,Xr]of Ar)for(const Cs of ns){const ms=Cs.startsWith("mac+");Hr&&ms?(this.callbacks.set(Cs.slice(4),Xr),this.allKeys.add(Cs.split("+").at(-1))):!Hr&&!ms&&(this.callbacks.set(Cs,Xr),this.allKeys.add(Cs.split("+").at(-1)))}}static get platform(){const Ar=typeof navigator<"u"?navigator.platform:"";return(0,tn.shadow)(this,"platform",{isWin:Ar.includes("Win"),isMac:Ar.includes("Mac")})}exec(Ar,Hr){if(!this.allKeys.has(Hr.key))return;const ns=this.callbacks.get(ss(this,vn,K1).call(this,Hr));!ns||(ns.bind(Ar)(),Hr.stopPropagation(),Hr.preventDefault())}};let cn=xn;vn=new WeakSet,K1=function(Ar){Ar.altKey&&this.buffer.push("alt"),Ar.ctrlKey&&this.buffer.push("ctrl"),Ar.metaKey&&this.buffer.push("meta"),Ar.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ar.key);const Hr=this.buffer.join("+");return this.buffer.length=0,Hr},_e.KeyboardManager=cn;const En=class{get _colors(){const Ar=new Map([["CanvasText",null],["Canvas",null]]);return(0,nn.getColorValues)(Ar),(0,tn.shadow)(this,"_colors",Ar)}convert(Ar){const Hr=(0,nn.getRGB)(Ar);if(!window.matchMedia("(forced-colors: active)").matches)return Hr;for(const[ns,Xr]of this._colors)if(Xr.every((Cs,ms)=>Cs===Hr[ms]))return En._colorsMapping.get(ns);return Hr}getHexCode(Ar){const Hr=this._colors.get(Ar);return Hr?tn.Util.makeHexColor(...Hr):Ar}};let dn=En;Do(dn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),_e.ColorManager=dn;const zr=class{constructor(Ar,Hr){Jr(this,Nn);Jr(this,qn);Jr(this,sr);Jr(this,br);Jr(this,Er);Jr(this,$n);Jr(this,jn);Jr(this,Xn);Jr(this,pr);Jr(this,xr);Jr(this,lr);Jr(this,Cn,null);Jr(this,kn,new Map);Jr(this,In,new Map);Jr(this,Dn,new on);Jr(this,Wn,0);Jr(this,Vn,null);Jr(this,On,null);Jr(this,zn,new an);Jr(this,nr,!1);Jr(this,Yn,tn.AnnotationEditorType.NONE);Jr(this,ar,new Set);Jr(this,tr,this.copy.bind(this));Jr(this,dr,this.cut.bind(this));Jr(this,Jn,this.paste.bind(this));Jr(this,hr,this.keydown.bind(this));Jr(this,yr,this.onEditingAction.bind(this));Jr(this,Mr,this.onPageChanging.bind(this));Jr(this,Mn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Jr(this,Fn,null);ps(this,Fn,Ar),ps(this,On,Hr),vr(this,On)._on("editingaction",vr(this,yr)),vr(this,On)._on("pagechanging",vr(this,Mr))}destroy(){ss(this,qn,b1).call(this),vr(this,On)._off("editingaction",vr(this,yr)),vr(this,On)._off("pagechanging",vr(this,Mr));for(const Ar of vr(this,In).values())Ar.destroy();vr(this,In).clear(),vr(this,kn).clear(),ps(this,Cn,null),vr(this,ar).clear(),vr(this,Dn).destroy()}onPageChanging({pageNumber:Ar}){ps(this,Wn,Ar-1)}focusMainContainer(){vr(this,Fn).focus()}copy(Ar){if(Ar.preventDefault(),vr(this,Cn)&&vr(this,Cn).commitOrRemove(),!this.hasSelection)return;const Hr=[];for(const ns of vr(this,ar))ns.isEmpty()||Hr.push(ns.serialize());Hr.length!==0&&Ar.clipboardData.setData("application/pdfjs",JSON.stringify(Hr))}cut(Ar){this.copy(Ar),this.delete()}paste(Ar){Ar.preventDefault();let Hr=Ar.clipboardData.getData("application/pdfjs");if(!Hr)return;try{Hr=JSON.parse(Hr)}catch(Xr){(0,tn.warn)(`paste: "${Xr.message}".`);return}if(!Array.isArray(Hr))return;this.unselectAll();const ns=vr(this,In).get(vr(this,Wn));try{const Xr=[];for(const ys of Hr){const ks=ns.deserialize(ys);if(!ks)return;Xr.push(ks)}const Cs=()=>{for(const ys of Xr)ss(this,pr,x1).call(this,ys);ss(this,lr,A1).call(this,Xr)},ms=()=>{for(const ys of Xr)ys.remove()};this.addCommands({cmd:Cs,undo:ms,mustExec:!0})}catch(Xr){(0,tn.warn)(`paste: "${Xr.message}".`)}}keydown(Ar){var Hr;(Hr=this.getActive())!=null&&Hr.shouldGetKeyboardEvents()||zr._keyboardManager.exec(this,Ar)}onEditingAction(Ar){["undo","redo","delete","selectAll"].includes(Ar.name)&&this[Ar.name]()}setEditingState(Ar){Ar?(ss(this,Nn,Y1).call(this),ss(this,sr,X1).call(this),ss(this,Er,Vu).call(this,{isEditing:vr(this,Yn)!==tn.AnnotationEditorType.NONE,isEmpty:ss(this,xr,U0).call(this),hasSomethingToUndo:vr(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:vr(this,Dn).hasSomethingToRedo(),hasSelectedEditor:!1})):(ss(this,qn,b1).call(this),ss(this,br,Q1).call(this),ss(this,Er,Vu).call(this,{isEditing:!1}))}registerEditorTypes(Ar){if(!vr(this,Vn)){ps(this,Vn,Ar);for(const Hr of vr(this,Vn))ss(this,$n,B0).call(this,Hr.defaultPropertiesToUpdate)}}getId(){return vr(this,zn).getId()}addLayer(Ar){vr(this,In).set(Ar.pageIndex,Ar),vr(this,nr)?Ar.enable():Ar.disable()}removeLayer(Ar){vr(this,In).delete(Ar.pageIndex)}updateMode(Ar){if(ps(this,Yn,Ar),Ar===tn.AnnotationEditorType.NONE)this.setEditingState(!1),ss(this,Xn,Z1).call(this);else{this.setEditingState(!0),ss(this,jn,J1).call(this);for(const Hr of vr(this,In).values())Hr.updateMode(Ar)}}updateToolbar(Ar){Ar!==vr(this,Yn)&&vr(this,On).dispatch("switchannotationeditormode",{source:this,mode:Ar})}updateParams(Ar,Hr){if(!!vr(this,Vn)){for(const ns of vr(this,ar))ns.updateParams(Ar,Hr);for(const ns of vr(this,Vn))ns.updateDefaultParams(Ar,Hr)}}getEditors(Ar){const Hr=[];for(const ns of vr(this,kn).values())ns.pageIndex===Ar&&Hr.push(ns);return Hr}getEditor(Ar){return vr(this,kn).get(Ar)}addEditor(Ar){vr(this,kn).set(Ar.id,Ar)}removeEditor(Ar){vr(this,kn).delete(Ar.id),this.unselect(Ar)}setActiveEditor(Ar){vr(this,Cn)!==Ar&&(ps(this,Cn,Ar),Ar&&ss(this,$n,B0).call(this,Ar.propertiesToUpdate))}toggleSelected(Ar){if(vr(this,ar).has(Ar)){vr(this,ar).delete(Ar),Ar.unselect(),ss(this,Er,Vu).call(this,{hasSelectedEditor:this.hasSelection});return}vr(this,ar).add(Ar),Ar.select(),ss(this,$n,B0).call(this,Ar.propertiesToUpdate),ss(this,Er,Vu).call(this,{hasSelectedEditor:!0})}setSelected(Ar){for(const Hr of vr(this,ar))Hr!==Ar&&Hr.unselect();vr(this,ar).clear(),vr(this,ar).add(Ar),Ar.select(),ss(this,$n,B0).call(this,Ar.propertiesToUpdate),ss(this,Er,Vu).call(this,{hasSelectedEditor:!0})}isSelected(Ar){return vr(this,ar).has(Ar)}unselect(Ar){Ar.unselect(),vr(this,ar).delete(Ar),ss(this,Er,Vu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return vr(this,ar).size!==0}undo(){vr(this,Dn).undo(),ss(this,Er,Vu).call(this,{hasSomethingToUndo:vr(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ss(this,xr,U0).call(this)})}redo(){vr(this,Dn).redo(),ss(this,Er,Vu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:vr(this,Dn).hasSomethingToRedo(),isEmpty:ss(this,xr,U0).call(this)})}addCommands(Ar){vr(this,Dn).add(Ar),ss(this,Er,Vu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ss(this,xr,U0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ar=[...vr(this,ar)],Hr=()=>{for(const Xr of Ar)Xr.remove()},ns=()=>{for(const Xr of Ar)ss(this,pr,x1).call(this,Xr)};this.addCommands({cmd:Hr,undo:ns,mustExec:!0})}commitOrRemove(){var Ar;(Ar=vr(this,Cn))==null||Ar.commitOrRemove()}selectAll(){for(const Ar of vr(this,ar))Ar.commit();ss(this,lr,A1).call(this,vr(this,kn).values())}unselectAll(){if(vr(this,Cn)){vr(this,Cn).commitOrRemove();return}if(vr(this,ar).size!==0){for(const Ar of vr(this,ar))Ar.unselect();vr(this,ar).clear(),ss(this,Er,Vu).call(this,{hasSelectedEditor:!1})}}isActive(Ar){return vr(this,Cn)===Ar}getActive(){return vr(this,Cn)}getMode(){return vr(this,Yn)}};let mn=zr;Cn=new WeakMap,kn=new WeakMap,In=new WeakMap,Dn=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,On=new WeakMap,zn=new WeakMap,nr=new WeakMap,Yn=new WeakMap,ar=new WeakMap,tr=new WeakMap,dr=new WeakMap,Jn=new WeakMap,hr=new WeakMap,yr=new WeakMap,Mr=new WeakMap,Mn=new WeakMap,Fn=new WeakMap,Nn=new WeakSet,Y1=function(){vr(this,Fn).addEventListener("keydown",vr(this,hr))},qn=new WeakSet,b1=function(){vr(this,Fn).removeEventListener("keydown",vr(this,hr))},sr=new WeakSet,X1=function(){document.addEventListener("copy",vr(this,tr)),document.addEventListener("cut",vr(this,dr)),document.addEventListener("paste",vr(this,Jn))},br=new WeakSet,Q1=function(){document.removeEventListener("copy",vr(this,tr)),document.removeEventListener("cut",vr(this,dr)),document.removeEventListener("paste",vr(this,Jn))},Er=new WeakSet,Vu=function(Ar){Object.entries(Ar).some(([ns,Xr])=>vr(this,Mn)[ns]!==Xr)&&vr(this,On).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(vr(this,Mn),Ar)})},$n=new WeakSet,B0=function(Ar){vr(this,On).dispatch("annotationeditorparamschanged",{source:this,details:Ar})},jn=new WeakSet,J1=function(){if(!vr(this,nr)){ps(this,nr,!0);for(const Ar of vr(this,In).values())Ar.enable()}},Xn=new WeakSet,Z1=function(){if(this.unselectAll(),vr(this,nr)){ps(this,nr,!1);for(const Ar of vr(this,In).values())Ar.disable()}},pr=new WeakSet,x1=function(Ar){const Hr=vr(this,In).get(Ar.pageIndex);Hr?Hr.addOrRebuild(Ar):this.addEditor(Ar)},xr=new WeakSet,U0=function(){if(vr(this,kn).size===0)return!0;if(vr(this,kn).size===1)for(const Ar of vr(this,kn).values())return Ar.isEmpty();return!1},lr=new WeakSet,A1=function(Ar){vr(this,ar).clear();for(const Hr of Ar)Hr.isEmpty()||(vr(this,ar).add(Hr),Hr.select());ss(this,Er,Vu).call(this,{hasSelectedEditor:!0})},Do(mn,"_keyboardManager",new cn([[["ctrl+a","mac+meta+a"],zr.prototype.selectAll],[["ctrl+z","mac+meta+z"],zr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],zr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],zr.prototype.delete],[["Escape","mac+Escape"],zr.prototype.unselectAll]])),_e.AnnotationEditorUIManager=mn},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=_e.AnnotationPrefix=void 0,_e.deprecated=kn,_e.getColorValues=On,_e.getCurrentTransform=zn,_e.getCurrentTransformInverse=nr,_e.getFilenameFromUrl=vn,_e.getPdfFilenameFromUrl=Sn,_e.getRGB=Vn,_e.getXfaPageViewport=Wn,_e.isDataScheme=bn,_e.isPdfFile=wn,_e.isValidFetchUrl=En,_e.loadScript=Cn;var tn=en(7),nn=en(1);const rn="http://www.w3.org/2000/svg",sn="pdfjs_internal_id_";_e.AnnotationPrefix=sn;const Yn=class{};let an=Yn;Do(an,"CSS",96),Do(an,"PDF",72),Do(an,"PDF_TO_CSS_UNITS",Yn.CSS/Yn.PDF),_e.PixelsPerInch=an;class on extends tn.BaseCanvasFactory{constructor({ownerDocument:tr=globalThis.document}={}){super(),this._document=tr}_createCanvas(tr,dr){const Jn=this._document.createElement("canvas");return Jn.width=tr,Jn.height=dr,Jn}}_e.DOMCanvasFactory=on;async function cn(ar,tr=!1){if(En(ar,document.baseURI)){const dr=await fetch(ar);if(!dr.ok)throw new Error(dr.statusText);return tr?new Uint8Array(await dr.arrayBuffer()):(0,nn.stringToBytes)(await dr.text())}return new Promise((dr,Jn)=>{const hr=new XMLHttpRequest;hr.open("GET",ar,!0),tr&&(hr.responseType="arraybuffer"),hr.onreadystatechange=()=>{if(hr.readyState===XMLHttpRequest.DONE){if(hr.status===200||hr.status===0){let yr;if(tr&&hr.response?yr=new Uint8Array(hr.response):!tr&&hr.responseText&&(yr=(0,nn.stringToBytes)(hr.responseText)),yr){dr(yr);return}}Jn(new Error(hr.statusText))}},hr.send(null)})}class dn extends tn.BaseCMapReaderFactory{_fetchData(tr,dr){return cn(tr,this.isCompressed).then(Jn=>({cMapData:Jn,compressionType:dr}))}}_e.DOMCMapReaderFactory=dn;class mn extends tn.BaseStandardFontDataFactory{_fetchData(tr){return cn(tr,!0)}}_e.DOMStandardFontDataFactory=mn;class pn extends tn.BaseSVGFactory{_createSVG(tr){return document.createElementNS(rn,tr)}}_e.DOMSVGFactory=pn;class fn{constructor({viewBox:tr,scale:dr,rotation:Jn,offsetX:hr=0,offsetY:yr=0,dontFlip:Mr=!1}){this.viewBox=tr,this.scale=dr,this.rotation=Jn,this.offsetX=hr,this.offsetY=yr;const Mn=(tr[2]+tr[0])/2,Fn=(tr[3]+tr[1])/2;let Nn,Un,qn,er;switch(Jn%=360,Jn<0&&(Jn+=360),Jn){case 180:Nn=-1,Un=0,qn=0,er=1;break;case 90:Nn=0,Un=1,qn=1,er=0;break;case 270:Nn=0,Un=-1,qn=-1,er=0;break;case 0:Nn=1,Un=0,qn=0,er=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Mr&&(qn=-qn,er=-er);let sr,ur,br,kr;Nn===0?(sr=Math.abs(Fn-tr[1])*dr+hr,ur=Math.abs(Mn-tr[0])*dr+yr,br=Math.abs(tr[3]-tr[1])*dr,kr=Math.abs(tr[2]-tr[0])*dr):(sr=Math.abs(Mn-tr[0])*dr+hr,ur=Math.abs(Fn-tr[1])*dr+yr,br=Math.abs(tr[2]-tr[0])*dr,kr=Math.abs(tr[3]-tr[1])*dr),this.transform=[Nn*dr,Un*dr,qn*dr,er*dr,sr-Nn*dr*Mn-qn*dr*Fn,ur-Un*dr*Mn-er*dr*Fn],this.width=br,this.height=kr}clone({scale:tr=this.scale,rotation:dr=this.rotation,offsetX:Jn=this.offsetX,offsetY:hr=this.offsetY,dontFlip:yr=!1}={}){return new fn({viewBox:this.viewBox.slice(),scale:tr,rotation:dr,offsetX:Jn,offsetY:hr,dontFlip:yr})}convertToViewportPoint(tr,dr){return nn.Util.applyTransform([tr,dr],this.transform)}convertToViewportRectangle(tr){const dr=nn.Util.applyTransform([tr[0],tr[1]],this.transform),Jn=nn.Util.applyTransform([tr[2],tr[3]],this.transform);return[dr[0],dr[1],Jn[0],Jn[1]]}convertToPdfPoint(tr,dr){return nn.Util.applyInverseTransform([tr,dr],this.transform)}}_e.PageViewport=fn;class yn extends nn.BaseException{constructor(tr,dr){super(tr,"RenderingCancelledException"),this.type=dr}}_e.RenderingCancelledException=yn;function bn(ar){const tr=ar.length;let dr=0;for(;dr<tr&&ar[dr].trim()==="";)dr++;return ar.substring(dr,dr+5).toLowerCase()==="data:"}function wn(ar){return typeof ar=="string"&&/\.pdf$/i.test(ar)}function vn(ar){const tr=ar.indexOf("#"),dr=ar.indexOf("?"),Jn=Math.min(tr>0?tr:ar.length,dr>0?dr:ar.length);return ar.substring(ar.lastIndexOf("/",Jn)+1,Jn)}function Sn(ar,tr="document.pdf"){if(typeof ar!="string")return tr;if(bn(ar))return(0,nn.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),tr;const dr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,hr=dr.exec(ar);let yr=Jn.exec(hr[1])||Jn.exec(hr[2])||Jn.exec(hr[3]);if(yr&&(yr=yr[0],yr.includes("%")))try{yr=Jn.exec(decodeURIComponent(yr))[0]}catch{}return yr||tr}class xn{constructor(){this.started=Object.create(null),this.times=[]}time(tr){tr in this.started&&(0,nn.warn)(`Timer is already running for ${tr}`),this.started[tr]=Date.now()}timeEnd(tr){tr in this.started||(0,nn.warn)(`Timer has not been started for ${tr}`),this.times.push({name:tr,start:this.started[tr],end:Date.now()}),delete this.started[tr]}toString(){const tr=[];let dr=0;for(const Jn of this.times){const hr=Jn.name;hr.length>dr&&(dr=hr.length)}for(const Jn of this.times){const hr=Jn.end-Jn.start;tr.push(`${Jn.name.padEnd(dr)} ${hr}ms
`)}return tr.join("")}}_e.StatTimer=xn;function En(ar,tr){try{const{protocol:dr}=tr?new URL(ar,tr):new URL(ar);return dr==="http:"||dr==="https:"}catch{return!1}}function Cn(ar,tr=!1){return new Promise((dr,Jn)=>{const hr=document.createElement("script");hr.src=ar,hr.onload=function(yr){tr&&hr.remove(),dr(yr)},hr.onerror=function(){Jn(new Error(`Cannot load script at: ${hr.src}`))},(document.head||document.documentElement).append(hr)})}function kn(ar){console.log("Deprecated API usage: "+ar)}let In;class Dn{static toDateObject(tr){if(!tr||typeof tr!="string")return null;In||(In=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const dr=In.exec(tr);if(!dr)return null;const Jn=parseInt(dr[1],10);let hr=parseInt(dr[2],10);hr=hr>=1&&hr<=12?hr-1:0;let yr=parseInt(dr[3],10);yr=yr>=1&&yr<=31?yr:1;let Mr=parseInt(dr[4],10);Mr=Mr>=0&&Mr<=23?Mr:0;let Mn=parseInt(dr[5],10);Mn=Mn>=0&&Mn<=59?Mn:0;let Fn=parseInt(dr[6],10);Fn=Fn>=0&&Fn<=59?Fn:0;const Nn=dr[7]||"Z";let Un=parseInt(dr[8],10);Un=Un>=0&&Un<=23?Un:0;let qn=parseInt(dr[9],10)||0;return qn=qn>=0&&qn<=59?qn:0,Nn==="-"?(Mr+=Un,Mn+=qn):Nn==="+"&&(Mr-=Un,Mn-=qn),new Date(Date.UTC(Jn,hr,yr,Mr,Mn,Fn))}}_e.PDFDateString=Dn;function Wn(ar,{scale:tr=1,rotation:dr=0}){const{width:Jn,height:hr}=ar.attributes.style,yr=[0,0,parseInt(Jn),parseInt(hr)];return new fn({viewBox:yr,scale:tr,rotation:dr})}function Vn(ar){if(ar.startsWith("#")){const tr=parseInt(ar.slice(1),16);return[(tr&16711680)>>16,(tr&65280)>>8,tr&255]}return ar.startsWith("rgb(")?ar.slice(4,-1).split(",").map(tr=>parseInt(tr)):ar.startsWith("rgba(")?ar.slice(5,-1).split(",").map(tr=>parseInt(tr)).slice(0,3):((0,nn.warn)(`Not a valid color format: "${ar}"`),[0,0,0])}function On(ar){const tr=document.createElement("span");tr.style.visibility="hidden",document.body.append(tr);for(const dr of ar.keys()){tr.style.color=dr;const Jn=window.getComputedStyle(tr).color;ar.set(dr,Vn(Jn))}tr.remove()}function zn(ar){const{a:tr,b:dr,c:Jn,d:hr,e:yr,f:Mr}=ar.getTransform();return[tr,dr,Jn,hr,yr,Mr]}function nr(ar){const{a:tr,b:dr,c:Jn,d:hr,e:yr,f:Mr}=ar.getTransform().invertSelf();return[tr,dr,Jn,hr,yr,Mr]}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var tn=en(1);class nn{constructor(){this.constructor===nn&&(0,tn.unreachable)("Cannot initialize BaseCanvasFactory.")}create(cn,dn){if(cn<=0||dn<=0)throw new Error("Invalid canvas size");const mn=this._createCanvas(cn,dn);return{canvas:mn,context:mn.getContext("2d")}}reset(cn,dn,mn){if(!cn.canvas)throw new Error("Canvas is not specified");if(dn<=0||mn<=0)throw new Error("Invalid canvas size");cn.canvas.width=dn,cn.canvas.height=mn}destroy(cn){if(!cn.canvas)throw new Error("Canvas is not specified");cn.canvas.width=0,cn.canvas.height=0,cn.canvas=null,cn.context=null}_createCanvas(cn,dn){(0,tn.unreachable)("Abstract method `_createCanvas` called.")}}_e.BaseCanvasFactory=nn;class rn{constructor({baseUrl:cn=null,isCompressed:dn=!1}){this.constructor===rn&&(0,tn.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=cn,this.isCompressed=dn}async fetch({name:cn}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!cn)throw new Error("CMap name must be specified.");const dn=this.baseUrl+cn+(this.isCompressed?".bcmap":""),mn=this.isCompressed?tn.CMapCompressionType.BINARY:tn.CMapCompressionType.NONE;return this._fetchData(dn,mn).catch(pn=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dn}`)})}_fetchData(cn,dn){(0,tn.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseCMapReaderFactory=rn;class sn{constructor({baseUrl:cn=null}){this.constructor===sn&&(0,tn.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=cn}async fetch({filename:cn}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!cn)throw new Error("Font filename must be specified.");const dn=`${this.baseUrl}${cn}`;return this._fetchData(dn).catch(mn=>{throw new Error(`Unable to load font data at: ${dn}`)})}_fetchData(cn){(0,tn.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseStandardFontDataFactory=sn;class an{constructor(){this.constructor===an&&(0,tn.unreachable)("Cannot initialize BaseSVGFactory.")}create(cn,dn,mn=!1){if(cn<=0||dn<=0)throw new Error("Invalid SVG dimensions");const pn=this._createSVG("svg:svg");return pn.setAttribute("version","1.1"),mn||(pn.setAttribute("width",`${cn}px`),pn.setAttribute("height",`${dn}px`)),pn.setAttribute("preserveAspectRatio","none"),pn.setAttribute("viewBox",`0 0 ${cn} ${dn}`),pn}createElement(cn){if(typeof cn!="string")throw new Error("Invalid SVG element type");return this._createSVG(cn)}_createSVG(cn){(0,tn.unreachable)("Abstract method `_createSVG` called.")}}_e.BaseSVGFactory=an},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var tn=en(1);const nn=3285377520,rn=4294901760,sn=65535;class an{constructor(cn){this.h1=cn?cn&4294967295:nn,this.h2=cn?cn&4294967295:nn}update(cn){let dn,mn;if(typeof cn=="string"){dn=new Uint8Array(cn.length*2),mn=0;for(let In=0,Dn=cn.length;In<Dn;In++){const Wn=cn.charCodeAt(In);Wn<=255?dn[mn++]=Wn:(dn[mn++]=Wn>>>8,dn[mn++]=Wn&255)}}else if((0,tn.isArrayBuffer)(cn))dn=cn.slice(),mn=dn.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const pn=mn>>2,fn=mn-pn*4,yn=new Uint32Array(dn.buffer,0,pn);let bn=0,wn=0,vn=this.h1,Sn=this.h2;const xn=3432918353,En=461845907,Cn=xn&sn,kn=En&sn;for(let In=0;In<pn;In++)In&1?(bn=yn[In],bn=bn*xn&rn|bn*Cn&sn,bn=bn<<15|bn>>>17,bn=bn*En&rn|bn*kn&sn,vn^=bn,vn=vn<<13|vn>>>19,vn=vn*5+3864292196):(wn=yn[In],wn=wn*xn&rn|wn*Cn&sn,wn=wn<<15|wn>>>17,wn=wn*En&rn|wn*kn&sn,Sn^=wn,Sn=Sn<<13|Sn>>>19,Sn=Sn*5+3864292196);switch(bn=0,fn){case 3:bn^=dn[pn*4+2]<<16;case 2:bn^=dn[pn*4+1]<<8;case 1:bn^=dn[pn*4],bn=bn*xn&rn|bn*Cn&sn,bn=bn<<15|bn>>>17,bn=bn*En&rn|bn*kn&sn,pn&1?vn^=bn:Sn^=bn}this.h1=vn,this.h2=Sn}hexdigest(){let cn=this.h1,dn=this.h2;cn^=dn>>>1,cn=cn*3981806797&rn|cn*36045&sn,dn=dn*4283543511&rn|((dn<<16|cn>>>16)*2950163797&rn)>>>16,cn^=dn>>>1,cn=cn*444984403&rn|cn*60499&sn,dn=dn*3301882366&rn|((dn<<16|cn>>>16)*3120437893&rn)>>>16,cn^=dn>>>1;const mn=(cn>>>0).toString(16),pn=(dn>>>0).toString(16);return mn.padStart(8,"0")+pn.padStart(8,"0")}}_e.MurmurHash3_64=an},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var tn=en(1);class nn{constructor({onUnsupportedFeature:an,ownerDocument:on=globalThis.document,styleElement:cn=null}){this._onUnsupportedFeature=an,this._document=on,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(an){this.nativeFontFaces.push(an),this._document.fonts.add(an)}insertRule(an){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const on=this.styleElement.sheet;on.insertRule(an,on.cssRules.length)}clear(){for(const an of this.nativeFontFaces)this._document.fonts.delete(an);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(an){if(an.attached||an.missingFile)return;if(an.attached=!0,this.isFontLoadingAPISupported){const cn=an.createNativeFontFace();if(cn){this.addNativeFontFace(cn);try{await cn.loaded}catch(dn){throw this._onUnsupportedFeature({featureId:tn.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,tn.warn)(`Failed to load font '${cn.family}': '${dn}'.`),an.disableFontFace=!0,dn}}return}const on=an.createFontFaceRule();if(on){if(this.insertRule(on),this.isSyncFontLoadingSupported)return;await new Promise(cn=>{const dn=this._queueLoadingCallback(cn);this._prepareFontLoadEvent(an,dn)})}}get isFontLoadingAPISupported(){var on;const an=!!((on=this._document)!=null&&on.fonts);return(0,tn.shadow)(this,"isFontLoadingAPISupported",an)}get isSyncFontLoadingSupported(){let an=!1;if(typeof navigator>"u")an=!0;else{const on=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(on==null?void 0:on[1])>=14&&(an=!0)}return(0,tn.shadow)(this,"isSyncFontLoadingSupported",an)}_queueLoadingCallback(an){function on(){for((0,tn.assert)(!dn.done,"completeRequest() cannot be called twice."),dn.done=!0;cn.length>0&&cn[0].done;){const mn=cn.shift();setTimeout(mn.callback,0)}}const{loadingRequests:cn}=this,dn={done:!1,complete:on,callback:an};return cn.push(dn),dn}get _loadTestFont(){const an=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tn.shadow)(this,"_loadTestFont",an)}_prepareFontLoadEvent(an,on){function cn(Vn,On){return Vn.charCodeAt(On)<<24|Vn.charCodeAt(On+1)<<16|Vn.charCodeAt(On+2)<<8|Vn.charCodeAt(On+3)&255}function dn(Vn,On,zn,nr){const Yn=Vn.substring(0,On),ar=Vn.substring(On+zn);return Yn+nr+ar}let mn,pn;const fn=this._document.createElement("canvas");fn.width=1,fn.height=1;const yn=fn.getContext("2d");let bn=0;function wn(Vn,On){if(++bn>30){(0,tn.warn)("Load test font never loaded."),On();return}if(yn.font="30px "+Vn,yn.fillText(".",0,20),yn.getImageData(0,0,1,1).data[3]>0){On();return}setTimeout(wn.bind(null,Vn,On))}const vn=`lt${Date.now()}${this.loadTestFontId++}`;let Sn=this._loadTestFont;Sn=dn(Sn,976,vn.length,vn);const En=16,Cn=1482184792;let kn=cn(Sn,En);for(mn=0,pn=vn.length-3;mn<pn;mn+=4)kn=kn-Cn+cn(vn,mn)|0;mn<vn.length&&(kn=kn-Cn+cn(vn+"XXX",mn)|0),Sn=dn(Sn,En,4,(0,tn.string32)(kn));const In=`url(data:font/opentype;base64,${btoa(Sn)});`,Dn=`@font-face {font-family:"${vn}";src:${In}}`;this.insertRule(Dn);const Wn=this._document.createElement("div");Wn.style.visibility="hidden",Wn.style.width=Wn.style.height="10px",Wn.style.position="absolute",Wn.style.top=Wn.style.left="0px";for(const Vn of[an.loadedName,vn]){const On=this._document.createElement("span");On.textContent="Hi",On.style.fontFamily=Vn,Wn.append(On)}this._document.body.append(Wn),wn(vn,()=>{Wn.remove(),on.complete()})}}_e.FontLoader=nn;class rn{constructor(an,{isEvalSupported:on=!0,disableFontFace:cn=!1,ignoreErrors:dn=!1,onUnsupportedFeature:mn,fontRegistry:pn=null}){this.compiledGlyphs=Object.create(null);for(const fn in an)this[fn]=an[fn];this.isEvalSupported=on!==!1,this.disableFontFace=cn===!0,this.ignoreErrors=dn===!0,this._onUnsupportedFeature=mn,this.fontRegistry=pn}createNativeFontFace(){var on;if(!this.data||this.disableFontFace)return null;let an;if(!this.cssFontInfo)an=new FontFace(this.loadedName,this.data,{});else{const cn={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(cn.style=`oblique ${this.cssFontInfo.italicAngle}deg`),an=new FontFace(this.cssFontInfo.fontFamily,this.data,cn)}return(on=this.fontRegistry)==null||on.registerFont(this),an}createFontFaceRule(){var dn;if(!this.data||this.disableFontFace)return null;const an=(0,tn.bytesToString)(this.data),on=`url(data:${this.mimetype};base64,${btoa(an)});`;let cn;if(!this.cssFontInfo)cn=`@font-face {font-family:"${this.loadedName}";src:${on}}`;else{let mn=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(mn+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),cn=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${mn}src:${on}}`}return(dn=this.fontRegistry)==null||dn.registerFont(this,on),cn}getPathGenerator(an,on){if(this.compiledGlyphs[on]!==void 0)return this.compiledGlyphs[on];let cn;try{cn=an.get(this.loadedName+"_path_"+on)}catch(dn){if(!this.ignoreErrors)throw dn;return this._onUnsupportedFeature({featureId:tn.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,tn.warn)(`getPathGenerator - ignoring character: "${dn}".`),this.compiledGlyphs[on]=function(mn,pn){}}if(this.isEvalSupported&&tn.FeatureTest.isEvalSupported){const dn=[];for(const mn of cn){const pn=mn.args!==void 0?mn.args.join(","):"";dn.push("c.",mn.cmd,"(",pn,`);
`)}return this.compiledGlyphs[on]=new Function("c","size",dn.join(""))}return this.compiledGlyphs[on]=function(dn,mn){for(const pn of cn)pn.cmd==="scale"&&(pn.args=[mn,-mn]),dn[pn.cmd].apply(dn,pn.args)}}}_e.FontFaceObject=rn},(St,_e,en)=>{var hr,C1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var tn=en(1),nn=en(6),rn=en(11),sn=en(13),an=en(12);const on=16,cn=100,dn=4096,mn=15,pn=10,fn=an.isNodeJS&&typeof Path2D>"u"?-1:1e3,yn=16;function bn(Mn,Fn){if(Mn._removeMirroring)throw new Error("Context is already forwarding operations.");Mn.__originalSave=Mn.save,Mn.__originalRestore=Mn.restore,Mn.__originalRotate=Mn.rotate,Mn.__originalScale=Mn.scale,Mn.__originalTranslate=Mn.translate,Mn.__originalTransform=Mn.transform,Mn.__originalSetTransform=Mn.setTransform,Mn.__originalResetTransform=Mn.resetTransform,Mn.__originalClip=Mn.clip,Mn.__originalMoveTo=Mn.moveTo,Mn.__originalLineTo=Mn.lineTo,Mn.__originalBezierCurveTo=Mn.bezierCurveTo,Mn.__originalRect=Mn.rect,Mn.__originalClosePath=Mn.closePath,Mn.__originalBeginPath=Mn.beginPath,Mn._removeMirroring=()=>{Mn.save=Mn.__originalSave,Mn.restore=Mn.__originalRestore,Mn.rotate=Mn.__originalRotate,Mn.scale=Mn.__originalScale,Mn.translate=Mn.__originalTranslate,Mn.transform=Mn.__originalTransform,Mn.setTransform=Mn.__originalSetTransform,Mn.resetTransform=Mn.__originalResetTransform,Mn.clip=Mn.__originalClip,Mn.moveTo=Mn.__originalMoveTo,Mn.lineTo=Mn.__originalLineTo,Mn.bezierCurveTo=Mn.__originalBezierCurveTo,Mn.rect=Mn.__originalRect,Mn.closePath=Mn.__originalClosePath,Mn.beginPath=Mn.__originalBeginPath,delete Mn._removeMirroring},Mn.save=function(){Fn.save(),this.__originalSave()},Mn.restore=function(){Fn.restore(),this.__originalRestore()},Mn.translate=function(Un,qn){Fn.translate(Un,qn),this.__originalTranslate(Un,qn)},Mn.scale=function(Un,qn){Fn.scale(Un,qn),this.__originalScale(Un,qn)},Mn.transform=function(Un,qn,er,sr,ur,br){Fn.transform(Un,qn,er,sr,ur,br),this.__originalTransform(Un,qn,er,sr,ur,br)},Mn.setTransform=function(Un,qn,er,sr,ur,br){Fn.setTransform(Un,qn,er,sr,ur,br),this.__originalSetTransform(Un,qn,er,sr,ur,br)},Mn.resetTransform=function(){Fn.resetTransform(),this.__originalResetTransform()},Mn.rotate=function(Un){Fn.rotate(Un),this.__originalRotate(Un)},Mn.clip=function(Un){Fn.clip(Un),this.__originalClip(Un)},Mn.moveTo=function(Nn,Un){Fn.moveTo(Nn,Un),this.__originalMoveTo(Nn,Un)},Mn.lineTo=function(Nn,Un){Fn.lineTo(Nn,Un),this.__originalLineTo(Nn,Un)},Mn.bezierCurveTo=function(Nn,Un,qn,er,sr,ur){Fn.bezierCurveTo(Nn,Un,qn,er,sr,ur),this.__originalBezierCurveTo(Nn,Un,qn,er,sr,ur)},Mn.rect=function(Nn,Un,qn,er){Fn.rect(Nn,Un,qn,er),this.__originalRect(Nn,Un,qn,er)},Mn.closePath=function(){Fn.closePath(),this.__originalClosePath()},Mn.beginPath=function(){Fn.beginPath(),this.__originalBeginPath()}}class wn{constructor(Fn){this.canvasFactory=Fn,this.cache=Object.create(null)}getCanvas(Fn,Nn,Un){let qn;return this.cache[Fn]!==void 0?(qn=this.cache[Fn],this.canvasFactory.reset(qn,Nn,Un)):(qn=this.canvasFactory.create(Nn,Un),this.cache[Fn]=qn),qn}delete(Fn){delete this.cache[Fn]}clear(){for(const Fn in this.cache){const Nn=this.cache[Fn];this.canvasFactory.destroy(Nn),delete this.cache[Fn]}}}function vn(Mn,Fn,Nn,Un,qn,er,sr,ur,br,kr){const[Er,Pr,$n,Gn,jn,fr]=(0,nn.getCurrentTransform)(Mn);if(Pr===0&&$n===0){const pr=sr*Er+jn,Tr=Math.round(pr),xr=ur*Gn+fr,Ur=Math.round(xr),lr=(sr+br)*Er+jn,Rr=Math.abs(Math.round(lr)-Tr)||1,zr=(ur+kr)*Gn+fr,qr=Math.abs(Math.round(zr)-Ur)||1;return Mn.setTransform(Math.sign(Er),0,0,Math.sign(Gn),Tr,Ur),Mn.drawImage(Fn,Nn,Un,qn,er,0,0,Rr,qr),Mn.setTransform(Er,Pr,$n,Gn,jn,fr),[Rr,qr]}if(Er===0&&Gn===0){const pr=ur*$n+jn,Tr=Math.round(pr),xr=sr*Pr+fr,Ur=Math.round(xr),lr=(ur+kr)*$n+jn,Rr=Math.abs(Math.round(lr)-Tr)||1,zr=(sr+br)*Pr+fr,qr=Math.abs(Math.round(zr)-Ur)||1;return Mn.setTransform(0,Math.sign(Pr),Math.sign($n),0,Tr,Ur),Mn.drawImage(Fn,Nn,Un,qn,er,0,0,qr,Rr),Mn.setTransform(Er,Pr,$n,Gn,jn,fr),[qr,Rr]}Mn.drawImage(Fn,Nn,Un,qn,er,sr,ur,br,kr);const Xn=Math.hypot(Er,Pr),Zn=Math.hypot($n,Gn);return[Xn*br,Zn*kr]}function Sn(Mn){const{width:Fn,height:Nn}=Mn;if(Fn>fn||Nn>fn)return null;const Un=1e3,qn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),er=Fn+1;let sr=new Uint8Array(er*(Nn+1)),ur,br,kr;const Er=Fn+7&-8;let Pr=new Uint8Array(Er*Nn),$n=0;for(const Zn of Mn.data){let pr=128;for(;pr>0;)Pr[$n++]=Zn&pr?0:255,pr>>=1}let Gn=0;for($n=0,Pr[$n]!==0&&(sr[0]=1,++Gn),br=1;br<Fn;br++)Pr[$n]!==Pr[$n+1]&&(sr[br]=Pr[$n]?2:1,++Gn),$n++;for(Pr[$n]!==0&&(sr[br]=2,++Gn),ur=1;ur<Nn;ur++){$n=ur*Er,kr=ur*er,Pr[$n-Er]!==Pr[$n]&&(sr[kr]=Pr[$n]?1:8,++Gn);let Zn=(Pr[$n]?4:0)+(Pr[$n-Er]?8:0);for(br=1;br<Fn;br++)Zn=(Zn>>2)+(Pr[$n+1]?4:0)+(Pr[$n-Er+1]?8:0),qn[Zn]&&(sr[kr+br]=qn[Zn],++Gn),$n++;if(Pr[$n-Er]!==Pr[$n]&&(sr[kr+br]=Pr[$n]?2:4,++Gn),Gn>Un)return null}for($n=Er*(Nn-1),kr=ur*er,Pr[$n]!==0&&(sr[kr]=8,++Gn),br=1;br<Fn;br++)Pr[$n]!==Pr[$n+1]&&(sr[kr+br]=Pr[$n]?4:8,++Gn),$n++;if(Pr[$n]!==0&&(sr[kr+br]=4,++Gn),Gn>Un)return null;const jn=new Int32Array([0,er,-1,0,-er,0,0,0,1]),fr=new Path2D;for(ur=0;Gn&&ur<=Nn;ur++){let Zn=ur*er;const pr=Zn+Fn;for(;Zn<pr&&!sr[Zn];)Zn++;if(Zn===pr)continue;fr.moveTo(Zn%er,ur);const Tr=Zn;let xr=sr[Zn];do{const Ur=jn[xr];do Zn+=Ur;while(!sr[Zn]);const lr=sr[Zn];lr!==5&&lr!==10?(xr=lr,sr[Zn]=0):(xr=lr&51*xr>>4,sr[Zn]&=xr>>2|xr<<2),fr.lineTo(Zn%er,Zn/er|0),sr[Zn]||--Gn}while(Tr!==Zn);--ur}return Pr=null,sr=null,function(Zn){Zn.save(),Zn.scale(1/Fn,-1/Nn),Zn.translate(0,-Nn),Zn.fill(fr),Zn.beginPath(),Zn.restore()}}class xn{constructor(Fn,Nn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tn.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tn.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tn.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Fn,Nn])}clone(){const Fn=Object.create(this);return Fn.clipBox=this.clipBox.slice(),Fn}setCurrentPoint(Fn,Nn){this.x=Fn,this.y=Nn}updatePathMinMax(Fn,Nn,Un){[Nn,Un]=tn.Util.applyTransform([Nn,Un],Fn),this.minX=Math.min(this.minX,Nn),this.minY=Math.min(this.minY,Un),this.maxX=Math.max(this.maxX,Nn),this.maxY=Math.max(this.maxY,Un)}updateRectMinMax(Fn,Nn){const Un=tn.Util.applyTransform(Nn,Fn),qn=tn.Util.applyTransform(Nn.slice(2),Fn);this.minX=Math.min(this.minX,Un[0],qn[0]),this.minY=Math.min(this.minY,Un[1],qn[1]),this.maxX=Math.max(this.maxX,Un[0],qn[0]),this.maxY=Math.max(this.maxY,Un[1],qn[1])}updateScalingPathMinMax(Fn,Nn){tn.Util.scaleMinMax(Fn,Nn),this.minX=Math.min(this.minX,Nn[0]),this.maxX=Math.max(this.maxX,Nn[1]),this.minY=Math.min(this.minY,Nn[2]),this.maxY=Math.max(this.maxY,Nn[3])}updateCurvePathMinMax(Fn,Nn,Un,qn,er,sr,ur,br,kr,Er){const Pr=tn.Util.bezierBoundingBox(Nn,Un,qn,er,sr,ur,br,kr);if(Er){Er[0]=Math.min(Er[0],Pr[0],Pr[2]),Er[1]=Math.max(Er[1],Pr[0],Pr[2]),Er[2]=Math.min(Er[2],Pr[1],Pr[3]),Er[3]=Math.max(Er[3],Pr[1],Pr[3]);return}this.updateRectMinMax(Fn,Pr)}getPathBoundingBox(Fn=rn.PathType.FILL,Nn=null){const Un=[this.minX,this.minY,this.maxX,this.maxY];if(Fn===rn.PathType.STROKE){Nn||(0,tn.unreachable)("Stroke bounding box must include transform.");const qn=tn.Util.singularValueDecompose2dScale(Nn),er=qn[0]*this.lineWidth/2,sr=qn[1]*this.lineWidth/2;Un[0]-=er,Un[1]-=sr,Un[2]+=er,Un[3]+=sr}return Un}updateClipFromPath(){const Fn=tn.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Fn||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Fn){this.clipBox=Fn,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Fn=rn.PathType.FILL,Nn=null){return tn.Util.intersect(this.clipBox,this.getPathBoundingBox(Fn,Nn))}}function En(Mn,Fn,Nn=null){if(typeof ImageData<"u"&&Fn instanceof ImageData){Mn.putImageData(Fn,0,0);return}const Un=Fn.height,qn=Fn.width,er=Un%yn,sr=(Un-er)/yn,ur=er===0?sr:sr+1,br=Mn.createImageData(qn,yn);let kr=0,Er;const Pr=Fn.data,$n=br.data;let Gn,jn,fr,Xn,Zn,pr,Tr,xr;if(Nn)switch(Nn.length){case 1:Zn=Nn[0],pr=Nn[0],Tr=Nn[0],xr=Nn[0];break;case 4:Zn=Nn[0],pr=Nn[1],Tr=Nn[2],xr=Nn[3];break}if(Fn.kind===tn.ImageKind.GRAYSCALE_1BPP){const Ur=Pr.byteLength,lr=new Uint32Array($n.buffer,0,$n.byteLength>>2),Rr=lr.length,zr=qn+7>>3;let qr=4294967295,Ar=tn.FeatureTest.isLittleEndian?4278190080:255;for(xr&&xr[0]===255&&xr[255]===0&&([qr,Ar]=[Ar,qr]),Gn=0;Gn<ur;Gn++){for(fr=Gn<sr?yn:er,Er=0,jn=0;jn<fr;jn++){const Hr=Ur-kr;let ns=0;const Xr=Hr>zr?qn:Hr*8-7,Cs=Xr&-8;let ms=0,ys=0;for(;ns<Cs;ns+=8)ys=Pr[kr++],lr[Er++]=ys&128?qr:Ar,lr[Er++]=ys&64?qr:Ar,lr[Er++]=ys&32?qr:Ar,lr[Er++]=ys&16?qr:Ar,lr[Er++]=ys&8?qr:Ar,lr[Er++]=ys&4?qr:Ar,lr[Er++]=ys&2?qr:Ar,lr[Er++]=ys&1?qr:Ar;for(;ns<Xr;ns++)ms===0&&(ys=Pr[kr++],ms=128),lr[Er++]=ys&ms?qr:Ar,ms>>=1}for(;Er<Rr;)lr[Er++]=0;Mn.putImageData(br,0,Gn*yn)}}else if(Fn.kind===tn.ImageKind.RGBA_32BPP){const Ur=!!(Zn||pr||Tr);for(jn=0,Xn=qn*yn*4,Gn=0;Gn<sr;Gn++){if($n.set(Pr.subarray(kr,kr+Xn)),kr+=Xn,Ur)for(let lr=0;lr<Xn;lr+=4)Zn&&($n[lr+0]=Zn[$n[lr+0]]),pr&&($n[lr+1]=pr[$n[lr+1]]),Tr&&($n[lr+2]=Tr[$n[lr+2]]);Mn.putImageData(br,0,jn),jn+=yn}if(Gn<ur){if(Xn=qn*er*4,$n.set(Pr.subarray(kr,kr+Xn)),Ur)for(let lr=0;lr<Xn;lr+=4)Zn&&($n[lr+0]=Zn[$n[lr+0]]),pr&&($n[lr+1]=pr[$n[lr+1]]),Tr&&($n[lr+2]=Tr[$n[lr+2]]);Mn.putImageData(br,0,jn)}}else if(Fn.kind===tn.ImageKind.RGB_24BPP){const Ur=!!(Zn||pr||Tr);for(fr=yn,Xn=qn*fr,Gn=0;Gn<ur;Gn++){for(Gn>=sr&&(fr=er,Xn=qn*fr),Er=0,jn=Xn;jn--;)$n[Er++]=Pr[kr++],$n[Er++]=Pr[kr++],$n[Er++]=Pr[kr++],$n[Er++]=255;if(Ur)for(let lr=0;lr<Er;lr+=4)Zn&&($n[lr+0]=Zn[$n[lr+0]]),pr&&($n[lr+1]=pr[$n[lr+1]]),Tr&&($n[lr+2]=Tr[$n[lr+2]]);Mn.putImageData(br,0,Gn*yn)}}else throw new Error(`bad image kind: ${Fn.kind}`)}function Cn(Mn,Fn){if(Fn.bitmap){Mn.drawImage(Fn.bitmap,0,0);return}const Nn=Fn.height,Un=Fn.width,qn=Nn%yn,er=(Nn-qn)/yn,sr=qn===0?er:er+1,ur=Mn.createImageData(Un,yn);let br=0;const kr=Fn.data,Er=ur.data;for(let Pr=0;Pr<sr;Pr++){const $n=Pr<er?yn:qn;({srcPos:br}=(0,sn.applyMaskImageData)({src:kr,srcPos:br,dest:Er,width:Un,height:$n})),Mn.putImageData(ur,0,Pr*yn)}}function kn(Mn,Fn){const Nn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Un of Nn)Mn[Un]!==void 0&&(Fn[Un]=Mn[Un]);Mn.setLineDash!==void 0&&(Fn.setLineDash(Mn.getLineDash()),Fn.lineDashOffset=Mn.lineDashOffset)}function In(Mn,Fn){Mn.strokeStyle=Mn.fillStyle=Fn||"#000000",Mn.fillRule="nonzero",Mn.globalAlpha=1,Mn.lineWidth=1,Mn.lineCap="butt",Mn.lineJoin="miter",Mn.miterLimit=10,Mn.globalCompositeOperation="source-over",Mn.font="10px sans-serif",Mn.setLineDash!==void 0&&(Mn.setLineDash([]),Mn.lineDashOffset=0)}function Dn(Mn,Fn,Nn,Un){const qn=Mn.length;for(let er=3;er<qn;er+=4){const sr=Mn[er];if(sr===0)Mn[er-3]=Fn,Mn[er-2]=Nn,Mn[er-1]=Un;else if(sr<255){const ur=255-sr;Mn[er-3]=Mn[er-3]*sr+Fn*ur>>8,Mn[er-2]=Mn[er-2]*sr+Nn*ur>>8,Mn[er-1]=Mn[er-1]*sr+Un*ur>>8}}}function Wn(Mn,Fn,Nn){const Un=Mn.length,qn=1/255;for(let er=3;er<Un;er+=4){const sr=Nn?Nn[Mn[er]]:Mn[er];Fn[er]=Fn[er]*sr*qn|0}}function Vn(Mn,Fn,Nn){const Un=Mn.length;for(let qn=3;qn<Un;qn+=4){const er=Mn[qn-3]*77+Mn[qn-2]*152+Mn[qn-1]*28;Fn[qn]=Nn?Fn[qn]*Nn[er>>8]>>8:Fn[qn]*er>>16}}function On(Mn,Fn,Nn,Un,qn,er,sr,ur,br,kr,Er){const Pr=!!er,$n=Pr?er[0]:0,Gn=Pr?er[1]:0,jn=Pr?er[2]:0;let fr;qn==="Luminosity"?fr=Vn:fr=Wn;const Zn=Math.min(Un,Math.ceil(1048576/Nn));for(let pr=0;pr<Un;pr+=Zn){const Tr=Math.min(Zn,Un-pr),xr=Mn.getImageData(ur-kr,pr+(br-Er),Nn,Tr),Ur=Fn.getImageData(ur,pr+br,Nn,Tr);Pr&&Dn(xr.data,$n,Gn,jn),fr(xr.data,Ur.data,sr),Fn.putImageData(Ur,ur,pr+br)}}function zn(Mn,Fn,Nn,Un){const qn=Un[0],er=Un[1],sr=Un[2]-qn,ur=Un[3]-er;sr===0||ur===0||(On(Fn.context,Nn,sr,ur,Fn.subtype,Fn.backdrop,Fn.transferMap,qn,er,Fn.offsetX,Fn.offsetY),Mn.save(),Mn.globalAlpha=1,Mn.globalCompositeOperation="source-over",Mn.setTransform(1,0,0,1,0,0),Mn.drawImage(Nn.canvas,0,0),Mn.restore())}function nr(Mn,Fn){const Nn=tn.Util.singularValueDecompose2dScale(Mn);Nn[0]=Math.fround(Nn[0]),Nn[1]=Math.fround(Nn[1]);const Un=Math.fround((globalThis.devicePixelRatio||1)*nn.PixelsPerInch.PDF_TO_CSS_UNITS);return Fn!==void 0?Fn:Nn[0]<=Un||Nn[1]<=Un}const Yn=["butt","round","square"],ar=["miter","round","bevel"],tr={},dr={},Mr=class{constructor(Fn,Nn,Un,qn,er,sr,ur){Jr(this,hr);this.ctx=Fn,this.current=new xn(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Nn,this.objs=Un,this.canvasFactory=qn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=er,this.cachedCanvases=new wn(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=sr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(ur==null?void 0:ur.background)||null,this.foregroundColor=(ur==null?void 0:ur.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Fn,Nn=null){return typeof Fn=="string"?Fn.startsWith("g_")?this.commonObjs.get(Fn):this.objs.get(Fn):Nn}beginDrawing({transform:Fn,viewport:Nn,transparency:Un=!1,background:qn=null}){const er=this.ctx.canvas.width,sr=this.ctx.canvas.height,ur=qn||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const br=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const kr=this.backgroundColor=this.ctx.fillStyle;let Er=!0,Pr=ur;if(this.ctx.fillStyle=ur,Pr=this.ctx.fillStyle,Er=typeof Pr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pr),br==="#000000"&&kr==="#ffffff"||br===kr||!Er)this.foregroundColor=this.backgroundColor=null;else{const[$n,Gn,jn]=(0,nn.getRGB)(Pr),fr=Zn=>(Zn/=255,Zn<=.03928?Zn/12.92:((Zn+.055)/1.055)**2.4),Xn=Math.round(.2126*fr($n)+.7152*fr(Gn)+.0722*fr(jn));this.selectColor=(Zn,pr,Tr)=>{const xr=.2126*fr(Zn)+.7152*fr(pr)+.0722*fr(Tr);return Math.round(xr)===Xn?kr:br}}}if(this.ctx.fillStyle=this.backgroundColor||ur,this.ctx.fillRect(0,0,er,sr),this.ctx.restore(),Un){const br=this.cachedCanvases.getCanvas("transparent",er,sr);this.compositeCtx=this.ctx,this.transparentCanvas=br.canvas,this.ctx=br.context,this.ctx.save(),this.ctx.transform(...(0,nn.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),In(this.ctx,this.foregroundColor),Fn&&(this.ctx.transform(...Fn),this.outputScaleX=Fn[0],this.outputScaleY=Fn[0]),this.ctx.transform(...Nn.transform),this.viewportScale=Nn.scale,this.baseTransform=(0,nn.getCurrentTransform)(this.ctx)}executeOperatorList(Fn,Nn,Un,qn){const er=Fn.argsArray,sr=Fn.fnArray;let ur=Nn||0;const br=er.length;if(br===ur)return ur;const kr=br-ur>pn&&typeof Un=="function",Er=kr?Date.now()+mn:0;let Pr=0;const $n=this.commonObjs,Gn=this.objs;let jn;for(;;){if(qn!==void 0&&ur===qn.nextBreakPoint)return qn.breakIt(ur,Un),ur;if(jn=sr[ur],jn!==tn.OPS.dependency)this[jn].apply(this,er[ur]);else for(const fr of er[ur]){const Xn=fr.startsWith("g_")?$n:Gn;if(!Xn.has(fr))return Xn.get(fr,Un),ur}if(ur++,ur===br)return ur;if(kr&&++Pr>pn){if(Date.now()>Er)return Un(),ur;Pr=0}}}endDrawing(){ss(this,hr,C1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Fn of this._cachedBitmapsMap.values()){for(const Nn of Fn.values())typeof HTMLCanvasElement<"u"&&Nn instanceof HTMLCanvasElement&&(Nn.width=Nn.height=0);Fn.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Fn,Nn){const Un=Fn.width,qn=Fn.height;let er=Math.max(Math.hypot(Nn[0],Nn[1]),1),sr=Math.max(Math.hypot(Nn[2],Nn[3]),1),ur=Un,br=qn,kr="prescale1",Er,Pr;for(;er>2&&ur>1||sr>2&&br>1;){let $n=ur,Gn=br;er>2&&ur>1&&($n=Math.ceil(ur/2),er/=ur/$n),sr>2&&br>1&&(Gn=Math.ceil(br/2),sr/=br/Gn),Er=this.cachedCanvases.getCanvas(kr,$n,Gn),Pr=Er.context,Pr.clearRect(0,0,$n,Gn),Pr.drawImage(Fn,0,0,ur,br,0,0,$n,Gn),Fn=Er.canvas,ur=$n,br=Gn,kr=kr==="prescale1"?"prescale2":"prescale1"}return{img:Fn,paintWidth:ur,paintHeight:br}}_createMaskCanvas(Fn){const Nn=this.ctx,{width:Un,height:qn}=Fn,er=this.current.fillColor,sr=this.current.patternFill,ur=(0,nn.getCurrentTransform)(Nn);let br,kr,Er,Pr;if((Fn.bitmap||Fn.data)&&Fn.count>1){const Rr=Fn.bitmap||Fn.data.buffer;kr=JSON.stringify(sr?ur:[ur.slice(0,4),er]),br=this._cachedBitmapsMap.get(Rr),br||(br=new Map,this._cachedBitmapsMap.set(Rr,br));const zr=br.get(kr);if(zr&&!sr){const qr=Math.round(Math.min(ur[0],ur[2])+ur[4]),Ar=Math.round(Math.min(ur[1],ur[3])+ur[5]);return{canvas:zr,offsetX:qr,offsetY:Ar}}Er=zr}Er||(Pr=this.cachedCanvases.getCanvas("maskCanvas",Un,qn),Cn(Pr.context,Fn));let $n=tn.Util.transform(ur,[1/Un,0,0,-1/qn,0,0]);$n=tn.Util.transform($n,[1,0,0,1,0,-qn]);const Gn=tn.Util.applyTransform([0,0],$n),jn=tn.Util.applyTransform([Un,qn],$n),fr=tn.Util.normalizeRect([Gn[0],Gn[1],jn[0],jn[1]]),Xn=Math.round(fr[2]-fr[0])||1,Zn=Math.round(fr[3]-fr[1])||1,pr=this.cachedCanvases.getCanvas("fillCanvas",Xn,Zn),Tr=pr.context,xr=Math.min(Gn[0],jn[0]),Ur=Math.min(Gn[1],jn[1]);Tr.translate(-xr,-Ur),Tr.transform(...$n),Er||(Er=this._scaleImage(Pr.canvas,(0,nn.getCurrentTransformInverse)(Tr)),Er=Er.img,br&&sr&&br.set(kr,Er)),Tr.imageSmoothingEnabled=nr((0,nn.getCurrentTransform)(Tr),Fn.interpolate),vn(Tr,Er,0,0,Er.width,Er.height,0,0,Un,qn),Tr.globalCompositeOperation="source-in";const lr=tn.Util.transform((0,nn.getCurrentTransformInverse)(Tr),[1,0,0,1,-xr,-Ur]);return Tr.fillStyle=sr?er.getPattern(Nn,this,lr,rn.PathType.FILL):er,Tr.fillRect(0,0,Un,qn),br&&!sr&&(this.cachedCanvases.delete("fillCanvas"),br.set(kr,pr.canvas)),{canvas:pr.canvas,offsetX:Math.round(xr),offsetY:Math.round(Ur)}}setLineWidth(Fn){Fn!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Fn,this.ctx.lineWidth=Fn}setLineCap(Fn){this.ctx.lineCap=Yn[Fn]}setLineJoin(Fn){this.ctx.lineJoin=ar[Fn]}setMiterLimit(Fn){this.ctx.miterLimit=Fn}setDash(Fn,Nn){const Un=this.ctx;Un.setLineDash!==void 0&&(Un.setLineDash(Fn),Un.lineDashOffset=Nn)}setRenderingIntent(Fn){}setFlatness(Fn){}setGState(Fn){for(const[Nn,Un]of Fn)switch(Nn){case"LW":this.setLineWidth(Un);break;case"LC":this.setLineCap(Un);break;case"LJ":this.setLineJoin(Un);break;case"ML":this.setMiterLimit(Un);break;case"D":this.setDash(Un[0],Un[1]);break;case"RI":this.setRenderingIntent(Un);break;case"FL":this.setFlatness(Un);break;case"Font":this.setFont(Un[0],Un[1]);break;case"CA":this.current.strokeAlpha=Un;break;case"ca":this.current.fillAlpha=Un,this.ctx.globalAlpha=Un;break;case"BM":this.ctx.globalCompositeOperation=Un;break;case"SMask":this.current.activeSMask=Un?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Un}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Fn=this.inSMaskMode;this.current.activeSMask&&!Fn?this.beginSMaskMode():!this.current.activeSMask&&Fn&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Fn=this.ctx.canvas.width,Nn=this.ctx.canvas.height,Un="smaskGroupAt"+this.groupLevel,qn=this.cachedCanvases.getCanvas(Un,Fn,Nn);this.suspendedCtx=this.ctx,this.ctx=qn.context;const er=this.ctx;er.setTransform(...(0,nn.getCurrentTransform)(this.suspendedCtx)),kn(this.suspendedCtx,er),bn(er,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kn(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Fn){if(!this.current.activeSMask)return;Fn?(Fn[0]=Math.floor(Fn[0]),Fn[1]=Math.floor(Fn[1]),Fn[2]=Math.ceil(Fn[2]),Fn[3]=Math.ceil(Fn[3])):Fn=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Nn=this.current.activeSMask,Un=this.suspendedCtx;zn(Un,Nn,this.ctx,Fn),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(kn(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Fn=this.current;this.stateStack.push(Fn),this.current=Fn.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),kn(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Fn,Nn,Un,qn,er,sr){this.ctx.transform(Fn,Nn,Un,qn,er,sr),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Fn,Nn,Un){const qn=this.ctx,er=this.current;let sr=er.x,ur=er.y,br,kr;const Er=(0,nn.getCurrentTransform)(qn),Pr=Er[0]===0&&Er[3]===0||Er[1]===0&&Er[2]===0,$n=Pr?Un.slice(0):null;for(let Gn=0,jn=0,fr=Fn.length;Gn<fr;Gn++)switch(Fn[Gn]|0){case tn.OPS.rectangle:sr=Nn[jn++],ur=Nn[jn++];const Xn=Nn[jn++],Zn=Nn[jn++],pr=sr+Xn,Tr=ur+Zn;qn.moveTo(sr,ur),Xn===0||Zn===0?qn.lineTo(pr,Tr):(qn.lineTo(pr,ur),qn.lineTo(pr,Tr),qn.lineTo(sr,Tr)),Pr||er.updateRectMinMax(Er,[sr,ur,pr,Tr]),qn.closePath();break;case tn.OPS.moveTo:sr=Nn[jn++],ur=Nn[jn++],qn.moveTo(sr,ur),Pr||er.updatePathMinMax(Er,sr,ur);break;case tn.OPS.lineTo:sr=Nn[jn++],ur=Nn[jn++],qn.lineTo(sr,ur),Pr||er.updatePathMinMax(Er,sr,ur);break;case tn.OPS.curveTo:br=sr,kr=ur,sr=Nn[jn+4],ur=Nn[jn+5],qn.bezierCurveTo(Nn[jn],Nn[jn+1],Nn[jn+2],Nn[jn+3],sr,ur),er.updateCurvePathMinMax(Er,br,kr,Nn[jn],Nn[jn+1],Nn[jn+2],Nn[jn+3],sr,ur,$n),jn+=6;break;case tn.OPS.curveTo2:br=sr,kr=ur,qn.bezierCurveTo(sr,ur,Nn[jn],Nn[jn+1],Nn[jn+2],Nn[jn+3]),er.updateCurvePathMinMax(Er,br,kr,sr,ur,Nn[jn],Nn[jn+1],Nn[jn+2],Nn[jn+3],$n),sr=Nn[jn+2],ur=Nn[jn+3],jn+=4;break;case tn.OPS.curveTo3:br=sr,kr=ur,sr=Nn[jn+2],ur=Nn[jn+3],qn.bezierCurveTo(Nn[jn],Nn[jn+1],sr,ur,sr,ur),er.updateCurvePathMinMax(Er,br,kr,Nn[jn],Nn[jn+1],sr,ur,sr,ur,$n),jn+=4;break;case tn.OPS.closePath:qn.closePath();break}Pr&&er.updateScalingPathMinMax(Er,$n),er.setCurrentPoint(sr,ur)}closePath(){this.ctx.closePath()}stroke(Fn){Fn=typeof Fn<"u"?Fn:!0;const Nn=this.ctx,Un=this.current.strokeColor;Nn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Un=="object"&&(Un==null?void 0:Un.getPattern)?(Nn.save(),Nn.strokeStyle=Un.getPattern(Nn,this,(0,nn.getCurrentTransformInverse)(Nn),rn.PathType.STROKE),this.rescaleAndStroke(!1),Nn.restore()):this.rescaleAndStroke(!0)),Fn&&this.consumePath(this.current.getClippedPathBoundingBox()),Nn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Fn){Fn=typeof Fn<"u"?Fn:!0;const Nn=this.ctx,Un=this.current.fillColor,qn=this.current.patternFill;let er=!1;qn&&(Nn.save(),Nn.fillStyle=Un.getPattern(Nn,this,(0,nn.getCurrentTransformInverse)(Nn),rn.PathType.FILL),er=!0);const sr=this.current.getClippedPathBoundingBox();this.contentVisible&&sr!==null&&(this.pendingEOFill?(Nn.fill("evenodd"),this.pendingEOFill=!1):Nn.fill()),er&&Nn.restore(),Fn&&this.consumePath(sr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=tr}eoClip(){this.pendingClip=dr}beginText(){this.current.textMatrix=tn.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Fn=this.pendingTextPaths,Nn=this.ctx;if(Fn===void 0){Nn.beginPath();return}Nn.save(),Nn.beginPath();for(const Un of Fn)Nn.setTransform(...Un.transform),Nn.translate(Un.x,Un.y),Un.addToPath(Nn,Un.fontSize);Nn.restore(),Nn.clip(),Nn.beginPath(),delete this.pendingTextPaths}setCharSpacing(Fn){this.current.charSpacing=Fn}setWordSpacing(Fn){this.current.wordSpacing=Fn}setHScale(Fn){this.current.textHScale=Fn/100}setLeading(Fn){this.current.leading=-Fn}setFont(Fn,Nn){const Un=this.commonObjs.get(Fn),qn=this.current;if(!Un)throw new Error(`Can't find font for ${Fn}`);if(qn.fontMatrix=Un.fontMatrix||tn.FONT_IDENTITY_MATRIX,(qn.fontMatrix[0]===0||qn.fontMatrix[3]===0)&&(0,tn.warn)("Invalid font matrix for font "+Fn),Nn<0?(Nn=-Nn,qn.fontDirection=-1):qn.fontDirection=1,this.current.font=Un,this.current.fontSize=Nn,Un.isType3Font)return;const er=Un.loadedName||"sans-serif";let sr="normal";Un.black?sr="900":Un.bold&&(sr="bold");const ur=Un.italic?"italic":"normal",br=`"${er}", ${Un.fallbackName}`;let kr=Nn;Nn<on?kr=on:Nn>cn&&(kr=cn),this.current.fontSizeScale=Nn/kr,this.ctx.font=`${ur} ${sr} ${kr}px ${br}`}setTextRenderingMode(Fn){this.current.textRenderingMode=Fn}setTextRise(Fn){this.current.textRise=Fn}moveText(Fn,Nn){this.current.x=this.current.lineX+=Fn,this.current.y=this.current.lineY+=Nn}setLeadingMoveText(Fn,Nn){this.setLeading(-Nn),this.moveText(Fn,Nn)}setTextMatrix(Fn,Nn,Un,qn,er,sr){this.current.textMatrix=[Fn,Nn,Un,qn,er,sr],this.current.textMatrixScale=Math.hypot(Fn,Nn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Fn,Nn,Un,qn){const er=this.ctx,sr=this.current,ur=sr.font,br=sr.textRenderingMode,kr=sr.fontSize/sr.fontSizeScale,Er=br&tn.TextRenderingMode.FILL_STROKE_MASK,Pr=!!(br&tn.TextRenderingMode.ADD_TO_PATH_FLAG),$n=sr.patternFill&&!ur.missingFile;let Gn;(ur.disableFontFace||Pr||$n)&&(Gn=ur.getPathGenerator(this.commonObjs,Fn)),ur.disableFontFace||$n?(er.save(),er.translate(Nn,Un),er.beginPath(),Gn(er,kr),qn&&er.setTransform(...qn),(Er===tn.TextRenderingMode.FILL||Er===tn.TextRenderingMode.FILL_STROKE)&&er.fill(),(Er===tn.TextRenderingMode.STROKE||Er===tn.TextRenderingMode.FILL_STROKE)&&er.stroke(),er.restore()):((Er===tn.TextRenderingMode.FILL||Er===tn.TextRenderingMode.FILL_STROKE)&&er.fillText(Fn,Nn,Un),(Er===tn.TextRenderingMode.STROKE||Er===tn.TextRenderingMode.FILL_STROKE)&&er.strokeText(Fn,Nn,Un)),Pr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nn.getCurrentTransform)(er),x:Nn,y:Un,fontSize:kr,addToPath:Gn})}get isFontSubpixelAAEnabled(){const{context:Fn}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Fn.scale(1.5,1),Fn.fillText("I",0,10);const Nn=Fn.getImageData(0,0,10,10).data;let Un=!1;for(let qn=3;qn<Nn.length;qn+=4)if(Nn[qn]>0&&Nn[qn]<255){Un=!0;break}return(0,tn.shadow)(this,"isFontSubpixelAAEnabled",Un)}showText(Fn){const Nn=this.current,Un=Nn.font;if(Un.isType3Font)return this.showType3Text(Fn);const qn=Nn.fontSize;if(qn===0)return;const er=this.ctx,sr=Nn.fontSizeScale,ur=Nn.charSpacing,br=Nn.wordSpacing,kr=Nn.fontDirection,Er=Nn.textHScale*kr,Pr=Fn.length,$n=Un.vertical,Gn=$n?1:-1,jn=Un.defaultVMetrics,fr=qn*Nn.fontMatrix[0],Xn=Nn.textRenderingMode===tn.TextRenderingMode.FILL&&!Un.disableFontFace&&!Nn.patternFill;er.save(),er.transform(...Nn.textMatrix),er.translate(Nn.x,Nn.y+Nn.textRise),kr>0?er.scale(Er,-1):er.scale(Er,1);let Zn;if(Nn.patternFill){er.save();const lr=Nn.fillColor.getPattern(er,this,(0,nn.getCurrentTransformInverse)(er),rn.PathType.FILL);Zn=(0,nn.getCurrentTransform)(er),er.restore(),er.fillStyle=lr}let pr=Nn.lineWidth;const Tr=Nn.textMatrixScale;if(Tr===0||pr===0){const lr=Nn.textRenderingMode&tn.TextRenderingMode.FILL_STROKE_MASK;(lr===tn.TextRenderingMode.STROKE||lr===tn.TextRenderingMode.FILL_STROKE)&&(pr=this.getSinglePixelWidth())}else pr/=Tr;sr!==1&&(er.scale(sr,sr),pr/=sr),er.lineWidth=pr;let xr=0,Ur;for(Ur=0;Ur<Pr;++Ur){const lr=Fn[Ur];if(typeof lr=="number"){xr+=Gn*lr*qn/1e3;continue}let Rr=!1;const zr=(lr.isSpace?br:0)+ur,qr=lr.fontChar,Ar=lr.accent;let Hr,ns,Xr=lr.width;if($n){const ms=lr.vmetric||jn,ys=-(lr.vmetric?ms[1]:Xr*.5)*fr,ks=ms[2]*fr;Xr=ms?-ms[0]:Xr,Hr=ys/sr,ns=(xr+ks)/sr}else Hr=xr/sr,ns=0;if(Un.remeasure&&Xr>0){const ms=er.measureText(qr).width*1e3/qn*sr;if(Xr<ms&&this.isFontSubpixelAAEnabled){const ys=Xr/ms;Rr=!0,er.save(),er.scale(ys,1),Hr/=ys}else Xr!==ms&&(Hr+=(Xr-ms)/2e3*qn/sr)}if(this.contentVisible&&(lr.isInFont||Un.missingFile)){if(Xn&&!Ar)er.fillText(qr,Hr,ns);else if(this.paintChar(qr,Hr,ns,Zn),Ar){const ms=Hr+qn*Ar.offset.x/sr,ys=ns-qn*Ar.offset.y/sr;this.paintChar(Ar.fontChar,ms,ys,Zn)}}let Cs;$n?Cs=Xr*fr-zr*kr:Cs=Xr*fr+zr*kr,xr+=Cs,Rr&&er.restore()}$n?Nn.y-=xr:Nn.x+=xr*Er,er.restore(),this.compose()}showType3Text(Fn){const Nn=this.ctx,Un=this.current,qn=Un.font,er=Un.fontSize,sr=Un.fontDirection,ur=qn.vertical?1:-1,br=Un.charSpacing,kr=Un.wordSpacing,Er=Un.textHScale*sr,Pr=Un.fontMatrix||tn.FONT_IDENTITY_MATRIX,$n=Fn.length,Gn=Un.textRenderingMode===tn.TextRenderingMode.INVISIBLE;let jn,fr,Xn,Zn;if(!(Gn||er===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Nn.save(),Nn.transform(...Un.textMatrix),Nn.translate(Un.x,Un.y),Nn.scale(Er,sr),jn=0;jn<$n;++jn){if(fr=Fn[jn],typeof fr=="number"){Zn=ur*fr*er/1e3,this.ctx.translate(Zn,0),Un.x+=Zn*Er;continue}const pr=(fr.isSpace?kr:0)+br,Tr=qn.charProcOperatorList[fr.operatorListId];if(!Tr){(0,tn.warn)(`Type3 character "${fr.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=fr,this.save(),Nn.scale(er,er),Nn.transform(...Pr),this.executeOperatorList(Tr),this.restore()),Xn=tn.Util.applyTransform([fr.width,0],Pr)[0]*er+pr,Nn.translate(Xn,0),Un.x+=Xn*Er}Nn.restore(),this.processingType3=null}}setCharWidth(Fn,Nn){}setCharWidthAndBounds(Fn,Nn,Un,qn,er,sr){this.ctx.rect(Un,qn,er-Un,sr-qn),this.ctx.clip(),this.endPath()}getColorN_Pattern(Fn){let Nn;if(Fn[0]==="TilingPattern"){const Un=Fn[1],qn=this.baseTransform||(0,nn.getCurrentTransform)(this.ctx),er={createCanvasGraphics:sr=>new Mr(sr,this.commonObjs,this.objs,this.canvasFactory)};Nn=new rn.TilingPattern(Fn,Un,this.ctx,er,qn)}else Nn=this._getPattern(Fn[1],Fn[2]);return Nn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Fn,Nn,Un){var er;const qn=((er=this.selectColor)==null?void 0:er.call(this,Fn,Nn,Un))||tn.Util.makeHexColor(Fn,Nn,Un);this.ctx.strokeStyle=qn,this.current.strokeColor=qn}setFillRGBColor(Fn,Nn,Un){var er;const qn=((er=this.selectColor)==null?void 0:er.call(this,Fn,Nn,Un))||tn.Util.makeHexColor(Fn,Nn,Un);this.ctx.fillStyle=qn,this.current.fillColor=qn,this.current.patternFill=!1}_getPattern(Fn,Nn=null){let Un;return this.cachedPatterns.has(Fn)?Un=this.cachedPatterns.get(Fn):(Un=(0,rn.getShadingPattern)(this.objs.get(Fn)),this.cachedPatterns.set(Fn,Un)),Nn&&(Un.matrix=Nn),Un}shadingFill(Fn){if(!this.contentVisible)return;const Nn=this.ctx;this.save();const Un=this._getPattern(Fn);Nn.fillStyle=Un.getPattern(Nn,this,(0,nn.getCurrentTransformInverse)(Nn),rn.PathType.SHADING);const qn=(0,nn.getCurrentTransformInverse)(Nn);if(qn){const er=Nn.canvas,sr=er.width,ur=er.height,br=tn.Util.applyTransform([0,0],qn),kr=tn.Util.applyTransform([0,ur],qn),Er=tn.Util.applyTransform([sr,0],qn),Pr=tn.Util.applyTransform([sr,ur],qn),$n=Math.min(br[0],kr[0],Er[0],Pr[0]),Gn=Math.min(br[1],kr[1],Er[1],Pr[1]),jn=Math.max(br[0],kr[0],Er[0],Pr[0]),fr=Math.max(br[1],kr[1],Er[1],Pr[1]);this.ctx.fillRect($n,Gn,jn-$n,fr-Gn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tn.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tn.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Fn,Nn){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Fn)&&Fn.length===6&&this.transform(...Fn),this.baseTransform=(0,nn.getCurrentTransform)(this.ctx),Nn)){const Un=Nn[2]-Nn[0],qn=Nn[3]-Nn[1];this.ctx.rect(Nn[0],Nn[1],Un,qn),this.current.updateRectMinMax((0,nn.getCurrentTransform)(this.ctx),Nn),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Fn){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Nn=this.ctx;Fn.isolated||(0,tn.info)("TODO: Support non-isolated groups."),Fn.knockout&&(0,tn.warn)("Knockout groups not supported.");const Un=(0,nn.getCurrentTransform)(Nn);if(Fn.matrix&&Nn.transform(...Fn.matrix),!Fn.bbox)throw new Error("Bounding box is required.");let qn=tn.Util.getAxialAlignedBoundingBox(Fn.bbox,(0,nn.getCurrentTransform)(Nn));const er=[0,0,Nn.canvas.width,Nn.canvas.height];qn=tn.Util.intersect(qn,er)||[0,0,0,0];const sr=Math.floor(qn[0]),ur=Math.floor(qn[1]);let br=Math.max(Math.ceil(qn[2])-sr,1),kr=Math.max(Math.ceil(qn[3])-ur,1),Er=1,Pr=1;br>dn&&(Er=br/dn,br=dn),kr>dn&&(Pr=kr/dn,kr=dn),this.current.startNewPathAndClipBox([0,0,br,kr]);let $n="groupAt"+this.groupLevel;Fn.smask&&($n+="_smask_"+this.smaskCounter++%2);const Gn=this.cachedCanvases.getCanvas($n,br,kr),jn=Gn.context;jn.scale(1/Er,1/Pr),jn.translate(-sr,-ur),jn.transform(...Un),Fn.smask?this.smaskStack.push({canvas:Gn.canvas,context:jn,offsetX:sr,offsetY:ur,scaleX:Er,scaleY:Pr,subtype:Fn.smask.subtype,backdrop:Fn.smask.backdrop,transferMap:Fn.smask.transferMap||null,startTransformInverse:null}):(Nn.setTransform(1,0,0,1,0,0),Nn.translate(sr,ur),Nn.scale(Er,Pr),Nn.save()),kn(Nn,jn),this.ctx=jn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Nn),this.groupLevel++}endGroup(Fn){if(!this.contentVisible)return;this.groupLevel--;const Nn=this.ctx,Un=this.groupStack.pop();if(this.ctx=Un,this.ctx.imageSmoothingEnabled=!1,Fn.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const qn=(0,nn.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...qn);const er=tn.Util.getAxialAlignedBoundingBox([0,0,Nn.canvas.width,Nn.canvas.height],qn);this.ctx.drawImage(Nn.canvas,0,0),this.ctx.restore(),this.compose(er)}}beginAnnotation(Fn,Nn,Un,qn,er){if(ss(this,hr,C1).call(this),In(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Nn)&&Nn.length===4){const sr=Nn[2]-Nn[0],ur=Nn[3]-Nn[1];if(er&&this.annotationCanvasMap){Un=Un.slice(),Un[4]-=Nn[0],Un[5]-=Nn[1],Nn=Nn.slice(),Nn[0]=Nn[1]=0,Nn[2]=sr,Nn[3]=ur;const[br,kr]=tn.Util.singularValueDecompose2dScale((0,nn.getCurrentTransform)(this.ctx)),{viewportScale:Er}=this,Pr=Math.ceil(sr*this.outputScaleX*Er),$n=Math.ceil(ur*this.outputScaleY*Er);this.annotationCanvas=this.canvasFactory.create(Pr,$n);const{canvas:Gn,context:jn}=this.annotationCanvas;this.annotationCanvasMap.set(Fn,Gn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=jn,this.ctx.setTransform(br,0,0,-kr,0,ur*kr),In(this.ctx,this.foregroundColor)}else In(this.ctx,this.foregroundColor),this.ctx.rect(Nn[0],Nn[1],sr,ur),this.ctx.clip(),this.endPath()}this.current=new xn(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Un),this.transform(...qn)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Fn){if(!this.contentVisible)return;const Nn=Fn.count;Fn=this.getObject(Fn.data,Fn),Fn.count=Nn;const Un=this.ctx,qn=this.processingType3;if(qn&&(qn.compiled===void 0&&(qn.compiled=Sn(Fn)),qn.compiled)){qn.compiled(Un);return}const er=this._createMaskCanvas(Fn),sr=er.canvas;Un.save(),Un.setTransform(1,0,0,1,0,0),Un.drawImage(sr,er.offsetX,er.offsetY),Un.restore(),this.compose()}paintImageMaskXObjectRepeat(Fn,Nn,Un=0,qn=0,er,sr){if(!this.contentVisible)return;Fn=this.getObject(Fn.data,Fn);const ur=this.ctx;ur.save();const br=(0,nn.getCurrentTransform)(ur);ur.transform(Nn,Un,qn,er,0,0);const kr=this._createMaskCanvas(Fn);ur.setTransform(1,0,0,1,0,0);for(let Er=0,Pr=sr.length;Er<Pr;Er+=2){const $n=tn.Util.transform(br,[Nn,Un,qn,er,sr[Er],sr[Er+1]]),[Gn,jn]=tn.Util.applyTransform([0,0],$n);ur.drawImage(kr.canvas,Gn,jn)}ur.restore(),this.compose()}paintImageMaskXObjectGroup(Fn){if(!this.contentVisible)return;const Nn=this.ctx,Un=this.current.fillColor,qn=this.current.patternFill;for(const er of Fn){const{data:sr,width:ur,height:br,transform:kr}=er,Er=this.cachedCanvases.getCanvas("maskCanvas",ur,br),Pr=Er.context;Pr.save();const $n=this.getObject(sr,er);Cn(Pr,$n),Pr.globalCompositeOperation="source-in",Pr.fillStyle=qn?Un.getPattern(Pr,this,(0,nn.getCurrentTransformInverse)(Nn),rn.PathType.FILL):Un,Pr.fillRect(0,0,ur,br),Pr.restore(),Nn.save(),Nn.transform(...kr),Nn.scale(1,-1),vn(Nn,Er.canvas,0,0,ur,br,0,-1,1,1),Nn.restore()}this.compose()}paintImageXObject(Fn){if(!this.contentVisible)return;const Nn=this.getObject(Fn);if(!Nn){(0,tn.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Nn)}paintImageXObjectRepeat(Fn,Nn,Un,qn){if(!this.contentVisible)return;const er=this.getObject(Fn);if(!er){(0,tn.warn)("Dependent image isn't ready yet");return}const sr=er.width,ur=er.height,br=[];for(let kr=0,Er=qn.length;kr<Er;kr+=2)br.push({transform:[Nn,0,0,Un,qn[kr],qn[kr+1]],x:0,y:0,w:sr,h:ur});this.paintInlineImageXObjectGroup(er,br)}paintInlineImageXObject(Fn){if(!this.contentVisible)return;const Nn=Fn.width,Un=Fn.height,qn=this.ctx;this.save(),qn.scale(1/Nn,-1/Un);let er;if(typeof HTMLElement=="function"&&Fn instanceof HTMLElement||!Fn.data)er=Fn;else{const ur=this.cachedCanvases.getCanvas("inlineImage",Nn,Un),br=ur.context;En(br,Fn,this.current.transferMaps),er=ur.canvas}const sr=this._scaleImage(er,(0,nn.getCurrentTransformInverse)(qn));qn.imageSmoothingEnabled=nr((0,nn.getCurrentTransform)(qn),Fn.interpolate),vn(qn,sr.img,0,0,sr.paintWidth,sr.paintHeight,0,-Un,Nn,Un),this.compose(),this.restore()}paintInlineImageXObjectGroup(Fn,Nn){if(!this.contentVisible)return;const Un=this.ctx,qn=Fn.width,er=Fn.height,sr=this.cachedCanvases.getCanvas("inlineImage",qn,er),ur=sr.context;En(ur,Fn,this.current.transferMaps);for(const br of Nn)Un.save(),Un.transform(...br.transform),Un.scale(1,-1),vn(Un,sr.canvas,br.x,br.y,br.w,br.h,0,-1,1,1),Un.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Fn){}markPointProps(Fn,Nn){}beginMarkedContent(Fn){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Fn,Nn){Fn==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Nn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Fn){const Nn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Fn);const Un=this.ctx;this.pendingClip&&(Nn||(this.pendingClip===dr?Un.clip("evenodd"):Un.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Un.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Fn=(0,nn.getCurrentTransform)(this.ctx);if(Fn[1]===0&&Fn[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Fn[0]),Math.abs(Fn[3]));else{const Nn=Math.abs(Fn[0]*Fn[3]-Fn[2]*Fn[1]),Un=Math.hypot(Fn[0],Fn[2]),qn=Math.hypot(Fn[1],Fn[3]);this._cachedGetSinglePixelWidth=Math.max(Un,qn)/Nn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Fn}=this.current,Nn=(0,nn.getCurrentTransform)(this.ctx);let Un,qn;if(Nn[1]===0&&Nn[2]===0){const er=Math.abs(Nn[0]),sr=Math.abs(Nn[3]);if(Fn===0)Un=1/er,qn=1/sr;else{const ur=er*Fn,br=sr*Fn;Un=ur<1?1/ur:1,qn=br<1?1/br:1}}else{const er=Math.abs(Nn[0]*Nn[3]-Nn[2]*Nn[1]),sr=Math.hypot(Nn[0],Nn[1]),ur=Math.hypot(Nn[2],Nn[3]);if(Fn===0)Un=ur/er,qn=sr/er;else{const br=Fn*er;Un=ur>br?ur/br:1,qn=sr>br?sr/br:1}}this._cachedScaleForStroking=[Un,qn]}return this._cachedScaleForStroking}rescaleAndStroke(Fn){const{ctx:Nn}=this,{lineWidth:Un}=this.current,[qn,er]=this.getScaleForStroking();if(Nn.lineWidth=Un||1,qn===1&&er===1){Nn.stroke();return}let sr,ur,br;Fn&&(sr=(0,nn.getCurrentTransform)(Nn),ur=Nn.getLineDash().slice(),br=Nn.lineDashOffset),Nn.scale(qn,er);const kr=Math.max(qn,er);Nn.setLineDash(Nn.getLineDash().map(Er=>Er/kr)),Nn.lineDashOffset/=kr,Nn.stroke(),Fn&&(Nn.setTransform(...sr),Nn.setLineDash(ur),Nn.lineDashOffset=br)}isContentVisible(){for(let Fn=this.markedContentStack.length-1;Fn>=0;Fn--)if(!this.markedContentStack[Fn].visible)return!1;return!0}};let Jn=Mr;hr=new WeakSet,C1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},_e.CanvasGraphics=Jn;for(const Mn in tn.OPS)Jn.prototype[Mn]!==void 0&&(Jn.prototype[tn.OPS[Mn]]=Jn.prototype[Mn])},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=yn;var tn=en(1),nn=en(6),rn=en(12);const sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=sn;function an(vn,Sn){if(!Sn||rn.isNodeJS)return;const xn=Sn[2]-Sn[0],En=Sn[3]-Sn[1],Cn=new Path2D;Cn.rect(Sn[0],Sn[1],xn,En),vn.clip(Cn)}class on{constructor(){this.constructor===on&&(0,tn.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tn.unreachable)("Abstract method `getPattern` called.")}}class cn extends on{constructor(Sn){super(),this._type=Sn[1],this._bbox=Sn[2],this._colorStops=Sn[3],this._p0=Sn[4],this._p1=Sn[5],this._r0=Sn[6],this._r1=Sn[7],this.matrix=null}_createGradient(Sn){let xn;this._type==="axial"?xn=Sn.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xn=Sn.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const En of this._colorStops)xn.addColorStop(En[0],En[1]);return xn}getPattern(Sn,xn,En,Cn){let kn;if(Cn===sn.STROKE||Cn===sn.FILL){const In=xn.current.getClippedPathBoundingBox(Cn,(0,nn.getCurrentTransform)(Sn))||[0,0,0,0],Dn=Math.ceil(In[2]-In[0])||1,Wn=Math.ceil(In[3]-In[1])||1,Vn=xn.cachedCanvases.getCanvas("pattern",Dn,Wn,!0),On=Vn.context;On.clearRect(0,0,On.canvas.width,On.canvas.height),On.beginPath(),On.rect(0,0,On.canvas.width,On.canvas.height),On.translate(-In[0],-In[1]),En=tn.Util.transform(En,[1,0,0,1,In[0],In[1]]),On.transform(...xn.baseTransform),this.matrix&&On.transform(...this.matrix),an(On,this._bbox),On.fillStyle=this._createGradient(On),On.fill(),kn=Sn.createPattern(Vn.canvas,"no-repeat");const zn=new DOMMatrix(En);kn.setTransform(zn)}else an(Sn,this._bbox),kn=this._createGradient(Sn);return kn}}function dn(vn,Sn,xn,En,Cn,kn,In,Dn){const Wn=Sn.coords,Vn=Sn.colors,On=vn.data,zn=vn.width*4;let nr;Wn[xn+1]>Wn[En+1]&&(nr=xn,xn=En,En=nr,nr=kn,kn=In,In=nr),Wn[En+1]>Wn[Cn+1]&&(nr=En,En=Cn,Cn=nr,nr=In,In=Dn,Dn=nr),Wn[xn+1]>Wn[En+1]&&(nr=xn,xn=En,En=nr,nr=kn,kn=In,In=nr);const Yn=(Wn[xn]+Sn.offsetX)*Sn.scaleX,ar=(Wn[xn+1]+Sn.offsetY)*Sn.scaleY,tr=(Wn[En]+Sn.offsetX)*Sn.scaleX,dr=(Wn[En+1]+Sn.offsetY)*Sn.scaleY,Jn=(Wn[Cn]+Sn.offsetX)*Sn.scaleX,hr=(Wn[Cn+1]+Sn.offsetY)*Sn.scaleY;if(ar>=hr)return;const yr=Vn[kn],Mr=Vn[kn+1],Mn=Vn[kn+2],Fn=Vn[In],Nn=Vn[In+1],Un=Vn[In+2],qn=Vn[Dn],er=Vn[Dn+1],sr=Vn[Dn+2],ur=Math.round(ar),br=Math.round(hr);let kr,Er,Pr,$n,Gn,jn,fr,Xn;for(let Zn=ur;Zn<=br;Zn++){if(Zn<dr){let lr;Zn<ar?lr=0:lr=(ar-Zn)/(ar-dr),kr=Yn-(Yn-tr)*lr,Er=yr-(yr-Fn)*lr,Pr=Mr-(Mr-Nn)*lr,$n=Mn-(Mn-Un)*lr}else{let lr;Zn>hr?lr=1:dr===hr?lr=0:lr=(dr-Zn)/(dr-hr),kr=tr-(tr-Jn)*lr,Er=Fn-(Fn-qn)*lr,Pr=Nn-(Nn-er)*lr,$n=Un-(Un-sr)*lr}let pr;Zn<ar?pr=0:Zn>hr?pr=1:pr=(ar-Zn)/(ar-hr),Gn=Yn-(Yn-Jn)*pr,jn=yr-(yr-qn)*pr,fr=Mr-(Mr-er)*pr,Xn=Mn-(Mn-sr)*pr;const Tr=Math.round(Math.min(kr,Gn)),xr=Math.round(Math.max(kr,Gn));let Ur=zn*Zn+Tr*4;for(let lr=Tr;lr<=xr;lr++)pr=(kr-lr)/(kr-Gn),pr<0?pr=0:pr>1&&(pr=1),On[Ur++]=Er-(Er-jn)*pr|0,On[Ur++]=Pr-(Pr-fr)*pr|0,On[Ur++]=$n-($n-Xn)*pr|0,On[Ur++]=255}}function mn(vn,Sn,xn){const En=Sn.coords,Cn=Sn.colors;let kn,In;switch(Sn.type){case"lattice":const Dn=Sn.verticesPerRow,Wn=Math.floor(En.length/Dn)-1,Vn=Dn-1;for(kn=0;kn<Wn;kn++){let On=kn*Dn;for(let zn=0;zn<Vn;zn++,On++)dn(vn,xn,En[On],En[On+1],En[On+Dn],Cn[On],Cn[On+1],Cn[On+Dn]),dn(vn,xn,En[On+Dn+1],En[On+1],En[On+Dn],Cn[On+Dn+1],Cn[On+1],Cn[On+Dn])}break;case"triangles":for(kn=0,In=En.length;kn<In;kn+=3)dn(vn,xn,En[kn],En[kn+1],En[kn+2],Cn[kn],Cn[kn+1],Cn[kn+2]);break;default:throw new Error("illegal figure")}}class pn extends on{constructor(Sn){super(),this._coords=Sn[2],this._colors=Sn[3],this._figures=Sn[4],this._bounds=Sn[5],this._bbox=Sn[7],this._background=Sn[8],this.matrix=null}_createMeshCanvas(Sn,xn,En){const Dn=Math.floor(this._bounds[0]),Wn=Math.floor(this._bounds[1]),Vn=Math.ceil(this._bounds[2])-Dn,On=Math.ceil(this._bounds[3])-Wn,zn=Math.min(Math.ceil(Math.abs(Vn*Sn[0]*1.1)),3e3),nr=Math.min(Math.ceil(Math.abs(On*Sn[1]*1.1)),3e3),Yn=Vn/zn,ar=On/nr,tr={coords:this._coords,colors:this._colors,offsetX:-Dn,offsetY:-Wn,scaleX:1/Yn,scaleY:1/ar},dr=zn+2*2,Jn=nr+2*2,hr=En.getCanvas("mesh",dr,Jn,!1),yr=hr.context,Mr=yr.createImageData(zn,nr);if(xn){const Fn=Mr.data;for(let Nn=0,Un=Fn.length;Nn<Un;Nn+=4)Fn[Nn]=xn[0],Fn[Nn+1]=xn[1],Fn[Nn+2]=xn[2],Fn[Nn+3]=255}for(const Fn of this._figures)mn(Mr,Fn,tr);return yr.putImageData(Mr,2,2),{canvas:hr.canvas,offsetX:Dn-2*Yn,offsetY:Wn-2*ar,scaleX:Yn,scaleY:ar}}getPattern(Sn,xn,En,Cn){an(Sn,this._bbox);let kn;if(Cn===sn.SHADING)kn=tn.Util.singularValueDecompose2dScale((0,nn.getCurrentTransform)(Sn));else if(kn=tn.Util.singularValueDecompose2dScale(xn.baseTransform),this.matrix){const Dn=tn.Util.singularValueDecompose2dScale(this.matrix);kn=[kn[0]*Dn[0],kn[1]*Dn[1]]}const In=this._createMeshCanvas(kn,Cn===sn.SHADING?null:this._background,xn.cachedCanvases);return Cn!==sn.SHADING&&(Sn.setTransform(...xn.baseTransform),this.matrix&&Sn.transform(...this.matrix)),Sn.translate(In.offsetX,In.offsetY),Sn.scale(In.scaleX,In.scaleY),Sn.createPattern(In.canvas,"no-repeat")}}class fn extends on{getPattern(){return"hotpink"}}function yn(vn){switch(vn[0]){case"RadialAxial":return new cn(vn);case"Mesh":return new pn(vn);case"Dummy":return new fn}throw new Error(`Unknown IR type: ${vn[0]}`)}const bn={COLORED:1,UNCOLORED:2};class wn{static get MAX_PATTERN_SIZE(){return(0,tn.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Sn,xn,En,Cn,kn){this.operatorList=Sn[2],this.matrix=Sn[3]||[1,0,0,1,0,0],this.bbox=Sn[4],this.xstep=Sn[5],this.ystep=Sn[6],this.paintType=Sn[7],this.tilingType=Sn[8],this.color=xn,this.ctx=En,this.canvasGraphicsFactory=Cn,this.baseTransform=kn}createPatternCanvas(Sn){const xn=this.operatorList,En=this.bbox,Cn=this.xstep,kn=this.ystep,In=this.paintType,Dn=this.tilingType,Wn=this.color,Vn=this.canvasGraphicsFactory;(0,tn.info)("TilingType: "+Dn);const On=En[0],zn=En[1],nr=En[2],Yn=En[3],ar=tn.Util.singularValueDecompose2dScale(this.matrix),tr=tn.Util.singularValueDecompose2dScale(this.baseTransform),dr=[ar[0]*tr[0],ar[1]*tr[1]],Jn=this.getSizeAndScale(Cn,this.ctx.canvas.width,dr[0]),hr=this.getSizeAndScale(kn,this.ctx.canvas.height,dr[1]),yr=Sn.cachedCanvases.getCanvas("pattern",Jn.size,hr.size,!0),Mr=yr.context,Mn=Vn.createCanvasGraphics(Mr);Mn.groupLevel=Sn.groupLevel,this.setFillAndStrokeStyleToContext(Mn,In,Wn);let Fn=On,Nn=zn,Un=nr,qn=Yn;return On<0&&(Fn=0,Un+=Math.abs(On)),zn<0&&(Nn=0,qn+=Math.abs(zn)),Mr.translate(-(Jn.scale*Fn),-(hr.scale*Nn)),Mn.transform(Jn.scale,0,0,hr.scale,0,0),Mr.save(),this.clipBbox(Mn,Fn,Nn,Un,qn),Mn.baseTransform=(0,nn.getCurrentTransform)(Mn.ctx),Mn.executeOperatorList(xn),Mn.endDrawing(),{canvas:yr.canvas,scaleX:Jn.scale,scaleY:hr.scale,offsetX:Fn,offsetY:Nn}}getSizeAndScale(Sn,xn,En){Sn=Math.abs(Sn);const Cn=Math.max(wn.MAX_PATTERN_SIZE,xn);let kn=Math.ceil(Sn*En);return kn>=Cn?kn=Cn:En=kn/Sn,{scale:En,size:kn}}clipBbox(Sn,xn,En,Cn,kn){const In=Cn-xn,Dn=kn-En;Sn.ctx.rect(xn,En,In,Dn),Sn.current.updateRectMinMax((0,nn.getCurrentTransform)(Sn.ctx),[xn,En,Cn,kn]),Sn.clip(),Sn.endPath()}setFillAndStrokeStyleToContext(Sn,xn,En){const Cn=Sn.ctx,kn=Sn.current;switch(xn){case bn.COLORED:const In=this.ctx;Cn.fillStyle=In.fillStyle,Cn.strokeStyle=In.strokeStyle,kn.fillColor=In.fillStyle,kn.strokeColor=In.strokeStyle;break;case bn.UNCOLORED:const Dn=tn.Util.makeHexColor(En[0],En[1],En[2]);Cn.fillStyle=Dn,Cn.strokeStyle=Dn,kn.fillColor=Dn,kn.strokeColor=Dn;break;default:throw new tn.FormatError(`Unsupported paint type: ${xn}`)}}getPattern(Sn,xn,En,Cn){let kn=En;Cn!==sn.SHADING&&(kn=tn.Util.transform(kn,xn.baseTransform),this.matrix&&(kn=tn.Util.transform(kn,this.matrix)));const In=this.createPatternCanvas(xn);let Dn=new DOMMatrix(kn);Dn=Dn.translate(In.offsetX,In.offsetY),Dn=Dn.scale(1/In.scaleX,1/In.scaleY);const Wn=Sn.createPattern(In.canvas,"repeat");return Wn.setTransform(Dn),Wn}}_e.TilingPattern=wn},(St,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.isNodeJS=void 0;const en=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=en},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.applyMaskImageData=nn;var tn=en(1);function nn({src:rn,srcPos:sn=0,dest:an,destPos:on=0,width:cn,height:dn,inverseDecode:mn=!1}){const pn=tn.FeatureTest.isLittleEndian?4278190080:255,[fn,yn]=mn?[0,pn]:[pn,0],bn=cn>>3,wn=cn&7,vn=rn.length;an=new Uint32Array(an.buffer);for(let Sn=0;Sn<dn;Sn++){for(const En=sn+bn;sn<En;sn++){const Cn=sn<vn?rn[sn]:255;an[on++]=Cn&128?yn:fn,an[on++]=Cn&64?yn:fn,an[on++]=Cn&32?yn:fn,an[on++]=Cn&16?yn:fn,an[on++]=Cn&8?yn:fn,an[on++]=Cn&4?yn:fn,an[on++]=Cn&2?yn:fn,an[on++]=Cn&1?yn:fn}if(wn===0)continue;const xn=sn<vn?rn[sn++]:255;for(let En=0;En<wn;En++)an[on++]=xn&1<<7-En?yn:fn}return{srcPos:sn,destPos:on}}},(St,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;const en=Object.create(null);_e.GlobalWorkerOptions=en,en.workerPort=en.workerPort===void 0?null:en.workerPort,en.workerSrc=en.workerSrc===void 0?"":en.workerSrc},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var tn=en(1);const nn={UNKNOWN:0,DATA:1,ERROR:2},rn={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sn(on){switch(on instanceof Error||typeof on=="object"&&on!==null||(0,tn.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),on.name){case"AbortException":return new tn.AbortException(on.message);case"MissingPDFException":return new tn.MissingPDFException(on.message);case"PasswordException":return new tn.PasswordException(on.message,on.code);case"UnexpectedResponseException":return new tn.UnexpectedResponseException(on.message,on.status);case"UnknownErrorException":return new tn.UnknownErrorException(on.message,on.details);default:return new tn.UnknownErrorException(on.message,on.toString())}}class an{constructor(cn,dn,mn){this.sourceName=cn,this.targetName=dn,this.comObj=mn,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pn=>{const fn=pn.data;if(fn.targetName!==this.sourceName)return;if(fn.stream){this._processStreamMessage(fn);return}if(fn.callback){const bn=fn.callbackId,wn=this.callbackCapabilities[bn];if(!wn)throw new Error(`Cannot resolve callback ${bn}`);if(delete this.callbackCapabilities[bn],fn.callback===nn.DATA)wn.resolve(fn.data);else if(fn.callback===nn.ERROR)wn.reject(sn(fn.reason));else throw new Error("Unexpected callback case");return}const yn=this.actionHandler[fn.action];if(!yn)throw new Error(`Unknown action from worker: ${fn.action}`);if(fn.callbackId){const bn=this.sourceName,wn=fn.sourceName;new Promise(function(vn){vn(yn(fn.data))}).then(function(vn){mn.postMessage({sourceName:bn,targetName:wn,callback:nn.DATA,callbackId:fn.callbackId,data:vn})},function(vn){mn.postMessage({sourceName:bn,targetName:wn,callback:nn.ERROR,callbackId:fn.callbackId,reason:sn(vn)})});return}if(fn.streamId){this._createStreamSink(fn);return}yn(fn.data)},mn.addEventListener("message",this._onComObjOnMessage)}on(cn,dn){const mn=this.actionHandler;if(mn[cn])throw new Error(`There is already an actionName called "${cn}"`);mn[cn]=dn}send(cn,dn,mn){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:cn,data:dn},mn)}sendWithPromise(cn,dn,mn){const pn=this.callbackId++,fn=(0,tn.createPromiseCapability)();this.callbackCapabilities[pn]=fn;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:cn,callbackId:pn,data:dn},mn)}catch(yn){fn.reject(yn)}return fn.promise}sendWithStream(cn,dn,mn,pn){const fn=this.streamId++,yn=this.sourceName,bn=this.targetName,wn=this.comObj;return new ReadableStream({start:vn=>{const Sn=(0,tn.createPromiseCapability)();return this.streamControllers[fn]={controller:vn,startCall:Sn,pullCall:null,cancelCall:null,isClosed:!1},wn.postMessage({sourceName:yn,targetName:bn,action:cn,streamId:fn,data:dn,desiredSize:vn.desiredSize},pn),Sn.promise},pull:vn=>{const Sn=(0,tn.createPromiseCapability)();return this.streamControllers[fn].pullCall=Sn,wn.postMessage({sourceName:yn,targetName:bn,stream:rn.PULL,streamId:fn,desiredSize:vn.desiredSize}),Sn.promise},cancel:vn=>{(0,tn.assert)(vn instanceof Error,"cancel must have a valid reason");const Sn=(0,tn.createPromiseCapability)();return this.streamControllers[fn].cancelCall=Sn,this.streamControllers[fn].isClosed=!0,wn.postMessage({sourceName:yn,targetName:bn,stream:rn.CANCEL,streamId:fn,reason:sn(vn)}),Sn.promise}},mn)}_createStreamSink(cn){const dn=cn.streamId,mn=this.sourceName,pn=cn.sourceName,fn=this.comObj,yn=this,bn=this.actionHandler[cn.action],wn={enqueue(vn,Sn=1,xn){if(this.isCancelled)return;const En=this.desiredSize;this.desiredSize-=Sn,En>0&&this.desiredSize<=0&&(this.sinkCapability=(0,tn.createPromiseCapability)(),this.ready=this.sinkCapability.promise),fn.postMessage({sourceName:mn,targetName:pn,stream:rn.ENQUEUE,streamId:dn,chunk:vn},xn)},close(){this.isCancelled||(this.isCancelled=!0,fn.postMessage({sourceName:mn,targetName:pn,stream:rn.CLOSE,streamId:dn}),delete yn.streamSinks[dn])},error(vn){(0,tn.assert)(vn instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,fn.postMessage({sourceName:mn,targetName:pn,stream:rn.ERROR,streamId:dn,reason:sn(vn)}))},sinkCapability:(0,tn.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:cn.desiredSize,ready:null};wn.sinkCapability.resolve(),wn.ready=wn.sinkCapability.promise,this.streamSinks[dn]=wn,new Promise(function(vn){vn(bn(cn.data,wn))}).then(function(){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.START_COMPLETE,streamId:dn,success:!0})},function(vn){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.START_COMPLETE,streamId:dn,reason:sn(vn)})})}_processStreamMessage(cn){const dn=cn.streamId,mn=this.sourceName,pn=cn.sourceName,fn=this.comObj,yn=this.streamControllers[dn],bn=this.streamSinks[dn];switch(cn.stream){case rn.START_COMPLETE:cn.success?yn.startCall.resolve():yn.startCall.reject(sn(cn.reason));break;case rn.PULL_COMPLETE:cn.success?yn.pullCall.resolve():yn.pullCall.reject(sn(cn.reason));break;case rn.PULL:if(!bn){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.PULL_COMPLETE,streamId:dn,success:!0});break}bn.desiredSize<=0&&cn.desiredSize>0&&bn.sinkCapability.resolve(),bn.desiredSize=cn.desiredSize,new Promise(function(wn){wn(bn.onPull&&bn.onPull())}).then(function(){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.PULL_COMPLETE,streamId:dn,success:!0})},function(wn){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.PULL_COMPLETE,streamId:dn,reason:sn(wn)})});break;case rn.ENQUEUE:if((0,tn.assert)(yn,"enqueue should have stream controller"),yn.isClosed)break;yn.controller.enqueue(cn.chunk);break;case rn.CLOSE:if((0,tn.assert)(yn,"close should have stream controller"),yn.isClosed)break;yn.isClosed=!0,yn.controller.close(),this._deleteStreamController(yn,dn);break;case rn.ERROR:(0,tn.assert)(yn,"error should have stream controller"),yn.controller.error(sn(cn.reason)),this._deleteStreamController(yn,dn);break;case rn.CANCEL_COMPLETE:cn.success?yn.cancelCall.resolve():yn.cancelCall.reject(sn(cn.reason)),this._deleteStreamController(yn,dn);break;case rn.CANCEL:if(!bn)break;new Promise(function(wn){wn(bn.onCancel&&bn.onCancel(sn(cn.reason)))}).then(function(){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.CANCEL_COMPLETE,streamId:dn,success:!0})},function(wn){fn.postMessage({sourceName:mn,targetName:pn,stream:rn.CANCEL_COMPLETE,streamId:dn,reason:sn(wn)})}),bn.sinkCapability.reject(sn(cn.reason)),bn.isCancelled=!0,delete this.streamSinks[dn];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(cn,dn){await Promise.allSettled([cn.startCall&&cn.startCall.promise,cn.pullCall&&cn.pullCall.promise,cn.cancelCall&&cn.cancelCall.promise]),delete this.streamControllers[dn]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_e.MessageHandler=an},(St,_e,en)=>{var rn,sn;Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var tn=en(1);class nn{constructor({parsedData:on,rawData:cn}){Jr(this,rn,void 0);Jr(this,sn,void 0);ps(this,rn,on),ps(this,sn,cn)}getRaw(){return vr(this,sn)}get(on){var cn;return(cn=vr(this,rn).get(on))!=null?cn:null}getAll(){return(0,tn.objectFromMap)(vr(this,rn))}has(on){return vr(this,rn).has(on)}}rn=new WeakMap,sn=new WeakMap,_e.Metadata=nn},(St,_e,en)=>{var on,cn,dn,mn,pn,fn,E1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var tn=en(1),nn=en(8);const rn=Symbol("INTERNAL");class sn{constructor(wn,vn){Jr(this,on,!0);this.name=wn,this.intent=vn}get visible(){return vr(this,on)}_setVisible(wn,vn){wn!==rn&&(0,tn.unreachable)("Internal method `_setVisible` called."),ps(this,on,vn)}}on=new WeakMap;class an{constructor(wn){Jr(this,fn);Jr(this,cn,null);Jr(this,dn,new Map);Jr(this,mn,null);Jr(this,pn,null);if(this.name=null,this.creator=null,wn!==null){this.name=wn.name,this.creator=wn.creator,ps(this,pn,wn.order);for(const vn of wn.groups)vr(this,dn).set(vn.id,new sn(vn.name,vn.intent));if(wn.baseState==="OFF")for(const vn of vr(this,dn).values())vn._setVisible(rn,!1);for(const vn of wn.on)vr(this,dn).get(vn)._setVisible(rn,!0);for(const vn of wn.off)vr(this,dn).get(vn)._setVisible(rn,!1);ps(this,mn,this.getHash())}}isVisible(wn){if(vr(this,dn).size===0)return!0;if(!wn)return(0,tn.warn)("Optional content group not defined."),!0;if(wn.type==="OCG")return vr(this,dn).has(wn.id)?vr(this,dn).get(wn.id).visible:((0,tn.warn)(`Optional content group not found: ${wn.id}`),!0);if(wn.type==="OCMD"){if(wn.expression)return ss(this,fn,E1).call(this,wn.expression);if(!wn.policy||wn.policy==="AnyOn"){for(const vn of wn.ids){if(!vr(this,dn).has(vn))return(0,tn.warn)(`Optional content group not found: ${vn}`),!0;if(vr(this,dn).get(vn).visible)return!0}return!1}else if(wn.policy==="AllOn"){for(const vn of wn.ids){if(!vr(this,dn).has(vn))return(0,tn.warn)(`Optional content group not found: ${vn}`),!0;if(!vr(this,dn).get(vn).visible)return!1}return!0}else if(wn.policy==="AnyOff"){for(const vn of wn.ids){if(!vr(this,dn).has(vn))return(0,tn.warn)(`Optional content group not found: ${vn}`),!0;if(!vr(this,dn).get(vn).visible)return!0}return!1}else if(wn.policy==="AllOff"){for(const vn of wn.ids){if(!vr(this,dn).has(vn))return(0,tn.warn)(`Optional content group not found: ${vn}`),!0;if(vr(this,dn).get(vn).visible)return!1}return!0}return(0,tn.warn)(`Unknown optional content policy ${wn.policy}.`),!0}return(0,tn.warn)(`Unknown group type ${wn.type}.`),!0}setVisibility(wn,vn=!0){if(!vr(this,dn).has(wn)){(0,tn.warn)(`Optional content group not found: ${wn}`);return}vr(this,dn).get(wn)._setVisible(rn,!!vn),ps(this,cn,null)}get hasInitialVisibility(){return this.getHash()===vr(this,mn)}getOrder(){return vr(this,dn).size?vr(this,pn)?vr(this,pn).slice():[...vr(this,dn).keys()]:null}getGroups(){return vr(this,dn).size>0?(0,tn.objectFromMap)(vr(this,dn)):null}getGroup(wn){return vr(this,dn).get(wn)||null}getHash(){if(vr(this,cn)!==null)return vr(this,cn);const wn=new nn.MurmurHash3_64;for(const[vn,Sn]of vr(this,dn))wn.update(`${vn}:${Sn.visible}`);return ps(this,cn,wn.hexdigest())}}cn=new WeakMap,dn=new WeakMap,mn=new WeakMap,pn=new WeakMap,fn=new WeakSet,E1=function(wn){const vn=wn.length;if(vn<2)return!0;const Sn=wn[0];for(let xn=1;xn<vn;xn++){const En=wn[xn];let Cn;if(Array.isArray(En))Cn=ss(this,fn,E1).call(this,En);else if(vr(this,dn).has(En))Cn=vr(this,dn).get(En).visible;else return(0,tn.warn)(`Optional content group not found: ${En}`),!0;switch(Sn){case"And":if(!Cn)return!1;break;case"Or":if(Cn)return!0;break;case"Not":return!Cn;default:return!0}}return Sn==="And"},_e.OptionalContentConfig=an},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var tn=en(1),nn=en(6);class rn{constructor(cn,dn){(0,tn.assert)(dn,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=cn.progressiveDone||!1,this._contentDispositionFilename=cn.contentDispositionFilename||null;const mn=cn.initialData;if((mn==null?void 0:mn.length)>0){const pn=new Uint8Array(mn).buffer;this._queuedChunks.push(pn)}this._pdfDataRangeTransport=dn,this._isStreamingSupported=!cn.disableStream,this._isRangeSupported=!cn.disableRange,this._contentLength=cn.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pn,fn)=>{this._onReceiveData({begin:pn,chunk:fn})}),this._pdfDataRangeTransport.addProgressListener((pn,fn)=>{this._onProgress({loaded:pn,total:fn})}),this._pdfDataRangeTransport.addProgressiveReadListener(pn=>{this._onReceiveData({chunk:pn})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(cn){const dn=new Uint8Array(cn.chunk).buffer;if(cn.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dn):this._queuedChunks.push(dn);else{const mn=this._rangeReaders.some(function(pn){return pn._begin!==cn.begin?!1:(pn._enqueue(dn),!0)});(0,tn.assert)(mn,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var cn,dn;return(dn=(cn=this._fullRequestReader)==null?void 0:cn._loaded)!=null?dn:0}_onProgress(cn){var dn,mn,pn,fn;cn.total===void 0?(mn=(dn=this._rangeReaders[0])==null?void 0:dn.onProgress)==null||mn.call(dn,{loaded:cn.loaded}):(fn=(pn=this._fullRequestReader)==null?void 0:pn.onProgress)==null||fn.call(pn,{loaded:cn.loaded,total:cn.total})}_onProgressiveDone(){var cn;(cn=this._fullRequestReader)==null||cn.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(cn){const dn=this._rangeReaders.indexOf(cn);dn>=0&&this._rangeReaders.splice(dn,1)}getFullReader(){(0,tn.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const cn=this._queuedChunks;return this._queuedChunks=null,new sn(this,cn,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(cn,dn){if(dn<=this._progressiveDataLength)return null;const mn=new an(this,cn,dn);return this._pdfDataRangeTransport.requestDataRange(cn,dn),this._rangeReaders.push(mn),mn}cancelAllRequests(cn){var dn;(dn=this._fullRequestReader)==null||dn.cancel(cn);for(const mn of this._rangeReaders.slice(0))mn.cancel(cn);this._pdfDataRangeTransport.abort()}}_e.PDFDataTransportStream=rn;class sn{constructor(cn,dn,mn=!1,pn=null){this._stream=cn,this._done=mn||!1,this._filename=(0,nn.isPdfFile)(pn)?pn:null,this._queuedChunks=dn||[],this._loaded=0;for(const fn of this._queuedChunks)this._loaded+=fn.byteLength;this._requests=[],this._headersReady=Promise.resolve(),cn._fullRequestReader=this,this.onProgress=null}_enqueue(cn){this._done||(this._requests.length>0?this._requests.shift().resolve({value:cn,done:!1}):this._queuedChunks.push(cn),this._loaded+=cn.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const cn=(0,tn.createPromiseCapability)();return this._requests.push(cn),cn.promise}cancel(cn){this._done=!0;for(const dn of this._requests)dn.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class an{constructor(cn,dn,mn){this._stream=cn,this._begin=dn,this._end=mn,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(cn){if(!this._done){if(this._requests.length===0)this._queuedChunk=cn;else{this._requests.shift().resolve({value:cn,done:!1});for(const mn of this._requests)mn.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const dn=this._queuedChunk;return this._queuedChunk=null,{value:dn,done:!1}}if(this._done)return{value:void 0,done:!0};const cn=(0,tn.createPromiseCapability)();return this._requests.push(cn),cn.promise}cancel(cn){this._done=!0;for(const dn of this._requests)dn.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(St,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;class en{static textContent(nn){const rn=[],sn={items:rn,styles:Object.create(null)};function an(on){var mn;if(!on)return;let cn=null;const dn=on.name;if(dn==="#text")cn=on.value;else if(en.shouldBuildText(dn))(mn=on==null?void 0:on.attributes)!=null&&mn.textContent?cn=on.attributes.textContent:on.value&&(cn=on.value);else return;if(cn!==null&&rn.push({str:cn}),!!on.children)for(const pn of on.children)an(pn)}return an(nn),sn}static shouldBuildText(nn){return!(nn==="textarea"||nn==="input"||nn==="option"||nn==="select")}}_e.XfaText=en},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var tn=en(7);const nn=function(on){return new Promise((cn,dn)=>{require$$5.readFile(on,(pn,fn)=>{if(pn||!fn){dn(new Error(pn));return}cn(new Uint8Array(fn))})})};class rn extends tn.BaseCanvasFactory{_createCanvas(cn,dn){return require$$5.createCanvas(cn,dn)}}_e.NodeCanvasFactory=rn;class sn extends tn.BaseCMapReaderFactory{_fetchData(cn,dn){return nn(cn).then(mn=>({cMapData:mn,compressionType:dn}))}}_e.NodeCMapReaderFactory=sn;class an extends tn.BaseStandardFontDataFactory{_fetchData(cn){return nn(cn)}}_e.NodeStandardFontDataFactory=an},(St,_e,en)=>{var on,cn,dn,mn,pn,fn,yn,bn,wn,P1,Sn,ev,En,T1,kn,tv;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditorLayer=void 0;var tn=en(5),nn=en(1),rn=en(22),sn=en(23);const Dn=class{constructor(Vn){Jr(this,wn);Jr(this,Sn);Jr(this,En);Jr(this,kn);Jr(this,on,void 0);Jr(this,cn,!1);Jr(this,dn,this.pointerup.bind(this));Jr(this,mn,this.pointerdown.bind(this));Jr(this,pn,new Map);Jr(this,fn,!1);Jr(this,yn,!1);Jr(this,bn,void 0);Dn._initialized||(Dn._initialized=!0,rn.FreeTextEditor.initialize(Vn.l10n),sn.InkEditor.initialize(Vn.l10n)),Vn.uiManager.registerEditorTypes([rn.FreeTextEditor,sn.InkEditor]),ps(this,bn,Vn.uiManager),this.annotationStorage=Vn.annotationStorage,this.pageIndex=Vn.pageIndex,this.div=Vn.div,ps(this,on,Vn.accessibilityManager),vr(this,bn).addLayer(this)}updateToolbar(Vn){vr(this,bn).updateToolbar(Vn)}updateMode(Vn=vr(this,bn).getMode()){ss(this,kn,tv).call(this),Vn===nn.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),vr(this,bn).unselectAll(),this.div.classList.toggle("freeTextEditing",Vn===nn.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Vn===nn.AnnotationEditorType.INK)}addInkEditorIfNeeded(Vn){if(!Vn&&vr(this,bn).getMode()!==nn.AnnotationEditorType.INK)return;if(!Vn){for(const zn of vr(this,pn).values())if(zn.isEmpty()){zn.setInBackground();return}}ss(this,En,T1).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Vn){vr(this,bn).setEditingState(Vn)}addCommands(Vn){vr(this,bn).addCommands(Vn)}enable(){this.div.style.pointerEvents="auto";for(const Vn of vr(this,pn).values())Vn.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Vn of vr(this,pn).values())Vn.disableEditing()}setActiveEditor(Vn){vr(this,bn).getActive()!==Vn&&vr(this,bn).setActiveEditor(Vn)}enableClick(){this.div.addEventListener("pointerdown",vr(this,mn)),this.div.addEventListener("pointerup",vr(this,dn))}disableClick(){this.div.removeEventListener("pointerdown",vr(this,mn)),this.div.removeEventListener("pointerup",vr(this,dn))}attach(Vn){vr(this,pn).set(Vn.id,Vn)}detach(Vn){var On;vr(this,pn).delete(Vn.id),(On=vr(this,on))==null||On.removePointerInTextLayer(Vn.contentDiv)}remove(Vn){vr(this,bn).removeEditor(Vn),this.detach(Vn),this.annotationStorage.remove(Vn.id),Vn.div.style.display="none",setTimeout(()=>{Vn.div.style.display="",Vn.div.remove(),Vn.isAttachedToDOM=!1,document.activeElement===document.body&&vr(this,bn).focusMainContainer()},0),vr(this,yn)||this.addInkEditorIfNeeded(!1)}add(Vn){if(ss(this,wn,P1).call(this,Vn),vr(this,bn).addEditor(Vn),this.attach(Vn),!Vn.isAttachedToDOM){const On=Vn.render();this.div.append(On),Vn.isAttachedToDOM=!0}this.moveEditorInDOM(Vn),Vn.onceAdded(),this.addToAnnotationStorage(Vn)}moveEditorInDOM(Vn){var On;(On=vr(this,on))==null||On.moveElementInDOM(this.div,Vn.div,Vn.contentDiv,!0)}addToAnnotationStorage(Vn){!Vn.isEmpty()&&!this.annotationStorage.has(Vn.id)&&this.annotationStorage.setValue(Vn.id,Vn)}addOrRebuild(Vn){Vn.needsToBeRebuilt()?Vn.rebuild():this.add(Vn)}addANewEditor(Vn){const On=()=>{this.addOrRebuild(Vn)},zn=()=>{Vn.remove()};this.addCommands({cmd:On,undo:zn,mustExec:!0})}addUndoableEditor(Vn){const On=()=>{this.addOrRebuild(Vn)},zn=()=>{Vn.remove()};this.addCommands({cmd:On,undo:zn,mustExec:!1})}getNextId(){return vr(this,bn).getId()}deserialize(Vn){switch(Vn.annotationType){case nn.AnnotationEditorType.FREETEXT:return rn.FreeTextEditor.deserialize(Vn,this);case nn.AnnotationEditorType.INK:return sn.InkEditor.deserialize(Vn,this)}return null}setSelected(Vn){vr(this,bn).setSelected(Vn)}toggleSelected(Vn){vr(this,bn).toggleSelected(Vn)}isSelected(Vn){return vr(this,bn).isSelected(Vn)}unselect(Vn){vr(this,bn).unselect(Vn)}pointerup(Vn){const On=tn.KeyboardManager.platform.isMac;if(!(Vn.button!==0||Vn.ctrlKey&&On)&&Vn.target===this.div&&!!vr(this,fn)){if(ps(this,fn,!1),!vr(this,cn)){ps(this,cn,!0);return}ss(this,En,T1).call(this,Vn)}}pointerdown(Vn){const On=tn.KeyboardManager.platform.isMac;if(Vn.button!==0||Vn.ctrlKey&&On||Vn.target!==this.div)return;ps(this,fn,!0);const zn=vr(this,bn).getActive();ps(this,cn,!zn||zn.isEmpty())}drop(Vn){const On=Vn.dataTransfer.getData("text/plain"),zn=vr(this,bn).getEditor(On);if(!zn)return;Vn.preventDefault(),Vn.dataTransfer.dropEffect="move",ss(this,wn,P1).call(this,zn);const nr=this.div.getBoundingClientRect(),Yn=Vn.clientX-nr.x,ar=Vn.clientY-nr.y;zn.translate(Yn-zn.startX,ar-zn.startY),this.moveEditorInDOM(zn),zn.div.focus()}dragover(Vn){Vn.preventDefault()}destroy(){var Vn,On;((Vn=vr(this,bn).getActive())==null?void 0:Vn.parent)===this&&vr(this,bn).setActiveEditor(null);for(const zn of vr(this,pn).values())(On=vr(this,on))==null||On.removePointerInTextLayer(zn.contentDiv),zn.isAttachedToDOM=!1,zn.div.remove(),zn.parent=null;this.div=null,vr(this,pn).clear(),vr(this,bn).removeLayer(this)}render(Vn){this.viewport=Vn.viewport,(0,tn.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const On of vr(this,bn).getEditors(this.pageIndex))this.add(On);this.updateMode()}update(Vn){vr(this,bn).commitOrRemove(),this.viewport=Vn.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Vn,On,zn,nr]=this.viewport.viewBox,Yn=zn-Vn,ar=nr-On;return[Yn,ar]}get viewportBaseDimensions(){const{width:Vn,height:On,rotation:zn}=this.viewport;return zn%180===0?[Vn,On]:[On,Vn]}setDimensions(){const{width:Vn,height:On,rotation:zn}=this.viewport,nr=zn%180!==0,Yn=Math.floor(Vn)+"px",ar=Math.floor(On)+"px";this.div.style.width=nr?ar:Yn,this.div.style.height=nr?Yn:ar,this.div.setAttribute("data-main-rotation",zn)}};let an=Dn;on=new WeakMap,cn=new WeakMap,dn=new WeakMap,mn=new WeakMap,pn=new WeakMap,fn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakSet,P1=function(Vn){var On;Vn.parent!==this&&(this.attach(Vn),Vn.pageIndex=this.pageIndex,(On=Vn.parent)==null||On.detach(Vn),Vn.parent=this,Vn.div&&Vn.isAttachedToDOM&&(Vn.div.remove(),this.div.append(Vn.div)))},Sn=new WeakSet,ev=function(Vn){switch(vr(this,bn).getMode()){case nn.AnnotationEditorType.FREETEXT:return new rn.FreeTextEditor(Vn);case nn.AnnotationEditorType.INK:return new sn.InkEditor(Vn)}return null},En=new WeakSet,T1=function(Vn){const On=this.getNextId(),zn=ss(this,Sn,ev).call(this,{parent:this,id:On,x:Vn.offsetX,y:Vn.offsetY});return zn&&this.add(zn),zn},kn=new WeakSet,tv=function(){ps(this,yn,!0);for(const Vn of vr(this,pn).values())Vn.isEmpty()&&Vn.remove();ps(this,yn,!1)},Do(an,"_initialized",!1),_e.AnnotationEditorLayer=an},(St,_e,en)=>{var an,on,cn,dn,mn,pn,fn,yn,bn,wn,nv,Sn,rv,En,iv,kn,k1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FreeTextEditor=void 0;var tn=en(1),nn=en(5),rn=en(4);const Dn=class extends rn.AnnotationEditor{constructor(On){super({...On,name:"freeTextEditor"});Jr(this,wn);Jr(this,Sn);Jr(this,En);Jr(this,kn);Jr(this,an,this.editorDivBlur.bind(this));Jr(this,on,this.editorDivFocus.bind(this));Jr(this,cn,this.editorDivInput.bind(this));Jr(this,dn,this.editorDivKeydown.bind(this));Jr(this,mn,void 0);Jr(this,pn,"");Jr(this,fn,`${this.id}-editor`);Jr(this,yn,!1);Jr(this,bn,void 0);ps(this,mn,On.color||Dn._defaultColor||rn.AnnotationEditor._defaultLineColor),ps(this,bn,On.fontSize||Dn._defaultFontSize)}static initialize(On){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(nr=>[nr,On.get(nr)]));const zn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(zn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(On,zn){switch(On){case tn.AnnotationEditorParamsType.FREETEXT_SIZE:Dn._defaultFontSize=zn;break;case tn.AnnotationEditorParamsType.FREETEXT_COLOR:Dn._defaultColor=zn;break}}updateParams(On,zn){switch(On){case tn.AnnotationEditorParamsType.FREETEXT_SIZE:ss(this,wn,nv).call(this,zn);break;case tn.AnnotationEditorParamsType.FREETEXT_COLOR:ss(this,Sn,rv).call(this,zn);break}}static get defaultPropertiesToUpdate(){return[[tn.AnnotationEditorParamsType.FREETEXT_SIZE,Dn._defaultFontSize],[tn.AnnotationEditorParamsType.FREETEXT_COLOR,Dn._defaultColor||rn.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tn.AnnotationEditorParamsType.FREETEXT_SIZE,vr(this,bn)],[tn.AnnotationEditorParamsType.FREETEXT_COLOR,vr(this,mn)]]}getInitialTranslation(){return[-Dn._internalPadding*this.parent.scaleFactor,-(Dn._internalPadding+vr(this,bn))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tn.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",vr(this,dn)),this.editorDiv.addEventListener("focus",vr(this,on)),this.editorDiv.addEventListener("blur",vr(this,an)),this.editorDiv.addEventListener("input",vr(this,cn)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",vr(this,fn)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",vr(this,dn)),this.editorDiv.removeEventListener("focus",vr(this,on)),this.editorDiv.removeEventListener("blur",vr(this,an)),this.editorDiv.removeEventListener("input",vr(this,cn)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(On){super.focusin(On),On.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),vr(this,yn)||(ps(this,yn,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),ps(this,pn,ss(this,En,iv).call(this).trimEnd()),ss(this,kn,k1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(On){this.enableEditMode(),this.editorDiv.focus()}keydown(On){On.target===this.div&&On.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(On){Dn._keyboardManager.exec(this,On)}editorDivFocus(On){this.isEditing=!0}editorDivBlur(On){this.isEditing=!1}editorDivInput(On){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let On,zn;this.width&&(On=this.x,zn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",vr(this,fn)),this.enableEditing(),Dn._l10nPromise.get("editor_free_text2_aria_label").then(Yn=>{var ar;return(ar=this.editorDiv)==null?void 0:ar.setAttribute("aria-label",Yn)}),Dn._l10nPromise.get("free_text2_default_content").then(Yn=>{var ar;return(ar=this.editorDiv)==null?void 0:ar.setAttribute("default-content",Yn)}),this.editorDiv.contentEditable=!0;const{style:nr}=this.editorDiv;if(nr.fontSize=`calc(${vr(this,bn)}px * var(--scale-factor))`,nr.color=vr(this,mn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nn.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Yn,ar]=this.parent.viewportBaseDimensions;this.setAt(On*Yn,zn*ar,this.width*Yn,this.height*ar);for(const tr of vr(this,pn).split(`
`)){const dr=document.createElement("div");dr.append(tr?document.createTextNode(tr):document.createElement("br")),this.editorDiv.append(dr)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(On,zn){const nr=super.deserialize(On,zn);return ps(nr,bn,On.fontSize),ps(nr,mn,tn.Util.makeHexColor(...On.color)),ps(nr,pn,On.value),nr}serialize(){if(this.isEmpty())return null;const On=Dn._internalPadding*this.parent.scaleFactor,zn=this.getRect(On,On),nr=rn.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:tn.AnnotationEditorType.FREETEXT,color:nr,fontSize:vr(this,bn),value:vr(this,pn),pageIndex:this.parent.pageIndex,rect:zn,rotation:this.rotation}}};let sn=Dn;an=new WeakMap,on=new WeakMap,cn=new WeakMap,dn=new WeakMap,mn=new WeakMap,pn=new WeakMap,fn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakSet,nv=function(On){const zn=Yn=>{this.editorDiv.style.fontSize=`calc(${Yn}px * var(--scale-factor))`,this.translate(0,-(Yn-vr(this,bn))*this.parent.scaleFactor),ps(this,bn,Yn),ss(this,kn,k1).call(this)},nr=vr(this,bn);this.parent.addCommands({cmd:()=>{zn(On)},undo:()=>{zn(nr)},mustExec:!0,type:tn.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Sn=new WeakSet,rv=function(On){const zn=vr(this,mn);this.parent.addCommands({cmd:()=>{ps(this,mn,On),this.editorDiv.style.color=On},undo:()=>{ps(this,mn,zn),this.editorDiv.style.color=zn},mustExec:!0,type:tn.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},En=new WeakSet,iv=function(){const On=this.editorDiv.getElementsByTagName("div");if(On.length===0)return this.editorDiv.innerText;const zn=[];for(const nr of On){const Yn=nr.firstChild;(Yn==null?void 0:Yn.nodeName)==="#text"?zn.push(Yn.data):zn.push("")}return zn.join(`
`)},kn=new WeakSet,k1=function(){const[On,zn]=this.parent.viewportBaseDimensions,nr=this.div.getBoundingClientRect();this.width=nr.width/On,this.height=nr.height/zn},Do(sn,"_freeTextDefaultContent",""),Do(sn,"_l10nPromise"),Do(sn,"_internalPadding",0),Do(sn,"_defaultColor",null),Do(sn,"_defaultFontSize",10),Do(sn,"_keyboardManager",new nn.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Dn.prototype.commitOrRemove]])),Do(sn,"_type","freetext"),_e.FreeTextEditor=sn},(St,_e,en)=>{var dn,mn,pn,fn,yn,bn,wn,vn,Sn,xn,En,Cn,kn,In,Dn,sv,Vn,av,zn,ov,Yn,lv,tr,L1,Jn,uv,yr,cv,Mn,hv,Nn,gp,qn,N1,sr,o1,br,l1,Er,d0,$n,R1,jn,u1,Xn,F1,pr,dv,xr,fv,lr,pv,zr,M1,Ar,c1,ns,f0,Cs,D1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.InkEditor=void 0,Object.defineProperty(_e,"fitCurve",{enumerable:!0,get:function(){return rn.fitCurve}});var tn=en(1),nn=en(4),rn=en(24),sn=en(5);const an=16,on=100,ys=class extends nn.AnnotationEditor{constructor(_r){super({..._r,name:"inkEditor"});Jr(this,Dn);Jr(this,Vn);Jr(this,zn);Jr(this,Yn);Jr(this,tr);Jr(this,Jn);Jr(this,yr);Jr(this,Mn);Jr(this,Nn);Jr(this,qn);Jr(this,sr);Jr(this,br);Jr(this,Er);Jr(this,$n);Jr(this,jn);Jr(this,pr);Jr(this,xr);Jr(this,lr);Jr(this,zr);Jr(this,Ar);Jr(this,ns);Jr(this,Cs);Jr(this,dn,0);Jr(this,mn,0);Jr(this,pn,0);Jr(this,fn,this.canvasPointermove.bind(this));Jr(this,yn,this.canvasPointerleave.bind(this));Jr(this,bn,this.canvasPointerup.bind(this));Jr(this,wn,this.canvasPointerdown.bind(this));Jr(this,vn,!1);Jr(this,Sn,!1);Jr(this,xn,null);Jr(this,En,null);Jr(this,Cn,0);Jr(this,kn,0);Jr(this,In,null);this.color=_r.color||null,this.thickness=_r.thickness||null,this.opacity=_r.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(_r){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(gr=>[gr,_r.get(gr)]))}static updateDefaultParams(_r,gr){switch(_r){case tn.AnnotationEditorParamsType.INK_THICKNESS:ys._defaultThickness=gr;break;case tn.AnnotationEditorParamsType.INK_COLOR:ys._defaultColor=gr;break;case tn.AnnotationEditorParamsType.INK_OPACITY:ys._defaultOpacity=gr/100;break}}updateParams(_r,gr){switch(_r){case tn.AnnotationEditorParamsType.INK_THICKNESS:ss(this,Dn,sv).call(this,gr);break;case tn.AnnotationEditorParamsType.INK_COLOR:ss(this,Vn,av).call(this,gr);break;case tn.AnnotationEditorParamsType.INK_OPACITY:ss(this,zn,ov).call(this,gr);break}}static get defaultPropertiesToUpdate(){return[[tn.AnnotationEditorParamsType.INK_THICKNESS,ys._defaultThickness],[tn.AnnotationEditorParamsType.INK_COLOR,ys._defaultColor||nn.AnnotationEditor._defaultLineColor],[tn.AnnotationEditorParamsType.INK_OPACITY,Math.round(ys._defaultOpacity*100)]]}get propertiesToUpdate(){var _r;return[[tn.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ys._defaultThickness],[tn.AnnotationEditorParamsType.INK_COLOR,this.color||ys._defaultColor||nn.AnnotationEditor._defaultLineColor],[tn.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((_r=this.opacity)!=null?_r:ys._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ss(this,sr,o1).call(this),ss(this,br,l1).call(this)),this.isAttachedToDOM||(this.parent.add(this),ss(this,Er,d0).call(this)),ss(this,ns,f0).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,vr(this,En).disconnect(),ps(this,En,null),super.remove())}enableEditMode(){vr(this,vn)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",vr(this,wn)),this.canvas.addEventListener("pointerup",vr(this,bn)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",vr(this,wn)),this.canvas.removeEventListener("pointerup",vr(this,bn)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){vr(this,vn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ps(this,vn,!0),this.div.classList.add("disabled"),ss(this,ns,f0).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(_r){super.focusin(_r),this.enableEditMode()}canvasPointerdown(_r){_r.button!==0||!this.isInEditMode()||vr(this,vn)||(this.setInForeground(),_r.type!=="mouse"&&this.div.focus(),_r.stopPropagation(),this.canvas.addEventListener("pointerleave",vr(this,yn)),this.canvas.addEventListener("pointermove",vr(this,fn)),ss(this,Jn,uv).call(this,_r.offsetX,_r.offsetY))}canvasPointermove(_r){_r.stopPropagation(),ss(this,yr,cv).call(this,_r.offsetX,_r.offsetY)}canvasPointerup(_r){_r.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(_r.stopPropagation(),ss(this,qn,N1).call(this,_r),this.setInBackground())}canvasPointerleave(_r){ss(this,qn,N1).call(this,_r),this.setInBackground()}render(){if(this.div)return this.div;let _r,gr;this.width&&(_r=this.x,gr=this.y),super.render(),ys._l10nPromise.get("editor_ink2_aria_label").then(ls=>{var as;return(as=this.div)==null?void 0:as.setAttribute("aria-label",ls)});const[Cr,_i,cs,xs]=ss(this,Yn,lv).call(this);if(this.setAt(Cr,_i,0,0),this.setDims(cs,xs),ss(this,sr,o1).call(this),this.width){const[ls,as]=this.parent.viewportBaseDimensions;this.setAt(_r*ls,gr*as,this.width*ls,this.height*as),ps(this,Sn,!0),ss(this,Er,d0).call(this),this.setDims(this.width*ls,this.height*as),ss(this,Nn,gp).call(this),ss(this,Cs,D1).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ss(this,br,l1).call(this),this.div}setDimensions(_r,gr){const Cr=Math.round(_r),_i=Math.round(gr);if(vr(this,Cn)===Cr&&vr(this,kn)===_i)return;ps(this,Cn,Cr),ps(this,kn,_i),this.canvas.style.visibility="hidden",vr(this,dn)&&Math.abs(vr(this,dn)-_r/gr)>.01&&(gr=Math.ceil(_r/vr(this,dn)),this.setDims(_r,gr));const[cs,xs]=this.parent.viewportBaseDimensions;this.width=_r/cs,this.height=gr/xs,vr(this,vn)&&ss(this,$n,R1).call(this,_r,gr),ss(this,Er,d0).call(this),ss(this,Nn,gp).call(this),this.canvas.style.visibility="visible"}static deserialize(_r,gr){var Ls,zs;const Cr=super.deserialize(_r,gr);Cr.thickness=_r.thickness,Cr.color=tn.Util.makeHexColor(..._r.color),Cr.opacity=_r.opacity;const[_i,cs]=gr.pageDimensions,xs=Cr.width*_i,ls=Cr.height*cs,as=gr.scaleFactor,vs=_r.thickness/2;ps(Cr,dn,xs/ls),ps(Cr,vn,!0),ps(Cr,Cn,Math.round(xs)),ps(Cr,kn,Math.round(ls));for(const{bezier:Fs}of _r.paths){const ws=[];Cr.paths.push(ws);let Bs=as*(Fs[0]-vs),oo=as*(ls-Fs[1]-vs);for(let Vs=2,Zs=Fs.length;Vs<Zs;Vs+=6){const fo=as*(Fs[Vs]-vs),ro=as*(ls-Fs[Vs+1]-vs),Lo=as*(Fs[Vs+2]-vs),No=as*(ls-Fs[Vs+3]-vs),zo=as*(Fs[Vs+4]-vs),Rl=as*(ls-Fs[Vs+5]-vs);ws.push([[Bs,oo],[fo,ro],[Lo,No],[zo,Rl]]),Bs=zo,oo=Rl}const Js=ss(this,Xn,F1).call(this,ws);Cr.bezierPath2D.push(Js)}const Os=ss(Ls=Cr,zr,M1).call(Ls);return ps(Cr,pn,Math.max(an,Os[2]-Os[0])),ps(Cr,mn,Math.max(an,Os[3]-Os[1])),ss(zs=Cr,$n,R1).call(zs,xs,ls),Cr}serialize(){if(this.isEmpty())return null;const _r=this.getRect(0,0),gr=this.rotation%180===0?_r[3]-_r[1]:_r[2]-_r[0],Cr=nn.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tn.AnnotationEditorType.INK,color:Cr,thickness:this.thickness,opacity:this.opacity,paths:ss(this,pr,dv).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,gr),pageIndex:this.parent.pageIndex,rect:_r,rotation:this.rotation}}};let cn=ys;dn=new WeakMap,mn=new WeakMap,pn=new WeakMap,fn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap,vn=new WeakMap,Sn=new WeakMap,xn=new WeakMap,En=new WeakMap,Cn=new WeakMap,kn=new WeakMap,In=new WeakMap,Dn=new WeakSet,sv=function(_r){const gr=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=_r,ss(this,ns,f0).call(this)},undo:()=>{this.thickness=gr,ss(this,ns,f0).call(this)},mustExec:!0,type:tn.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Vn=new WeakSet,av=function(_r){const gr=this.color;this.parent.addCommands({cmd:()=>{this.color=_r,ss(this,Nn,gp).call(this)},undo:()=>{this.color=gr,ss(this,Nn,gp).call(this)},mustExec:!0,type:tn.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zn=new WeakSet,ov=function(_r){_r/=100;const gr=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=_r,ss(this,Nn,gp).call(this)},undo:()=>{this.opacity=gr,ss(this,Nn,gp).call(this)},mustExec:!0,type:tn.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Yn=new WeakSet,lv=function(){const{width:_r,height:gr,rotation:Cr}=this.parent.viewport;switch(Cr){case 90:return[0,_r,_r,gr];case 180:return[_r,gr,_r,gr];case 270:return[gr,0,_r,gr];default:return[0,0,_r,gr]}},tr=new WeakSet,L1=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,sn.opacityToHex)(this.opacity)}`},Jn=new WeakSet,uv=function(_r,gr){var Cr;this.isEditing=!0,vr(this,Sn)||(ps(this,Sn,!0),ss(this,Er,d0).call(this),this.thickness||(this.thickness=ys._defaultThickness),this.color||(this.color=ys._defaultColor||nn.AnnotationEditor._defaultLineColor),(Cr=this.opacity)!=null||(this.opacity=ys._defaultOpacity)),this.currentPath.push([_r,gr]),ps(this,xn,null),ss(this,tr,L1).call(this),this.ctx.beginPath(),this.ctx.moveTo(_r,gr),ps(this,In,()=>{!vr(this,In)||(vr(this,xn)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ss(this,Nn,gp).call(this),this.ctx.lineTo(...vr(this,xn)),ps(this,xn,null),this.ctx.stroke()),window.requestAnimationFrame(vr(this,In)))}),window.requestAnimationFrame(vr(this,In))},yr=new WeakSet,cv=function(_r,gr){const[Cr,_i]=this.currentPath.at(-1);_r===Cr&&gr===_i||(this.currentPath.push([_r,gr]),ps(this,xn,[_r,gr]))},Mn=new WeakSet,hv=function(_r,gr){var vs;this.ctx.closePath(),ps(this,In,null),_r=Math.min(Math.max(_r,0),this.canvas.width),gr=Math.min(Math.max(gr,0),this.canvas.height);const[Cr,_i]=this.currentPath.at(-1);(_r!==Cr||gr!==_i)&&this.currentPath.push([_r,gr]);let cs;if(this.currentPath.length!==1)cs=(0,rn.fitCurve)(this.currentPath,30,null);else{const Os=[_r,gr];cs=[[Os,Os.slice(),Os.slice(),Os]]}const xs=ss(vs=ys,Xn,F1).call(vs,cs);this.currentPath.length=0;const ls=()=>{this.paths.push(cs),this.bezierPath2D.push(xs),this.rebuild()},as=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ss(this,sr,o1).call(this),ss(this,br,l1).call(this)),ss(this,ns,f0).call(this))};this.parent.addCommands({cmd:ls,undo:as,mustExec:!0})},Nn=new WeakSet,gp=function(){if(this.isEmpty()){ss(this,jn,u1).call(this);return}ss(this,tr,L1).call(this);const{canvas:_r,ctx:gr}=this;gr.setTransform(1,0,0,1,0,0),gr.clearRect(0,0,_r.width,_r.height),ss(this,jn,u1).call(this);for(const Cr of this.bezierPath2D)gr.stroke(Cr)},qn=new WeakSet,N1=function(_r){ss(this,Mn,hv).call(this,_r.offsetX,_r.offsetY),this.canvas.removeEventListener("pointerleave",vr(this,yn)),this.canvas.removeEventListener("pointermove",vr(this,fn)),this.parent.addToAnnotationStorage(this)},sr=new WeakSet,o1=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ys._l10nPromise.get("editor_ink_canvas_aria_label").then(_r=>{var gr;return(gr=this.canvas)==null?void 0:gr.setAttribute("aria-label",_r)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},br=new WeakSet,l1=function(){let _r=null;ps(this,En,new ResizeObserver(gr=>{const Cr=gr[0].contentRect;Cr.width&&Cr.height&&(_r!==null&&clearTimeout(_r),_r=setTimeout(()=>{this.fixDims(),_r=null},on),this.setDimensions(Cr.width,Cr.height))})),vr(this,En).observe(this.div)},Er=new WeakSet,d0=function(){if(!vr(this,Sn))return;const[_r,gr]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*_r),this.canvas.height=Math.ceil(this.height*gr),ss(this,jn,u1).call(this)},$n=new WeakSet,R1=function(_r,gr){const Cr=ss(this,Ar,c1).call(this),_i=(_r-Cr)/vr(this,pn),cs=(gr-Cr)/vr(this,mn);this.scaleFactor=Math.min(_i,cs)},jn=new WeakSet,u1=function(){const _r=ss(this,Ar,c1).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_r,this.translationY*this.scaleFactor+_r)},Xn=new WeakSet,F1=function(_r){const gr=new Path2D;for(let Cr=0,_i=_r.length;Cr<_i;Cr++){const[cs,xs,ls,as]=_r[Cr];Cr===0&&gr.moveTo(...cs),gr.bezierCurveTo(xs[0],xs[1],ls[0],ls[1],as[0],as[1])}return gr},pr=new WeakSet,dv=function(_r,gr,Cr,_i){const xs=[],ls=this.thickness/2;let as,vs;for(const Os of this.paths){as=[],vs=[];for(let Ls=0,zs=Os.length;Ls<zs;Ls++){const[Fs,ws,Bs,oo]=Os[Ls],Js=_r*(Fs[0]+gr)+ls,Vs=_i-_r*(Fs[1]+Cr)-ls,Zs=_r*(ws[0]+gr)+ls,fo=_i-_r*(ws[1]+Cr)-ls,ro=_r*(Bs[0]+gr)+ls,Lo=_i-_r*(Bs[1]+Cr)-ls,No=_r*(oo[0]+gr)+ls,zo=_i-_r*(oo[1]+Cr)-ls;Ls===0&&(as.push(Js,Vs),vs.push(Js,Vs)),as.push(Zs,fo,ro,Lo,No,zo),ss(this,xr,fv).call(this,Js,Vs,Zs,fo,ro,Lo,No,zo,4,vs)}xs.push({bezier:as,points:vs})}return xs},xr=new WeakSet,fv=function(_r,gr,Cr,_i,cs,xs,ls,as,vs,Os){if(ss(this,lr,pv).call(this,_r,gr,Cr,_i,cs,xs,ls,as)){Os.push(ls,as);return}for(let Ls=1;Ls<vs-1;Ls++){const zs=Ls/vs,Fs=1-zs;let ws=zs*_r+Fs*Cr,Bs=zs*gr+Fs*_i,oo=zs*Cr+Fs*cs,Js=zs*_i+Fs*xs;const Vs=zs*cs+Fs*ls,Zs=zs*xs+Fs*as;ws=zs*ws+Fs*oo,Bs=zs*Bs+Fs*Js,oo=zs*oo+Fs*Vs,Js=zs*Js+Fs*Zs,ws=zs*ws+Fs*oo,Bs=zs*Bs+Fs*Js,Os.push(ws,Bs)}Os.push(ls,as)},lr=new WeakSet,pv=function(_r,gr,Cr,_i,cs,xs,ls,as){const Os=(3*Cr-2*_r-ls)**2,Ls=(3*_i-2*gr-as)**2,zs=(3*cs-_r-2*ls)**2,Fs=(3*xs-gr-2*as)**2;return Math.max(Os,zs)+Math.max(Ls,Fs)<=10},zr=new WeakSet,M1=function(){let _r=1/0,gr=-1/0,Cr=1/0,_i=-1/0;for(const cs of this.paths)for(const[xs,ls,as,vs]of cs){const Os=tn.Util.bezierBoundingBox(...xs,...ls,...as,...vs);_r=Math.min(_r,Os[0]),Cr=Math.min(Cr,Os[1]),gr=Math.max(gr,Os[2]),_i=Math.max(_i,Os[3])}return[_r,Cr,gr,_i]},Ar=new WeakSet,c1=function(){return vr(this,vn)?Math.ceil(this.thickness*this.parent.scaleFactor):0},ns=new WeakSet,f0=function(_r=!1){if(this.isEmpty())return;if(!vr(this,vn)){ss(this,Nn,gp).call(this);return}const gr=ss(this,zr,M1).call(this),Cr=ss(this,Ar,c1).call(this);ps(this,pn,Math.max(an,gr[2]-gr[0])),ps(this,mn,Math.max(an,gr[3]-gr[1]));const _i=Math.ceil(Cr+vr(this,pn)*this.scaleFactor),cs=Math.ceil(Cr+vr(this,mn)*this.scaleFactor),[xs,ls]=this.parent.viewportBaseDimensions;this.width=_i/xs,this.height=cs/ls,ps(this,dn,_i/cs),ss(this,Cs,D1).call(this);const as=this.translationX,vs=this.translationY;this.translationX=-gr[0],this.translationY=-gr[1],ss(this,Er,d0).call(this),ss(this,Nn,gp).call(this),ps(this,Cn,_i),ps(this,kn,cs),this.setDims(_i,cs);const Os=_r?Cr/this.scaleFactor/2:0;this.translate(as-this.translationX-Os,vs-this.translationY-Os)},Cs=new WeakSet,D1=function(){const{style:_r}=this.div;vr(this,dn)>=1?(_r.minHeight=`${an}px`,_r.minWidth=`${Math.round(vr(this,dn)*an)}px`):(_r.minWidth=`${an}px`,_r.minHeight=`${Math.round(an/vr(this,dn))}px`)},Jr(cn,Xn),Do(cn,"_defaultColor",null),Do(cn,"_defaultOpacity",1),Do(cn,"_defaultThickness",1),Do(cn,"_l10nPromise"),Do(cn,"_type","ink"),_e.InkEditor=cn},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.fitCurve=void 0;const tn=en(25);_e.fitCurve=tn},St=>{function _e(yn,bn,wn){if(!Array.isArray(yn))throw new TypeError("First argument should be an array");if(yn.forEach(En=>{if(!Array.isArray(En)||En.some(Cn=>typeof Cn!="number")||En.length!==yn[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),yn=yn.filter((En,Cn)=>Cn===0||!En.every((kn,In)=>kn===yn[Cn-1][In])),yn.length<2)return[];const vn=yn.length,Sn=mn(yn[1],yn[0]),xn=mn(yn[vn-2],yn[vn-1]);return en(yn,Sn,xn,bn,wn)}function en(yn,bn,wn,vn,Sn){var En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar,tr;if(yn.length===2)return ar=pn.vectorLen(pn.subtract(yn[0],yn[1]))/3,En=[yn[0],pn.addArrays(yn[0],pn.mulItems(bn,ar)),pn.addArrays(yn[1],pn.mulItems(wn,ar)),yn[1]],[En];if(Cn=an(yn),[En,In,Wn]=tn(yn,Cn,Cn,bn,wn,Sn),In===0||In<vn)return[En];if(In<vn*vn)for(kn=Cn,Dn=In,Vn=Wn,tr=0;tr<20;tr++){if(kn=rn(En,yn,kn),[En,In,Wn]=tn(yn,Cn,kn,bn,wn,Sn),In<vn)return[En];if(Wn===Vn){let dr=In/Dn;if(dr>.9999&&dr<1.0001)break}Dn=In,Vn=Wn}return Yn=[],On=pn.subtract(yn[Wn-1],yn[Wn+1]),On.every(dr=>dr===0)&&(On=pn.subtract(yn[Wn-1],yn[Wn]),[On[0],On[1]]=[-On[1],On[0]]),zn=pn.normalize(On),nr=pn.mulItems(zn,-1),Yn=Yn.concat(en(yn.slice(0,Wn+1),bn,zn,vn,Sn)),Yn=Yn.concat(en(yn.slice(Wn),nr,wn,vn,Sn)),Yn}function tn(yn,bn,wn,vn,Sn,xn){var En,Cn,kn;return En=nn(yn,wn,vn,Sn),[Cn,kn]=on(yn,En,bn),xn&&xn({bez:En,points:yn,params:bn,maxErr:Cn,maxPoint:kn}),[En,Cn,kn]}function nn(yn,bn,wn,vn){var Sn,xn,En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar,tr,dr,Jn,hr=yn[0],yr=yn[yn.length-1];for(Sn=[hr,null,null,yr],xn=pn.zeros_Xx2x2(bn.length),Yn=0,ar=bn.length;Yn<ar;Yn++)dr=bn[Yn],Jn=1-dr,En=xn[Yn],En[0]=pn.mulItems(wn,3*dr*(Jn*Jn)),En[1]=pn.mulItems(vn,3*Jn*(dr*dr));for(Cn=[[0,0],[0,0]],kn=[0,0],Yn=0,ar=yn.length;Yn<ar;Yn++)dr=bn[Yn],En=xn[Yn],Cn[0][0]+=pn.dot(En[0],En[0]),Cn[0][1]+=pn.dot(En[0],En[1]),Cn[1][0]+=pn.dot(En[0],En[1]),Cn[1][1]+=pn.dot(En[1],En[1]),tr=pn.subtract(yn[Yn],fn.q([hr,hr,yr,yr],dr)),kn[0]+=pn.dot(En[0],tr),kn[1]+=pn.dot(En[1],tr);return In=Cn[0][0]*Cn[1][1]-Cn[1][0]*Cn[0][1],Dn=Cn[0][0]*kn[1]-Cn[1][0]*kn[0],Wn=kn[0]*Cn[1][1]-kn[1]*Cn[0][1],Vn=In===0?0:Wn/In,On=In===0?0:Dn/In,nr=pn.vectorLen(pn.subtract(hr,yr)),zn=1e-6*nr,Vn<zn||On<zn?(Sn[1]=pn.addArrays(hr,pn.mulItems(wn,nr/3)),Sn[2]=pn.addArrays(yr,pn.mulItems(vn,nr/3))):(Sn[1]=pn.addArrays(hr,pn.mulItems(wn,Vn)),Sn[2]=pn.addArrays(yr,pn.mulItems(vn,On))),Sn}function rn(yn,bn,wn){return wn.map((vn,Sn)=>sn(yn,bn[Sn],vn))}function sn(yn,bn,wn){var vn=pn.subtract(fn.q(yn,wn),bn),Sn=fn.qprime(yn,wn),xn=pn.mulMatrix(vn,Sn),En=pn.sum(pn.squareItems(Sn))+2*pn.mulMatrix(vn,fn.qprimeprime(yn,wn));return En===0?wn:wn-xn/En}function an(yn){var bn=[],wn,vn,Sn;return yn.forEach((xn,En)=>{wn=En?vn+pn.vectorLen(pn.subtract(xn,Sn)):0,bn.push(wn),vn=wn,Sn=xn}),bn=bn.map(xn=>xn/vn),bn}function on(yn,bn,wn){var vn,Sn,xn,En,Cn,kn,In,Dn;Sn=0,xn=Math.floor(yn.length/2);const Wn=cn(bn,10);for(Cn=0,kn=yn.length;Cn<kn;Cn++)In=yn[Cn],Dn=dn(bn,wn[Cn],Wn,10),En=pn.subtract(fn.q(bn,Dn),In),vn=En[0]*En[0]+En[1]*En[1],vn>Sn&&(Sn=vn,xn=Cn);return[Sn,xn]}var cn=function(yn,bn){for(var wn,vn=[0],Sn=yn[0],xn=0,En=1;En<=bn;En++)wn=fn.q(yn,En/bn),xn+=pn.vectorLen(pn.subtract(wn,Sn)),vn.push(xn),Sn=wn;return vn=vn.map(Cn=>Cn/xn),vn};function dn(yn,bn,wn,vn){if(bn<0)return 0;if(bn>1)return 1;for(var Sn,xn,En,Cn,kn,In=1;In<=vn;In++)if(bn<=wn[In]){Cn=(In-1)/vn,En=In/vn,xn=wn[In-1],Sn=wn[In],kn=(bn-xn)/(Sn-xn)*(En-Cn)+Cn;break}return kn}function mn(yn,bn){return pn.normalize(pn.subtract(yn,bn))}class pn{static zeros_Xx2x2(bn){for(var wn=[];bn--;)wn.push([0,0]);return wn}static mulItems(bn,wn){return bn.map(vn=>vn*wn)}static mulMatrix(bn,wn){return bn.reduce((vn,Sn,xn)=>vn+Sn*wn[xn],0)}static subtract(bn,wn){return bn.map((vn,Sn)=>vn-wn[Sn])}static addArrays(bn,wn){return bn.map((vn,Sn)=>vn+wn[Sn])}static addItems(bn,wn){return bn.map(vn=>vn+wn)}static sum(bn){return bn.reduce((wn,vn)=>wn+vn)}static dot(bn,wn){return pn.mulMatrix(bn,wn)}static vectorLen(bn){return Math.hypot(...bn)}static divItems(bn,wn){return bn.map(vn=>vn/wn)}static squareItems(bn){return bn.map(wn=>wn*wn)}static normalize(bn){return this.divItems(bn,this.vectorLen(bn))}}class fn{static q(bn,wn){var vn=1-wn,Sn=pn.mulItems(bn[0],vn*vn*vn),xn=pn.mulItems(bn[1],3*vn*vn*wn),En=pn.mulItems(bn[2],3*vn*wn*wn),Cn=pn.mulItems(bn[3],wn*wn*wn);return pn.addArrays(pn.addArrays(Sn,xn),pn.addArrays(En,Cn))}static qprime(bn,wn){var vn=1-wn,Sn=pn.mulItems(pn.subtract(bn[1],bn[0]),3*vn*vn),xn=pn.mulItems(pn.subtract(bn[2],bn[1]),6*vn*wn),En=pn.mulItems(pn.subtract(bn[3],bn[2]),3*wn*wn);return pn.addArrays(pn.addArrays(Sn,xn),En)}static qprimeprime(bn,wn){return pn.addArrays(pn.mulItems(pn.addArrays(pn.subtract(bn[2],pn.mulItems(bn[1],2)),bn[0]),6*(1-wn)),pn.mulItems(pn.addArrays(pn.subtract(bn[3],pn.mulItems(bn[2],2)),bn[1]),6*wn))}}St.exports=_e,St.exports.fitCubic=en,St.exports.createTangent=mn},(St,_e,en)=>{var Fn,gv,qn,O1,sr,I1,br,j1;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationLayer=void 0;var tn=en(1),nn=en(6),rn=en(3),sn=en(27),an=en(28);const on=1e3,cn=9,dn=new WeakSet;function mn(Pr){return{width:Pr[2]-Pr[0],height:Pr[3]-Pr[1]}}class pn{static create($n){switch($n.data.annotationType){case tn.AnnotationType.LINK:return new yn($n);case tn.AnnotationType.TEXT:return new bn($n);case tn.AnnotationType.WIDGET:switch($n.data.fieldType){case"Tx":return new vn($n);case"Btn":return $n.data.radioButton?new xn($n):$n.data.checkBox?new Sn($n):new En($n);case"Ch":return new Cn($n)}return new wn($n);case tn.AnnotationType.POPUP:return new kn($n);case tn.AnnotationType.FREETEXT:return new Dn($n);case tn.AnnotationType.LINE:return new Wn($n);case tn.AnnotationType.SQUARE:return new Vn($n);case tn.AnnotationType.CIRCLE:return new On($n);case tn.AnnotationType.POLYLINE:return new zn($n);case tn.AnnotationType.CARET:return new Yn($n);case tn.AnnotationType.INK:return new ar($n);case tn.AnnotationType.POLYGON:return new nr($n);case tn.AnnotationType.HIGHLIGHT:return new tr($n);case tn.AnnotationType.UNDERLINE:return new dr($n);case tn.AnnotationType.SQUIGGLY:return new Jn($n);case tn.AnnotationType.STRIKEOUT:return new hr($n);case tn.AnnotationType.STAMP:return new yr($n);case tn.AnnotationType.FILEATTACHMENT:return new Mr($n);default:return new fn($n)}}}class fn{constructor($n,{isRenderable:Gn=!1,ignoreBorder:jn=!1,createQuadrilaterals:fr=!1}={}){this.isRenderable=Gn,this.data=$n.data,this.layer=$n.layer,this.page=$n.page,this.viewport=$n.viewport,this.linkService=$n.linkService,this.downloadManager=$n.downloadManager,this.imageResourcesPath=$n.imageResourcesPath,this.renderForms=$n.renderForms,this.svgFactory=$n.svgFactory,this.annotationStorage=$n.annotationStorage,this.enableScripting=$n.enableScripting,this.hasJSActions=$n.hasJSActions,this._fieldObjects=$n.fieldObjects,this._mouseState=$n.mouseState,Gn&&(this.container=this._createContainer(jn)),fr&&(this.quadrilaterals=this._createQuadrilaterals(jn))}_createContainer($n=!1){const Gn=this.data,jn=this.page,fr=this.viewport,Xn=document.createElement("section"),{width:Zn,height:pr}=mn(Gn.rect),[Tr,xr,Ur,lr]=fr.viewBox,Rr=Ur-Tr,zr=lr-xr;Xn.setAttribute("data-annotation-id",Gn.id);const qr=tn.Util.normalizeRect([Gn.rect[0],jn.view[3]-Gn.rect[1]+jn.view[1],Gn.rect[2],jn.view[3]-Gn.rect[3]+jn.view[1]]);if(!$n&&Gn.borderStyle.width>0){Xn.style.borderWidth=`${Gn.borderStyle.width}px`;const Hr=Gn.borderStyle.horizontalCornerRadius,ns=Gn.borderStyle.verticalCornerRadius;if(Hr>0||ns>0){const Cs=`calc(${Hr}px * var(--scale-factor)) / calc(${ns}px * var(--scale-factor))`;Xn.style.borderRadius=Cs}else if(this instanceof xn){const Cs=`calc(${Zn}px * var(--scale-factor)) / calc(${pr}px * var(--scale-factor))`;Xn.style.borderRadius=Cs}switch(Gn.borderStyle.style){case tn.AnnotationBorderStyleType.SOLID:Xn.style.borderStyle="solid";break;case tn.AnnotationBorderStyleType.DASHED:Xn.style.borderStyle="dashed";break;case tn.AnnotationBorderStyleType.BEVELED:(0,tn.warn)("Unimplemented border style: beveled");break;case tn.AnnotationBorderStyleType.INSET:(0,tn.warn)("Unimplemented border style: inset");break;case tn.AnnotationBorderStyleType.UNDERLINE:Xn.style.borderBottomStyle="solid";break}const Xr=Gn.borderColor||null;Xr?Xn.style.borderColor=tn.Util.makeHexColor(Xr[0]|0,Xr[1]|0,Xr[2]|0):Xn.style.borderWidth=0}Xn.style.left=`${100*(qr[0]-Tr)/Rr}%`,Xn.style.top=`${100*(qr[1]-xr)/zr}%`;const{rotation:Ar}=Gn;return Gn.hasOwnCanvas||Ar===0?(Xn.style.width=`${100*Zn/Rr}%`,Xn.style.height=`${100*pr/zr}%`):this.setRotation(Ar,Xn),Xn}setRotation($n,Gn=this.container){const[jn,fr,Xn,Zn]=this.viewport.viewBox,pr=Xn-jn,Tr=Zn-fr,{width:xr,height:Ur}=mn(this.data.rect);let lr,Rr;$n%180===0?(lr=100*xr/pr,Rr=100*Ur/Tr):(lr=100*Ur/pr,Rr=100*xr/Tr),Gn.style.width=`${lr}%`,Gn.style.height=`${Rr}%`,Gn.setAttribute("data-main-rotation",(360-$n)%360)}get _commonActions(){const $n=(Gn,jn,fr)=>{const Xn=fr.detail[Gn];fr.target.style[jn]=sn.ColorConverters[`${Xn[0]}_HTML`](Xn.slice(1))};return(0,tn.shadow)(this,"_commonActions",{display:Gn=>{const jn=Gn.detail.display%2===1;this.container.style.visibility=jn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:jn,print:Gn.detail.display===0||Gn.detail.display===3})},print:Gn=>{this.annotationStorage.setValue(this.data.id,{print:Gn.detail.print})},hidden:Gn=>{this.container.style.visibility=Gn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Gn.detail.hidden})},focus:Gn=>{setTimeout(()=>Gn.target.focus({preventScroll:!1}),0)},userName:Gn=>{Gn.target.title=Gn.detail.userName},readonly:Gn=>{Gn.detail.readonly?Gn.target.setAttribute("readonly",""):Gn.target.removeAttribute("readonly")},required:Gn=>{this._setRequired(Gn.target,Gn.detail.required)},bgColor:Gn=>{$n("bgColor","backgroundColor",Gn)},fillColor:Gn=>{$n("fillColor","backgroundColor",Gn)},fgColor:Gn=>{$n("fgColor","color",Gn)},textColor:Gn=>{$n("textColor","color",Gn)},borderColor:Gn=>{$n("borderColor","borderColor",Gn)},strokeColor:Gn=>{$n("strokeColor","borderColor",Gn)},rotation:Gn=>{const jn=Gn.detail.rotation;this.setRotation(jn),this.annotationStorage.setValue(this.data.id,{rotation:jn})}})}_dispatchEventFromSandbox($n,Gn){const jn=this._commonActions;for(const fr of Object.keys(Gn.detail)){const Xn=$n[fr]||jn[fr];Xn==null||Xn(Gn)}}_setDefaultPropertiesFromJS($n){if(!this.enableScripting)return;const Gn=this.annotationStorage.getRawValue(this.data.id);if(!Gn)return;const jn=this._commonActions;for(const[fr,Xn]of Object.entries(Gn)){const Zn=jn[fr];if(Zn){const pr={detail:{[fr]:Xn},target:$n};Zn(pr),delete Gn[fr]}}}_createQuadrilaterals($n=!1){if(!this.data.quadPoints)return null;const Gn=[],jn=this.data.rect;for(const fr of this.data.quadPoints)this.data.rect=[fr[2].x,fr[2].y,fr[1].x,fr[1].y],Gn.push(this._createContainer($n));return this.data.rect=jn,Gn}_createPopup($n,Gn){let jn=this.container;this.quadrilaterals&&($n=$n||this.quadrilaterals,jn=this.quadrilaterals[0]),$n||($n=document.createElement("div"),$n.className="popupTriggerArea",jn.append($n));const Xn=new In({container:jn,trigger:$n,color:Gn.color,titleObj:Gn.titleObj,modificationDate:Gn.modificationDate,contentsObj:Gn.contentsObj,richText:Gn.richText,hideWrapper:!0}).render();Xn.style.left="100%",jn.append(Xn)}_renderQuadrilaterals($n){for(const Gn of this.quadrilaterals)Gn.className=$n;return this.quadrilaterals}render(){(0,tn.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName($n,Gn=null){const jn=[];if(this._fieldObjects){const fr=this._fieldObjects[$n];if(fr)for(const{page:Xn,id:Zn,exportValues:pr}of fr){if(Xn===-1||Zn===Gn)continue;const Tr=typeof pr=="string"?pr:null,xr=document.querySelector(`[data-element-id="${Zn}"]`);if(xr&&!dn.has(xr)){(0,tn.warn)(`_getElementsByName - element not allowed: ${Zn}`);continue}jn.push({id:Zn,exportValue:Tr,domElement:xr})}return jn}for(const fr of document.getElementsByName($n)){const{exportValue:Xn}=fr,Zn=fr.getAttribute("data-element-id");Zn!==Gn&&(!dn.has(fr)||jn.push({id:Zn,exportValue:Xn,domElement:fr}))}return jn}static get platform(){const $n=typeof navigator<"u"?navigator.platform:"";return(0,tn.shadow)(this,"platform",{isWin:$n.includes("Win"),isMac:$n.includes("Mac")})}}class yn extends fn{constructor(Gn,jn=null){super(Gn,{isRenderable:!0,ignoreBorder:!!(jn!=null&&jn.ignoreBorder),createQuadrilaterals:!0});Jr(this,Fn);this.isTooltipOnly=Gn.data.isTooltipOnly}render(){const{data:Gn,linkService:jn}=this,fr=document.createElement("a");fr.setAttribute("data-element-id",Gn.id);let Xn=!1;return Gn.url?(jn.addLinkAttributes(fr,Gn.url,Gn.newWindow),Xn=!0):Gn.action?(this._bindNamedAction(fr,Gn.action),Xn=!0):Gn.attachment?(this._bindAttachment(fr,Gn.attachment),Xn=!0):Gn.setOCGState?(ss(this,Fn,gv).call(this,fr,Gn.setOCGState),Xn=!0):Gn.dest?(this._bindLink(fr,Gn.dest),Xn=!0):(Gn.actions&&(Gn.actions.Action||Gn.actions["Mouse Up"]||Gn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(fr,Gn),Xn=!0),Gn.resetForm?(this._bindResetFormAction(fr,Gn.resetForm),Xn=!0):this.isTooltipOnly&&!Xn&&(this._bindLink(fr,""),Xn=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Zn,pr)=>{const Tr=pr===0?fr:fr.cloneNode();return Zn.append(Tr),Zn}):(this.container.className="linkAnnotation",Xn&&this.container.append(fr),this.container)}_bindLink(Gn,jn){Gn.href=this.linkService.getDestinationHash(jn),Gn.onclick=()=>(jn&&this.linkService.goToDestination(jn),!1),(jn||jn==="")&&(Gn.className="internalLink")}_bindNamedAction(Gn,jn){Gn.href=this.linkService.getAnchorUrl(""),Gn.onclick=()=>(this.linkService.executeNamedAction(jn),!1),Gn.className="internalLink"}_bindAttachment(Gn,jn){Gn.href=this.linkService.getAnchorUrl(""),Gn.onclick=()=>{var fr;return(fr=this.downloadManager)==null||fr.openOrDownloadData(this.container,jn.content,jn.filename),!1},Gn.className="internalLink"}_bindJSAction(Gn,jn){Gn.href=this.linkService.getAnchorUrl("");const fr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Xn of Object.keys(jn.actions)){const Zn=fr.get(Xn);!Zn||(Gn[Zn]=()=>{var pr;return(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jn.id,name:Xn}}),!1})}Gn.onclick||(Gn.onclick=()=>!1),Gn.className="internalLink"}_bindResetFormAction(Gn,jn){const fr=Gn.onclick;if(fr||(Gn.href=this.linkService.getAnchorUrl("")),Gn.className="internalLink",!this._fieldObjects){(0,tn.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),fr||(Gn.onclick=()=>!1);return}Gn.onclick=()=>{var lr;fr==null||fr();const{fields:Xn,refs:Zn,include:pr}=jn,Tr=[];if(Xn.length!==0||Zn.length!==0){const Rr=new Set(Zn);for(const zr of Xn){const qr=this._fieldObjects[zr]||[];for(const{id:Ar}of qr)Rr.add(Ar)}for(const zr of Object.values(this._fieldObjects))for(const qr of zr)Rr.has(qr.id)===pr&&Tr.push(qr)}else for(const Rr of Object.values(this._fieldObjects))Tr.push(...Rr);const xr=this.annotationStorage,Ur=[];for(const Rr of Tr){const{id:zr}=Rr;switch(Ur.push(zr),Rr.type){case"text":{const Ar=Rr.defaultValue||"";xr.setValue(zr,{value:Ar});break}case"checkbox":case"radiobutton":{const Ar=Rr.defaultValue===Rr.exportValues;xr.setValue(zr,{value:Ar});break}case"combobox":case"listbox":{const Ar=Rr.defaultValue||"";xr.setValue(zr,{value:Ar});break}default:continue}const qr=document.querySelector(`[data-element-id="${zr}"]`);if(qr){if(!dn.has(qr)){(0,tn.warn)(`_bindResetFormAction - element not allowed: ${zr}`);continue}}else continue;qr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ur,name:"ResetForm"}})),!1}}}Fn=new WeakSet,gv=function(Gn,jn){Gn.href=this.linkService.getAnchorUrl(""),Gn.onclick=()=>(this.linkService.executeSetOCGState(jn),!1),Gn.className="internalLink"};class bn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn})}render(){this.container.className="textAnnotation";const $n=document.createElement("img");return $n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$n.alt="[{{type}} Annotation]",$n.dataset.l10nId="text_annotation_type",$n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup($n,this.data),this.container.append($n),this.container}}class wn extends fn{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier($n){const{isWin:Gn,isMac:jn}=fn.platform;return Gn&&$n.ctrlKey||jn&&$n.metaKey}_setEventListener($n,Gn,jn,fr){Gn.includes("mouse")?$n.addEventListener(Gn,Xn=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:jn,value:fr(Xn),shift:Xn.shiftKey,modifier:this._getKeyModifier(Xn)}})}):$n.addEventListener(Gn,Xn=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:jn,value:fr(Xn)}})})}_setEventListeners($n,Gn,jn){var fr;for(const[Xn,Zn]of Gn)(Zn==="Action"||((fr=this.data.actions)==null?void 0:fr[Zn]))&&this._setEventListener($n,Xn,Zn,jn)}_setBackgroundColor($n){const Gn=this.data.backgroundColor||null;$n.style.backgroundColor=Gn===null?"transparent":tn.Util.makeHexColor(Gn[0],Gn[1],Gn[2])}_setTextStyle($n){const Gn=["left","center","right"],{fontColor:jn}=this.data.defaultAppearanceData,fr=this.data.defaultAppearanceData.fontSize||cn,Xn=$n.style;let Zn;const pr=2,Tr=xr=>Math.round(10*xr)/10;if(this.data.multiLine){const xr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr),Ur=Math.round(xr/(tn.LINE_FACTOR*fr))||1,lr=xr/Ur;Zn=Math.min(fr,Tr(lr/tn.LINE_FACTOR))}else{const xr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr);Zn=Math.min(fr,Tr(xr/tn.LINE_FACTOR))}Xn.fontSize=`calc(${Zn}px * var(--scale-factor))`,Xn.color=tn.Util.makeHexColor(jn[0],jn[1],jn[2]),this.data.textAlignment!==null&&(Xn.textAlign=Gn[this.data.textAlignment])}_setRequired($n,Gn){Gn?$n.setAttribute("required",!0):$n.removeAttribute("required"),$n.setAttribute("aria-required",Gn)}}class vn extends wn{constructor($n){const Gn=$n.renderForms||!$n.data.hasAppearance&&!!$n.data.fieldValue;super($n,{isRenderable:Gn})}setPropertyOnSiblings($n,Gn,jn,fr){const Xn=this.annotationStorage;for(const Zn of this._getElementsByName($n.name,$n.id))Zn.domElement&&(Zn.domElement[Gn]=jn),Xn.setValue(Zn.id,{[fr]:jn})}render(){var fr;const $n=this.annotationStorage,Gn=this.data.id;this.container.className="textWidgetAnnotation";let jn=null;if(this.renderForms){const Xn=$n.getValue(Gn,{value:this.data.fieldValue});let Zn=Xn.formattedValue||Xn.value||"";const pr=$n.getValue(Gn,{charLimit:this.data.maxLen}).charLimit;pr&&Zn.length>pr&&(Zn=Zn.slice(0,pr));const Tr={userValue:Zn,formattedValue:null,valueOnFocus:""};this.data.multiLine?(jn=document.createElement("textarea"),jn.textContent=Zn,this.data.doNotScroll&&(jn.style.overflowY="hidden")):(jn=document.createElement("input"),jn.type="text",jn.setAttribute("value",Zn),this.data.doNotScroll&&(jn.style.overflowX="hidden")),dn.add(jn),jn.setAttribute("data-element-id",Gn),jn.disabled=this.data.readOnly,jn.name=this.data.fieldName,jn.tabIndex=on,this._setRequired(jn,this.data.required),pr&&(jn.maxLength=pr),jn.addEventListener("input",Ur=>{$n.setValue(Gn,{value:Ur.target.value}),this.setPropertyOnSiblings(jn,"value",Ur.target.value,"value")}),jn.addEventListener("resetform",Ur=>{var Rr;const lr=(Rr=this.data.defaultFieldValue)!=null?Rr:"";jn.value=Tr.userValue=lr,Tr.formattedValue=null});let xr=Ur=>{const{formattedValue:lr}=Tr;lr!=null&&(Ur.target.value=lr),Ur.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){jn.addEventListener("focus",lr=>{Tr.userValue&&(lr.target.value=Tr.userValue),Tr.valueOnFocus=lr.target.value}),jn.addEventListener("updatefromsandbox",lr=>{const Rr={value(zr){var qr;Tr.userValue=(qr=zr.detail.value)!=null?qr:"",$n.setValue(Gn,{value:Tr.userValue.toString()}),zr.target.value=Tr.userValue},formattedValue(zr){const{formattedValue:qr}=zr.detail;Tr.formattedValue=qr,qr!=null&&zr.target!==document.activeElement&&(zr.target.value=qr),$n.setValue(Gn,{formattedValue:qr})},selRange(zr){zr.target.setSelectionRange(...zr.detail.selRange)},charLimit:zr=>{var ns;const{charLimit:qr}=zr.detail,{target:Ar}=zr;if(qr===0){Ar.removeAttribute("maxLength");return}Ar.setAttribute("maxLength",qr);let Hr=Tr.userValue;!Hr||Hr.length<=qr||(Hr=Hr.slice(0,qr),Ar.value=Tr.userValue=Hr,$n.setValue(Gn,{value:Hr}),(ns=this.linkService.eventBus)==null||ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gn,name:"Keystroke",value:Hr,willCommit:!0,commitKey:1,selStart:Ar.selectionStart,selEnd:Ar.selectionEnd}}))}};this._dispatchEventFromSandbox(Rr,lr)}),jn.addEventListener("keydown",lr=>{var qr;let Rr=-1;if(lr.key==="Escape"?Rr=0:lr.key==="Enter"&&!this.data.multiLine?Rr=2:lr.key==="Tab"&&(Rr=3),Rr===-1)return;const{value:zr}=lr.target;Tr.valueOnFocus!==zr&&(Tr.userValue=zr,(qr=this.linkService.eventBus)==null||qr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gn,name:"Keystroke",value:zr,willCommit:!0,commitKey:Rr,selStart:lr.target.selectionStart,selEnd:lr.target.selectionEnd}}))});const Ur=xr;xr=null,jn.addEventListener("blur",lr=>{var zr;const{value:Rr}=lr.target;Tr.userValue=Rr,this._mouseState.isDown&&Tr.valueOnFocus!==Rr&&((zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gn,name:"Keystroke",value:Rr,willCommit:!0,commitKey:1,selStart:lr.target.selectionStart,selEnd:lr.target.selectionEnd}})),Ur(lr)}),(fr=this.data.actions)!=null&&fr.Keystroke&&jn.addEventListener("beforeinput",lr=>{var Cs;const{data:Rr,target:zr}=lr,{value:qr,selectionStart:Ar,selectionEnd:Hr}=zr;let ns=Ar,Xr=Hr;switch(lr.inputType){case"deleteWordBackward":{const ms=qr.substring(0,Ar).match(/\w*[^\w]*$/);ms&&(ns-=ms[0].length);break}case"deleteWordForward":{const ms=qr.substring(Ar).match(/^[^\w]*\w*/);ms&&(Xr+=ms[0].length);break}case"deleteContentBackward":Ar===Hr&&(ns-=1);break;case"deleteContentForward":Ar===Hr&&(Xr+=1);break}lr.preventDefault(),(Cs=this.linkService.eventBus)==null||Cs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gn,name:"Keystroke",value:qr,change:Rr||"",willCommit:!1,selStart:ns,selEnd:Xr}})}),this._setEventListeners(jn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],lr=>lr.target.value)}if(xr&&jn.addEventListener("blur",xr),this.data.comb){const lr=(this.data.rect[2]-this.data.rect[0])/pr;jn.classList.add("comb"),jn.style.letterSpacing=`calc(${lr}px * var(--scale-factor) - 1ch)`}}else jn=document.createElement("div"),jn.textContent=this.data.fieldValue,jn.style.verticalAlign="middle",jn.style.display="table-cell";return this._setTextStyle(jn),this._setBackgroundColor(jn),this._setDefaultPropertiesFromJS(jn),this.container.append(jn),this.container}}class Sn extends wn{constructor($n){super($n,{isRenderable:$n.renderForms})}render(){const $n=this.annotationStorage,Gn=this.data,jn=Gn.id;let fr=$n.getValue(jn,{value:Gn.exportValue===Gn.fieldValue}).value;typeof fr=="string"&&(fr=fr!=="Off",$n.setValue(jn,{value:fr})),this.container.className="buttonWidgetAnnotation checkBox";const Xn=document.createElement("input");return dn.add(Xn),Xn.setAttribute("data-element-id",jn),Xn.disabled=Gn.readOnly,this._setRequired(Xn,this.data.required),Xn.type="checkbox",Xn.name=Gn.fieldName,fr&&Xn.setAttribute("checked",!0),Xn.setAttribute("exportValue",Gn.exportValue),Xn.tabIndex=on,Xn.addEventListener("change",Zn=>{const{name:pr,checked:Tr}=Zn.target;for(const xr of this._getElementsByName(pr,jn)){const Ur=Tr&&xr.exportValue===Gn.exportValue;xr.domElement&&(xr.domElement.checked=Ur),$n.setValue(xr.id,{value:Ur})}$n.setValue(jn,{value:Tr})}),Xn.addEventListener("resetform",Zn=>{const pr=Gn.defaultFieldValue||"Off";Zn.target.checked=pr===Gn.exportValue}),this.enableScripting&&this.hasJSActions&&(Xn.addEventListener("updatefromsandbox",Zn=>{const pr={value(Tr){Tr.target.checked=Tr.detail.value!=="Off",$n.setValue(jn,{value:Tr.target.checked})}};this._dispatchEventFromSandbox(pr,Zn)}),this._setEventListeners(Xn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zn=>Zn.target.checked)),this._setBackgroundColor(Xn),this._setDefaultPropertiesFromJS(Xn),this.container.append(Xn),this.container}}class xn extends wn{constructor($n){super($n,{isRenderable:$n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const $n=this.annotationStorage,Gn=this.data,jn=Gn.id;let fr=$n.getValue(jn,{value:Gn.fieldValue===Gn.buttonValue}).value;typeof fr=="string"&&(fr=fr!==Gn.buttonValue,$n.setValue(jn,{value:fr}));const Xn=document.createElement("input");if(dn.add(Xn),Xn.setAttribute("data-element-id",jn),Xn.disabled=Gn.readOnly,this._setRequired(Xn,this.data.required),Xn.type="radio",Xn.name=Gn.fieldName,fr&&Xn.setAttribute("checked",!0),Xn.tabIndex=on,Xn.addEventListener("change",Zn=>{const{name:pr,checked:Tr}=Zn.target;for(const xr of this._getElementsByName(pr,jn))$n.setValue(xr.id,{value:!1});$n.setValue(jn,{value:Tr})}),Xn.addEventListener("resetform",Zn=>{const pr=Gn.defaultFieldValue;Zn.target.checked=pr!=null&&pr===Gn.buttonValue}),this.enableScripting&&this.hasJSActions){const Zn=Gn.buttonValue;Xn.addEventListener("updatefromsandbox",pr=>{const Tr={value:xr=>{const Ur=Zn===xr.detail.value;for(const lr of this._getElementsByName(xr.target.name)){const Rr=Ur&&lr.id===jn;lr.domElement&&(lr.domElement.checked=Rr),$n.setValue(lr.id,{value:Rr})}}};this._dispatchEventFromSandbox(Tr,pr)}),this._setEventListeners(Xn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pr=>pr.target.checked)}return this._setBackgroundColor(Xn),this._setDefaultPropertiesFromJS(Xn),this.container.append(Xn),this.container}}class En extends yn{constructor($n){super($n,{ignoreBorder:$n.data.hasAppearance})}render(){const $n=super.render();$n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&($n.title=this.data.alternativeText);const Gn=$n.lastChild;return this.enableScripting&&this.hasJSActions&&Gn&&(this._setDefaultPropertiesFromJS(Gn),Gn.addEventListener("updatefromsandbox",jn=>{this._dispatchEventFromSandbox({},jn)})),$n}}class Cn extends wn{constructor($n){super($n,{isRenderable:$n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const $n=this.annotationStorage,Gn=this.data.id,jn=$n.getValue(Gn,{value:this.data.fieldValue}),fr=document.createElement("select");dn.add(fr),fr.setAttribute("data-element-id",Gn),fr.disabled=this.data.readOnly,this._setRequired(fr,this.data.required),fr.name=this.data.fieldName,fr.tabIndex=on;let Xn=this.data.combo&&this.data.options.length>0;this.data.combo||(fr.size=this.data.options.length,this.data.multiSelect&&(fr.multiple=!0)),fr.addEventListener("resetform",xr=>{const Ur=this.data.defaultFieldValue;for(const lr of fr.options)lr.selected=lr.value===Ur});for(const xr of this.data.options){const Ur=document.createElement("option");Ur.textContent=xr.displayValue,Ur.value=xr.exportValue,jn.value.includes(xr.exportValue)&&(Ur.setAttribute("selected",!0),Xn=!1),fr.append(Ur)}let Zn=null;if(Xn){const xr=document.createElement("option");xr.value=" ",xr.setAttribute("hidden",!0),xr.setAttribute("selected",!0),fr.prepend(xr),Zn=()=>{xr.remove(),fr.removeEventListener("input",Zn),Zn=null},fr.addEventListener("input",Zn)}const pr=(xr,Ur)=>{const lr=Ur?"value":"textContent",Rr=xr.target.options;return xr.target.multiple?Array.prototype.filter.call(Rr,zr=>zr.selected).map(zr=>zr[lr]):Rr.selectedIndex===-1?null:Rr[Rr.selectedIndex][lr]},Tr=xr=>{const Ur=xr.target.options;return Array.prototype.map.call(Ur,lr=>({displayValue:lr.textContent,exportValue:lr.value}))};return this.enableScripting&&this.hasJSActions?(fr.addEventListener("updatefromsandbox",xr=>{const Ur={value(lr){Zn==null||Zn();const Rr=lr.detail.value,zr=new Set(Array.isArray(Rr)?Rr:[Rr]);for(const qr of fr.options)qr.selected=zr.has(qr.value);$n.setValue(Gn,{value:pr(lr,!0)})},multipleSelection(lr){fr.multiple=!0},remove(lr){const Rr=fr.options,zr=lr.detail.remove;Rr[zr].selected=!1,fr.remove(zr),Rr.length>0&&Array.prototype.findIndex.call(Rr,Ar=>Ar.selected)===-1&&(Rr[0].selected=!0),$n.setValue(Gn,{value:pr(lr,!0),items:Tr(lr)})},clear(lr){for(;fr.length!==0;)fr.remove(0);$n.setValue(Gn,{value:null,items:[]})},insert(lr){const{index:Rr,displayValue:zr,exportValue:qr}=lr.detail.insert,Ar=fr.children[Rr],Hr=document.createElement("option");Hr.textContent=zr,Hr.value=qr,Ar?Ar.before(Hr):fr.append(Hr),$n.setValue(Gn,{value:pr(lr,!0),items:Tr(lr)})},items(lr){const{items:Rr}=lr.detail;for(;fr.length!==0;)fr.remove(0);for(const zr of Rr){const{displayValue:qr,exportValue:Ar}=zr,Hr=document.createElement("option");Hr.textContent=qr,Hr.value=Ar,fr.append(Hr)}fr.options.length>0&&(fr.options[0].selected=!0),$n.setValue(Gn,{value:pr(lr,!0),items:Tr(lr)})},indices(lr){const Rr=new Set(lr.detail.indices);for(const zr of lr.target.options)zr.selected=Rr.has(zr.index);$n.setValue(Gn,{value:pr(lr,!0)})},editable(lr){lr.target.disabled=!lr.detail.editable}};this._dispatchEventFromSandbox(Ur,xr)}),fr.addEventListener("input",xr=>{var Rr;const Ur=pr(xr,!0),lr=pr(xr,!1);$n.setValue(Gn,{value:Ur}),(Rr=this.linkService.eventBus)==null||Rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gn,name:"Keystroke",value:lr,changeEx:Ur,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(fr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],xr=>xr.target.checked)):fr.addEventListener("input",function(xr){$n.setValue(Gn,{value:pr(xr,!0)})}),this.data.combo&&this._setTextStyle(fr),this._setBackgroundColor(fr),this._setDefaultPropertiesFromJS(fr),this.container.append(fr),this.container}}const Un=class extends fn{constructor($n){var fr,Xn,Zn;const{data:Gn}=$n,jn=!Un.IGNORE_TYPES.has(Gn.parentType)&&!!(((fr=Gn.titleObj)==null?void 0:fr.str)||((Xn=Gn.contentsObj)==null?void 0:Xn.str)||((Zn=Gn.richText)==null?void 0:Zn.str));super($n,{isRenderable:jn})}render(){this.container.className="popupAnnotation";const $n=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if($n.length===0)return this.container;const Gn=new In({container:this.container,trigger:Array.from($n),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),jn=this.page,fr=tn.Util.normalizeRect([this.data.parentRect[0],jn.view[3]-this.data.parentRect[1]+jn.view[1],this.data.parentRect[2],jn.view[3]-this.data.parentRect[3]+jn.view[1]]),Xn=fr[0]+this.data.parentRect[2]-this.data.parentRect[0],Zn=fr[1],[pr,Tr,xr,Ur]=this.viewport.viewBox,lr=xr-pr,Rr=Ur-Tr;return this.container.style.left=`${100*(Xn-pr)/lr}%`,this.container.style.top=`${100*(Zn-Tr)/Rr}%`,this.container.append(Gn.render()),this.container}};let kn=Un;Do(kn,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class In{constructor($n){this.container=$n.container,this.trigger=$n.trigger,this.color=$n.color,this.titleObj=$n.titleObj,this.modificationDate=$n.modificationDate,this.contentsObj=$n.contentsObj,this.richText=$n.richText,this.hideWrapper=$n.hideWrapper||!1,this.pinned=!1}render(){var pr,Tr;const Gn=document.createElement("div");Gn.className="popupWrapper",this.hideElement=this.hideWrapper?Gn:this.container,this.hideElement.hidden=!0;const jn=document.createElement("div");jn.className="popup";const fr=this.color;if(fr){const xr=.7*(255-fr[0])+fr[0],Ur=.7*(255-fr[1])+fr[1],lr=.7*(255-fr[2])+fr[2];jn.style.backgroundColor=tn.Util.makeHexColor(xr|0,Ur|0,lr|0)}const Xn=document.createElement("h1");Xn.dir=this.titleObj.dir,Xn.textContent=this.titleObj.str,jn.append(Xn);const Zn=nn.PDFDateString.toDateObject(this.modificationDate);if(Zn){const xr=document.createElement("span");xr.className="popupDate",xr.textContent="{{date}}, {{time}}",xr.dataset.l10nId="annotation_date_string",xr.dataset.l10nArgs=JSON.stringify({date:Zn.toLocaleDateString(),time:Zn.toLocaleTimeString()}),jn.append(xr)}if(((pr=this.richText)==null?void 0:pr.str)&&(!((Tr=this.contentsObj)!=null&&Tr.str)||this.contentsObj.str===this.richText.str))an.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:jn}),jn.lastChild.className="richText popupContent";else{const xr=this._formatContents(this.contentsObj);jn.append(xr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const xr of this.trigger)xr.addEventListener("click",this._toggle.bind(this)),xr.addEventListener("mouseover",this._show.bind(this,!1)),xr.addEventListener("mouseout",this._hide.bind(this,!1));return jn.addEventListener("click",this._hide.bind(this,!0)),Gn.append(jn),Gn}_formatContents({str:$n,dir:Gn}){const jn=document.createElement("p");jn.className="popupContent",jn.dir=Gn;const fr=$n.split(/(?:\r\n?|\n)/);for(let Xn=0,Zn=fr.length;Xn<Zn;++Xn){const pr=fr[Xn];jn.append(document.createTextNode(pr)),Xn<Zn-1&&jn.append(document.createElement("br"))}return jn}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show($n=!1){$n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide($n=!0){$n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Dn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0}),this.textContent=$n.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const $n=document.createElement("div");$n.className="annotationTextContent",$n.setAttribute("role","comment");for(const Gn of this.textContent){const jn=document.createElement("span");jn.textContent=Gn,$n.append(jn)}this.container.append($n)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Wn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const $n=this.data,{width:Gn,height:jn}=mn($n.rect),fr=this.svgFactory.create(Gn,jn,!0),Xn=this.svgFactory.createElement("svg:line");return Xn.setAttribute("x1",$n.rect[2]-$n.lineCoordinates[0]),Xn.setAttribute("y1",$n.rect[3]-$n.lineCoordinates[1]),Xn.setAttribute("x2",$n.rect[2]-$n.lineCoordinates[2]),Xn.setAttribute("y2",$n.rect[3]-$n.lineCoordinates[3]),Xn.setAttribute("stroke-width",$n.borderStyle.width||1),Xn.setAttribute("stroke","transparent"),Xn.setAttribute("fill","transparent"),fr.append(Xn),this.container.append(fr),this._createPopup(Xn,$n),this.container}}class Vn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const $n=this.data,{width:Gn,height:jn}=mn($n.rect),fr=this.svgFactory.create(Gn,jn,!0),Xn=$n.borderStyle.width,Zn=this.svgFactory.createElement("svg:rect");return Zn.setAttribute("x",Xn/2),Zn.setAttribute("y",Xn/2),Zn.setAttribute("width",Gn-Xn),Zn.setAttribute("height",jn-Xn),Zn.setAttribute("stroke-width",Xn||1),Zn.setAttribute("stroke","transparent"),Zn.setAttribute("fill","transparent"),fr.append(Zn),this.container.append(fr),this._createPopup(Zn,$n),this.container}}class On extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const $n=this.data,{width:Gn,height:jn}=mn($n.rect),fr=this.svgFactory.create(Gn,jn,!0),Xn=$n.borderStyle.width,Zn=this.svgFactory.createElement("svg:ellipse");return Zn.setAttribute("cx",Gn/2),Zn.setAttribute("cy",jn/2),Zn.setAttribute("rx",Gn/2-Xn/2),Zn.setAttribute("ry",jn/2-Xn/2),Zn.setAttribute("stroke-width",Xn||1),Zn.setAttribute("stroke","transparent"),Zn.setAttribute("fill","transparent"),fr.append(Zn),this.container.append(fr),this._createPopup(Zn,$n),this.container}}class zn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const $n=this.data,{width:Gn,height:jn}=mn($n.rect),fr=this.svgFactory.create(Gn,jn,!0);let Xn=[];for(const pr of $n.vertices){const Tr=pr.x-$n.rect[0],xr=$n.rect[3]-pr.y;Xn.push(Tr+","+xr)}Xn=Xn.join(" ");const Zn=this.svgFactory.createElement(this.svgElementName);return Zn.setAttribute("points",Xn),Zn.setAttribute("stroke-width",$n.borderStyle.width||1),Zn.setAttribute("stroke","transparent"),Zn.setAttribute("fill","transparent"),fr.append(Zn),this.container.append(fr),this._createPopup(Zn,$n),this.container}}class nr extends zn{constructor($n){super($n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ar extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const $n=this.data,{width:Gn,height:jn}=mn($n.rect),fr=this.svgFactory.create(Gn,jn,!0);for(const Xn of $n.inkLists){let Zn=[];for(const Tr of Xn){const xr=Tr.x-$n.rect[0],Ur=$n.rect[3]-Tr.y;Zn.push(`${xr},${Ur}`)}Zn=Zn.join(" ");const pr=this.svgFactory.createElement(this.svgElementName);pr.setAttribute("points",Zn),pr.setAttribute("stroke-width",$n.borderStyle.width||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),this._createPopup(pr,$n),fr.append(pr)}return this.container.append(fr),this.container}}class tr extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class dr extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Jn extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class hr extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class yr extends fn{constructor($n){var jn,fr,Xn;const Gn=!!($n.data.hasPopup||((jn=$n.data.titleObj)==null?void 0:jn.str)||((fr=$n.data.contentsObj)==null?void 0:fr.str)||((Xn=$n.data.richText)==null?void 0:Xn.str));super($n,{isRenderable:Gn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Mr extends fn{constructor($n){var fr;super($n,{isRenderable:!0});const{filename:Gn,content:jn}=this.data.file;this.filename=(0,nn.getFilenameFromUrl)(Gn),this.content=jn,(fr=this.linkService.eventBus)==null||fr.dispatch("fileattachmentannotation",{source:this,filename:Gn,content:jn})}render(){var Gn,jn;this.container.className="fileAttachmentAnnotation";const $n=document.createElement("div");return $n.className="popupTriggerArea",$n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((Gn=this.data.titleObj)==null?void 0:Gn.str)||((jn=this.data.contentsObj)==null?void 0:jn.str)||this.data.richText)&&this._createPopup($n,this.data),this.container.append($n),this.container}_download(){var $n;($n=this.downloadManager)==null||$n.openOrDownloadData(this.container,this.content,this.filename)}}const Er=class{static render($n){var pr,Tr;const{annotations:Gn,div:jn,viewport:fr,accessibilityManager:Xn}=$n;ss(this,sr,I1).call(this,jn,fr);let Zn=0;for(const xr of Gn){if(xr.annotationType!==tn.AnnotationType.POPUP){const{width:lr,height:Rr}=mn(xr.rect);if(lr<=0||Rr<=0)continue}const Ur=pn.create({data:xr,layer:jn,page:$n.page,viewport:fr,linkService:$n.linkService,downloadManager:$n.downloadManager,imageResourcesPath:$n.imageResourcesPath||"",renderForms:$n.renderForms!==!1,svgFactory:new nn.DOMSVGFactory,annotationStorage:$n.annotationStorage||new rn.AnnotationStorage,enableScripting:$n.enableScripting,hasJSActions:$n.hasJSActions,fieldObjects:$n.fieldObjects,mouseState:$n.mouseState||{isDown:!1}});if(Ur.isRenderable){const lr=Ur.render();if(xr.hidden&&(lr.style.visibility="hidden"),Array.isArray(lr))for(const Rr of lr)Rr.style.zIndex=Zn++,ss(pr=Er,qn,O1).call(pr,Rr,xr.id,jn,Xn);else lr.style.zIndex=Zn++,Ur instanceof kn?jn.prepend(lr):ss(Tr=Er,qn,O1).call(Tr,lr,xr.id,jn,Xn)}}ss(this,br,j1).call(this,jn,$n.annotationCanvasMap)}static update($n){const{annotationCanvasMap:Gn,div:jn,viewport:fr}=$n;ss(this,sr,I1).call(this,jn,fr),ss(this,br,j1).call(this,jn,Gn),jn.hidden=!1}};let Mn=Er;qn=new WeakSet,O1=function($n,Gn,jn,fr){const Xn=$n.firstChild||$n;Xn.id=`${nn.AnnotationPrefix}${Gn}`,jn.append($n),fr==null||fr.moveElementInDOM(jn,$n,Xn,!1)},sr=new WeakSet,I1=function($n,{width:Gn,height:jn,rotation:fr}){const{style:Xn}=$n,Zn=fr%180!==0,pr=Math.floor(Gn)+"px",Tr=Math.floor(jn)+"px";Xn.width=Zn?Tr:pr,Xn.height=Zn?pr:Tr,$n.setAttribute("data-main-rotation",fr)},br=new WeakSet,j1=function($n,Gn){if(!!Gn){for(const[jn,fr]of Gn){const Xn=$n.querySelector(`[data-annotation-id="${jn}"]`);if(!Xn)continue;const{firstChild:Zn}=Xn;Zn?Zn.nodeName==="CANVAS"?Zn.replaceWith(fr):Zn.before(fr):Xn.append(fr)}Gn.clear()}},Jr(Mn,qn),Jr(Mn,sr),Jr(Mn,br),_e.AnnotationLayer=Mn},(St,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function en(nn){return Math.floor(Math.max(0,Math.min(1,nn))*255).toString(16).padStart(2,"0")}class tn{static CMYK_G([rn,sn,an,on]){return["G",1-Math.min(1,.3*rn+.59*an+.11*sn+on)]}static G_CMYK([rn]){return["CMYK",0,0,0,1-rn]}static G_RGB([rn]){return["RGB",rn,rn,rn]}static G_HTML([rn]){const sn=en(rn);return`#${sn}${sn}${sn}`}static RGB_G([rn,sn,an]){return["G",.3*rn+.59*sn+.11*an]}static RGB_HTML([rn,sn,an]){const on=en(rn),cn=en(sn),dn=en(an);return`#${on}${cn}${dn}`}static T_HTML(){return"#00000000"}static CMYK_RGB([rn,sn,an,on]){return["RGB",1-Math.min(1,rn+on),1-Math.min(1,an+on),1-Math.min(1,sn+on)]}static CMYK_HTML(rn){const sn=this.CMYK_RGB(rn).slice(1);return this.RGB_HTML(sn)}static RGB_CMYK([rn,sn,an]){const on=1-rn,cn=1-sn,dn=1-an,mn=Math.min(on,cn,dn);return["CMYK",on,cn,dn,mn]}}_e.ColorConverters=tn},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var tn=en(19);class nn{static setupStorage(sn,an,on,cn,dn){const mn=cn.getValue(an,{value:null});switch(on.name){case"textarea":if(mn.value!==null&&(sn.textContent=mn.value),dn==="print")break;sn.addEventListener("input",pn=>{cn.setValue(an,{value:pn.target.value})});break;case"input":if(on.attributes.type==="radio"||on.attributes.type==="checkbox"){if(mn.value===on.attributes.xfaOn?sn.setAttribute("checked",!0):mn.value===on.attributes.xfaOff&&sn.removeAttribute("checked"),dn==="print")break;sn.addEventListener("change",pn=>{cn.setValue(an,{value:pn.target.checked?pn.target.getAttribute("xfaOn"):pn.target.getAttribute("xfaOff")})})}else{if(mn.value!==null&&sn.setAttribute("value",mn.value),dn==="print")break;sn.addEventListener("input",pn=>{cn.setValue(an,{value:pn.target.value})})}break;case"select":if(mn.value!==null)for(const pn of on.children)pn.attributes.value===mn.value&&(pn.attributes.selected=!0);sn.addEventListener("input",pn=>{const fn=pn.target.options,yn=fn.selectedIndex===-1?"":fn[fn.selectedIndex].value;cn.setValue(an,{value:yn})});break}}static setAttributes({html:sn,element:an,storage:on=null,intent:cn,linkService:dn}){const{attributes:mn}=an,pn=sn instanceof HTMLAnchorElement;mn.type==="radio"&&(mn.name=`${mn.name}-${cn}`);for(const[fn,yn]of Object.entries(mn))if(yn!=null)switch(fn){case"class":yn.length&&sn.setAttribute(fn,yn.join(" "));break;case"dataId":break;case"id":sn.setAttribute("data-element-id",yn);break;case"style":Object.assign(sn.style,yn);break;case"textContent":sn.textContent=yn;break;default:(!pn||fn!=="href"&&fn!=="newWindow")&&sn.setAttribute(fn,yn)}pn&&dn.addLinkAttributes(sn,mn.href,mn.newWindow),on&&mn.dataId&&this.setupStorage(sn,mn.dataId,an,on)}static render(sn){var bn;const an=sn.annotationStorage,on=sn.linkService,cn=sn.xfaHtml,dn=sn.intent||"display",mn=document.createElement(cn.name);cn.attributes&&this.setAttributes({html:mn,element:cn,intent:dn,linkService:on});const pn=[[cn,-1,mn]],fn=sn.div;if(fn.append(mn),sn.viewport){const wn=`matrix(${sn.viewport.transform.join(",")})`;fn.style.transform=wn}dn!=="richText"&&fn.setAttribute("class","xfaLayer xfaFont");const yn=[];for(;pn.length>0;){const[wn,vn,Sn]=pn.at(-1);if(vn+1===wn.children.length){pn.pop();continue}const xn=wn.children[++pn.at(-1)[1]];if(xn===null)continue;const{name:En}=xn;if(En==="#text"){const kn=document.createTextNode(xn.value);yn.push(kn),Sn.append(kn);continue}let Cn;if((bn=xn==null?void 0:xn.attributes)!=null&&bn.xmlns?Cn=document.createElementNS(xn.attributes.xmlns,En):Cn=document.createElement(En),Sn.append(Cn),xn.attributes&&this.setAttributes({html:Cn,element:xn,storage:an,intent:dn,linkService:on}),xn.children&&xn.children.length>0)pn.push([xn,-1,Cn]);else if(xn.value){const kn=document.createTextNode(xn.value);tn.XfaText.shouldBuildText(En)&&yn.push(kn),Cn.append(kn)}}for(const wn of fn.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))wn.setAttribute("readOnly",!0);return{textDivs:yn}}static update(sn){const an=`matrix(${sn.viewport.transform.join(",")})`;sn.div.style.transform=an,sn.div.hidden=!1}}_e.XfaLayer=nn},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextLayerRenderTask=void 0,_e.renderTextLayer=pn;var tn=en(1);const nn=1e5,rn=30,sn=.8,an=new Map;function on(fn,yn){const bn=an.get(fn);if(bn)return bn;yn.save(),yn.font=`${rn}px ${fn}`;const wn=yn.measureText("");let vn=wn.fontBoundingBoxAscent,Sn=Math.abs(wn.fontBoundingBoxDescent);if(vn){yn.restore();const En=vn/(vn+Sn);return an.set(fn,En),En}yn.strokeStyle="red",yn.clearRect(0,0,rn,rn),yn.strokeText("g",0,0);let xn=yn.getImageData(0,0,rn,rn).data;Sn=0;for(let En=xn.length-1-3;En>=0;En-=4)if(xn[En]>0){Sn=Math.ceil(En/4/rn);break}yn.clearRect(0,0,rn,rn),yn.strokeText("A",0,rn),xn=yn.getImageData(0,0,rn,rn).data,vn=0;for(let En=0,Cn=xn.length;En<Cn;En+=4)if(xn[En]>0){vn=rn-Math.floor(En/4/rn);break}if(yn.restore(),vn){const En=vn/(vn+Sn);return an.set(fn,En),En}return an.set(fn,sn),sn}function cn(fn,yn,bn,wn){const vn=document.createElement("span"),Sn={angle:0,canvasWidth:0,hasText:yn.str!=="",hasEOL:yn.hasEOL,fontSize:0};fn._textDivs.push(vn);const xn=tn.Util.transform(fn._viewport.transform,yn.transform);let En=Math.atan2(xn[1],xn[0]);const Cn=bn[yn.fontName];Cn.vertical&&(En+=Math.PI/2);const kn=Math.hypot(xn[2],xn[3]),In=kn*on(Cn.fontFamily,wn);let Dn,Wn;En===0?(Dn=xn[4],Wn=xn[5]-In):(Dn=xn[4]+In*Math.sin(En),Wn=xn[5]-In*Math.cos(En)),vn.style.left=`${Dn}px`,vn.style.top=`${Wn}px`,vn.style.fontSize=`${kn}px`,vn.style.fontFamily=Cn.fontFamily,Sn.fontSize=kn,vn.setAttribute("role","presentation"),vn.textContent=yn.str,vn.dir=yn.dir,fn._fontInspectorEnabled&&(vn.dataset.fontName=yn.fontName),En!==0&&(Sn.angle=En*(180/Math.PI));let Vn=!1;if(yn.str.length>1)Vn=!0;else if(yn.str!==" "&&yn.transform[0]!==yn.transform[3]){const On=Math.abs(yn.transform[0]),zn=Math.abs(yn.transform[3]);On!==zn&&Math.max(On,zn)/Math.min(On,zn)>1.5&&(Vn=!0)}Vn&&(Cn.vertical?Sn.canvasWidth=yn.height*fn._viewport.scale:Sn.canvasWidth=yn.width*fn._viewport.scale),fn._textDivProperties.set(vn,Sn),fn._textContentStream&&fn._layoutText(vn)}function dn(fn){if(fn._canceled)return;const yn=fn._textDivs,bn=fn._capability;if(yn.length>nn){fn._renderingDone=!0,bn.resolve();return}if(!fn._textContentStream)for(const vn of yn)fn._layoutText(vn);fn._renderingDone=!0,bn.resolve()}class mn{constructor({textContent:yn,textContentStream:bn,container:wn,viewport:vn,textDivs:Sn,textContentItemsStr:xn}){var En;this._textContent=yn,this._textContentStream=bn,this._container=wn,this._document=wn.ownerDocument,this._viewport=vn,this._textDivs=Sn||[],this._textContentItemsStr=xn||[],this._fontInspectorEnabled=!!((En=globalThis.FontInspector)!=null&&En.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,tn.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tn.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(yn,bn){for(const wn of yn){if(wn.str===void 0){if(wn.type==="beginMarkedContentProps"||wn.type==="beginMarkedContent"){const vn=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),wn.id!==null&&this._container.setAttribute("id",`${wn.id}`),vn.append(this._container)}else wn.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(wn.str),cn(this,wn,bn,this._layoutTextCtx)}}_layoutText(yn){const bn=this._textDivProperties.get(yn);let wn="";if(bn.canvasWidth!==0&&bn.hasText){const{fontFamily:vn}=yn.style,{fontSize:Sn}=bn;(Sn!==this._layoutTextLastFontSize||vn!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${Sn*this._devicePixelRatio}px ${vn}`,this._layoutTextLastFontSize=Sn,this._layoutTextLastFontFamily=vn);const{width:xn}=this._layoutTextCtx.measureText(yn.textContent);xn>0&&(wn=`scaleX(${this._devicePixelRatio*bn.canvasWidth/xn})`)}if(bn.angle!==0&&(wn=`rotate(${bn.angle}deg) ${wn}`),wn.length>0&&(yn.style.transform=wn),bn.hasText&&this._container.append(yn),bn.hasEOL){const vn=document.createElement("br");vn.setAttribute("role","presentation"),this._container.append(vn)}}_render(yn=0){const bn=(0,tn.createPromiseCapability)();let wn=Object.create(null);const vn=this._document.createElement("canvas");if(vn.height=vn.width=rn,this._layoutTextCtx=vn.getContext("2d",{alpha:!1}),this._textContent){const Sn=this._textContent.items,xn=this._textContent.styles;this._processItems(Sn,xn),bn.resolve()}else if(this._textContentStream){const Sn=()=>{this._reader.read().then(({value:xn,done:En})=>{if(En){bn.resolve();return}Object.assign(wn,xn.styles),this._processItems(xn.items,wn),Sn()},bn.reject)};this._reader=this._textContentStream.getReader(),Sn()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');bn.promise.then(()=>{wn=null,yn?this._renderTimer=setTimeout(()=>{dn(this),this._renderTimer=null},yn):dn(this)},this._capability.reject)}}_e.TextLayerRenderTask=mn;function pn(fn){const yn=new mn({textContent:fn.textContent,textContentStream:fn.textContentStream,container:fn.container,viewport:fn.viewport,textDivs:fn.textDivs,textContentItemsStr:fn.textContentItemsStr});return yn._render(fn.timeout),yn}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var tn=en(6),nn=en(1),rn=en(12);let sn=class{constructor(){(0,nn.unreachable)("Not implemented: SVGGraphics")}};_e.SVGGraphics=sn;{let bn=function(Cn){let kn=[];const In=[];for(const Dn of Cn){if(Dn.fn==="save"){kn.push({fnId:92,fn:"group",items:[]}),In.push(kn),kn=kn.at(-1).items;continue}Dn.fn==="restore"?kn=In.pop():kn.push(Dn)}return kn},wn=function(Cn){if(Number.isInteger(Cn))return Cn.toString();const kn=Cn.toFixed(10);let In=kn.length-1;if(kn[In]!=="0")return kn;do In--;while(kn[In]==="0");return kn.substring(0,kn[In]==="."?In:In+1)},vn=function(Cn){if(Cn[4]===0&&Cn[5]===0){if(Cn[1]===0&&Cn[2]===0)return Cn[0]===1&&Cn[3]===1?"":`scale(${wn(Cn[0])} ${wn(Cn[3])})`;if(Cn[0]===Cn[3]&&Cn[1]===-Cn[2]){const kn=Math.acos(Cn[0])*180/Math.PI;return`rotate(${wn(kn)})`}}else if(Cn[0]===1&&Cn[1]===0&&Cn[2]===0&&Cn[3]===1)return`translate(${wn(Cn[4])} ${wn(Cn[5])})`;return`matrix(${wn(Cn[0])} ${wn(Cn[1])} ${wn(Cn[2])} ${wn(Cn[3])} ${wn(Cn[4])} ${wn(Cn[5])})`};const an={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},on="http://www.w3.org/XML/1998/namespace",cn="http://www.w3.org/1999/xlink",dn=["butt","round","square"],mn=["miter","round","bevel"],pn=function(Cn,kn="",In=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!In)return URL.createObjectURL(new Blob([Cn],{type:kn}));const Dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Wn=`data:${kn};base64,`;for(let Vn=0,On=Cn.length;Vn<On;Vn+=3){const zn=Cn[Vn]&255,nr=Cn[Vn+1]&255,Yn=Cn[Vn+2]&255,ar=zn>>2,tr=(zn&3)<<4|nr>>4,dr=Vn+1<On?(nr&15)<<2|Yn>>6:64,Jn=Vn+2<On?Yn&63:64;Wn+=Dn[ar]+Dn[tr]+Dn[dr]+Dn[Jn]}return Wn},fn=function(){const Cn=new Uint8Array([137,80,78,71,13,10,26,10]),kn=12,In=new Int32Array(256);for(let Yn=0;Yn<256;Yn++){let ar=Yn;for(let tr=0;tr<8;tr++)ar&1?ar=3988292384^ar>>1&2147483647:ar=ar>>1&2147483647;In[Yn]=ar}function Dn(Yn,ar,tr){let dr=-1;for(let Jn=ar;Jn<tr;Jn++){const hr=(dr^Yn[Jn])&255,yr=In[hr];dr=dr>>>8^yr}return dr^-1}function Wn(Yn,ar,tr,dr){let Jn=dr;const hr=ar.length;tr[Jn]=hr>>24&255,tr[Jn+1]=hr>>16&255,tr[Jn+2]=hr>>8&255,tr[Jn+3]=hr&255,Jn+=4,tr[Jn]=Yn.charCodeAt(0)&255,tr[Jn+1]=Yn.charCodeAt(1)&255,tr[Jn+2]=Yn.charCodeAt(2)&255,tr[Jn+3]=Yn.charCodeAt(3)&255,Jn+=4,tr.set(ar,Jn),Jn+=ar.length;const yr=Dn(tr,dr+4,Jn);tr[Jn]=yr>>24&255,tr[Jn+1]=yr>>16&255,tr[Jn+2]=yr>>8&255,tr[Jn+3]=yr&255}function Vn(Yn,ar,tr){let dr=1,Jn=0;for(let hr=ar;hr<tr;++hr)dr=(dr+(Yn[hr]&255))%65521,Jn=(Jn+dr)%65521;return Jn<<16|dr}function On(Yn){if(!rn.isNodeJS)return zn(Yn);try{let ar;parseInt(process.versions.node)>=8?ar=Yn:ar=Buffer.from(Yn);const tr=require$$5.deflateSync(ar,{level:9});return tr instanceof Uint8Array?tr:new Uint8Array(tr)}catch(ar){(0,nn.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ar)}return zn(Yn)}function zn(Yn){let ar=Yn.length;const tr=65535,dr=Math.ceil(ar/tr),Jn=new Uint8Array(2+ar+dr*5+4);let hr=0;Jn[hr++]=120,Jn[hr++]=156;let yr=0;for(;ar>tr;)Jn[hr++]=0,Jn[hr++]=255,Jn[hr++]=255,Jn[hr++]=0,Jn[hr++]=0,Jn.set(Yn.subarray(yr,yr+tr),hr),hr+=tr,yr+=tr,ar-=tr;Jn[hr++]=1,Jn[hr++]=ar&255,Jn[hr++]=ar>>8&255,Jn[hr++]=~ar&65535&255,Jn[hr++]=(~ar&65535)>>8&255,Jn.set(Yn.subarray(yr),hr),hr+=Yn.length-yr;const Mr=Vn(Yn,0,Yn.length);return Jn[hr++]=Mr>>24&255,Jn[hr++]=Mr>>16&255,Jn[hr++]=Mr>>8&255,Jn[hr++]=Mr&255,Jn}function nr(Yn,ar,tr,dr){const Jn=Yn.width,hr=Yn.height;let yr,Mr,Mn;const Fn=Yn.data;switch(ar){case nn.ImageKind.GRAYSCALE_1BPP:Mr=0,yr=1,Mn=Jn+7>>3;break;case nn.ImageKind.RGB_24BPP:Mr=2,yr=8,Mn=Jn*3;break;case nn.ImageKind.RGBA_32BPP:Mr=6,yr=8,Mn=Jn*4;break;default:throw new Error("invalid format")}const Nn=new Uint8Array((1+Mn)*hr);let Un=0,qn=0;for(let Er=0;Er<hr;++Er)Nn[Un++]=0,Nn.set(Fn.subarray(qn,qn+Mn),Un),qn+=Mn,Un+=Mn;if(ar===nn.ImageKind.GRAYSCALE_1BPP&&dr){Un=0;for(let Er=0;Er<hr;Er++){Un++;for(let Pr=0;Pr<Mn;Pr++)Nn[Un++]^=255}}const er=new Uint8Array([Jn>>24&255,Jn>>16&255,Jn>>8&255,Jn&255,hr>>24&255,hr>>16&255,hr>>8&255,hr&255,yr,Mr,0,0,0]),sr=On(Nn),ur=Cn.length+kn*3+er.length+sr.length,br=new Uint8Array(ur);let kr=0;return br.set(Cn,kr),kr+=Cn.length,Wn("IHDR",er,br,kr),kr+=kn+er.length,Wn("IDATA",sr,br,kr),kr+=kn+sr.length,Wn("IEND",new Uint8Array(0),br,kr),pn(br,"image/png",tr)}return function(ar,tr,dr){const Jn=ar.kind===void 0?nn.ImageKind.GRAYSCALE_1BPP:ar.kind;return nr(ar,Jn,tr,dr)}}();class yn{constructor(){this.fontSizeScale=1,this.fontWeight=an.fontWeight,this.fontSize=0,this.textMatrix=nn.IDENTITY_MATRIX,this.fontMatrix=nn.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nn.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=an.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(kn,In){this.x=kn,this.y=In}}let Sn=0,xn=0,En=0;_e.SVGGraphics=sn=class{constructor(Cn,kn,In=!1){(0,tn.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tn.DOMSVGFactory,this.current=new yn,this.transformMatrix=nn.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Cn,this.objs=kn,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!In,this._operatorIdMapping=[];for(const Dn in nn.OPS)this._operatorIdMapping[nn.OPS[Dn]]=Dn}getObject(Cn,kn=null){return typeof Cn=="string"?Cn.startsWith("g_")?this.commonObjs.get(Cn):this.objs.get(Cn):kn}save(){this.transformStack.push(this.transformMatrix);const Cn=this.current;this.extraStack.push(Cn),this.current=Cn.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Cn){this.save(),this.executeOpTree(Cn),this.restore()}loadDependencies(Cn){const kn=Cn.fnArray,In=Cn.argsArray;for(let Dn=0,Wn=kn.length;Dn<Wn;Dn++)if(kn[Dn]===nn.OPS.dependency)for(const Vn of In[Dn]){const On=Vn.startsWith("g_")?this.commonObjs:this.objs,zn=new Promise(nr=>{On.get(Vn,nr)});this.current.dependencies.push(zn)}return Promise.all(this.current.dependencies)}transform(Cn,kn,In,Dn,Wn,Vn){const On=[Cn,kn,In,Dn,Wn,Vn];this.transformMatrix=nn.Util.transform(this.transformMatrix,On),this.tgrp=null}getSVG(Cn,kn){this.viewport=kn;const In=this._initialize(kn);return this.loadDependencies(Cn).then(()=>(this.transformMatrix=nn.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Cn)),In))}convertOpList(Cn){const kn=this._operatorIdMapping,In=Cn.argsArray,Dn=Cn.fnArray,Wn=[];for(let Vn=0,On=Dn.length;Vn<On;Vn++){const zn=Dn[Vn];Wn.push({fnId:zn,fn:kn[zn],args:In[Vn]})}return bn(Wn)}executeOpTree(Cn){for(const kn of Cn){const In=kn.fn,Dn=kn.fnId,Wn=kn.args;switch(Dn|0){case nn.OPS.beginText:this.beginText();break;case nn.OPS.dependency:break;case nn.OPS.setLeading:this.setLeading(Wn);break;case nn.OPS.setLeadingMoveText:this.setLeadingMoveText(Wn[0],Wn[1]);break;case nn.OPS.setFont:this.setFont(Wn);break;case nn.OPS.showText:this.showText(Wn[0]);break;case nn.OPS.showSpacedText:this.showText(Wn[0]);break;case nn.OPS.endText:this.endText();break;case nn.OPS.moveText:this.moveText(Wn[0],Wn[1]);break;case nn.OPS.setCharSpacing:this.setCharSpacing(Wn[0]);break;case nn.OPS.setWordSpacing:this.setWordSpacing(Wn[0]);break;case nn.OPS.setHScale:this.setHScale(Wn[0]);break;case nn.OPS.setTextMatrix:this.setTextMatrix(Wn[0],Wn[1],Wn[2],Wn[3],Wn[4],Wn[5]);break;case nn.OPS.setTextRise:this.setTextRise(Wn[0]);break;case nn.OPS.setTextRenderingMode:this.setTextRenderingMode(Wn[0]);break;case nn.OPS.setLineWidth:this.setLineWidth(Wn[0]);break;case nn.OPS.setLineJoin:this.setLineJoin(Wn[0]);break;case nn.OPS.setLineCap:this.setLineCap(Wn[0]);break;case nn.OPS.setMiterLimit:this.setMiterLimit(Wn[0]);break;case nn.OPS.setFillRGBColor:this.setFillRGBColor(Wn[0],Wn[1],Wn[2]);break;case nn.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Wn[0],Wn[1],Wn[2]);break;case nn.OPS.setStrokeColorN:this.setStrokeColorN(Wn);break;case nn.OPS.setFillColorN:this.setFillColorN(Wn);break;case nn.OPS.shadingFill:this.shadingFill(Wn[0]);break;case nn.OPS.setDash:this.setDash(Wn[0],Wn[1]);break;case nn.OPS.setRenderingIntent:this.setRenderingIntent(Wn[0]);break;case nn.OPS.setFlatness:this.setFlatness(Wn[0]);break;case nn.OPS.setGState:this.setGState(Wn[0]);break;case nn.OPS.fill:this.fill();break;case nn.OPS.eoFill:this.eoFill();break;case nn.OPS.stroke:this.stroke();break;case nn.OPS.fillStroke:this.fillStroke();break;case nn.OPS.eoFillStroke:this.eoFillStroke();break;case nn.OPS.clip:this.clip("nonzero");break;case nn.OPS.eoClip:this.clip("evenodd");break;case nn.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nn.OPS.paintImageXObject:this.paintImageXObject(Wn[0]);break;case nn.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Wn[0]);break;case nn.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Wn[0]);break;case nn.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Wn[0],Wn[1]);break;case nn.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nn.OPS.closePath:this.closePath();break;case nn.OPS.closeStroke:this.closeStroke();break;case nn.OPS.closeFillStroke:this.closeFillStroke();break;case nn.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nn.OPS.nextLine:this.nextLine();break;case nn.OPS.transform:this.transform(Wn[0],Wn[1],Wn[2],Wn[3],Wn[4],Wn[5]);break;case nn.OPS.constructPath:this.constructPath(Wn[0],Wn[1]);break;case nn.OPS.endPath:this.endPath();break;case 92:this.group(kn.items);break;default:(0,nn.warn)(`Unimplemented operator ${In}`);break}}}setWordSpacing(Cn){this.current.wordSpacing=Cn}setCharSpacing(Cn){this.current.charSpacing=Cn}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Cn,kn,In,Dn,Wn,Vn){const On=this.current;On.textMatrix=On.lineMatrix=[Cn,kn,In,Dn,Wn,Vn],On.textMatrixScale=Math.hypot(Cn,kn),On.x=On.lineX=0,On.y=On.lineY=0,On.xcoords=[],On.ycoords=[],On.tspan=this.svgFactory.createElement("svg:tspan"),On.tspan.setAttributeNS(null,"font-family",On.fontFamily),On.tspan.setAttributeNS(null,"font-size",`${wn(On.fontSize)}px`),On.tspan.setAttributeNS(null,"y",wn(-On.y)),On.txtElement=this.svgFactory.createElement("svg:text"),On.txtElement.append(On.tspan)}beginText(){const Cn=this.current;Cn.x=Cn.lineX=0,Cn.y=Cn.lineY=0,Cn.textMatrix=nn.IDENTITY_MATRIX,Cn.lineMatrix=nn.IDENTITY_MATRIX,Cn.textMatrixScale=1,Cn.tspan=this.svgFactory.createElement("svg:tspan"),Cn.txtElement=this.svgFactory.createElement("svg:text"),Cn.txtgrp=this.svgFactory.createElement("svg:g"),Cn.xcoords=[],Cn.ycoords=[]}moveText(Cn,kn){const In=this.current;In.x=In.lineX+=Cn,In.y=In.lineY+=kn,In.xcoords=[],In.ycoords=[],In.tspan=this.svgFactory.createElement("svg:tspan"),In.tspan.setAttributeNS(null,"font-family",In.fontFamily),In.tspan.setAttributeNS(null,"font-size",`${wn(In.fontSize)}px`),In.tspan.setAttributeNS(null,"y",wn(-In.y))}showText(Cn){const kn=this.current,In=kn.font,Dn=kn.fontSize;if(Dn===0)return;const Wn=kn.fontSizeScale,Vn=kn.charSpacing,On=kn.wordSpacing,zn=kn.fontDirection,nr=kn.textHScale*zn,Yn=In.vertical,ar=Yn?1:-1,tr=In.defaultVMetrics,dr=Dn*kn.fontMatrix[0];let Jn=0;for(const Mr of Cn){if(Mr===null){Jn+=zn*On;continue}else if(typeof Mr=="number"){Jn+=ar*Mr*Dn/1e3;continue}const Mn=(Mr.isSpace?On:0)+Vn,Fn=Mr.fontChar;let Nn,Un,qn=Mr.width;if(Yn){let sr;const ur=Mr.vmetric||tr;sr=Mr.vmetric?ur[1]:qn*.5,sr=-sr*dr;const br=ur[2]*dr;qn=ur?-ur[0]:qn,Nn=sr/Wn,Un=(Jn+br)/Wn}else Nn=Jn/Wn,Un=0;(Mr.isInFont||In.missingFile)&&(kn.xcoords.push(kn.x+Nn),Yn&&kn.ycoords.push(-kn.y+Un),kn.tspan.textContent+=Fn);let er;Yn?er=qn*dr-Mn*zn:er=qn*dr+Mn*zn,Jn+=er}kn.tspan.setAttributeNS(null,"x",kn.xcoords.map(wn).join(" ")),Yn?kn.tspan.setAttributeNS(null,"y",kn.ycoords.map(wn).join(" ")):kn.tspan.setAttributeNS(null,"y",wn(-kn.y)),Yn?kn.y-=Jn:kn.x+=Jn*nr,kn.tspan.setAttributeNS(null,"font-family",kn.fontFamily),kn.tspan.setAttributeNS(null,"font-size",`${wn(kn.fontSize)}px`),kn.fontStyle!==an.fontStyle&&kn.tspan.setAttributeNS(null,"font-style",kn.fontStyle),kn.fontWeight!==an.fontWeight&&kn.tspan.setAttributeNS(null,"font-weight",kn.fontWeight);const hr=kn.textRenderingMode&nn.TextRenderingMode.FILL_STROKE_MASK;if(hr===nn.TextRenderingMode.FILL||hr===nn.TextRenderingMode.FILL_STROKE?(kn.fillColor!==an.fillColor&&kn.tspan.setAttributeNS(null,"fill",kn.fillColor),kn.fillAlpha<1&&kn.tspan.setAttributeNS(null,"fill-opacity",kn.fillAlpha)):kn.textRenderingMode===nn.TextRenderingMode.ADD_TO_PATH?kn.tspan.setAttributeNS(null,"fill","transparent"):kn.tspan.setAttributeNS(null,"fill","none"),hr===nn.TextRenderingMode.STROKE||hr===nn.TextRenderingMode.FILL_STROKE){const Mr=1/(kn.textMatrixScale||1);this._setStrokeAttributes(kn.tspan,Mr)}let yr=kn.textMatrix;kn.textRise!==0&&(yr=yr.slice(),yr[5]+=kn.textRise),kn.txtElement.setAttributeNS(null,"transform",`${vn(yr)} scale(${wn(nr)}, -1)`),kn.txtElement.setAttributeNS(on,"xml:space","preserve"),kn.txtElement.append(kn.tspan),kn.txtgrp.append(kn.txtElement),this._ensureTransformGroup().append(kn.txtElement)}setLeadingMoveText(Cn,kn){this.setLeading(-kn),this.moveText(Cn,kn)}addFontStyle(Cn){if(!Cn.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const kn=pn(Cn.data,Cn.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Cn.loadedName}"; src: url(${kn}); }
`}setFont(Cn){const kn=this.current,In=this.commonObjs.get(Cn[0]);let Dn=Cn[1];kn.font=In,this.embedFonts&&!In.missingFile&&!this.embeddedFonts[In.loadedName]&&(this.addFontStyle(In),this.embeddedFonts[In.loadedName]=In),kn.fontMatrix=In.fontMatrix||nn.FONT_IDENTITY_MATRIX;let Wn="normal";In.black?Wn="900":In.bold&&(Wn="bold");const Vn=In.italic?"italic":"normal";Dn<0?(Dn=-Dn,kn.fontDirection=-1):kn.fontDirection=1,kn.fontSize=Dn,kn.fontFamily=In.loadedName,kn.fontWeight=Wn,kn.fontStyle=Vn,kn.tspan=this.svgFactory.createElement("svg:tspan"),kn.tspan.setAttributeNS(null,"y",wn(-kn.y)),kn.xcoords=[],kn.ycoords=[]}endText(){var kn;const Cn=this.current;Cn.textRenderingMode&nn.TextRenderingMode.ADD_TO_PATH_FLAG&&((kn=Cn.txtElement)==null?void 0:kn.hasChildNodes())&&(Cn.element=Cn.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Cn){Cn>0&&(this.current.lineWidth=Cn)}setLineCap(Cn){this.current.lineCap=dn[Cn]}setLineJoin(Cn){this.current.lineJoin=mn[Cn]}setMiterLimit(Cn){this.current.miterLimit=Cn}setStrokeAlpha(Cn){this.current.strokeAlpha=Cn}setStrokeRGBColor(Cn,kn,In){this.current.strokeColor=nn.Util.makeHexColor(Cn,kn,In)}setFillAlpha(Cn){this.current.fillAlpha=Cn}setFillRGBColor(Cn,kn,In){this.current.fillColor=nn.Util.makeHexColor(Cn,kn,In),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Cn){this.current.strokeColor=this._makeColorN_Pattern(Cn)}setFillColorN(Cn){this.current.fillColor=this._makeColorN_Pattern(Cn)}shadingFill(Cn){const kn=this.viewport.width,In=this.viewport.height,Dn=nn.Util.inverseTransform(this.transformMatrix),Wn=nn.Util.applyTransform([0,0],Dn),Vn=nn.Util.applyTransform([0,In],Dn),On=nn.Util.applyTransform([kn,0],Dn),zn=nn.Util.applyTransform([kn,In],Dn),nr=Math.min(Wn[0],Vn[0],On[0],zn[0]),Yn=Math.min(Wn[1],Vn[1],On[1],zn[1]),ar=Math.max(Wn[0],Vn[0],On[0],zn[0]),tr=Math.max(Wn[1],Vn[1],On[1],zn[1]),dr=this.svgFactory.createElement("svg:rect");dr.setAttributeNS(null,"x",nr),dr.setAttributeNS(null,"y",Yn),dr.setAttributeNS(null,"width",ar-nr),dr.setAttributeNS(null,"height",tr-Yn),dr.setAttributeNS(null,"fill",this._makeShadingPattern(Cn)),this.current.fillAlpha<1&&dr.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(dr)}_makeColorN_Pattern(Cn){return Cn[0]==="TilingPattern"?this._makeTilingPattern(Cn):this._makeShadingPattern(Cn)}_makeTilingPattern(Cn){const kn=Cn[1],In=Cn[2],Dn=Cn[3]||nn.IDENTITY_MATRIX,[Wn,Vn,On,zn]=Cn[4],nr=Cn[5],Yn=Cn[6],ar=Cn[7],tr=`shading${En++}`,[dr,Jn,hr,yr]=nn.Util.normalizeRect([...nn.Util.applyTransform([Wn,Vn],Dn),...nn.Util.applyTransform([On,zn],Dn)]),[Mr,Mn]=nn.Util.singularValueDecompose2dScale(Dn),Fn=nr*Mr,Nn=Yn*Mn,Un=this.svgFactory.createElement("svg:pattern");Un.setAttributeNS(null,"id",tr),Un.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Un.setAttributeNS(null,"width",Fn),Un.setAttributeNS(null,"height",Nn),Un.setAttributeNS(null,"x",`${dr}`),Un.setAttributeNS(null,"y",`${Jn}`);const qn=this.svg,er=this.transformMatrix,sr=this.current.fillColor,ur=this.current.strokeColor,br=this.svgFactory.create(hr-dr,yr-Jn);if(this.svg=br,this.transformMatrix=Dn,ar===2){const kr=nn.Util.makeHexColor(...kn);this.current.fillColor=kr,this.current.strokeColor=kr}return this.executeOpTree(this.convertOpList(In)),this.svg=qn,this.transformMatrix=er,this.current.fillColor=sr,this.current.strokeColor=ur,Un.append(br.childNodes[0]),this.defs.append(Un),`url(#${tr})`}_makeShadingPattern(Cn){switch(typeof Cn=="string"&&(Cn=this.objs.get(Cn)),Cn[0]){case"RadialAxial":const kn=`shading${En++}`,In=Cn[3];let Dn;switch(Cn[1]){case"axial":const Wn=Cn[4],Vn=Cn[5];Dn=this.svgFactory.createElement("svg:linearGradient"),Dn.setAttributeNS(null,"id",kn),Dn.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Dn.setAttributeNS(null,"x1",Wn[0]),Dn.setAttributeNS(null,"y1",Wn[1]),Dn.setAttributeNS(null,"x2",Vn[0]),Dn.setAttributeNS(null,"y2",Vn[1]);break;case"radial":const On=Cn[4],zn=Cn[5],nr=Cn[6],Yn=Cn[7];Dn=this.svgFactory.createElement("svg:radialGradient"),Dn.setAttributeNS(null,"id",kn),Dn.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Dn.setAttributeNS(null,"cx",zn[0]),Dn.setAttributeNS(null,"cy",zn[1]),Dn.setAttributeNS(null,"r",Yn),Dn.setAttributeNS(null,"fx",On[0]),Dn.setAttributeNS(null,"fy",On[1]),Dn.setAttributeNS(null,"fr",nr);break;default:throw new Error(`Unknown RadialAxial type: ${Cn[1]}`)}for(const Wn of In){const Vn=this.svgFactory.createElement("svg:stop");Vn.setAttributeNS(null,"offset",Wn[0]),Vn.setAttributeNS(null,"stop-color",Wn[1]),Dn.append(Vn)}return this.defs.append(Dn),`url(#${kn})`;case"Mesh":return(0,nn.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Cn[0]}`)}}setDash(Cn,kn){this.current.dashArray=Cn,this.current.dashPhase=kn}constructPath(Cn,kn){const In=this.current;let Dn=In.x,Wn=In.y,Vn=[],On=0;for(const zn of Cn)switch(zn|0){case nn.OPS.rectangle:Dn=kn[On++],Wn=kn[On++];const nr=kn[On++],Yn=kn[On++],ar=Dn+nr,tr=Wn+Yn;Vn.push("M",wn(Dn),wn(Wn),"L",wn(ar),wn(Wn),"L",wn(ar),wn(tr),"L",wn(Dn),wn(tr),"Z");break;case nn.OPS.moveTo:Dn=kn[On++],Wn=kn[On++],Vn.push("M",wn(Dn),wn(Wn));break;case nn.OPS.lineTo:Dn=kn[On++],Wn=kn[On++],Vn.push("L",wn(Dn),wn(Wn));break;case nn.OPS.curveTo:Dn=kn[On+4],Wn=kn[On+5],Vn.push("C",wn(kn[On]),wn(kn[On+1]),wn(kn[On+2]),wn(kn[On+3]),wn(Dn),wn(Wn)),On+=6;break;case nn.OPS.curveTo2:Vn.push("C",wn(Dn),wn(Wn),wn(kn[On]),wn(kn[On+1]),wn(kn[On+2]),wn(kn[On+3])),Dn=kn[On+2],Wn=kn[On+3],On+=4;break;case nn.OPS.curveTo3:Dn=kn[On+2],Wn=kn[On+3],Vn.push("C",wn(kn[On]),wn(kn[On+1]),wn(Dn),wn(Wn),wn(Dn),wn(Wn)),On+=4;break;case nn.OPS.closePath:Vn.push("Z");break}Vn=Vn.join(" "),In.path&&Cn.length>0&&Cn[0]!==nn.OPS.rectangle&&Cn[0]!==nn.OPS.moveTo?Vn=In.path.getAttributeNS(null,"d")+Vn:(In.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(In.path)),In.path.setAttributeNS(null,"d",Vn),In.path.setAttributeNS(null,"fill","none"),In.element=In.path,In.setCurrentPoint(Dn,Wn)}endPath(){const Cn=this.current;if(Cn.path=null,!this.pendingClip)return;if(!Cn.element){this.pendingClip=null;return}const kn=`clippath${Sn++}`,In=this.svgFactory.createElement("svg:clipPath");In.setAttributeNS(null,"id",kn),In.setAttributeNS(null,"transform",vn(this.transformMatrix));const Dn=Cn.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Dn.setAttributeNS(null,"clip-rule","evenodd"):Dn.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,In.append(Dn),this.defs.append(In),Cn.activeClipUrl){Cn.clipGroup=null;for(const Wn of this.extraStack)Wn.clipGroup=null;In.setAttributeNS(null,"clip-path",Cn.activeClipUrl)}Cn.activeClipUrl=`url(#${kn})`,this.tgrp=null}clip(Cn){this.pendingClip=Cn}closePath(){const Cn=this.current;if(Cn.path){const kn=`${Cn.path.getAttributeNS(null,"d")}Z`;Cn.path.setAttributeNS(null,"d",kn)}}setLeading(Cn){this.current.leading=-Cn}setTextRise(Cn){this.current.textRise=Cn}setTextRenderingMode(Cn){this.current.textRenderingMode=Cn}setHScale(Cn){this.current.textHScale=Cn/100}setRenderingIntent(Cn){}setFlatness(Cn){}setGState(Cn){for(const[kn,In]of Cn)switch(kn){case"LW":this.setLineWidth(In);break;case"LC":this.setLineCap(In);break;case"LJ":this.setLineJoin(In);break;case"ML":this.setMiterLimit(In);break;case"D":this.setDash(In[0],In[1]);break;case"RI":this.setRenderingIntent(In);break;case"FL":this.setFlatness(In);break;case"Font":this.setFont(In);break;case"CA":this.setStrokeAlpha(In);break;case"ca":this.setFillAlpha(In);break;default:(0,nn.warn)(`Unimplemented graphic state operator ${kn}`);break}}fill(){const Cn=this.current;Cn.element&&(Cn.element.setAttributeNS(null,"fill",Cn.fillColor),Cn.element.setAttributeNS(null,"fill-opacity",Cn.fillAlpha),this.endPath())}stroke(){const Cn=this.current;Cn.element&&(this._setStrokeAttributes(Cn.element),Cn.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Cn,kn=1){const In=this.current;let Dn=In.dashArray;kn!==1&&Dn.length>0&&(Dn=Dn.map(function(Wn){return kn*Wn})),Cn.setAttributeNS(null,"stroke",In.strokeColor),Cn.setAttributeNS(null,"stroke-opacity",In.strokeAlpha),Cn.setAttributeNS(null,"stroke-miterlimit",wn(In.miterLimit)),Cn.setAttributeNS(null,"stroke-linecap",In.lineCap),Cn.setAttributeNS(null,"stroke-linejoin",In.lineJoin),Cn.setAttributeNS(null,"stroke-width",wn(kn*In.lineWidth)+"px"),Cn.setAttributeNS(null,"stroke-dasharray",Dn.map(wn).join(" ")),Cn.setAttributeNS(null,"stroke-dashoffset",wn(kn*In.dashPhase)+"px")}eoFill(){var Cn;(Cn=this.current.element)==null||Cn.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Cn;(Cn=this.current.element)==null||Cn.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Cn=this.svgFactory.createElement("svg:rect");Cn.setAttributeNS(null,"x","0"),Cn.setAttributeNS(null,"y","0"),Cn.setAttributeNS(null,"width","1px"),Cn.setAttributeNS(null,"height","1px"),Cn.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Cn)}paintImageXObject(Cn){const kn=this.getObject(Cn);if(!kn){(0,nn.warn)(`Dependent image with object ID ${Cn} is not ready yet`);return}this.paintInlineImageXObject(kn)}paintInlineImageXObject(Cn,kn){const In=Cn.width,Dn=Cn.height,Wn=fn(Cn,this.forceDataSchema,!!kn),Vn=this.svgFactory.createElement("svg:rect");Vn.setAttributeNS(null,"x","0"),Vn.setAttributeNS(null,"y","0"),Vn.setAttributeNS(null,"width",wn(In)),Vn.setAttributeNS(null,"height",wn(Dn)),this.current.element=Vn,this.clip("nonzero");const On=this.svgFactory.createElement("svg:image");On.setAttributeNS(cn,"xlink:href",Wn),On.setAttributeNS(null,"x","0"),On.setAttributeNS(null,"y",wn(-Dn)),On.setAttributeNS(null,"width",wn(In)+"px"),On.setAttributeNS(null,"height",wn(Dn)+"px"),On.setAttributeNS(null,"transform",`scale(${wn(1/In)} ${wn(-1/Dn)})`),kn?kn.append(On):this._ensureTransformGroup().append(On)}paintImageMaskXObject(Cn){const kn=this.getObject(Cn.data,Cn);if(kn.bitmap){(0,nn.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const In=this.current,Dn=kn.width,Wn=kn.height,Vn=In.fillColor;In.maskId=`mask${xn++}`;const On=this.svgFactory.createElement("svg:mask");On.setAttributeNS(null,"id",In.maskId);const zn=this.svgFactory.createElement("svg:rect");zn.setAttributeNS(null,"x","0"),zn.setAttributeNS(null,"y","0"),zn.setAttributeNS(null,"width",wn(Dn)),zn.setAttributeNS(null,"height",wn(Wn)),zn.setAttributeNS(null,"fill",Vn),zn.setAttributeNS(null,"mask",`url(#${In.maskId})`),this.defs.append(On),this._ensureTransformGroup().append(zn),this.paintInlineImageXObject(kn,On)}paintFormXObjectBegin(Cn,kn){if(Array.isArray(Cn)&&Cn.length===6&&this.transform(Cn[0],Cn[1],Cn[2],Cn[3],Cn[4],Cn[5]),kn){const In=kn[2]-kn[0],Dn=kn[3]-kn[1],Wn=this.svgFactory.createElement("svg:rect");Wn.setAttributeNS(null,"x",kn[0]),Wn.setAttributeNS(null,"y",kn[1]),Wn.setAttributeNS(null,"width",wn(In)),Wn.setAttributeNS(null,"height",wn(Dn)),this.current.element=Wn,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Cn){const kn=this.svgFactory.create(Cn.width,Cn.height),In=this.svgFactory.createElement("svg:defs");kn.append(In),this.defs=In;const Dn=this.svgFactory.createElement("svg:g");return Dn.setAttributeNS(null,"transform",vn(Cn.transform)),kn.append(Dn),this.svg=Dn,kn}_ensureClipGroup(){if(!this.current.clipGroup){const Cn=this.svgFactory.createElement("svg:g");Cn.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Cn),this.current.clipGroup=Cn}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",vn(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var tn=en(1),nn=en(32);const rn=require$$5,sn=require$$5,an=require$$5,on=require$$5,cn=/^file:\/\/\/[a-zA-Z]:\//;function dn(xn){const En=on.parse(xn);return En.protocol==="file:"||En.host?En:/^[a-z]:[/\\]/i.test(xn)?on.parse(`file:///${xn}`):(En.host||(En.protocol="file:"),En)}class mn{constructor(En){this.source=En,this.url=dn(En.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&En.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var En,Cn;return(Cn=(En=this._fullRequestReader)==null?void 0:En._loaded)!=null?Cn:0}getFullReader(){return(0,tn.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vn(this):new bn(this),this._fullRequestReader}getRangeReader(En,Cn){if(Cn<=this._progressiveDataLength)return null;const kn=this.isFsUrl?new Sn(this,En,Cn):new wn(this,En,Cn);return this._rangeRequestReaders.push(kn),kn}cancelAllRequests(En){var Cn;(Cn=this._fullRequestReader)==null||Cn.cancel(En);for(const kn of this._rangeRequestReaders.slice(0))kn.cancel(En)}}_e.PDFNodeStream=mn;class pn{constructor(En){this._url=En.url,this._done=!1,this._storedError=null,this.onProgress=null;const Cn=En.source;this._contentLength=Cn.length,this._loaded=0,this._filename=null,this._disableRange=Cn.disableRange||!1,this._rangeChunkSize=Cn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Cn.disableStream,this._isRangeSupported=!Cn.disableRange,this._readableStream=null,this._readCapability=(0,tn.createPromiseCapability)(),this._headersCapability=(0,tn.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kn;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const En=this._readableStream.read();return En===null?(this._readCapability=(0,tn.createPromiseCapability)(),this.read()):(this._loaded+=En.length,(kn=this.onProgress)==null||kn.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(En).buffer,done:!1})}cancel(En){if(!this._readableStream){this._error(En);return}this._readableStream.destroy(En)}_error(En){this._storedError=En,this._readCapability.resolve()}_setReadableStream(En){this._readableStream=En,En.on("readable",()=>{this._readCapability.resolve()}),En.on("end",()=>{En.destroy(),this._done=!0,this._readCapability.resolve()}),En.on("error",Cn=>{this._error(Cn)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tn.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fn{constructor(En){this._url=En.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,tn.createPromiseCapability)();const Cn=En.source;this._isStreamingSupported=!Cn.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kn;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const En=this._readableStream.read();return En===null?(this._readCapability=(0,tn.createPromiseCapability)(),this.read()):(this._loaded+=En.length,(kn=this.onProgress)==null||kn.call(this,{loaded:this._loaded}),{value:new Uint8Array(En).buffer,done:!1})}cancel(En){if(!this._readableStream){this._error(En);return}this._readableStream.destroy(En)}_error(En){this._storedError=En,this._readCapability.resolve()}_setReadableStream(En){this._readableStream=En,En.on("readable",()=>{this._readCapability.resolve()}),En.on("end",()=>{En.destroy(),this._done=!0,this._readCapability.resolve()}),En.on("error",Cn=>{this._error(Cn)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function yn(xn,En){return{protocol:xn.protocol,auth:xn.auth,host:xn.hostname,port:xn.port,path:xn.path,method:"GET",headers:En}}class bn extends pn{constructor(En){super(En);const Cn=kn=>{if(kn.statusCode===404){const Vn=new tn.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Vn,this._headersCapability.reject(Vn);return}this._headersCapability.resolve(),this._setReadableStream(kn);const In=Vn=>this._readableStream.headers[Vn.toLowerCase()],{allowRangeRequests:Dn,suggestedLength:Wn}=(0,nn.validateRangeRequestCapabilities)({getResponseHeader:In,isHttp:En.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Dn,this._contentLength=Wn||this._contentLength,this._filename=(0,nn.extractFilenameFromHeader)(In)};this._request=null,this._url.protocol==="http:"?this._request=sn.request(yn(this._url,En.httpHeaders),Cn):this._request=an.request(yn(this._url,En.httpHeaders),Cn),this._request.on("error",kn=>{this._storedError=kn,this._headersCapability.reject(kn)}),this._request.end()}}class wn extends fn{constructor(En,Cn,kn){super(En),this._httpHeaders={};for(const Dn in En.httpHeaders){const Wn=En.httpHeaders[Dn];typeof Wn>"u"||(this._httpHeaders[Dn]=Wn)}this._httpHeaders.Range=`bytes=${Cn}-${kn-1}`;const In=Dn=>{if(Dn.statusCode===404){const Wn=new tn.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Wn;return}this._setReadableStream(Dn)};this._request=null,this._url.protocol==="http:"?this._request=sn.request(yn(this._url,this._httpHeaders),In):this._request=an.request(yn(this._url,this._httpHeaders),In),this._request.on("error",Dn=>{this._storedError=Dn}),this._request.end()}}class vn extends pn{constructor(En){super(En);let Cn=decodeURIComponent(this._url.path);cn.test(this._url.href)&&(Cn=Cn.replace(/^\//,"")),rn.lstat(Cn,(kn,In)=>{if(kn){kn.code==="ENOENT"&&(kn=new tn.MissingPDFException(`Missing PDF "${Cn}".`)),this._storedError=kn,this._headersCapability.reject(kn);return}this._contentLength=In.size,this._setReadableStream(rn.createReadStream(Cn)),this._headersCapability.resolve()})}}class Sn extends fn{constructor(En,Cn,kn){super(En);let In=decodeURIComponent(this._url.path);cn.test(this._url.href)&&(In=In.replace(/^\//,"")),this._setReadableStream(rn.createReadStream(In,{start:Cn,end:kn-1}))}}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=on,_e.extractFilenameFromHeader=an,_e.validateRangeRequestCapabilities=sn,_e.validateResponseStatus=cn;var tn=en(1),nn=en(33),rn=en(6);function sn({getResponseHeader:dn,isHttp:mn,rangeChunkSize:pn,disableRange:fn}){const yn={allowRangeRequests:!1,suggestedLength:void 0},bn=parseInt(dn("Content-Length"),10);return!Number.isInteger(bn)||(yn.suggestedLength=bn,bn<=2*pn)||fn||!mn||dn("Accept-Ranges")!=="bytes"||(dn("Content-Encoding")||"identity")!=="identity"||(yn.allowRangeRequests=!0),yn}function an(dn){const mn=dn("Content-Disposition");if(mn){let pn=(0,nn.getFilenameFromContentDispositionHeader)(mn);if(pn.includes("%"))try{pn=decodeURIComponent(pn)}catch{}if((0,rn.isPdfFile)(pn))return pn}return null}function on(dn,mn){return dn===404||dn===0&&mn.startsWith("file:")?new tn.MissingPDFException('Missing PDF "'+mn+'".'):new tn.UnexpectedResponseException(`Unexpected server response (${dn}) while retrieving PDF "${mn}".`,dn)}function cn(dn){return dn===200||dn===206}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=nn;var tn=en(1);function nn(rn){let sn=!0,an=on("filename\\*","i").exec(rn);if(an){an=an[1];let bn=pn(an);return bn=unescape(bn),bn=fn(bn),bn=yn(bn),dn(bn)}if(an=mn(rn),an){const bn=yn(an);return dn(bn)}if(an=on("filename","i").exec(rn),an){an=an[1];let bn=pn(an);return bn=yn(bn),dn(bn)}function on(bn,wn){return new RegExp("(?:^|;)\\s*"+bn+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',wn)}function cn(bn,wn){if(bn){if(!/^[\x00-\xFF]+$/.test(wn))return wn;try{const vn=new TextDecoder(bn,{fatal:!0}),Sn=(0,tn.stringToBytes)(wn);wn=vn.decode(Sn),sn=!1}catch{}}return wn}function dn(bn){return sn&&/[\x80-\xff]/.test(bn)&&(bn=cn("utf-8",bn),sn&&(bn=cn("iso-8859-1",bn))),bn}function mn(bn){const wn=[];let vn;const Sn=on("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(vn=Sn.exec(bn))!==null;){let[,En,Cn,kn]=vn;if(En=parseInt(En,10),En in wn){if(En===0)break;continue}wn[En]=[Cn,kn]}const xn=[];for(let En=0;En<wn.length&&En in wn;++En){let[Cn,kn]=wn[En];kn=pn(kn),Cn&&(kn=unescape(kn),En===0&&(kn=fn(kn))),xn.push(kn)}return xn.join("")}function pn(bn){if(bn.startsWith('"')){const wn=bn.slice(1).split('\\"');for(let vn=0;vn<wn.length;++vn){const Sn=wn[vn].indexOf('"');Sn!==-1&&(wn[vn]=wn[vn].slice(0,Sn),wn.length=vn+1),wn[vn]=wn[vn].replace(/\\(.)/g,"$1")}bn=wn.join('"')}return bn}function fn(bn){const wn=bn.indexOf("'");if(wn===-1)return bn;const vn=bn.slice(0,wn),xn=bn.slice(wn+1).replace(/^[^']*'/,"");return cn(vn,xn)}function yn(bn){return!bn.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(bn)?bn:bn.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(wn,vn,Sn,xn){if(Sn==="q"||Sn==="Q")return xn=xn.replace(/_/g," "),xn=xn.replace(/=([0-9a-fA-F]{2})/g,function(En,Cn){return String.fromCharCode(parseInt(Cn,16))}),cn(vn,xn);try{xn=atob(xn)}catch{}return cn(vn,xn)})}return""}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var tn=en(1),nn=en(32);const rn=200,sn=206;function an(pn){const fn=pn.response;return typeof fn!="string"?fn:(0,tn.stringToBytes)(fn).buffer}class on{constructor(fn,yn={}){this.url=fn,this.isHttp=/^https?:/i.test(fn),this.httpHeaders=this.isHttp&&yn.httpHeaders||Object.create(null),this.withCredentials=yn.withCredentials||!1,this.getXhr=yn.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(fn,yn,bn){const wn={begin:fn,end:yn};for(const vn in bn)wn[vn]=bn[vn];return this.request(wn)}requestFull(fn){return this.request(fn)}request(fn){const yn=this.getXhr(),bn=this.currXhrId++,wn=this.pendingRequests[bn]={xhr:yn};yn.open("GET",this.url),yn.withCredentials=this.withCredentials;for(const vn in this.httpHeaders){const Sn=this.httpHeaders[vn];typeof Sn>"u"||yn.setRequestHeader(vn,Sn)}return this.isHttp&&"begin"in fn&&"end"in fn?(yn.setRequestHeader("Range",`bytes=${fn.begin}-${fn.end-1}`),wn.expectedStatus=sn):wn.expectedStatus=rn,yn.responseType="arraybuffer",fn.onError&&(yn.onerror=function(vn){fn.onError(yn.status)}),yn.onreadystatechange=this.onStateChange.bind(this,bn),yn.onprogress=this.onProgress.bind(this,bn),wn.onHeadersReceived=fn.onHeadersReceived,wn.onDone=fn.onDone,wn.onError=fn.onError,wn.onProgress=fn.onProgress,yn.send(null),bn}onProgress(fn,yn){var wn;const bn=this.pendingRequests[fn];!bn||(wn=bn.onProgress)==null||wn.call(bn,yn)}onStateChange(fn,yn){var En,Cn,kn;const bn=this.pendingRequests[fn];if(!bn)return;const wn=bn.xhr;if(wn.readyState>=2&&bn.onHeadersReceived&&(bn.onHeadersReceived(),delete bn.onHeadersReceived),wn.readyState!==4||!(fn in this.pendingRequests))return;if(delete this.pendingRequests[fn],wn.status===0&&this.isHttp){(En=bn.onError)==null||En.call(bn,wn.status);return}const vn=wn.status||rn;if(!(vn===rn&&bn.expectedStatus===sn)&&vn!==bn.expectedStatus){(Cn=bn.onError)==null||Cn.call(bn,wn.status);return}const xn=an(wn);if(vn===sn){const In=wn.getResponseHeader("Content-Range"),Dn=/bytes (\d+)-(\d+)\/(\d+)/.exec(In);bn.onDone({begin:parseInt(Dn[1],10),chunk:xn})}else xn?bn.onDone({begin:0,chunk:xn}):(kn=bn.onError)==null||kn.call(bn,wn.status)}getRequestXhr(fn){return this.pendingRequests[fn].xhr}isPendingRequest(fn){return fn in this.pendingRequests}abortRequest(fn){const yn=this.pendingRequests[fn].xhr;delete this.pendingRequests[fn],yn.abort()}}class cn{constructor(fn){this._source=fn,this._manager=new on(fn.url,{httpHeaders:fn.httpHeaders,withCredentials:fn.withCredentials}),this._rangeChunkSize=fn.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(fn){const yn=this._rangeRequestReaders.indexOf(fn);yn>=0&&this._rangeRequestReaders.splice(yn,1)}getFullReader(){return(0,tn.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dn(this._manager,this._source),this._fullRequestReader}getRangeReader(fn,yn){const bn=new mn(this._manager,fn,yn);return bn.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(bn),bn}cancelAllRequests(fn){var yn;(yn=this._fullRequestReader)==null||yn.cancel(fn);for(const bn of this._rangeRequestReaders.slice(0))bn.cancel(fn)}}_e.PDFNetworkStream=cn;class dn{constructor(fn,yn){this._manager=fn;const bn={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=yn.url,this._fullRequestId=fn.requestFull(bn),this._headersReceivedCapability=(0,tn.createPromiseCapability)(),this._disableRange=yn.disableRange||!1,this._contentLength=yn.length,this._rangeChunkSize=yn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const fn=this._fullRequestId,yn=this._manager.getRequestXhr(fn),bn=Sn=>yn.getResponseHeader(Sn),{allowRangeRequests:wn,suggestedLength:vn}=(0,nn.validateRangeRequestCapabilities)({getResponseHeader:bn,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});wn&&(this._isRangeSupported=!0),this._contentLength=vn||this._contentLength,this._filename=(0,nn.extractFilenameFromHeader)(bn),this._isRangeSupported&&this._manager.abortRequest(fn),this._headersReceivedCapability.resolve()}_onDone(fn){if(fn&&(this._requests.length>0?this._requests.shift().resolve({value:fn.chunk,done:!1}):this._cachedChunks.push(fn.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const yn of this._requests)yn.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(fn){this._storedError=(0,nn.createResponseStatusError)(fn,this._url),this._headersReceivedCapability.reject(this._storedError);for(const yn of this._requests)yn.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(fn){var yn;(yn=this.onProgress)==null||yn.call(this,{loaded:fn.loaded,total:fn.lengthComputable?fn.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const fn=(0,tn.createPromiseCapability)();return this._requests.push(fn),fn.promise}cancel(fn){this._done=!0,this._headersReceivedCapability.reject(fn);for(const yn of this._requests)yn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mn{constructor(fn,yn,bn){this._manager=fn;const wn={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=fn.url,this._requestId=fn.requestRange(yn,bn,wn),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var fn;(fn=this.onClosed)==null||fn.call(this,this)}_onDone(fn){const yn=fn.chunk;this._requests.length>0?this._requests.shift().resolve({value:yn,done:!1}):this._queuedChunk=yn,this._done=!0;for(const bn of this._requests)bn.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(fn){this._storedError=(0,nn.createResponseStatusError)(fn,this._url);for(const yn of this._requests)yn.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(fn){var yn;this.isStreamingSupported||(yn=this.onProgress)==null||yn.call(this,{loaded:fn.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const yn=this._queuedChunk;return this._queuedChunk=null,{value:yn,done:!1}}if(this._done)return{value:void 0,done:!0};const fn=(0,tn.createPromiseCapability)();return this._requests.push(fn),fn.promise}cancel(fn){this._done=!0;for(const yn of this._requests)yn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(St,_e,en)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var tn=en(1),nn=en(32);function rn(dn,mn,pn){return{method:"GET",headers:dn,signal:pn.signal,mode:"cors",credentials:mn?"include":"same-origin",redirect:"follow"}}function sn(dn){const mn=new Headers;for(const pn in dn){const fn=dn[pn];typeof fn>"u"||mn.append(pn,fn)}return mn}class an{constructor(mn){this.source=mn,this.isHttp=/^https?:/i.test(mn.url),this.httpHeaders=this.isHttp&&mn.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mn,pn;return(pn=(mn=this._fullRequestReader)==null?void 0:mn._loaded)!=null?pn:0}getFullReader(){return(0,tn.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new on(this),this._fullRequestReader}getRangeReader(mn,pn){if(pn<=this._progressiveDataLength)return null;const fn=new cn(this,mn,pn);return this._rangeRequestReaders.push(fn),fn}cancelAllRequests(mn){var pn;(pn=this._fullRequestReader)==null||pn.cancel(mn);for(const fn of this._rangeRequestReaders.slice(0))fn.cancel(mn)}}_e.PDFFetchStream=an;class on{constructor(mn){this._stream=mn,this._reader=null,this._loaded=0,this._filename=null;const pn=mn.source;this._withCredentials=pn.withCredentials||!1,this._contentLength=pn.length,this._headersCapability=(0,tn.createPromiseCapability)(),this._disableRange=pn.disableRange||!1,this._rangeChunkSize=pn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!pn.disableStream,this._isRangeSupported=!pn.disableRange,this._headers=sn(this._stream.httpHeaders);const fn=pn.url;fetch(fn,rn(this._headers,this._withCredentials,this._abortController)).then(yn=>{if(!(0,nn.validateResponseStatus)(yn.status))throw(0,nn.createResponseStatusError)(yn.status,fn);this._reader=yn.body.getReader(),this._headersCapability.resolve();const bn=Sn=>yn.headers.get(Sn),{allowRangeRequests:wn,suggestedLength:vn}=(0,nn.validateRangeRequestCapabilities)({getResponseHeader:bn,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wn,this._contentLength=vn||this._contentLength,this._filename=(0,nn.extractFilenameFromHeader)(bn),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tn.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yn;await this._headersCapability.promise;const{value:mn,done:pn}=await this._reader.read();return pn?{value:mn,done:pn}:(this._loaded+=mn.byteLength,(yn=this.onProgress)==null||yn.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mn).buffer,done:!1})}cancel(mn){var pn;(pn=this._reader)==null||pn.cancel(mn),this._abortController.abort()}}class cn{constructor(mn,pn,fn){this._stream=mn,this._reader=null,this._loaded=0;const yn=mn.source;this._withCredentials=yn.withCredentials||!1,this._readCapability=(0,tn.createPromiseCapability)(),this._isStreamingSupported=!yn.disableStream,this._abortController=new AbortController,this._headers=sn(this._stream.httpHeaders),this._headers.append("Range",`bytes=${pn}-${fn-1}`);const bn=yn.url;fetch(bn,rn(this._headers,this._withCredentials,this._abortController)).then(wn=>{if(!(0,nn.validateResponseStatus)(wn.status))throw(0,nn.createResponseStatusError)(wn.status,bn);this._readCapability.resolve(),this._reader=wn.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yn;await this._readCapability.promise;const{value:mn,done:pn}=await this._reader.read();return pn?{value:mn,done:pn}:(this._loaded+=mn.byteLength,(yn=this.onProgress)==null||yn.call(this,{loaded:this._loaded}),{value:new Uint8Array(mn).buffer,done:!1})}cancel(mn){var pn;(pn=this._reader)==null||pn.cancel(mn),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(St){var _e=__webpack_module_cache__[St];if(_e!==void 0)return _e.exports;var en=__webpack_module_cache__[St]={exports:{}};return __webpack_modules__[St](en,en.exports,__w_pdfjs_require__),en.exports}var __webpack_exports__={};return(()=>{var St=__webpack_exports__;Object.defineProperty(St,"__esModule",{value:!0}),Object.defineProperty(St,"AnnotationEditorLayer",{enumerable:!0,get:function(){return nn.AnnotationEditorLayer}}),Object.defineProperty(St,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _e.AnnotationEditorParamsType}}),Object.defineProperty(St,"AnnotationEditorType",{enumerable:!0,get:function(){return _e.AnnotationEditorType}}),Object.defineProperty(St,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return rn.AnnotationEditorUIManager}}),Object.defineProperty(St,"AnnotationLayer",{enumerable:!0,get:function(){return sn.AnnotationLayer}}),Object.defineProperty(St,"AnnotationMode",{enumerable:!0,get:function(){return _e.AnnotationMode}}),Object.defineProperty(St,"CMapCompressionType",{enumerable:!0,get:function(){return _e.CMapCompressionType}}),Object.defineProperty(St,"GlobalWorkerOptions",{enumerable:!0,get:function(){return an.GlobalWorkerOptions}}),Object.defineProperty(St,"InvalidPDFException",{enumerable:!0,get:function(){return _e.InvalidPDFException}}),Object.defineProperty(St,"MissingPDFException",{enumerable:!0,get:function(){return _e.MissingPDFException}}),Object.defineProperty(St,"OPS",{enumerable:!0,get:function(){return _e.OPS}}),Object.defineProperty(St,"PDFDataRangeTransport",{enumerable:!0,get:function(){return en.PDFDataRangeTransport}}),Object.defineProperty(St,"PDFDateString",{enumerable:!0,get:function(){return tn.PDFDateString}}),Object.defineProperty(St,"PDFWorker",{enumerable:!0,get:function(){return en.PDFWorker}}),Object.defineProperty(St,"PasswordResponses",{enumerable:!0,get:function(){return _e.PasswordResponses}}),Object.defineProperty(St,"PermissionFlag",{enumerable:!0,get:function(){return _e.PermissionFlag}}),Object.defineProperty(St,"PixelsPerInch",{enumerable:!0,get:function(){return tn.PixelsPerInch}}),Object.defineProperty(St,"RenderingCancelledException",{enumerable:!0,get:function(){return tn.RenderingCancelledException}}),Object.defineProperty(St,"SVGGraphics",{enumerable:!0,get:function(){return dn.SVGGraphics}}),Object.defineProperty(St,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return _e.UNSUPPORTED_FEATURES}}),Object.defineProperty(St,"UnexpectedResponseException",{enumerable:!0,get:function(){return _e.UnexpectedResponseException}}),Object.defineProperty(St,"Util",{enumerable:!0,get:function(){return _e.Util}}),Object.defineProperty(St,"VerbosityLevel",{enumerable:!0,get:function(){return _e.VerbosityLevel}}),Object.defineProperty(St,"XfaLayer",{enumerable:!0,get:function(){return mn.XfaLayer}}),Object.defineProperty(St,"build",{enumerable:!0,get:function(){return en.build}}),Object.defineProperty(St,"createPromiseCapability",{enumerable:!0,get:function(){return _e.createPromiseCapability}}),Object.defineProperty(St,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _e.createValidAbsoluteUrl}}),Object.defineProperty(St,"getDocument",{enumerable:!0,get:function(){return en.getDocument}}),Object.defineProperty(St,"getFilenameFromUrl",{enumerable:!0,get:function(){return tn.getFilenameFromUrl}}),Object.defineProperty(St,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tn.getPdfFilenameFromUrl}}),Object.defineProperty(St,"getXfaPageViewport",{enumerable:!0,get:function(){return tn.getXfaPageViewport}}),Object.defineProperty(St,"isPdfFile",{enumerable:!0,get:function(){return tn.isPdfFile}}),Object.defineProperty(St,"loadScript",{enumerable:!0,get:function(){return tn.loadScript}}),Object.defineProperty(St,"renderTextLayer",{enumerable:!0,get:function(){return cn.renderTextLayer}}),Object.defineProperty(St,"shadow",{enumerable:!0,get:function(){return _e.shadow}}),Object.defineProperty(St,"version",{enumerable:!0,get:function(){return en.version}});var _e=__w_pdfjs_require__(1),en=__w_pdfjs_require__(2),tn=__w_pdfjs_require__(6),nn=__w_pdfjs_require__(21),rn=__w_pdfjs_require__(5),sn=__w_pdfjs_require__(26),an=__w_pdfjs_require__(14),on=__w_pdfjs_require__(12),cn=__w_pdfjs_require__(29),dn=__w_pdfjs_require__(30),mn=__w_pdfjs_require__(28);if(on.isNodeJS){const{PDFNodeStream:pn}=__w_pdfjs_require__(31);(0,en.setPDFNetworkStreamFactory)(fn=>new pn(fn))}else{const{PDFNetworkStream:pn}=__w_pdfjs_require__(34),{PDFFetchStream:fn}=__w_pdfjs_require__(35);(0,en.setPDFNetworkStreamFactory)(yn=>(0,tn.isValidFetchUrl)(yn.url)?new fn(yn):new pn(yn))}})(),__webpack_exports__})())})(pdf);const pathConverter=St=>"/thef2e-2022-pdf-signing"+St;pdf.exports.GlobalWorkerOptions.workerSrc=pathConverter("/lib/pdf.worker.min.js");const renderCanvas=async({pdfPageProxy:St,viewport:_e})=>{const en=document.createElement("canvas");en.width=_e.width,en.height=_e.height;const tn=en.getContext("2d");return await St.render({canvasContext:tn,viewport:_e}).promise,{el:en,width:_e.width,height:_e.height}},handlePdf={buildPdfDoc:async St=>{const _e=atob(St.replace(/.*base64,/,""));return await pdf.exports.getDocument({data:_e}).promise},getPage:async(St,_e)=>await St.getPage(_e),getCanvas:async(St,_e)=>{const{containerWidth:en,containerHeight:tn,scale:nn}=_e;let rn;if(typeof nn=="number")return rn=St.getViewport({scale:nn}),await renderCanvas({pdfPageProxy:St,viewport:rn});{const sn=St.getViewport({scale:1});if(nn==="fullWidth"){const an=sn.width,on=en/an;return rn=St.getViewport({scale:on}),await renderCanvas({pdfPageProxy:St,viewport:rn})}else if(nn==="fullHeight"){const an=sn.height,on=tn/an;return rn=St.getViewport({scale:on}),await renderCanvas({pdfPageProxy:St,viewport:rn})}}}},getElementContentSize=({element:St,type:_e})=>{const en=getComputedStyle(St);return _e==="width"?St.clientWidth-parseFloat(en.paddingLeft)-parseFloat(en.paddingRight):_e==="height"?St.clientHeight-parseFloat(en.paddingTop)-parseFloat(en.paddingBottom):0},FileDropZone=()=>{const St=useNavigate(),_e=useBaseFileStore(),en=async an=>{if(an.length>0){const on=an[0],cn=await fileTobase64(on),dn=await handlePdf.buildPdfDoc(cn);_e.setPdfDocProxy(dn),St("/edit")}},{fileRejections:tn,getRootProps:nn,getInputProps:rn}=useDropzone({onDrop:en,accept:{"application/pdf":[".pdf"]},maxFiles:1});let sn=null;return tn.length>0&&(sn=tn[0].errors[0].message),jsx("div",{className:"dropZoneBgDash mt-10 cursor-pointer bg-primary p-[2px]",children:jsxs("div",{className:"relative h-[440px] bg-primary-selected",...nn(),children:[jsx("input",{...rn()}),jsxs("div",{className:"absolute-center flex w-full flex-col items-center",children:[jsx("img",{src:imageUpload,alt:"upload",className:"mb-8 w-28"}),jsx("p",{className:"mb-2 text-sm text-gray-dark",children:"\u5C07\u6A94\u6848\u62D6\u66F3\u81F3\u9019\u88E1\uFF0C\u6216"}),jsx("p",{className:"font-blod mb-4 grid h-12 w-36 place-items-center rounded bg-primary text-white lg:w-96",children:"\u9078\u64C7\u6A94\u6848"}),jsx("p",{className:"px-4 text-sm font-bold text-primary-hover",children:"\u6A94\u6848\u5927\u5C0F10Mb\u4EE5\u5167\uFF0C\u6A94\u6848\u683C\u5F0F\u70BAPDF"}),jsx("p",{className:"px-4 text-xl font-bold text-red-600",children:sn})]})]})})},imageLogo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA2iSURBVHgB7VtrbFPnGX6/40CcAMMVaaFQ4KRia7uuwkkKDd0Fo1WqtAsJ0tTLn+FUJUnXSUmktQI0DadSC1t/EKRVhVARo/3otj9J0PZnaxXTSYVSiM26brSrZrelLS0gTCmJc/H37Xk/nxNsc3xL0rEtfsTROee757087/t9xxCVUUYZZZQxVyHoBsPt95tinuhTE6olEQzGaI7BoBsI9+N+n6gQYTz6oIQhj9/voTmGG6aA6scf2yWEGIIP2kI3x+Ybu2iOYVYoaFv7dr8gY3Xv/ue6C7VlKx+bJ/rx6HOqNwT5r/b2HaY5glnxAIPEVkEq0Nq+szgLFmTmqpKKejgu0BzBjBXQ3r7dR5Y1sxLa2ndE2SNytfd7PPQdcdNAniE9BjxkrsSDoijoWDRqznO5vMIwrhPKb/b2bR29OuLLLleK4kJQBDNElFKXmaJIKC8p8nL939UInZSf555UiJ7R3kNdVADeext9hiSfdCUHIm++GUmvq69vDGCg+PDwsR6aAfLNMdXGu85rGK5mKdEmktmmoWFDs1LSlFKg7ngsva4i38Snzp71GwZthTB9TvVX4lcIwnfsK1LB1QeB+4TWs9L/bHxdVFO8iui90RxKUKpzQWtLpFA8YMFg+F1G0hXDa6ZwUI6BuDynAqCkaA5KjA2fOl5bcA57HS5XB25+V0VFU31D41QbmaRuRWovBGK6KojrYlN9BB12VEA4GvXIyvl9QilojnLi1GsnaCa4d7yKzomr9IVKOtZLJZpxKykge72NZv4ydzwSCcUzW6gBqYyjhlB7Jckt8NYOmIxJRQJK9OPmh6fHlTY0wQqLcZ2rQvSj3IQcY7h7kfn5+JnrJkkOOsYANX/eEAs/36Rs/e+cPkMzwXys8sGqpY51Sqju0YOHtuTrD8HyH7qanwU8tb5+Q6dwUZ/hoihfVjPTfteXkWh2mMyLv1dTo0FGE1nPDjB5TusyU2tY5wW17tXDSFEHb/fA+0kl3VsMrVgFZYt94WF4kxDaM5RBLfweOXVi4DoFhD/5iDOZXAuYwkyt38aCMUn3Gl9JL4rDUjYleoOBQn0h0CGyEgBNk0J1QJCDeA1aF3EM4GdFIpJrHPQ9quMTtxYCcUoMOjZkGsKc+jLInyqciGElh9Gxi/kdWRyn4iHhSvRjzh6haVilBJ+kFm398pp3ZSgg/EnUVFL5qQBmw/rT8ZOmH9K377yL1iy7lQ61PTGQeCkYKtTH671fCwwOH7OKgrhMaYgIuLuFr1SxivOzpRhHCEMtFrbCVLIbUlnt3FINEAsYlzQoxCWRSATjH+uUk5VB9gxY/1YU+7UXCeZ/UKigPnA/vA+ULqklMnw8aI+YEQNkch4PYFIBFGP9I1e/oGRykhZ9JX82ef+D36I71t5JP7/DpIVuN4ki94Yu16SptP2oyzqZU+I0GaqbJt0RKhmINYI0NWHMfmsFseuawTOG04THYCpi2hM0CoMQHo4DGCtuwBBg7at5ZcT8T9q79sJ7qL7hvjh7pDKSXZlBWGstvwCKsf4LFz6haDTVZuXKNbRs2UrHdl+D4O9Zv1Y/s/BLgVIu5v+4UDrVbWJLlzBIcHwngmJaS+HhdFQJ2qj/MqGavOvWRex0UkqJVNfwQDAbSVuu2CclU4aIF7MOpp36hg2nlV4TvExWBYVrLIDnxdeWQCEIfFAlMa5BPmQ/TRDz6TDWkCHt4bMfBOGPW/NNePK1N+nU0fwecOZMmK5cSa2/unoh3X33Osd2P9r2MC1ZVpNRBg8I1q1Y0UJFwNvYaBrjEBqnm4q4j5lKPQsAbW1LzpeGgi6OcnB3qrNTVBv19fd1Qsgd6WWw+EFEZkwnmrLLmbb4Oe8+IBts/e+e/kfeNmNjCU09NjyeGsd2892V1wm/VESOw/rSrJ03QYjMMX5GStmkqQW8jezksjBEXFrBEEEwxDev1+eBx7Sk+sIDBAXgAV3gat0uSalACw6Z8gjs9r3O+1ed/ZgyZQic4/eh52KlIG5DeDB3V3q53askBXz8/kdaCblw5fM4ffRxlNasuYfGxxO6bNEi5xhQs3QJzTasHagWXl1D41YWE/YSg8hY+vSGTLoDmXuAhBcCG9KPtkx5L3Bt75Pag0hXczj8+vv8aHlMTkDAG0spL0kB+YLvp5+epZGRK1r4FRUVVFlZGqfPJrze9c2c/nHKxxkHhKapyagYZXpKO95IRKRyc9oYyxxBaasBHRZMx21I5PjI+4PsdewxnFVJnd5qr2GVIsHBRk2JVLmFog/jOPA6Wf/k5CS9995b+rm29i4t/GIwnhinLwOclRguI7UxIp2Tg14SPTr/VqKTz3XstpxCgjY24jTXCznp2GFwpkKGCeJoKmXeyKljSFGZplLK49SXlc8XH0cQaXrSRxM509B8cLL+kZEv6IMP/kmrVn1VB9tS8PnlKzSWGKNKxILZQkPDfR2wvgDzMefgkVOpP5QFDcFjL4ANlKI+cH8dU5FOIWGZCJOHYYlNKeZRHp1NEXUo6zhBGBKZTnpmdc1jOI4wleHIYS8fNXAayscNnPfLZHILDuisnbLQHoWUNQp6DGEthzkRKMoDnKyfKedji+9LFT5jHMK/eO4CzSYkiTpb+MMnjwfS6yInjyMVRDqopZxIBaYKK/tBUMbRB/J3GdcbJ4O9BUHTUgBTiu5LHLxVVnqaQAqr+pHOmrwbDg+/cRPiThcyn7jhquAMrQ+0E4fl10pBm3h8vTvWSUKRHpBu/Uw5LHgXjvZY+DPBu389Q8vNFTQTTGU+OrNJDKgKd5CF7dSWjwLSj4O5HSz4Jisw11nFA9YddY3YLEEhsmrADt7ehvXN6czN4+E8aBMOVWLh4VSbSOr4W5/AwvMG4Ikhq3nMGjdAVGVlVWlw2gew9YeOvKqfOcVkyuGNVa7splgs8iyiJUtr6MGHvpdRXso+4P8BBT3gXWvXe+nSebp48Zzm+1IyHOb4hYsXQtg3Uw3yfs79WfCzyf3/yyiogAvnz2mrZxSiHBbqrauX00JYdw0Evnz1Cm3p+XDxs89oyS230FxFTgWM4EvXC8/+kt7529u0fLlJK1Zk7Ly1YG9dtUJbtX6GsEu16iMv/15fLR1P0je/u4nmInIq4Pmdv6APozFY5830SNuP6dL5y9qqa0AfbOEzpZAP/xXTwmesur2Wpov29u1m+rvbnYj39PQUdZA2nbmSyaTn4MHnI2llPmzCPL0v7h6gacBRAe+89faU8J9+7hl9t8Ge8Zc/vUJVC6qnbbU8ft++F/Tz5kcfopW1Jk0XSPf4y1fIfh8ZqeJz/5I+wvv9Ac/8qjE/hOjYjwWPefo4g0VqSW3tO8wq92gdK5o/4BhKTVvhjgoYuXpV32vAzenCtwV3AbzNuPjZeS1Auy78xgktzFyK4fZ/PvIHeuXIH/X7/Whn958JDuzf7ThhZ2enTtWyPSK7vLp63ExKPtJ2VpyUohkfbWIH9u/R2RkrxO77ooPSuD6XJ2bP7ZiGsgKe6fgZBH2eqhcs0ELlMvYKxsrbTU0hjCd3Pq3jhC1UXY/2jzzeoinrwqfndb/w8RO6nY0HNn9ft8lGqWkorFFBARl/B1t0pXusH+7BmzIPrDdo/2qvvX3nLmysfPyMTVkEp6b7sHEK67nxfUHJZFdv768y6KS1dUcnjqWbYPVbsoXa2r49wPfe/XsC1nqGMC9/lPFaf9DAgRd3d3E51hESJDG3MO015dwHsLUe2vdrbdk2qkE7D2z+gbba377UlyF0u+71V4e04pzAbbyN66np0YczPCsdEEpXw223FU0hrAAItHtqDneih4XElsZ3TS+VY9HqqtFafndSGPM4BLIrlycxIOggjAMnmlqI3fv374lZ5QG+swKgKPaUJvYUywjCGLPWWicUoI5yO6vuEq8jZxBmAT31bLfm/A+jUS28Jbcs1XcGWy97B9MOU9XmRx7SnsH0M/jy77TV82+GeBy+VtXWasqx++fC+MREycFMOXw+TCTcntb2nR2Cxk28eiYmFvAZfBwnk92tbTvCOHrYd3D/nqDTeGzx+LypqcK2bNz9TC2Sz5qECG/b9tSm9GCs14E+wtolg4LY8zLGlVasCgYDbAi6rOA+gAV2xzfudqxjT8jmcBb2Yx0/pemA6WdDbW2MSkS2ILdt2+mFgPsMJbtgqd34Y312Hd4DEGQQwgi0PbGjA/RQlz2e/UEmG5bVsyIC1g+xWrLXgbl2tbXt6IdReESaZ+ZCSd8DvlyIWGJ8vOCCixrJJfkHZYOgghBT0cjo1E/gKUVNKUHCEy7x+/i4EZ9Mqqk2EHQofby2NniSkIM27eAj12Jw5eXseVNUpkJVVQn9zaGYdPi/RAEiNqnUlulYvxNU0hgwKlQfLHEthM9EEONy5t7RxFgY5ZHU/0tQh604EQMne9hypVCD2R6FI+b3QTtDsO6Y7se/e82yfgZoL4J40z+aqDL5HePFpZzszqaqjL88/aWYj/KzDkWhsYmJltkSvg22bI4DttVm1/E920KZ453ap9fzPVeb1icQOwDsC+w4xsF9a77gnqEA/WNcITbSfwD4SH2aA+5sC/5Goq19O768CdV7YHdXygCq8YFI3gQq7MzVp7hfQZVRFFLpZSIAsa7ln+djj8FxI0hllFFGGWWUUUYZZWTh32bAf1sR7DEWAAAAAElFTkSuQmCC",Navbar=()=>jsx("div",{className:"relative border-b-2 border-gray",children:jsxs("div",{className:"container flex h-24 items-center",children:[jsx("div",{className:"logo",children:jsx("img",{src:imageLogo,alt:"logo"})}),jsx("h1",{className:"absolute left-0 right-0 mx-auto hidden w-fit text-2xl font-bold tracking-wide text-gray-dark md:block",children:"\u5FEB\u901F\u7701\u6642\u7684\u96FB\u5B50\u7C3D\u7F72\u5DE5\u5177"})]})}),CardStep=St=>{const{index:_e,title:en,description:tn,imageUrl:nn}=St;return jsxs("div",{className:"flex flex-col items-center",children:[jsx("div",{className:"mb-2 grid h-10 w-10 place-items-center rounded-full border-2 border-primary font-bold text-primary",children:_e}),jsx("h4",{className:"font-bold",children:en}),jsx("p",{children:tn}),jsx("img",{src:nn,alt:"stepImg"})]})},imageFileUpload="/thef2e-2022-pdf-signing/assets/file-upload.22b82720.png",imageSigning="/thef2e-2022-pdf-signing/assets/signing.4d760a93.png",imageSending="/thef2e-2022-pdf-signing/assets/sending.49073d7c.png",UploadFile=()=>jsxs(Fragment,{children:[jsx(Navbar,{}),jsxs("div",{className:"container",children:[jsx(FileDropZone,{}),jsx("h3",{className:"mt-10 mb-7 text-center text-2xl font-bold text-gray-darker",children:"\u8F15\u9B06\u5E7E\u6B65\u9A5F\uFF0C\u5B8C\u6210\u60A8\u7684\u7C3D\u7F72"}),jsxs("div",{className:"mb-9 grid md:grid-cols-3",children:[jsx(CardStep,{index:1,title:"\u4E0A\u50B3\u6A94\u6848",description:"\u9078\u64C7PDF\u6A94\u6216\u662FIMG\u6A94",imageUrl:imageFileUpload}),jsx(CardStep,{index:2,title:"\u52A0\u5165\u7C3D\u540D\u6A94",description:"\u624B\u5BEB\u3001\u8F38\u5165\u6216\u662F\u4E0A\u50B3\u7C3D\u540D\u6A94",imageUrl:imageSigning}),jsx(CardStep,{index:3,title:"\u4E0B\u8F09\u8207\u50B3\u9001",description:"\u5B8C\u6210\u7C3D\u7F72\u53EF\u7ACB\u5373\u50B3\u9001\u6A94\u6848\u7D66\u5C0D\u65B9",imageUrl:imageSending})]})]}),jsx("footer",{className:"flex h-12 items-center bg-gray-dark",children:jsx("p",{className:"container text-sm text-white",children:"@ 2022 The F2E 4th"})})]});var PI_OVER_180=Math.PI/180;function detectBrowser(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Konva$1={_global:glob,version:"8.3.14",isBrowser:detectBrowser(),isUnminified:/param/.test(function(St){}.toString()),dblClickWindow:400,getAngle(St){return Konva$1.angleDeg?St*PI_OVER_180:St},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Konva$1.DD.isDragging},isDragReady(){return!!Konva$1.DD.node},releaseCanvasOnDestroy:!0,document:glob.document,_injectGlobal(St){glob.Konva=St}},_registerNode=St=>{Konva$1[St.prototype.getClassName()]=St};Konva$1._injectGlobal(Konva$1);class Transform{constructor(_e=[1,0,0,1,0,0]){this.dirty=!1,this.m=_e&&_e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Transform(this.m)}copyInto(_e){_e.m[0]=this.m[0],_e.m[1]=this.m[1],_e.m[2]=this.m[2],_e.m[3]=this.m[3],_e.m[4]=this.m[4],_e.m[5]=this.m[5]}point(_e){var en=this.m;return{x:en[0]*_e.x+en[2]*_e.y+en[4],y:en[1]*_e.x+en[3]*_e.y+en[5]}}translate(_e,en){return this.m[4]+=this.m[0]*_e+this.m[2]*en,this.m[5]+=this.m[1]*_e+this.m[3]*en,this}scale(_e,en){return this.m[0]*=_e,this.m[1]*=_e,this.m[2]*=en,this.m[3]*=en,this}rotate(_e){var en=Math.cos(_e),tn=Math.sin(_e),nn=this.m[0]*en+this.m[2]*tn,rn=this.m[1]*en+this.m[3]*tn,sn=this.m[0]*-tn+this.m[2]*en,an=this.m[1]*-tn+this.m[3]*en;return this.m[0]=nn,this.m[1]=rn,this.m[2]=sn,this.m[3]=an,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_e,en){var tn=this.m[0]+this.m[2]*en,nn=this.m[1]+this.m[3]*en,rn=this.m[2]+this.m[0]*_e,sn=this.m[3]+this.m[1]*_e;return this.m[0]=tn,this.m[1]=nn,this.m[2]=rn,this.m[3]=sn,this}multiply(_e){var en=this.m[0]*_e.m[0]+this.m[2]*_e.m[1],tn=this.m[1]*_e.m[0]+this.m[3]*_e.m[1],nn=this.m[0]*_e.m[2]+this.m[2]*_e.m[3],rn=this.m[1]*_e.m[2]+this.m[3]*_e.m[3],sn=this.m[0]*_e.m[4]+this.m[2]*_e.m[5]+this.m[4],an=this.m[1]*_e.m[4]+this.m[3]*_e.m[5]+this.m[5];return this.m[0]=en,this.m[1]=tn,this.m[2]=nn,this.m[3]=rn,this.m[4]=sn,this.m[5]=an,this}invert(){var _e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),en=this.m[3]*_e,tn=-this.m[1]*_e,nn=-this.m[2]*_e,rn=this.m[0]*_e,sn=_e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),an=_e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=en,this.m[1]=tn,this.m[2]=nn,this.m[3]=rn,this.m[4]=sn,this.m[5]=an,this}getMatrix(){return this.m}decompose(){var _e=this.m[0],en=this.m[1],tn=this.m[2],nn=this.m[3],rn=this.m[4],sn=this.m[5],an=_e*nn-en*tn;let on={x:rn,y:sn,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_e!=0||en!=0){var cn=Math.sqrt(_e*_e+en*en);on.rotation=en>0?Math.acos(_e/cn):-Math.acos(_e/cn),on.scaleX=cn,on.scaleY=an/cn,on.skewX=(_e*tn+en*nn)/an,on.skewY=0}else if(tn!=0||nn!=0){var dn=Math.sqrt(tn*tn+nn*nn);on.rotation=Math.PI/2-(nn>0?Math.acos(-tn/dn):-Math.acos(tn/dn)),on.scaleX=an/dn,on.scaleY=dn,on.skewX=0,on.skewY=(_e*tn+en*nn)/an}return on.rotation=Util._getRotation(on.rotation),on}}var OBJECT_ARRAY="[object Array]",OBJECT_NUMBER="[object Number]",OBJECT_STRING="[object String]",OBJECT_BOOLEAN="[object Boolean]",PI_OVER_DEG180=Math.PI/180,DEG180_OVER_PI=180/Math.PI,HASH$1="#",EMPTY_STRING$1="",ZERO="0",KONVA_WARNING="Konva warning: ",KONVA_ERROR="Konva error: ",RGB_PAREN="rgb(",COLORS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},RGB_REGEX=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,animQueue=[];const req=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(St){setTimeout(St,60)},Util={_isElement(St){return!!(St&&St.nodeType==1)},_isFunction(St){return!!(St&&St.constructor&&St.call&&St.apply)},_isPlainObject(St){return!!St&&St.constructor===Object},_isArray(St){return Object.prototype.toString.call(St)===OBJECT_ARRAY},_isNumber(St){return Object.prototype.toString.call(St)===OBJECT_NUMBER&&!isNaN(St)&&isFinite(St)},_isString(St){return Object.prototype.toString.call(St)===OBJECT_STRING},_isBoolean(St){return Object.prototype.toString.call(St)===OBJECT_BOOLEAN},isObject(St){return St instanceof Object},isValidSelector(St){if(typeof St!="string")return!1;var _e=St[0];return _e==="#"||_e==="."||_e===_e.toUpperCase()},_sign(St){return St===0||St>0?1:-1},requestAnimFrame(St){animQueue.push(St),animQueue.length===1&&req(function(){const _e=animQueue;animQueue=[],_e.forEach(function(en){en()})})},createCanvasElement(){var St=document.createElement("canvas");try{St.style=St.style||{}}catch{}return St},createImageElement(){return document.createElement("img")},_isInDocument(St){for(;St=St.parentNode;)if(St==document)return!0;return!1},_urlToImage(St,_e){var en=Util.createImageElement();en.onload=function(){_e(en)},en.src=St},_rgbToHex(St,_e,en){return((1<<24)+(St<<16)+(_e<<8)+en).toString(16).slice(1)},_hexToRgb(St){St=St.replace(HASH$1,EMPTY_STRING$1);var _e=parseInt(St,16);return{r:_e>>16&255,g:_e>>8&255,b:_e&255}},getRandomColor(){for(var St=(Math.random()*16777215<<0).toString(16);St.length<6;)St=ZERO+St;return HASH$1+St},getRGB(St){var _e;return St in COLORS?(_e=COLORS[St],{r:_e[0],g:_e[1],b:_e[2]}):St[0]===HASH$1?this._hexToRgb(St.substring(1)):St.substr(0,4)===RGB_PAREN?(_e=RGB_REGEX.exec(St.replace(/ /g,"")),{r:parseInt(_e[1],10),g:parseInt(_e[2],10),b:parseInt(_e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(St){return St=St||"black",Util._namedColorToRBA(St)||Util._hex3ColorToRGBA(St)||Util._hex6ColorToRGBA(St)||Util._rgbColorToRGBA(St)||Util._rgbaColorToRGBA(St)||Util._hslColorToRGBA(St)},_namedColorToRBA(St){var _e=COLORS[St.toLowerCase()];return _e?{r:_e[0],g:_e[1],b:_e[2],a:1}:null},_rgbColorToRGBA(St){if(St.indexOf("rgb(")===0){St=St.match(/rgb\(([^)]+)\)/)[1];var _e=St.split(/ *, */).map(Number);return{r:_e[0],g:_e[1],b:_e[2],a:1}}},_rgbaColorToRGBA(St){if(St.indexOf("rgba(")===0){St=St.match(/rgba\(([^)]+)\)/)[1];var _e=St.split(/ *, */).map((en,tn)=>en.slice(-1)==="%"?tn===3?parseInt(en)/100:parseInt(en)/100*255:Number(en));return{r:_e[0],g:_e[1],b:_e[2],a:_e[3]}}},_hex6ColorToRGBA(St){if(St[0]==="#"&&St.length===7)return{r:parseInt(St.slice(1,3),16),g:parseInt(St.slice(3,5),16),b:parseInt(St.slice(5,7),16),a:1}},_hex3ColorToRGBA(St){if(St[0]==="#"&&St.length===4)return{r:parseInt(St[1]+St[1],16),g:parseInt(St[2]+St[2],16),b:parseInt(St[3]+St[3],16),a:1}},_hslColorToRGBA(St){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(St)){const[_e,...en]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(St),tn=Number(en[0])/360,nn=Number(en[1])/100,rn=Number(en[2])/100;let sn,an,on;if(nn===0)return on=rn*255,{r:Math.round(on),g:Math.round(on),b:Math.round(on),a:1};rn<.5?sn=rn*(1+nn):sn=rn+nn-rn*nn;const cn=2*rn-sn,dn=[0,0,0];for(let mn=0;mn<3;mn++)an=tn+1/3*-(mn-1),an<0&&an++,an>1&&an--,6*an<1?on=cn+(sn-cn)*6*an:2*an<1?on=sn:3*an<2?on=cn+(sn-cn)*(2/3-an)*6:on=cn,dn[mn]=on*255;return{r:Math.round(dn[0]),g:Math.round(dn[1]),b:Math.round(dn[2]),a:1}}},haveIntersection(St,_e){return!(_e.x>St.x+St.width||_e.x+_e.width<St.x||_e.y>St.y+St.height||_e.y+_e.height<St.y)},cloneObject(St){var _e={};for(var en in St)this._isPlainObject(St[en])?_e[en]=this.cloneObject(St[en]):this._isArray(St[en])?_e[en]=this.cloneArray(St[en]):_e[en]=St[en];return _e},cloneArray(St){return St.slice(0)},degToRad(St){return St*PI_OVER_DEG180},radToDeg(St){return St*DEG180_OVER_PI},_degToRad(St){return Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Util.degToRad(St)},_radToDeg(St){return Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Util.radToDeg(St)},_getRotation(St){return Konva$1.angleDeg?Util.radToDeg(St):St},_capitalize(St){return St.charAt(0).toUpperCase()+St.slice(1)},throw(St){throw new Error(KONVA_ERROR+St)},error(St){console.error(KONVA_ERROR+St)},warn(St){!Konva$1.showWarnings||console.warn(KONVA_WARNING+St)},each(St,_e){for(var en in St)_e(en,St[en])},_inRange(St,_e,en){return _e<=St&&St<en},_getProjectionToSegment(St,_e,en,tn,nn,rn){var sn,an,on,cn=(St-en)*(St-en)+(_e-tn)*(_e-tn);if(cn==0)sn=St,an=_e,on=(nn-en)*(nn-en)+(rn-tn)*(rn-tn);else{var dn=((nn-St)*(en-St)+(rn-_e)*(tn-_e))/cn;dn<0?(sn=St,an=_e,on=(St-nn)*(St-nn)+(_e-rn)*(_e-rn)):dn>1?(sn=en,an=tn,on=(en-nn)*(en-nn)+(tn-rn)*(tn-rn)):(sn=St+dn*(en-St),an=_e+dn*(tn-_e),on=(sn-nn)*(sn-nn)+(an-rn)*(an-rn))}return[sn,an,on]},_getProjectionToLine(St,_e,en){var tn=Util.cloneObject(St),nn=Number.MAX_VALUE;return _e.forEach(function(rn,sn){if(!(!en&&sn===_e.length-1)){var an=_e[(sn+1)%_e.length],on=Util._getProjectionToSegment(rn.x,rn.y,an.x,an.y,St.x,St.y),cn=on[0],dn=on[1],mn=on[2];mn<nn&&(tn.x=cn,tn.y=dn,nn=mn)}}),tn},_prepareArrayForTween(St,_e,en){var tn,nn=[],rn=[];if(St.length>_e.length){var sn=_e;_e=St,St=sn}for(tn=0;tn<St.length;tn+=2)nn.push({x:St[tn],y:St[tn+1]});for(tn=0;tn<_e.length;tn+=2)rn.push({x:_e[tn],y:_e[tn+1]});var an=[];return rn.forEach(function(on){var cn=Util._getProjectionToLine(on,nn,en);an.push(cn.x),an.push(cn.y)}),an},_prepareToStringify(St){var _e;St.visitedByCircularReferenceRemoval=!0;for(var en in St)if(!!(St.hasOwnProperty(en)&&St[en]&&typeof St[en]=="object")){if(_e=Object.getOwnPropertyDescriptor(St,en),St[en].visitedByCircularReferenceRemoval||Util._isElement(St[en]))if(_e.configurable)delete St[en];else return null;else if(Util._prepareToStringify(St[en])===null)if(_e.configurable)delete St[en];else return null}return delete St.visitedByCircularReferenceRemoval,St},_assign(St,_e){for(var en in _e)St[en]=_e[en];return St},_getFirstPointerId(St){return St.touches?St.changedTouches[0].identifier:St.pointerId||999},releaseCanvas(...St){!Konva$1.releaseCanvasOnDestroy||St.forEach(_e=>{_e.width=0,_e.height=0})}};function _formatValue(St){return Util._isString(St)?'"'+St+'"':Object.prototype.toString.call(St)==="[object Number]"||Util._isBoolean(St)?St:Object.prototype.toString.call(St)}function RGBComponent(St){return St>255?255:St<0?0:Math.round(St)}function getNumberValidator(){if(Konva$1.isUnminified)return function(St,_e){return Util._isNumber(St)||Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a number.'),St}}function getNumberOrArrayOfNumbersValidator(St){if(Konva$1.isUnminified)return function(_e,en){let tn=Util._isNumber(_e),nn=Util._isArray(_e)&&_e.length==St;return!tn&&!nn&&Util.warn(_formatValue(_e)+' is a not valid value for "'+en+'" attribute. The value should be a number or Array<number>('+St+")"),_e}}function getNumberOrAutoValidator(){if(Konva$1.isUnminified)return function(St,_e){var en=Util._isNumber(St),tn=St==="auto";return en||tn||Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a number or "auto".'),St}}function getStringValidator(){if(Konva$1.isUnminified)return function(St,_e){return Util._isString(St)||Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a string.'),St}}function getStringOrGradientValidator(){if(Konva$1.isUnminified)return function(St,_e){const en=Util._isString(St),tn=Object.prototype.toString.call(St)==="[object CanvasGradient]"||St&&St.addColorStop;return en||tn||Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a string or a native gradient.'),St}}function getNumberArrayValidator(){if(Konva$1.isUnminified)return function(St,_e){const en=Int8Array?Object.getPrototypeOf(Int8Array):null;return en&&St instanceof en||(Util._isArray(St)?St.forEach(function(tn){Util._isNumber(tn)||Util.warn('"'+_e+'" attribute has non numeric element '+tn+". Make sure that all elements are numbers.")}):Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a array of numbers.')),St}}function getBooleanValidator(){if(Konva$1.isUnminified)return function(St,_e){var en=St===!0||St===!1;return en||Util.warn(_formatValue(St)+' is a not valid value for "'+_e+'" attribute. The value should be a boolean.'),St}}function getComponentValidator(St){if(Konva$1.isUnminified)return function(_e,en){return _e==null||Util.isObject(_e)||Util.warn(_formatValue(_e)+' is a not valid value for "'+en+'" attribute. The value should be an object with properties '+St),_e}}var GET="get",SET$1="set";const Factory={addGetterSetter(St,_e,en,tn,nn){Factory.addGetter(St,_e,en),Factory.addSetter(St,_e,tn,nn),Factory.addOverloadedGetterSetter(St,_e)},addGetter(St,_e,en){var tn=GET+Util._capitalize(_e);St.prototype[tn]=St.prototype[tn]||function(){var nn=this.attrs[_e];return nn===void 0?en:nn}},addSetter(St,_e,en,tn){var nn=SET$1+Util._capitalize(_e);St.prototype[nn]||Factory.overWriteSetter(St,_e,en,tn)},overWriteSetter(St,_e,en,tn){var nn=SET$1+Util._capitalize(_e);St.prototype[nn]=function(rn){return en&&rn!==void 0&&rn!==null&&(rn=en.call(this,rn,_e)),this._setAttr(_e,rn),tn&&tn.call(this),this}},addComponentsGetterSetter(St,_e,en,tn,nn){var rn=en.length,sn=Util._capitalize,an=GET+sn(_e),on=SET$1+sn(_e),cn,dn;St.prototype[an]=function(){var pn={};for(cn=0;cn<rn;cn++)dn=en[cn],pn[dn]=this.getAttr(_e+sn(dn));return pn};var mn=getComponentValidator(en);St.prototype[on]=function(pn){var fn=this.attrs[_e],yn;tn&&(pn=tn.call(this,pn)),mn&&mn.call(this,pn,_e);for(yn in pn)!pn.hasOwnProperty(yn)||this._setAttr(_e+sn(yn),pn[yn]);return pn||en.forEach(bn=>{this._setAttr(_e+sn(bn),void 0)}),this._fireChangeEvent(_e,fn,pn),nn&&nn.call(this),this},Factory.addOverloadedGetterSetter(St,_e)},addOverloadedGetterSetter(St,_e){var en=Util._capitalize(_e),tn=SET$1+en,nn=GET+en;St.prototype[_e]=function(){return arguments.length?(this[tn](arguments[0]),this):this[nn]()}},addDeprecatedGetterSetter(St,_e,en,tn){Util.error("Adding deprecated "+_e);var nn=GET+Util._capitalize(_e),rn=_e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";St.prototype[nn]=function(){Util.error(rn);var sn=this.attrs[_e];return sn===void 0?en:sn},Factory.addSetter(St,_e,tn,function(){Util.error(rn)}),Factory.addOverloadedGetterSetter(St,_e)},backCompat(St,_e){Util.each(_e,function(en,tn){var nn=St.prototype[tn],rn=GET+Util._capitalize(en),sn=SET$1+Util._capitalize(en);function an(){nn.apply(this,arguments),Util.error('"'+en+'" method is deprecated and will be removed soon. Use ""'+tn+'" instead.')}St.prototype[en]=an,St.prototype[rn]=an,St.prototype[sn]=an})},afterSetFilter(){this._filterUpToDate=!1}};function simplifyArray(St){var _e=[],en=St.length,tn=Util,nn,rn;for(nn=0;nn<en;nn++)rn=St[nn],tn._isNumber(rn)?rn=Math.round(rn*1e3)/1e3:tn._isString(rn)||(rn=rn+""),_e.push(rn);return _e}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;class Context{constructor(_e){this.canvas=_e,Konva$1.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(_e){_e.fillEnabled()&&this._fill(_e)}_fill(_e){}strokeShape(_e){_e.hasStroke()&&this._stroke(_e)}_stroke(_e){}fillStrokeShape(_e){_e.attrs.fillAfterStrokeEnabled?(this.strokeShape(_e),this.fillShape(_e)):(this.fillShape(_e),this.strokeShape(_e))}getTrace(_e,en){var tn=this.traceArr,nn=tn.length,rn="",sn,an,on,cn;for(sn=0;sn<nn;sn++)an=tn[sn],on=an.method,on?(cn=an.args,rn+=on,_e?rn+=DOUBLE_PAREN:Util._isArray(cn[0])?rn+=OPEN_PAREN_BRACKET+cn.join(COMMA)+CLOSE_BRACKET_PAREN:(en&&(cn=cn.map(dn=>typeof dn=="number"?Math.floor(dn):dn)),rn+=OPEN_PAREN+cn.join(COMMA)+CLOSE_PAREN)):(rn+=an.property,_e||(rn+=EQUALS+an.val)),rn+=SEMICOLON;return rn}clearTrace(){this.traceArr=[]}_trace(_e){var en=this.traceArr,tn;en.push(_e),tn=en.length,tn>=traceArrMax&&en.shift()}reset(){var _e=this.getCanvas().getPixelRatio();this.setTransform(1*_e,0,0,1*_e,0,0)}getCanvas(){return this.canvas}clear(_e){var en=this.getCanvas();_e?this.clearRect(_e.x||0,_e.y||0,_e.width||0,_e.height||0):this.clearRect(0,0,en.getWidth()/en.pixelRatio,en.getHeight()/en.pixelRatio)}_applyLineCap(_e){var en=_e.getLineCap();en&&this.setAttr("lineCap",en)}_applyOpacity(_e){var en=_e.getAbsoluteOpacity();en!==1&&this.setAttr("globalAlpha",en)}_applyLineJoin(_e){var en=_e.attrs.lineJoin;en&&this.setAttr("lineJoin",en)}setAttr(_e,en){this._context[_e]=en}arc(_e,en,tn,nn,rn,sn){this._context.arc(_e,en,tn,nn,rn,sn)}arcTo(_e,en,tn,nn,rn){this._context.arcTo(_e,en,tn,nn,rn)}beginPath(){this._context.beginPath()}bezierCurveTo(_e,en,tn,nn,rn,sn){this._context.bezierCurveTo(_e,en,tn,nn,rn,sn)}clearRect(_e,en,tn,nn){this._context.clearRect(_e,en,tn,nn)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(_e,en){var tn=arguments;if(tn.length===2)return this._context.createImageData(_e,en);if(tn.length===1)return this._context.createImageData(_e)}createLinearGradient(_e,en,tn,nn){return this._context.createLinearGradient(_e,en,tn,nn)}createPattern(_e,en){return this._context.createPattern(_e,en)}createRadialGradient(_e,en,tn,nn,rn,sn){return this._context.createRadialGradient(_e,en,tn,nn,rn,sn)}drawImage(_e,en,tn,nn,rn,sn,an,on,cn){var dn=arguments,mn=this._context;dn.length===3?mn.drawImage(_e,en,tn):dn.length===5?mn.drawImage(_e,en,tn,nn,rn):dn.length===9&&mn.drawImage(_e,en,tn,nn,rn,sn,an,on,cn)}ellipse(_e,en,tn,nn,rn,sn,an,on){this._context.ellipse(_e,en,tn,nn,rn,sn,an,on)}isPointInPath(_e,en){return this._context.isPointInPath(_e,en)}fill(_e){_e?this._context.fill(_e):this._context.fill()}fillRect(_e,en,tn,nn){this._context.fillRect(_e,en,tn,nn)}strokeRect(_e,en,tn,nn){this._context.strokeRect(_e,en,tn,nn)}fillText(_e,en,tn,nn){nn?this._context.fillText(_e,en,tn,nn):this._context.fillText(_e,en,tn)}measureText(_e){return this._context.measureText(_e)}getImageData(_e,en,tn,nn){return this._context.getImageData(_e,en,tn,nn)}lineTo(_e,en){this._context.lineTo(_e,en)}moveTo(_e,en){this._context.moveTo(_e,en)}rect(_e,en,tn,nn){this._context.rect(_e,en,tn,nn)}putImageData(_e,en,tn){this._context.putImageData(_e,en,tn)}quadraticCurveTo(_e,en,tn,nn){this._context.quadraticCurveTo(_e,en,tn,nn)}restore(){this._context.restore()}rotate(_e){this._context.rotate(_e)}save(){this._context.save()}scale(_e,en){this._context.scale(_e,en)}setLineDash(_e){this._context.setLineDash?this._context.setLineDash(_e):"mozDash"in this._context?this._context.mozDash=_e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=_e)}getLineDash(){return this._context.getLineDash()}setTransform(_e,en,tn,nn,rn,sn){this._context.setTransform(_e,en,tn,nn,rn,sn)}stroke(_e){_e?this._context.stroke(_e):this._context.stroke()}strokeText(_e,en,tn,nn){this._context.strokeText(_e,en,tn,nn)}transform(_e,en,tn,nn,rn,sn){this._context.transform(_e,en,tn,nn,rn,sn)}translate(_e,en){this._context.translate(_e,en)}_enableTrace(){var _e=this,en=CONTEXT_METHODS.length,tn=this.setAttr,nn,rn,sn=function(an){var on=_e[an],cn;_e[an]=function(){return rn=simplifyArray(Array.prototype.slice.call(arguments,0)),cn=on.apply(_e,arguments),_e._trace({method:an,args:rn}),cn}};for(nn=0;nn<en;nn++)sn(CONTEXT_METHODS[nn]);_e.setAttr=function(){tn.apply(_e,arguments);var an=arguments[0],on=arguments[1];(an==="shadowOffsetX"||an==="shadowOffsetY"||an==="shadowBlur")&&(on=on/this.canvas.getPixelRatio()),_e._trace({property:an,val:on})}}_applyGlobalCompositeOperation(_e){const en=_e.attrs.globalCompositeOperation;var tn=!en||en==="source-over";tn||this.setAttr("globalCompositeOperation",en)}}CONTEXT_PROPERTIES.forEach(function(St){Object.defineProperty(Context.prototype,St,{get(){return this._context[St]},set(_e){this._context[St]=_e}})});class SceneContext extends Context{constructor(_e){super(_e),this._context=_e._canvas.getContext("2d")}_fillColor(_e){var en=_e.fill();this.setAttr("fillStyle",en),_e._fillFunc(this)}_fillPattern(_e){this.setAttr("fillStyle",_e._getFillPattern()),_e._fillFunc(this)}_fillLinearGradient(_e){var en=_e._getLinearGradient();en&&(this.setAttr("fillStyle",en),_e._fillFunc(this))}_fillRadialGradient(_e){var en=_e._getRadialGradient();en&&(this.setAttr("fillStyle",en),_e._fillFunc(this))}_fill(_e){var en=_e.fill(),tn=_e.getFillPriority();if(en&&tn==="color"){this._fillColor(_e);return}var nn=_e.getFillPatternImage();if(nn&&tn==="pattern"){this._fillPattern(_e);return}var rn=_e.getFillLinearGradientColorStops();if(rn&&tn==="linear-gradient"){this._fillLinearGradient(_e);return}var sn=_e.getFillRadialGradientColorStops();if(sn&&tn==="radial-gradient"){this._fillRadialGradient(_e);return}en?this._fillColor(_e):nn?this._fillPattern(_e):rn?this._fillLinearGradient(_e):sn&&this._fillRadialGradient(_e)}_strokeLinearGradient(_e){var en=_e.getStrokeLinearGradientStartPoint(),tn=_e.getStrokeLinearGradientEndPoint(),nn=_e.getStrokeLinearGradientColorStops(),rn=this.createLinearGradient(en.x,en.y,tn.x,tn.y);if(nn){for(var sn=0;sn<nn.length;sn+=2)rn.addColorStop(nn[sn],nn[sn+1]);this.setAttr("strokeStyle",rn)}}_stroke(_e){var en=_e.dash(),tn=_e.getStrokeScaleEnabled();if(_e.hasStroke()){if(!tn){this.save();var nn=this.getCanvas().getPixelRatio();this.setTransform(nn,0,0,nn,0,0)}this._applyLineCap(_e),en&&_e.dashEnabled()&&(this.setLineDash(en),this.setAttr("lineDashOffset",_e.dashOffset())),this.setAttr("lineWidth",_e.strokeWidth()),_e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var rn=_e.getStrokeLinearGradientColorStops();rn?this._strokeLinearGradient(_e):this.setAttr("strokeStyle",_e.stroke()),_e._strokeFunc(this),tn||this.restore()}}_applyShadow(_e){var en,tn,nn,rn=(en=_e.getShadowRGBA())!==null&&en!==void 0?en:"black",sn=(tn=_e.getShadowBlur())!==null&&tn!==void 0?tn:5,an=(nn=_e.getShadowOffset())!==null&&nn!==void 0?nn:{x:0,y:0},on=_e.getAbsoluteScale(),cn=this.canvas.getPixelRatio(),dn=on.x*cn,mn=on.y*cn;this.setAttr("shadowColor",rn),this.setAttr("shadowBlur",sn*Math.min(Math.abs(dn),Math.abs(mn))),this.setAttr("shadowOffsetX",an.x*dn),this.setAttr("shadowOffsetY",an.y*mn)}}class HitContext extends Context{constructor(_e){super(_e),this._context=_e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(_e){this.save(),this.setAttr("fillStyle",_e.colorKey),_e._fillFuncHit(this),this.restore()}strokeShape(_e){_e.hasHitStroke()&&this._stroke(_e)}_stroke(_e){if(_e.hasHitStroke()){var en=_e.getStrokeScaleEnabled();if(!en){this.save();var tn=this.getCanvas().getPixelRatio();this.setTransform(tn,0,0,tn,0,0)}this._applyLineCap(_e);var nn=_e.hitStrokeWidth(),rn=nn==="auto"?_e.strokeWidth():nn;this.setAttr("lineWidth",rn),this.setAttr("strokeStyle",_e.colorKey),_e._strokeFuncHit(this),en||this.restore()}}}var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var St=Util.createCanvasElement(),_e=St.getContext("2d");return _pixelRatio=function(){var en=Konva$1._global.devicePixelRatio||1,tn=_e.webkitBackingStorePixelRatio||_e.mozBackingStorePixelRatio||_e.msBackingStorePixelRatio||_e.oBackingStorePixelRatio||_e.backingStorePixelRatio||1;return en/tn}(),Util.releaseCanvas(St),_pixelRatio}class Canvas{constructor(_e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var en=_e||{},tn=en.pixelRatio||Konva$1.pixelRatio||getDevicePixelRatio();this.pixelRatio=tn,this._canvas=Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(_e){var en=this.pixelRatio;this.pixelRatio=_e,this.setSize(this.getWidth()/en,this.getHeight()/en)}setWidth(_e){this.width=this._canvas.width=_e*this.pixelRatio,this._canvas.style.width=_e+"px";var en=this.pixelRatio,tn=this.getContext()._context;tn.scale(en,en)}setHeight(_e){this.height=this._canvas.height=_e*this.pixelRatio,this._canvas.style.height=_e+"px";var en=this.pixelRatio,tn=this.getContext()._context;tn.scale(en,en)}getWidth(){return this.width}getHeight(){return this.height}setSize(_e,en){this.setWidth(_e||0),this.setHeight(en||0)}toDataURL(_e,en){try{return this._canvas.toDataURL(_e,en)}catch{try{return this._canvas.toDataURL()}catch(nn){return Util.error("Unable to get data URL. "+nn.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Factory.addGetterSetter(Canvas,"pixelRatio",void 0,getNumberValidator());class SceneCanvas extends Canvas{constructor(_e={width:0,height:0}){super(_e),this.context=new SceneContext(this),this.setSize(_e.width,_e.height)}}class HitCanvas extends Canvas{constructor(_e={width:0,height:0}){super(_e),this.hitCanvas=!0,this.context=new HitContext(this),this.setSize(_e.width,_e.height)}}const DD={get isDragging(){var St=!1;return DD._dragElements.forEach(_e=>{_e.dragStatus==="dragging"&&(St=!0)}),St},justDragged:!1,get node(){var St;return DD._dragElements.forEach(_e=>{St=_e.node}),St},_dragElements:new Map,_drag(St){const _e=[];DD._dragElements.forEach((en,tn)=>{const{node:nn}=en,rn=nn.getStage();rn.setPointersPositions(St),en.pointerId===void 0&&(en.pointerId=Util._getFirstPointerId(St));const sn=rn._changedPointerPositions.find(cn=>cn.id===en.pointerId);if(!!sn){if(en.dragStatus!=="dragging"){var an=nn.dragDistance(),on=Math.max(Math.abs(sn.x-en.startPointerPos.x),Math.abs(sn.y-en.startPointerPos.y));if(on<an||(nn.startDrag({evt:St}),!nn.isDragging()))return}nn._setDragPosition(St,en),_e.push(nn)}}),_e.forEach(en=>{en.fire("dragmove",{type:"dragmove",target:en,evt:St},!0)})},_endDragBefore(St){const _e=[];DD._dragElements.forEach(en=>{const{node:tn}=en,nn=tn.getStage();if(St&&nn.setPointersPositions(St),!nn._changedPointerPositions.find(an=>an.id===en.pointerId))return;(en.dragStatus==="dragging"||en.dragStatus==="stopped")&&(DD.justDragged=!0,Konva$1._mouseListenClick=!1,Konva$1._touchListenClick=!1,Konva$1._pointerListenClick=!1,en.dragStatus="stopped");const sn=en.node.getLayer()||en.node instanceof Konva$1.Stage&&en.node;sn&&_e.indexOf(sn)===-1&&_e.push(sn)}),_e.forEach(en=>{en.draw()})},_endDragAfter(St){DD._dragElements.forEach((_e,en)=>{_e.dragStatus==="stopped"&&_e.node.fire("dragend",{type:"dragend",target:_e.node,evt:St},!0),_e.dragStatus!=="dragging"&&DD._dragElements.delete(en)})}};Konva$1.isBrowser&&(window.addEventListener("mouseup",DD._endDragBefore,!0),window.addEventListener("touchend",DD._endDragBefore,!0),window.addEventListener("mousemove",DD._drag),window.addEventListener("touchmove",DD._drag),window.addEventListener("mouseup",DD._endDragAfter,!1),window.addEventListener("touchend",DD._endDragAfter,!1));var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER$1="mouseenter",MOUSELEAVE$1="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE$1="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter$1=1;class Node{constructor(_e){this._id=idCounter$1++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_e){(_e===TRANSFORM||_e===ABSOLUTE_TRANSFORM)&&this._cache.get(_e)?this._cache.get(_e).dirty=!0:_e?this._cache.delete(_e):this._cache.clear()}_getCache(_e,en){var tn=this._cache.get(_e),nn=_e===TRANSFORM||_e===ABSOLUTE_TRANSFORM,rn=tn===void 0||nn&&tn.dirty===!0;return rn&&(tn=en.call(this),this._cache.set(_e,tn)),tn}_calculate(_e,en,tn){if(!this._attachedDepsListeners.get(_e)){const nn=en.map(rn=>rn+"Change.konva").join(SPACE$1);this.on(nn,()=>{this._clearCache(_e)}),this._attachedDepsListeners.set(_e,!0)}return this._getCache(_e,tn)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(_e){this._clearCache(_e),_e===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(CANVAS)){const{scene:_e,filter:en,hit:tn}=this._cache.get(CANVAS);Util.releaseCanvas(_e,en,tn),this._cache.delete(CANVAS)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_e){var en=_e||{},tn={};(en.x===void 0||en.y===void 0||en.width===void 0||en.height===void 0)&&(tn=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var nn=Math.ceil(en.width||tn.width),rn=Math.ceil(en.height||tn.height),sn=en.pixelRatio,an=en.x===void 0?Math.floor(tn.x):en.x,on=en.y===void 0?Math.floor(tn.y):en.y,cn=en.offset||0,dn=en.drawBorder||!1,mn=en.hitCanvasPixelRatio||1;if(!nn||!rn){Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}nn+=cn*2+1,rn+=cn*2+1,an-=cn,on-=cn;var pn=new SceneCanvas({pixelRatio:sn,width:nn,height:rn}),fn=new SceneCanvas({pixelRatio:sn,width:0,height:0}),yn=new HitCanvas({pixelRatio:mn,width:nn,height:rn}),bn=pn.getContext(),wn=yn.getContext();return yn.isCache=!0,pn.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,en.imageSmoothingEnabled===!1&&(pn.getContext()._context.imageSmoothingEnabled=!1,fn.getContext()._context.imageSmoothingEnabled=!1),bn.save(),wn.save(),bn.translate(-an,-on),wn.translate(-an,-on),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene(pn,this),this.drawHit(yn,this),this._isUnderCache=!1,bn.restore(),wn.restore(),dn&&(bn.save(),bn.beginPath(),bn.rect(0,0,nn,rn),bn.closePath(),bn.setAttr("strokeStyle","red"),bn.setAttr("lineWidth",5),bn.stroke(),bn.restore()),this._cache.set(CANVAS,{scene:pn,filter:fn,hit:yn,x:an,y:on}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(_e){throw new Error('abstract "getClientRect" method call')}_transformedRect(_e,en){var tn=[{x:_e.x,y:_e.y},{x:_e.x+_e.width,y:_e.y},{x:_e.x+_e.width,y:_e.y+_e.height},{x:_e.x,y:_e.y+_e.height}],nn,rn,sn,an,on=this.getAbsoluteTransform(en);return tn.forEach(function(cn){var dn=on.point(cn);nn===void 0&&(nn=sn=dn.x,rn=an=dn.y),nn=Math.min(nn,dn.x),rn=Math.min(rn,dn.y),sn=Math.max(sn,dn.x),an=Math.max(an,dn.y)}),{x:nn,y:rn,width:sn-nn,height:an-rn}}_drawCachedSceneCanvas(_e){_e.save(),_e._applyOpacity(this),_e._applyGlobalCompositeOperation(this);const en=this._getCanvasCache();_e.translate(en.x,en.y);var tn=this._getCachedSceneCanvas(),nn=tn.pixelRatio;_e.drawImage(tn._canvas,0,0,tn.width/nn,tn.height/nn),_e.restore()}_drawCachedHitCanvas(_e){var en=this._getCanvasCache(),tn=en.hit;_e.save(),_e.translate(en.x,en.y),_e.drawImage(tn._canvas,0,0,tn.width/tn.pixelRatio,tn.height/tn.pixelRatio),_e.restore()}_getCachedSceneCanvas(){var _e=this.filters(),en=this._getCanvasCache(),tn=en.scene,nn=en.filter,rn=nn.getContext(),sn,an,on,cn;if(_e){if(!this._filterUpToDate){var dn=tn.pixelRatio;nn.setSize(tn.width/tn.pixelRatio,tn.height/tn.pixelRatio);try{for(sn=_e.length,rn.clear(),rn.drawImage(tn._canvas,0,0,tn.getWidth()/dn,tn.getHeight()/dn),an=rn.getImageData(0,0,nn.getWidth(),nn.getHeight()),on=0;on<sn;on++){if(cn=_e[on],typeof cn!="function"){Util.error("Filter should be type of function, but got "+typeof cn+" instead. Please check correct filters");continue}cn.call(this,an),rn.putImageData(an,0,0)}}catch(mn){Util.error("Unable to apply filter. "+mn.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return nn}return tn}on(_e,en){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var tn=_e.split(SPACE$1),nn=tn.length,rn,sn,an,on,cn;for(rn=0;rn<nn;rn++)sn=tn[rn],an=sn.split("."),on=an[0],cn=an[1]||"",this.eventListeners[on]||(this.eventListeners[on]=[]),this.eventListeners[on].push({name:cn,handler:en});return this}off(_e,en){var tn=(_e||"").split(SPACE$1),nn=tn.length,rn,sn,an,on,cn,dn;if(this._cache&&this._cache.delete(ALL_LISTENERS),!_e)for(sn in this.eventListeners)this._off(sn);for(rn=0;rn<nn;rn++)if(an=tn[rn],on=an.split("."),cn=on[0],dn=on[1],cn)this.eventListeners[cn]&&this._off(cn,dn,en);else for(sn in this.eventListeners)this._off(sn,dn,en);return this}dispatchEvent(_e){var en={target:this,type:_e.type,evt:_e};return this.fire(_e.type,en),this}addEventListener(_e,en){return this.on(_e,function(tn){en.call(this,tn.evt)}),this}removeEventListener(_e){return this.off(_e),this}_delegate(_e,en,tn){var nn=this;this.on(_e,function(rn){for(var sn=rn.target.findAncestors(en,!0,nn),an=0;an<sn.length;an++)rn=Util.cloneObject(rn),rn.currentTarget=sn[an],tn.call(sn[an],rn)})}remove(){return this.isDragging()&&this.stopDrag(),DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE$1),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var _e=this.getParent();_e&&_e.children&&(_e.children.splice(this.index,1),_e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_e){var en="get"+Util._capitalize(_e);return Util._isFunction(this[en])?this[en]():this.attrs[_e]}getAncestors(){for(var _e=this.getParent(),en=[];_e;)en.push(_e),_e=_e.getParent();return en}getAttrs(){return this.attrs||{}}setAttrs(_e){return this._batchTransformChanges(()=>{var en,tn;if(!_e)return this;for(en in _e)en!==CHILDREN&&(tn=SET+Util._capitalize(en),Util._isFunction(this[tn])?this[tn](_e[en]):this._setAttr(en,_e[en]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(_e){if(!this.listening())return!1;const tn=this.getParent();return tn&&tn!==_e&&this!==_e?tn._isListening(_e):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(_e){if(!this.visible())return!1;const tn=this.getParent();return tn&&tn!==_e&&this!==_e?tn._isVisible(_e):!0}shouldDrawHit(_e,en=!1){if(_e)return this._isVisible(_e)&&this._isListening(_e);var tn=this.getLayer(),nn=!1;DD._dragElements.forEach(sn=>{sn.dragStatus==="dragging"&&(sn.node.nodeType==="Stage"||sn.node.getLayer()===tn)&&(nn=!0)});var rn=!en&&!Konva$1.hitOnDragEnabled&&nn;return this.isListening()&&this.isVisible()&&!rn}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var _e=this.getDepth(),en=this,tn=0,nn,rn,sn,an;function on(cn){for(nn=[],rn=cn.length,sn=0;sn<rn;sn++)an=cn[sn],tn++,an.nodeType!==SHAPE&&(nn=nn.concat(an.getChildren().slice())),an._id===en._id&&(sn=rn);nn.length>0&&nn[0].getDepth()<=_e&&on(nn)}return en.nodeType!==UPPER_STAGE&&on(en.getStage().getChildren()),tn}getDepth(){for(var _e=0,en=this.parent;en;)_e++,en=en.parent;return _e}_batchTransformChanges(_e){this._batchingTransformChange=!0,_e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(_e){return this._batchTransformChanges(()=>{this.x(_e.x),this.y(_e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var _e=this.getStage().getPointerPosition();if(!_e)return null;var en=this.getAbsoluteTransform().copy();return en.invert(),en.point(_e)}getAbsolutePosition(_e){let en=!1,tn=this.parent;for(;tn;){if(tn.isCached()){en=!0;break}tn=tn.parent}en&&!_e&&(_e=!0);var nn=this.getAbsoluteTransform(_e).getMatrix(),rn=new Transform,sn=this.offset();return rn.m=nn.slice(),rn.translate(sn.x,sn.y),rn.getTranslation()}setAbsolutePosition(_e){var en=this._clearTransform();this.attrs.x=en.x,this.attrs.y=en.y,delete en.x,delete en.y,this._clearCache(TRANSFORM);var tn=this._getAbsoluteTransform().copy();return tn.invert(),tn.translate(_e.x,_e.y),_e={x:this.attrs.x+tn.getTranslation().x,y:this.attrs.y+tn.getTranslation().y},this._setTransform(en),this.setPosition({x:_e.x,y:_e.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(_e){var en;for(en in _e)this.attrs[en]=_e[en]}_clearTransform(){var _e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_e}move(_e){var en=_e.x,tn=_e.y,nn=this.x(),rn=this.y();return en!==void 0&&(nn+=en),tn!==void 0&&(rn+=tn),this.setPosition({x:nn,y:rn}),this}_eachAncestorReverse(_e,en){var tn=[],nn=this.getParent(),rn,sn;if(!(en&&en._id===this._id)){for(tn.unshift(this);nn&&(!en||nn._id!==en._id);)tn.unshift(nn),nn=nn.parent;for(rn=tn.length,sn=0;sn<rn;sn++)_e(tn[sn])}}rotate(_e){return this.rotation(this.rotation()+_e),this}moveToTop(){if(!this.parent)return Util.warn("Node has no parent. moveToTop function is ignored."),!1;var _e=this.index,en=this.parent.getChildren().length;return _e<en-1?(this.parent.children.splice(_e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util.warn("Node has no parent. moveUp function is ignored."),!1;var _e=this.index,en=this.parent.getChildren().length;return _e<en-1?(this.parent.children.splice(_e,1),this.parent.children.splice(_e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util.warn("Node has no parent. moveDown function is ignored."),!1;var _e=this.index;return _e>0?(this.parent.children.splice(_e,1),this.parent.children.splice(_e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var _e=this.index;return _e>0?(this.parent.children.splice(_e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_e){if(!this.parent)return Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_e<0||_e>=this.parent.children.length)&&Util.warn("Unexpected value "+_e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var en=this.index;return this.parent.children.splice(en,1),this.parent.children.splice(_e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var _e=this.opacity(),en=this.getParent();return en&&!en._isUnderCache&&(_e*=en.getAbsoluteOpacity()),_e}moveTo(_e){return this.getParent()!==_e&&(this._remove(),_e.add(this)),this}toObject(){var _e={},en=this.getAttrs(),tn,nn,rn,sn,an;_e.attrs={};for(tn in en)nn=en[tn],an=Util.isObject(nn)&&!Util._isPlainObject(nn)&&!Util._isArray(nn),!an&&(rn=typeof this[tn]=="function"&&this[tn],delete en[tn],sn=rn?rn.call(this):null,en[tn]=nn,sn!==nn&&(_e.attrs[tn]=nn));return _e.className=this.getClassName(),Util._prepareToStringify(_e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_e,en,tn){var nn=[];en&&this._isMatch(_e)&&nn.push(this);for(var rn=this.parent;rn;){if(rn===tn)return nn;rn._isMatch(_e)&&nn.push(rn),rn=rn.parent}return nn}isAncestorOf(_e){return!1}findAncestor(_e,en,tn){return this.findAncestors(_e,en,tn)[0]}_isMatch(_e){if(!_e)return!1;if(typeof _e=="function")return _e(this);var en=_e.replace(/ /g,"").split(","),tn=en.length,nn,rn;for(nn=0;nn<tn;nn++)if(rn=en[nn],Util.isValidSelector(rn)||(Util.warn('Selector "'+rn+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util.warn("Konva is awesome, right?")),rn.charAt(0)==="#"){if(this.id()===rn.slice(1))return!0}else if(rn.charAt(0)==="."){if(this.hasName(rn.slice(1)))return!0}else if(this.className===rn||this.nodeType===rn)return!0;return!1}getLayer(){var _e=this.getParent();return _e?_e.getLayer():null}getStage(){return this._getCache(STAGE$1,this._getStage)}_getStage(){var _e=this.getParent();if(_e)return _e.getStage()}fire(_e,en={},tn){return en.target=en.target||this,tn?this._fireAndBubble(_e,en):this._fire(_e,en),this}getAbsoluteTransform(_e){return _e?this._getAbsoluteTransform(_e):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(_e){var en;if(_e)return en=new Transform,this._eachAncestorReverse(function(nn){var rn=nn.transformsEnabled();rn==="all"?en.multiply(nn.getTransform()):rn==="position"&&en.translate(nn.x()-nn.offsetX(),nn.y()-nn.offsetY())},_e),en;en=this._cache.get(ABSOLUTE_TRANSFORM)||new Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(en):en.reset();var tn=this.transformsEnabled();if(tn==="all")en.multiply(this.getTransform());else if(tn==="position"){const nn=this.attrs.x||0,rn=this.attrs.y||0,sn=this.attrs.offsetX||0,an=this.attrs.offsetY||0;en.translate(nn-sn,rn-an)}return en.dirty=!1,en}getAbsoluteScale(_e){for(var en=this;en;)en._isUnderCache&&(_e=en),en=en.getParent();const nn=this.getAbsoluteTransform(_e).decompose();return{x:nn.scaleX,y:nn.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var _e,en,tn=this._cache.get(TRANSFORM)||new Transform;tn.reset();var nn=this.x(),rn=this.y(),sn=Konva$1.getAngle(this.rotation()),an=(_e=this.attrs.scaleX)!==null&&_e!==void 0?_e:1,on=(en=this.attrs.scaleY)!==null&&en!==void 0?en:1,cn=this.attrs.skewX||0,dn=this.attrs.skewY||0,mn=this.attrs.offsetX||0,pn=this.attrs.offsetY||0;return(nn!==0||rn!==0)&&tn.translate(nn,rn),sn!==0&&tn.rotate(sn),(cn!==0||dn!==0)&&tn.skew(cn,dn),(an!==1||on!==1)&&tn.scale(an,on),(mn!==0||pn!==0)&&tn.translate(-1*mn,-1*pn),tn.dirty=!1,tn}clone(_e){var en=Util.cloneObject(this.attrs),tn,nn,rn,sn,an;for(tn in _e)en[tn]=_e[tn];var on=new this.constructor(en);for(tn in this.eventListeners)for(nn=this.eventListeners[tn],rn=nn.length,sn=0;sn<rn;sn++)an=nn[sn],an.name.indexOf(KONVA)<0&&(on.eventListeners[tn]||(on.eventListeners[tn]=[]),on.eventListeners[tn].push(an));return on}_toKonvaCanvas(_e){_e=_e||{};var en=this.getClientRect(),tn=this.getStage(),nn=_e.x!==void 0?_e.x:Math.floor(en.x),rn=_e.y!==void 0?_e.y:Math.floor(en.y),sn=_e.pixelRatio||1,an=new SceneCanvas({width:_e.width||Math.ceil(en.width)||(tn?tn.width():0),height:_e.height||Math.ceil(en.height)||(tn?tn.height():0),pixelRatio:sn}),on=an.getContext();return _e.imageSmoothingEnabled===!1&&(on._context.imageSmoothingEnabled=!1),on.save(),(nn||rn)&&on.translate(-1*nn,-1*rn),this.drawScene(an),on.restore(),an}toCanvas(_e){return this._toKonvaCanvas(_e)._canvas}toDataURL(_e){_e=_e||{};var en=_e.mimeType||null,tn=_e.quality||null,nn=this._toKonvaCanvas(_e).toDataURL(en,tn);return _e.callback&&_e.callback(nn),nn}toImage(_e){return new Promise((en,tn)=>{try{const nn=_e==null?void 0:_e.callback;nn&&delete _e.callback,Util._urlToImage(this.toDataURL(_e),function(rn){en(rn),nn==null||nn(rn)})}catch(nn){tn(nn)}})}toBlob(_e){return new Promise((en,tn)=>{try{const nn=_e==null?void 0:_e.callback;nn&&delete _e.callback,this.toCanvas(_e).toBlob(rn=>{en(rn),nn==null||nn(rn)})}catch(nn){tn(nn)}})}setSize(_e){return this.width(_e.width),this.height(_e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Konva$1.dragDistance}_off(_e,en,tn){var nn=this.eventListeners[_e],rn,sn,an;for(rn=0;rn<nn.length;rn++)if(sn=nn[rn].name,an=nn[rn].handler,(sn!=="konva"||en==="konva")&&(!en||sn===en)&&(!tn||tn===an)){if(nn.splice(rn,1),nn.length===0){delete this.eventListeners[_e];break}rn--}}_fireChangeEvent(_e,en,tn){this._fire(_e+CHANGE,{oldVal:en,newVal:tn})}addName(_e){if(!this.hasName(_e)){var en=this.name(),tn=en?en+" "+_e:_e;this.name(tn)}return this}hasName(_e){if(!_e)return!1;const en=this.name();if(!en)return!1;var tn=(en||"").split(/\s/g);return tn.indexOf(_e)!==-1}removeName(_e){var en=(this.name()||"").split(/\s/g),tn=en.indexOf(_e);return tn!==-1&&(en.splice(tn,1),this.name(en.join(" "))),this}setAttr(_e,en){var tn=this[SET+Util._capitalize(_e)];return Util._isFunction(tn)?tn.call(this,en):this._setAttr(_e,en),this}_requestDraw(){if(Konva$1.autoDrawEnabled){const _e=this.getLayer()||this.getStage();_e==null||_e.batchDraw()}}_setAttr(_e,en){var tn=this.attrs[_e];tn===en&&!Util.isObject(en)||(en==null?delete this.attrs[_e]:this.attrs[_e]=en,this._shouldFireChangeEvents&&this._fireChangeEvent(_e,tn,en),this._requestDraw())}_setComponentAttr(_e,en,tn){var nn;tn!==void 0&&(nn=this.attrs[_e],nn||(this.attrs[_e]=this.getAttr(_e)),this.attrs[_e][en]=tn,this._fireChangeEvent(_e,nn,tn))}_fireAndBubble(_e,en,tn){en&&this.nodeType===SHAPE&&(en.target=this);var nn=(_e===MOUSEENTER$1||_e===MOUSELEAVE$1)&&(tn&&(this===tn||this.isAncestorOf&&this.isAncestorOf(tn))||this.nodeType==="Stage"&&!tn);if(!nn){this._fire(_e,en);var rn=(_e===MOUSEENTER$1||_e===MOUSELEAVE$1)&&tn&&tn.isAncestorOf&&tn.isAncestorOf(this)&&!tn.isAncestorOf(this.parent);(en&&!en.cancelBubble||!en)&&this.parent&&this.parent.isListening()&&!rn&&(tn&&tn.parent?this._fireAndBubble.call(this.parent,_e,en,tn):this._fireAndBubble.call(this.parent,_e,en))}}_getProtoListeners(_e){let en=this._cache.get(ALL_LISTENERS);if(!en){en={};let nn=Object.getPrototypeOf(this);for(;nn;){if(!nn.eventListeners){nn=Object.getPrototypeOf(nn);continue}for(var tn in nn.eventListeners){const rn=nn.eventListeners[tn],sn=en[tn]||[];en[tn]=rn.concat(sn)}nn=Object.getPrototypeOf(nn)}this._cache.set(ALL_LISTENERS,en)}return en[_e]}_fire(_e,en){en=en||{},en.currentTarget=this,en.type=_e;const tn=this._getProtoListeners(_e);if(tn)for(var nn=0;nn<tn.length;nn++)tn[nn].handler.call(this,en);const rn=this.eventListeners[_e];if(rn)for(var nn=0;nn<rn.length;nn++)rn[nn].handler.call(this,en)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_e){var en=_e?_e.pointerId:void 0,tn=this.getStage(),nn=this.getAbsolutePosition(),rn=tn._getPointerById(en)||tn._changedPointerPositions[0]||nn;DD._dragElements.set(this._id,{node:this,startPointerPos:rn,offset:{x:rn.x-nn.x,y:rn.y-nn.y},dragStatus:"ready",pointerId:en})}startDrag(_e,en=!0){DD._dragElements.has(this._id)||this._createDragElement(_e);const tn=DD._dragElements.get(this._id);tn.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_e&&_e.evt},en)}_setDragPosition(_e,en){const tn=this.getStage()._getPointerById(en.pointerId);if(!!tn){var nn={x:tn.x-en.offset.x,y:tn.y-en.offset.y},rn=this.dragBoundFunc();if(rn!==void 0){const sn=rn.call(this,nn,_e);sn?nn=sn:Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==nn.x||this._lastPos.y!==nn.y)&&(this.setAbsolutePosition(nn),this._requestDraw()),this._lastPos=nn}}stopDrag(_e){const en=DD._dragElements.get(this._id);en&&(en.dragStatus="stopped"),DD._endDragBefore(_e),DD._endDragAfter(_e)}setDraggable(_e){this._setAttr("draggable",_e),this._dragChange()}isDragging(){const _e=DD._dragElements.get(this._id);return _e?_e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_e){var en=_e.evt.button!==void 0,tn=!en||Konva$1.dragButtons.indexOf(_e.evt.button)>=0;if(!!tn&&!this.isDragging()){var nn=!1;DD._dragElements.forEach(rn=>{this.isAncestorOf(rn.node)&&(nn=!0)}),nn||this._createDragElement(_e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var _e=this.getStage();if(!_e)return;const en=DD._dragElements.get(this._id),tn=en&&en.dragStatus==="dragging",nn=en&&en.dragStatus==="ready";tn?this.stopDrag():nn&&DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_e={x:0,y:0}){const en=this.getStage();if(!en)return!1;const tn={x:-_e.x,y:-_e.y,width:en.width()+2*_e.x,height:en.height()+2*_e.y};return Util.haveIntersection(tn,this.getClientRect())}static create(_e,en){return Util._isString(_e)&&(_e=JSON.parse(_e)),this._createNode(_e,en)}static _createNode(_e,en){var tn=Node.prototype.getClassName.call(_e),nn=_e.children,rn,sn,an;en&&(_e.attrs.container=en),Konva$1[tn]||(Util.warn('Can not find a node with class name "'+tn+'". Fallback to "Shape".'),tn="Shape");const on=Konva$1[tn];if(rn=new on(_e.attrs),nn)for(sn=nn.length,an=0;an<sn;an++)rn.add(Node._createNode(nn[an]));return rn}}Node.prototype.nodeType="Node";Node.prototype._attrsAffectingSize=[];Node.prototype.eventListeners={};Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node.prototype.on.call(Node.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node.prototype.on.call(Node.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node.prototype.on.call(Node.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory.addGetterSetter;addGetterSetter(Node,"zIndex");addGetterSetter(Node,"absolutePosition");addGetterSetter(Node,"position");addGetterSetter(Node,"x",0,getNumberValidator());addGetterSetter(Node,"y",0,getNumberValidator());addGetterSetter(Node,"globalCompositeOperation","source-over",getStringValidator());addGetterSetter(Node,"opacity",1,getNumberValidator());addGetterSetter(Node,"name","",getStringValidator());addGetterSetter(Node,"id","",getStringValidator());addGetterSetter(Node,"rotation",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"scale",["x","y"]);addGetterSetter(Node,"scaleX",1,getNumberValidator());addGetterSetter(Node,"scaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Node,"skew",["x","y"]);addGetterSetter(Node,"skewX",0,getNumberValidator());addGetterSetter(Node,"skewY",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"offset",["x","y"]);addGetterSetter(Node,"offsetX",0,getNumberValidator());addGetterSetter(Node,"offsetY",0,getNumberValidator());addGetterSetter(Node,"dragDistance",null,getNumberValidator());addGetterSetter(Node,"width",0,getNumberValidator());addGetterSetter(Node,"height",0,getNumberValidator());addGetterSetter(Node,"listening",!0,getBooleanValidator());addGetterSetter(Node,"preventDefault",!0,getBooleanValidator());addGetterSetter(Node,"filters",null,function(St){return this._filterUpToDate=!1,St});addGetterSetter(Node,"visible",!0,getBooleanValidator());addGetterSetter(Node,"transformsEnabled","all",getStringValidator());addGetterSetter(Node,"size");addGetterSetter(Node,"dragBoundFunc");addGetterSetter(Node,"draggable",!1,getBooleanValidator());Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Container extends Node{constructor(){super(...arguments),this.children=[]}getChildren(_e){if(!_e)return this.children||[];const en=this.children||[];var tn=[];return en.forEach(function(nn){_e(nn)&&tn.push(nn)}),tn}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_e=>{_e.parent=null,_e.index=0,_e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_e=>{_e.parent=null,_e.index=0,_e.destroy()}),this.children=[],this._requestDraw(),this}add(..._e){if(arguments.length>1){for(var en=0;en<arguments.length;en++)this.add(arguments[en]);return this}var tn=_e[0];return tn.getParent()?(tn.moveTo(this),this):(this._validateAdd(tn),tn.index=this.getChildren().length,tn.parent=this,tn._clearCaches(),this.getChildren().push(tn),this._fire("add",{child:tn}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_e){return this._generalFind(_e,!1)}findOne(_e){var en=this._generalFind(_e,!0);return en.length>0?en[0]:void 0}_generalFind(_e,en){var tn=[];return this._descendants(nn=>{const rn=nn._isMatch(_e);return rn&&tn.push(nn),!!(rn&&en)}),tn}_descendants(_e){let en=!1;const tn=this.getChildren();for(const nn of tn){if(en=_e(nn),en)return!0;if(!!nn.hasChildren()&&(en=nn._descendants(_e),en))return!0}return!1}toObject(){var _e=Node.prototype.toObject.call(this);return _e.children=[],this.getChildren().forEach(en=>{_e.children.push(en.toObject())}),_e}isAncestorOf(_e){for(var en=_e.getParent();en;){if(en._id===this._id)return!0;en=en.getParent()}return!1}clone(_e){var en=Node.prototype.clone.call(this,_e);return this.getChildren().forEach(function(tn){en.add(tn.clone())}),en}getAllIntersections(_e){var en=[];return this.find("Shape").forEach(function(tn){tn.isVisible()&&tn.intersects(_e)&&en.push(tn)}),en}_clearSelfAndDescendantCache(_e){var en;super._clearSelfAndDescendantCache(_e),!this.isCached()&&((en=this.children)===null||en===void 0||en.forEach(function(tn){tn._clearSelfAndDescendantCache(_e)}))}_setChildrenIndices(){var _e;(_e=this.children)===null||_e===void 0||_e.forEach(function(en,tn){en.index=tn}),this._requestDraw()}drawScene(_e,en){var tn=this.getLayer(),nn=_e||tn&&tn.getCanvas(),rn=nn&&nn.getContext(),sn=this._getCanvasCache(),an=sn&&sn.scene,on=nn&&nn.isCache;if(!this.isVisible()&&!on)return this;if(an){rn.save();var cn=this.getAbsoluteTransform(en).getMatrix();rn.transform(cn[0],cn[1],cn[2],cn[3],cn[4],cn[5]),this._drawCachedSceneCanvas(rn),rn.restore()}else this._drawChildren("drawScene",nn,en);return this}drawHit(_e,en){if(!this.shouldDrawHit(en))return this;var tn=this.getLayer(),nn=_e||tn&&tn.hitCanvas,rn=nn&&nn.getContext(),sn=this._getCanvasCache(),an=sn&&sn.hit;if(an){rn.save();var on=this.getAbsoluteTransform(en).getMatrix();rn.transform(on[0],on[1],on[2],on[3],on[4],on[5]),this._drawCachedHitCanvas(rn),rn.restore()}else this._drawChildren("drawHit",nn,en);return this}_drawChildren(_e,en,tn){var nn,rn=en&&en.getContext(),sn=this.clipWidth(),an=this.clipHeight(),on=this.clipFunc(),cn=sn&&an||on;const dn=tn===this;if(cn){rn.save();var mn=this.getAbsoluteTransform(tn),pn=mn.getMatrix();if(rn.transform(pn[0],pn[1],pn[2],pn[3],pn[4],pn[5]),rn.beginPath(),on)on.call(this,rn,this);else{var fn=this.clipX(),yn=this.clipY();rn.rect(fn,yn,sn,an)}rn.clip(),pn=mn.copy().invert().getMatrix(),rn.transform(pn[0],pn[1],pn[2],pn[3],pn[4],pn[5])}var bn=!dn&&this.globalCompositeOperation()!=="source-over"&&_e==="drawScene";bn&&(rn.save(),rn._applyGlobalCompositeOperation(this)),(nn=this.children)===null||nn===void 0||nn.forEach(function(wn){wn[_e](en,tn)}),bn&&rn.restore(),cn&&rn.restore()}getClientRect(_e){var en;_e=_e||{};var tn=_e.skipTransform,nn=_e.relativeTo,rn,sn,an,on,cn={x:1/0,y:1/0,width:0,height:0},dn=this;(en=this.children)===null||en===void 0||en.forEach(function(bn){if(!!bn.visible()){var wn=bn.getClientRect({relativeTo:dn,skipShadow:_e.skipShadow,skipStroke:_e.skipStroke});wn.width===0&&wn.height===0||(rn===void 0?(rn=wn.x,sn=wn.y,an=wn.x+wn.width,on=wn.y+wn.height):(rn=Math.min(rn,wn.x),sn=Math.min(sn,wn.y),an=Math.max(an,wn.x+wn.width),on=Math.max(on,wn.y+wn.height)))}});for(var mn=this.find("Shape"),pn=!1,fn=0;fn<mn.length;fn++){var yn=mn[fn];if(yn._isVisible(this)){pn=!0;break}}return pn&&rn!==void 0?cn={x:rn,y:sn,width:an-rn,height:on-sn}:cn={x:0,y:0,width:0,height:0},tn?cn:this._transformedRect(cn,nn)}}Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory.addGetterSetter(Container,"clipX",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipY",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipWidth",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipHeight",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipFunc");const Captures=new Map,SUPPORT_POINTER_EVENTS=Konva$1._global.PointerEvent!==void 0;function getCapturedShape(St){return Captures.get(St)}function createEvent(St){return{evt:St,pointerId:St.pointerId}}function hasPointerCapture(St,_e){return Captures.get(St)===_e}function setPointerCapture(St,_e){releaseCapture(St),_e.getStage()&&(Captures.set(St,_e),SUPPORT_POINTER_EVENTS&&_e._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}function releaseCapture(St,_e){const en=Captures.get(St);if(!en)return;const tn=en.getStage();tn&&tn.content,Captures.delete(St),SUPPORT_POINTER_EVENTS&&en._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}var STAGE="Stage",STRING="string",PX="px",MOUSEOUT="mouseout",MOUSELEAVE="mouseleave",MOUSEOVER="mouseover",MOUSEENTER="mouseenter",MOUSEMOVE="mousemove",MOUSEDOWN="mousedown",MOUSEUP="mouseup",POINTERMOVE="pointermove",POINTERDOWN="pointerdown",POINTERUP="pointerup",POINTERCANCEL="pointercancel",LOSTPOINTERCAPTURE="lostpointercapture",POINTEROUT="pointerout",POINTERLEAVE="pointerleave",POINTEROVER="pointerover",POINTERENTER="pointerenter",CONTEXTMENU="contextmenu",TOUCHSTART="touchstart",TOUCHEND="touchend",TOUCHMOVE="touchmove",TOUCHCANCEL="touchcancel",WHEEL="wheel",MAX_LAYERS_NUMBER=5,EVENTS=[[MOUSEENTER,"_pointerenter"],[MOUSEDOWN,"_pointerdown"],[MOUSEMOVE,"_pointermove"],[MOUSEUP,"_pointerup"],[MOUSELEAVE,"_pointerleave"],[TOUCHSTART,"_pointerdown"],[TOUCHMOVE,"_pointermove"],[TOUCHEND,"_pointerup"],[TOUCHCANCEL,"_pointercancel"],[MOUSEOVER,"_pointerover"],[WHEEL,"_wheel"],[CONTEXTMENU,"_contextmenu"],[POINTERDOWN,"_pointerdown"],[POINTERMOVE,"_pointermove"],[POINTERUP,"_pointerup"],[POINTERCANCEL,"_pointercancel"],[LOSTPOINTERCAPTURE,"_lostpointercapture"]];const EVENTS_MAP={mouse:{[POINTEROUT]:MOUSEOUT,[POINTERLEAVE]:MOUSELEAVE,[POINTEROVER]:MOUSEOVER,[POINTERENTER]:MOUSEENTER,[POINTERMOVE]:MOUSEMOVE,[POINTERDOWN]:MOUSEDOWN,[POINTERUP]:MOUSEUP,[POINTERCANCEL]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[POINTEROUT]:"touchout",[POINTERLEAVE]:"touchleave",[POINTEROVER]:"touchover",[POINTERENTER]:"touchenter",[POINTERMOVE]:TOUCHMOVE,[POINTERDOWN]:TOUCHSTART,[POINTERUP]:TOUCHEND,[POINTERCANCEL]:TOUCHCANCEL,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[POINTEROUT]:POINTEROUT,[POINTERLEAVE]:POINTERLEAVE,[POINTEROVER]:POINTEROVER,[POINTERENTER]:POINTERENTER,[POINTERMOVE]:POINTERMOVE,[POINTERDOWN]:POINTERDOWN,[POINTERUP]:POINTERUP,[POINTERCANCEL]:POINTERCANCEL,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},getEventType=St=>St.indexOf("pointer")>=0?"pointer":St.indexOf("touch")>=0?"touch":"mouse",getEventsMap=St=>{const _e=getEventType(St);if(_e==="pointer")return Konva$1.pointerEventsEnabled&&EVENTS_MAP.pointer;if(_e==="touch")return EVENTS_MAP.touch;if(_e==="mouse")return EVENTS_MAP.mouse};function checkNoClip(St={}){return(St.clipFunc||St.clipWidth||St.clipHeight)&&Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),St}const NO_POINTERS_MESSAGE="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",stages=[];class Stage$1 extends Container{constructor(_e){super(checkNoClip(_e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{checkNoClip(this.attrs)}),this._checkVisibility()}_validateAdd(_e){const en=_e.getType()==="Layer",tn=_e.getType()==="FastLayer";en||tn||Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const _e=this.visible()?"":"none";this.content.style.display=_e}setContainer(_e){if(typeof _e===STRING){if(_e.charAt(0)==="."){var en=_e.slice(1);_e=document.getElementsByClassName(en)[0]}else{var tn;_e.charAt(0)!=="#"?tn=_e:tn=_e.slice(1),_e=document.getElementById(tn)}if(!_e)throw"Can not find container in document with id "+tn}return this._setAttr("container",_e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),_e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var _e=this.children,en=_e.length,tn;for(tn=0;tn<en;tn++)_e[tn].clear();return this}clone(_e){return _e||(_e={}),_e.container=typeof document<"u"&&document.createElement("div"),Container.prototype.clone.call(this,_e)}destroy(){super.destroy();var _e=this.content;_e&&Util._isInDocument(_e)&&this.container().removeChild(_e);var en=stages.indexOf(this);return en>-1&&stages.splice(en,1),Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const _e=this._pointerPositions[0]||this._changedPointerPositions[0];return _e?{x:_e.x,y:_e.y}:(Util.warn(NO_POINTERS_MESSAGE),null)}_getPointerById(_e){return this._pointerPositions.find(en=>en.id===_e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(_e){_e=_e||{},_e.x=_e.x||0,_e.y=_e.y||0,_e.width=_e.width||this.width(),_e.height=_e.height||this.height();var en=new SceneCanvas({width:_e.width,height:_e.height,pixelRatio:_e.pixelRatio||1}),tn=en.getContext()._context,nn=this.children;return(_e.x||_e.y)&&tn.translate(-1*_e.x,-1*_e.y),nn.forEach(function(rn){if(!!rn.isVisible()){var sn=rn._toKonvaCanvas(_e);tn.drawImage(sn._canvas,_e.x,_e.y,sn.getWidth()/sn.getPixelRatio(),sn.getHeight()/sn.getPixelRatio())}}),en}getIntersection(_e){if(!_e)return null;var en=this.children,tn=en.length,nn=tn-1,rn;for(rn=nn;rn>=0;rn--){const sn=en[rn].getIntersection(_e);if(sn)return sn}return null}_resizeDOM(){var _e=this.width(),en=this.height();this.content&&(this.content.style.width=_e+PX,this.content.style.height=en+PX),this.bufferCanvas.setSize(_e,en),this.bufferHitCanvas.setSize(_e,en),this.children.forEach(tn=>{tn.setSize({width:_e,height:en}),tn.draw()})}add(_e,...en){if(arguments.length>1){for(var tn=0;tn<arguments.length;tn++)this.add(arguments[tn]);return this}super.add(_e);var nn=this.children.length;return nn>MAX_LAYERS_NUMBER&&Util.warn("The stage has "+nn+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),_e.setSize({width:this.width(),height:this.height()}),_e.draw(),Konva$1.isBrowser&&this.content.appendChild(_e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(_e){return hasPointerCapture(_e,this)}setPointerCapture(_e){setPointerCapture(_e,this)}releaseCapture(_e){releaseCapture(_e)}getLayers(){return this.children}_bindContentEvents(){!Konva$1.isBrowser||EVENTS.forEach(([_e,en])=>{this.content.addEventListener(_e,tn=>{this[en](tn)},{passive:!1})})}_pointerenter(_e){this.setPointersPositions(_e);const en=getEventsMap(_e.type);this._fire(en.pointerenter,{evt:_e,target:this,currentTarget:this})}_pointerover(_e){this.setPointersPositions(_e);const en=getEventsMap(_e.type);this._fire(en.pointerover,{evt:_e,target:this,currentTarget:this})}_getTargetShape(_e){let en=this[_e+"targetShape"];return en&&!en.getStage()&&(en=null),en}_pointerleave(_e){const en=getEventsMap(_e.type),tn=getEventType(_e.type);if(!!en){this.setPointersPositions(_e);var nn=this._getTargetShape(tn),rn=!DD.isDragging||Konva$1.hitOnDragEnabled;nn&&rn?(nn._fireAndBubble(en.pointerout,{evt:_e}),nn._fireAndBubble(en.pointerleave,{evt:_e}),this._fire(en.pointerleave,{evt:_e,target:this,currentTarget:this}),this[tn+"targetShape"]=null):rn&&(this._fire(en.pointerleave,{evt:_e,target:this,currentTarget:this}),this._fire(en.pointerout,{evt:_e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(_e){const en=getEventsMap(_e.type),tn=getEventType(_e.type);if(!!en){this.setPointersPositions(_e);var nn=!1;this._changedPointerPositions.forEach(rn=>{var sn=this.getIntersection(rn);if(DD.justDragged=!1,Konva$1["_"+tn+"ListenClick"]=!0,!(sn&&sn.isListening()))return;Konva$1.capturePointerEventsEnabled&&sn.setPointerCapture(rn.id),this[tn+"ClickStartShape"]=sn,sn._fireAndBubble(en.pointerdown,{evt:_e,pointerId:rn.id}),nn=!0;const on=_e.type.indexOf("touch")>=0;sn.preventDefault()&&_e.cancelable&&on&&_e.preventDefault()}),nn||this._fire(en.pointerdown,{evt:_e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(_e){const en=getEventsMap(_e.type),tn=getEventType(_e.type);if(!en)return;DD.isDragging&&DD.node.preventDefault()&&_e.cancelable&&_e.preventDefault(),this.setPointersPositions(_e);var nn=!DD.isDragging||Konva$1.hitOnDragEnabled;if(!nn)return;var rn={};let sn=!1;var an=this._getTargetShape(tn);this._changedPointerPositions.forEach(on=>{const cn=getCapturedShape(on.id)||this.getIntersection(on),dn=on.id,mn={evt:_e,pointerId:dn};var pn=an!==cn;if(pn&&an&&(an._fireAndBubble(en.pointerout,Object.assign({},mn),cn),an._fireAndBubble(en.pointerleave,Object.assign({},mn),cn)),cn){if(rn[cn._id])return;rn[cn._id]=!0}cn&&cn.isListening()?(sn=!0,pn&&(cn._fireAndBubble(en.pointerover,Object.assign({},mn),an),cn._fireAndBubble(en.pointerenter,Object.assign({},mn),an),this[tn+"targetShape"]=cn),cn._fireAndBubble(en.pointermove,Object.assign({},mn))):an&&(this._fire(en.pointerover,{evt:_e,target:this,currentTarget:this,pointerId:dn}),this[tn+"targetShape"]=null)}),sn||this._fire(en.pointermove,{evt:_e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(_e){const en=getEventsMap(_e.type),tn=getEventType(_e.type);if(!en)return;this.setPointersPositions(_e);const nn=this[tn+"ClickStartShape"],rn=this[tn+"ClickEndShape"];var sn={};let an=!1;this._changedPointerPositions.forEach(on=>{const cn=getCapturedShape(on.id)||this.getIntersection(on);if(cn){if(cn.releaseCapture(on.id),sn[cn._id])return;sn[cn._id]=!0}const dn=on.id,mn={evt:_e,pointerId:dn};let pn=!1;Konva$1["_"+tn+"InDblClickWindow"]?(pn=!0,clearTimeout(this[tn+"DblTimeout"])):DD.justDragged||(Konva$1["_"+tn+"InDblClickWindow"]=!0,clearTimeout(this[tn+"DblTimeout"])),this[tn+"DblTimeout"]=setTimeout(function(){Konva$1["_"+tn+"InDblClickWindow"]=!1},Konva$1.dblClickWindow),cn&&cn.isListening()?(an=!0,this[tn+"ClickEndShape"]=cn,cn._fireAndBubble(en.pointerup,Object.assign({},mn)),Konva$1["_"+tn+"ListenClick"]&&nn&&nn===cn&&(cn._fireAndBubble(en.pointerclick,Object.assign({},mn)),pn&&rn&&rn===cn&&cn._fireAndBubble(en.pointerdblclick,Object.assign({},mn)))):(this[tn+"ClickEndShape"]=null,Konva$1["_"+tn+"ListenClick"]&&this._fire(en.pointerclick,{evt:_e,target:this,currentTarget:this,pointerId:dn}),pn&&this._fire(en.pointerdblclick,{evt:_e,target:this,currentTarget:this,pointerId:dn}))}),an||this._fire(en.pointerup,{evt:_e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Konva$1["_"+tn+"ListenClick"]=!1,_e.cancelable&&tn!=="touch"&&_e.preventDefault()}_contextmenu(_e){this.setPointersPositions(_e);var en=this.getIntersection(this.getPointerPosition());en&&en.isListening()?en._fireAndBubble(CONTEXTMENU,{evt:_e}):this._fire(CONTEXTMENU,{evt:_e,target:this,currentTarget:this})}_wheel(_e){this.setPointersPositions(_e);var en=this.getIntersection(this.getPointerPosition());en&&en.isListening()?en._fireAndBubble(WHEEL,{evt:_e}):this._fire(WHEEL,{evt:_e,target:this,currentTarget:this})}_pointercancel(_e){this.setPointersPositions(_e);const en=getCapturedShape(_e.pointerId)||this.getIntersection(this.getPointerPosition());en&&en._fireAndBubble(POINTERUP,createEvent(_e)),releaseCapture(_e.pointerId)}_lostpointercapture(_e){releaseCapture(_e.pointerId)}setPointersPositions(_e){var en=this._getContentPosition(),tn=null,nn=null;_e=_e||window.event,_e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(_e.touches,rn=>{this._pointerPositions.push({id:rn.identifier,x:(rn.clientX-en.left)/en.scaleX,y:(rn.clientY-en.top)/en.scaleY})}),Array.prototype.forEach.call(_e.changedTouches||_e.touches,rn=>{this._changedPointerPositions.push({id:rn.identifier,x:(rn.clientX-en.left)/en.scaleX,y:(rn.clientY-en.top)/en.scaleY})})):(tn=(_e.clientX-en.left)/en.scaleX,nn=(_e.clientY-en.top)/en.scaleY,this.pointerPos={x:tn,y:nn},this._pointerPositions=[{x:tn,y:nn,id:Util._getFirstPointerId(_e)}],this._changedPointerPositions=[{x:tn,y:nn,id:Util._getFirstPointerId(_e)}])}_setPointerPosition(_e){Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(_e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var _e=this.content.getBoundingClientRect();return{top:_e.top,left:_e.left,scaleX:_e.width/this.content.clientWidth||1,scaleY:_e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!Konva$1.isBrowser){var _e=this.container();if(!_e)throw"Stage has no container. A container is required.";_e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),_e.appendChild(this.content),this._resizeDOM()}}cache(){return Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(_e){_e.batchDraw()}),this}}Stage$1.prototype.nodeType=STAGE;_registerNode(Stage$1);Factory.addGetterSetter(Stage$1,"container");var HAS_SHADOW="hasShadow",SHADOW_RGBA="shadowRGBA",patternImage="patternImage",linearGradient="linearGradient",radialGradient="radialGradient";let dummyContext$1;function getDummyContext$1(){return dummyContext$1||(dummyContext$1=Util.createCanvasElement().getContext("2d"),dummyContext$1)}const shapes={};function _fillFunc$2(St){St.fill()}function _strokeFunc$2(St){St.stroke()}function _fillFuncHit(St){St.fill()}function _strokeFuncHit(St){St.stroke()}function _clearHasShadowCache(){this._clearCache(HAS_SHADOW)}function _clearGetShadowRGBACache(){this._clearCache(SHADOW_RGBA)}function _clearFillPatternCache(){this._clearCache(patternImage)}function _clearLinearGradientCache(){this._clearCache(linearGradient)}function _clearRadialGradientCache(){this._clearCache(radialGradient)}class Shape extends Node{constructor(_e){super(_e);let en;for(;en=Util.getRandomColor(),!(en&&!(en in shapes)););this.colorKey=en,shapes[en]=this}getContext(){return Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(HAS_SHADOW,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(patternImage,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var _e=getDummyContext$1();const en=_e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(en&&en.setTransform){const tn=new Transform;tn.translate(this.fillPatternX(),this.fillPatternY()),tn.rotate(Konva$1.getAngle(this.fillPatternRotation())),tn.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),tn.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const nn=tn.getMatrix(),rn=typeof DOMMatrix>"u"?{a:nn[0],b:nn[1],c:nn[2],d:nn[3],e:nn[4],f:nn[5]}:new DOMMatrix(nn);en.setTransform(rn)}return en}}_getLinearGradient(){return this._getCache(linearGradient,this.__getLinearGradient)}__getLinearGradient(){var _e=this.fillLinearGradientColorStops();if(_e){for(var en=getDummyContext$1(),tn=this.fillLinearGradientStartPoint(),nn=this.fillLinearGradientEndPoint(),rn=en.createLinearGradient(tn.x,tn.y,nn.x,nn.y),sn=0;sn<_e.length;sn+=2)rn.addColorStop(_e[sn],_e[sn+1]);return rn}}_getRadialGradient(){return this._getCache(radialGradient,this.__getRadialGradient)}__getRadialGradient(){var _e=this.fillRadialGradientColorStops();if(_e){for(var en=getDummyContext$1(),tn=this.fillRadialGradientStartPoint(),nn=this.fillRadialGradientEndPoint(),rn=en.createRadialGradient(tn.x,tn.y,this.fillRadialGradientStartRadius(),nn.x,nn.y,this.fillRadialGradientEndRadius()),sn=0;sn<_e.length;sn+=2)rn.addColorStop(_e[sn],_e[sn+1]);return rn}}getShadowRGBA(){return this._getCache(SHADOW_RGBA,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var _e=Util.colorToRGBA(this.shadowColor());if(_e)return"rgba("+_e.r+","+_e.g+","+_e.b+","+_e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const _e=this.hitStrokeWidth();return _e==="auto"?this.hasStroke():this.strokeEnabled()&&!!_e}intersects(_e){var en=this.getStage(),tn=en.bufferHitCanvas,nn;return tn.getContext().clear(),this.drawHit(tn,null,!0),nn=tn.context.getImageData(Math.round(_e.x),Math.round(_e.y),1,1).data,nn[3]>0}destroy(){return Node.prototype.destroy.call(this),delete shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(_e){var en;if(!this.getStage()||!((en=this.attrs.perfectDrawEnabled)!==null&&en!==void 0?en:!0))return!1;const nn=_e||this.hasFill(),rn=this.hasStroke(),sn=this.getAbsoluteOpacity()!==1;if(nn&&rn&&sn)return!0;const an=this.hasShadow(),on=this.shadowForStrokeEnabled();return!!(nn&&rn&&an&&on)}setStrokeHitEnabled(_e){Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),_e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var _e=this.size();return{x:this._centroid?-_e.width/2:0,y:this._centroid?-_e.height/2:0,width:_e.width,height:_e.height}}getClientRect(_e={}){const en=_e.skipTransform,tn=_e.relativeTo,nn=this.getSelfRect(),sn=!_e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,an=nn.width+sn,on=nn.height+sn,cn=!_e.skipShadow&&this.hasShadow(),dn=cn?this.shadowOffsetX():0,mn=cn?this.shadowOffsetY():0,pn=an+Math.abs(dn),fn=on+Math.abs(mn),yn=cn&&this.shadowBlur()||0,bn=pn+yn*2,wn=fn+yn*2,vn={width:bn,height:wn,x:-(sn/2+yn)+Math.min(dn,0)+nn.x,y:-(sn/2+yn)+Math.min(mn,0)+nn.y};return en?vn:this._transformedRect(vn,tn)}drawScene(_e,en){var tn=this.getLayer(),nn=_e||tn.getCanvas(),rn=nn.getContext(),sn=this._getCanvasCache(),an=this.getSceneFunc(),on=this.hasShadow(),cn,dn,mn,pn=nn.isCache,fn=en===this;if(!this.isVisible()&&!fn)return this;if(sn){rn.save();var yn=this.getAbsoluteTransform(en).getMatrix();return rn.transform(yn[0],yn[1],yn[2],yn[3],yn[4],yn[5]),this._drawCachedSceneCanvas(rn),rn.restore(),this}if(!an)return this;if(rn.save(),this._useBufferCanvas()&&!pn){cn=this.getStage(),dn=cn.bufferCanvas,mn=dn.getContext(),mn.clear(),mn.save(),mn._applyLineJoin(this);var bn=this.getAbsoluteTransform(en).getMatrix();mn.transform(bn[0],bn[1],bn[2],bn[3],bn[4],bn[5]),an.call(this,mn,this),mn.restore();var wn=dn.pixelRatio;on&&rn._applyShadow(this),rn._applyOpacity(this),rn._applyGlobalCompositeOperation(this),rn.drawImage(dn._canvas,0,0,dn.width/wn,dn.height/wn)}else{if(rn._applyLineJoin(this),!fn){var bn=this.getAbsoluteTransform(en).getMatrix();rn.transform(bn[0],bn[1],bn[2],bn[3],bn[4],bn[5]),rn._applyOpacity(this),rn._applyGlobalCompositeOperation(this)}on&&rn._applyShadow(this),an.call(this,rn,this)}return rn.restore(),this}drawHit(_e,en,tn=!1){if(!this.shouldDrawHit(en,tn))return this;var nn=this.getLayer(),rn=_e||nn.hitCanvas,sn=rn&&rn.getContext(),an=this.hitFunc()||this.sceneFunc(),on=this._getCanvasCache(),cn=on&&on.hit;if(this.colorKey||Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),cn){sn.save();var dn=this.getAbsoluteTransform(en).getMatrix();return sn.transform(dn[0],dn[1],dn[2],dn[3],dn[4],dn[5]),this._drawCachedHitCanvas(sn),sn.restore(),this}if(!an)return this;if(sn.save(),sn._applyLineJoin(this),!(this===en)){var pn=this.getAbsoluteTransform(en).getMatrix();sn.transform(pn[0],pn[1],pn[2],pn[3],pn[4],pn[5])}return an.call(this,sn,this),sn.restore(),this}drawHitFromCache(_e=0){var en=this._getCanvasCache(),tn=this._getCachedSceneCanvas(),nn=en.hit,rn=nn.getContext(),sn=nn.getWidth(),an=nn.getHeight(),on,cn,dn,mn,pn,fn;rn.clear(),rn.drawImage(tn._canvas,0,0,sn,an);try{for(on=rn.getImageData(0,0,sn,an),cn=on.data,dn=cn.length,mn=Util._hexToRgb(this.colorKey),pn=0;pn<dn;pn+=4)fn=cn[pn+3],fn>_e?(cn[pn]=mn.r,cn[pn+1]=mn.g,cn[pn+2]=mn.b,cn[pn+3]=255):cn[pn+3]=0;rn.putImageData(on,0,0)}catch(yn){Util.error("Unable to draw hit graph from cached scene canvas. "+yn.message)}return this}hasPointerCapture(_e){return hasPointerCapture(_e,this)}setPointerCapture(_e){setPointerCapture(_e,this)}releaseCapture(_e){releaseCapture(_e)}}Shape.prototype._fillFunc=_fillFunc$2;Shape.prototype._strokeFunc=_strokeFunc$2;Shape.prototype._fillFuncHit=_fillFuncHit;Shape.prototype._strokeFuncHit=_strokeFuncHit;Shape.prototype._centroid=!1;Shape.prototype.nodeType="Shape";_registerNode(Shape);Shape.prototype.eventListeners={};Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearHasShadowCache);Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearGetShadowRGBACache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_clearFillPatternCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",_clearLinearGradientCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",_clearRadialGradientCache);Factory.addGetterSetter(Shape,"stroke",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"strokeWidth",2,getNumberValidator());Factory.addGetterSetter(Shape,"fillAfterStrokeEnabled",!1);Factory.addGetterSetter(Shape,"hitStrokeWidth","auto",getNumberOrAutoValidator());Factory.addGetterSetter(Shape,"strokeHitEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"perfectDrawEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"shadowForStrokeEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"lineJoin");Factory.addGetterSetter(Shape,"lineCap");Factory.addGetterSetter(Shape,"sceneFunc");Factory.addGetterSetter(Shape,"hitFunc");Factory.addGetterSetter(Shape,"dash");Factory.addGetterSetter(Shape,"dashOffset",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowColor",void 0,getStringValidator());Factory.addGetterSetter(Shape,"shadowBlur",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOpacity",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"shadowOffset",["x","y"]);Factory.addGetterSetter(Shape,"shadowOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOffsetY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternImage");Factory.addGetterSetter(Shape,"fill",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"fillPatternX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillLinearGradientColorStops");Factory.addGetterSetter(Shape,"strokeLinearGradientColorStops");Factory.addGetterSetter(Shape,"fillRadialGradientStartRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientColorStops");Factory.addGetterSetter(Shape,"fillPatternRepeat","repeat");Factory.addGetterSetter(Shape,"fillEnabled",!0);Factory.addGetterSetter(Shape,"strokeEnabled",!0);Factory.addGetterSetter(Shape,"shadowEnabled",!0);Factory.addGetterSetter(Shape,"dashEnabled",!0);Factory.addGetterSetter(Shape,"strokeScaleEnabled",!0);Factory.addGetterSetter(Shape,"fillPriority","color");Factory.addComponentsGetterSetter(Shape,"fillPatternOffset",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternOffsetY",0,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillPatternScale",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternScaleX",1,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternScaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillLinearGradientStartPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillLinearGradientEndPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointY",0);Factory.addGetterSetter(Shape,"fillPatternRotation",0);Factory.backCompat(Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;class Layer$1 extends Container{constructor(_e){super(_e),this.canvas=new SceneCanvas,this.hitCanvas=new HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(_e){return this.getContext().clear(_e),this.getHitCanvas().getContext().clear(_e),this}setZIndex(_e){super.setZIndex(_e);var en=this.getStage();return en&&en.content&&(en.content.removeChild(this.getNativeCanvasElement()),_e<en.children.length-1?en.content.insertBefore(this.getNativeCanvasElement(),en.children[_e+1].getCanvas()._canvas):en.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node.prototype.moveToTop.call(this);var _e=this.getStage();return _e&&_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var _e=Node.prototype.moveUp.call(this);if(!_e)return!1;var en=this.getStage();return!en||!en.content?!1:(en.content.removeChild(this.getNativeCanvasElement()),this.index<en.children.length-1?en.content.insertBefore(this.getNativeCanvasElement(),en.children[this.index+1].getCanvas()._canvas):en.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node.prototype.moveDown.call(this)){var _e=this.getStage();if(_e){var en=_e.children;_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.insertBefore(this.getNativeCanvasElement(),en[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node.prototype.moveToBottom.call(this)){var _e=this.getStage();if(_e){var en=_e.children;_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.insertBefore(this.getNativeCanvasElement(),en[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var _e=this.getNativeCanvasElement();return Node.prototype.remove.call(this),_e&&_e.parentNode&&Util._isInDocument(_e)&&_e.parentNode.removeChild(_e),this}getStage(){return this.parent}setSize({width:_e,height:en}){return this.canvas.setSize(_e,en),this.hitCanvas.setSize(_e,en),this._setSmoothEnabled(),this}_validateAdd(_e){var en=_e.getType();en!=="Group"&&en!=="Shape"&&Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(_e){return _e=_e||{},_e.width=_e.width||this.getWidth(),_e.height=_e.height||this.getHeight(),_e.x=_e.x!==void 0?_e.x:this.x(),_e.y=_e.y!==void 0?_e.y:this.y(),Node.prototype._toKonvaCanvas.call(this,_e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(_e){if(!this.isListening()||!this.isVisible())return null;for(var en=1,tn=!1;;){for(let nn=0;nn<INTERSECTION_OFFSETS_LEN;nn++){const rn=INTERSECTION_OFFSETS[nn],sn=this._getIntersection({x:_e.x+rn.x*en,y:_e.y+rn.y*en}),an=sn.shape;if(an)return an;if(tn=!!sn.antialiased,!sn.antialiased)break}if(tn)en+=1;else return null}}_getIntersection(_e){const en=this.hitCanvas.pixelRatio,tn=this.hitCanvas.context.getImageData(Math.round(_e.x*en),Math.round(_e.y*en),1,1).data,nn=tn[3];if(nn===255){const rn=Util._rgbToHex(tn[0],tn[1],tn[2]),sn=shapes[HASH+rn];return sn?{shape:sn}:{antialiased:!0}}else if(nn>0)return{antialiased:!0};return{}}drawScene(_e,en){var tn=this.getLayer(),nn=_e||tn&&tn.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&nn.getContext().clear(),Container.prototype.drawScene.call(this,nn,en),this._fire(DRAW,{node:this}),this}drawHit(_e,en){var tn=this.getLayer(),nn=_e||tn&&tn.hitCanvas;return tn&&tn.clearBeforeDraw()&&tn.getHitCanvas().getContext().clear(),Container.prototype.drawHit.call(this,nn,en),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(_e){Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(_e)}getHitGraphEnabled(_e){return Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var _e=this.parent,en=!!this.hitCanvas._canvas.parentNode;en?_e.content.removeChild(this.hitCanvas._canvas):_e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Layer$1.prototype.nodeType="Layer";_registerNode(Layer$1);Factory.addGetterSetter(Layer$1,"imageSmoothingEnabled",!0);Factory.addGetterSetter(Layer$1,"clearBeforeDraw",!0);Factory.addGetterSetter(Layer$1,"hitGraphEnabled",!0,getBooleanValidator());class FastLayer extends Layer$1{constructor(_e){super(_e),this.listening(!1),Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer.prototype.nodeType="FastLayer";_registerNode(FastLayer);class Group extends Container{_validateAdd(_e){var en=_e.getType();en!=="Group"&&en!=="Shape"&&Util.throw("You may only add groups and shapes to groups.")}}Group.prototype.nodeType="Group";_registerNode(Group);var now=function(){return glob.performance&&glob.performance.now?function(){return glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(_e,en){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=_e,this.setLayers(en)}setLayers(_e){var en=[];return _e?_e.length>0?en=_e:en=[_e]:en=[],this.layers=en,this}getLayers(){return this.layers}addLayer(_e){var en=this.layers,tn=en.length,nn;for(nn=0;nn<tn;nn++)if(en[nn]._id===_e._id)return!1;return this.layers.push(_e),!0}isRunning(){var _e=Animation,en=_e.animations,tn=en.length,nn;for(nn=0;nn<tn;nn++)if(en[nn].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(_e){this.frame.timeDiff=_e-this.frame.lastTime,this.frame.lastTime=_e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_e){this.animations.push(_e),this._handleAnimation()}static _removeAnimation(_e){var en=_e.id,tn=this.animations,nn=tn.length,rn;for(rn=0;rn<nn;rn++)if(tn[rn].id===en){this.animations.splice(rn,1);break}}static _runFrames(){var _e={},en=this.animations,tn,nn,rn,sn,an,on,cn,dn,mn;for(sn=0;sn<en.length;sn++)if(tn=en[sn],nn=tn.layers,rn=tn.func,tn._updateFrameObject(now()),on=nn.length,rn?mn=rn.call(tn,tn.frame)!==!1:mn=!0,!!mn)for(an=0;an<on;an++)cn=nn[an],cn._id!==void 0&&(_e[cn._id]=cn);for(dn in _e)!_e.hasOwnProperty(dn)||_e[dn].batchDraw()}static _animationLoop(){var _e=Animation;_e.animations.length?(_e._runFrames(),Util.requestAnimFrame(_e._animationLoop)):_e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util.requestAnimFrame(this._animationLoop))}}Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var blacklist={node:1,duration:1,easing:1,onFinish:1,yoyo:1},PAUSED=1,PLAYING=2,REVERSING=3,idCounter=0,colorAttrs=["fill","stroke","shadowColor"];class TweenEngine{constructor(_e,en,tn,nn,rn,sn,an){this.prop=_e,this.propFunc=en,this.begin=nn,this._pos=nn,this.duration=sn,this._change=0,this.prevPos=0,this.yoyo=an,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=tn,this._change=rn-this.begin,this.pause()}fire(_e){var en=this[_e];en&&en()}setTime(_e){_e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():_e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=_e,this.update())}getTime(){return this._time}setPosition(_e){this.prevPos=this._pos,this.propFunc(_e),this._pos=_e}getPosition(_e){return _e===void 0&&(_e=this._time),this.func(_e,this.begin,this._change,this.duration)}play(){this.state=PLAYING,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=REVERSING,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(_e){this.pause(),this._time=_e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var _e=this.getTimer()-this._startTime;this.state===PLAYING?this.setTime(_e):this.state===REVERSING&&this.setTime(this.duration-_e)}pause(){this.state=PAUSED,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Tween{constructor(_e){var en=this,tn=_e.node,nn=tn._id,rn,sn=_e.easing||Easings.Linear,an=!!_e.yoyo,on;typeof _e.duration>"u"?rn=.3:_e.duration===0?rn=.001:rn=_e.duration,this.node=tn,this._id=idCounter++;var cn=tn.getLayer()||(tn instanceof Konva$1.Stage?tn.getLayers():null);cn||Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Animation(function(){en.tween.onEnterFrame()},cn),this.tween=new TweenEngine(on,function(dn){en._tweenFunc(dn)},sn,0,1,rn*1e3,an),this._addListeners(),Tween.attrs[nn]||(Tween.attrs[nn]={}),Tween.attrs[nn][this._id]||(Tween.attrs[nn][this._id]={}),Tween.tweens[nn]||(Tween.tweens[nn]={});for(on in _e)blacklist[on]===void 0&&this._addAttr(on,_e[on]);this.reset(),this.onFinish=_e.onFinish,this.onReset=_e.onReset,this.onUpdate=_e.onUpdate}_addAttr(_e,en){var tn=this.node,nn=tn._id,rn,sn,an,on,cn,dn,mn,pn;if(an=Tween.tweens[nn][_e],an&&delete Tween.attrs[nn][an][_e],rn=tn.getAttr(_e),Util._isArray(en))if(sn=[],cn=Math.max(en.length,rn.length),_e==="points"&&en.length!==rn.length&&(en.length>rn.length?(mn=rn,rn=Util._prepareArrayForTween(rn,en,tn.closed())):(dn=en,en=Util._prepareArrayForTween(en,rn,tn.closed()))),_e.indexOf("fill")===0)for(on=0;on<cn;on++)if(on%2===0)sn.push(en[on]-rn[on]);else{var fn=Util.colorToRGBA(rn[on]);pn=Util.colorToRGBA(en[on]),rn[on]=fn,sn.push({r:pn.r-fn.r,g:pn.g-fn.g,b:pn.b-fn.b,a:pn.a-fn.a})}else for(on=0;on<cn;on++)sn.push(en[on]-rn[on]);else colorAttrs.indexOf(_e)!==-1?(rn=Util.colorToRGBA(rn),pn=Util.colorToRGBA(en),sn={r:pn.r-rn.r,g:pn.g-rn.g,b:pn.b-rn.b,a:pn.a-rn.a}):sn=en-rn;Tween.attrs[nn][this._id][_e]={start:rn,diff:sn,end:en,trueEnd:dn,trueStart:mn},Tween.tweens[nn][_e]=this._id}_tweenFunc(_e){var en=this.node,tn=Tween.attrs[en._id][this._id],nn,rn,sn,an,on,cn,dn,mn;for(nn in tn){if(rn=tn[nn],sn=rn.start,an=rn.diff,mn=rn.end,Util._isArray(sn))if(on=[],dn=Math.max(sn.length,mn.length),nn.indexOf("fill")===0)for(cn=0;cn<dn;cn++)cn%2===0?on.push((sn[cn]||0)+an[cn]*_e):on.push("rgba("+Math.round(sn[cn].r+an[cn].r*_e)+","+Math.round(sn[cn].g+an[cn].g*_e)+","+Math.round(sn[cn].b+an[cn].b*_e)+","+(sn[cn].a+an[cn].a*_e)+")");else for(cn=0;cn<dn;cn++)on.push((sn[cn]||0)+an[cn]*_e);else colorAttrs.indexOf(nn)!==-1?on="rgba("+Math.round(sn.r+an.r*_e)+","+Math.round(sn.g+an.g*_e)+","+Math.round(sn.b+an.b*_e)+","+(sn.a+an.a*_e)+")":on=sn+an*_e;en.setAttr(nn,on)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var _e=this.node,en=Tween.attrs[_e._id][this._id];en.points&&en.points.trueEnd&&_e.setAttr("points",en.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var _e=this.node,en=Tween.attrs[_e._id][this._id];en.points&&en.points.trueStart&&_e.points(en.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(_e){return this.tween.seek(_e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var _e=this.node._id,en=this._id,tn=Tween.tweens[_e],nn;this.pause();for(nn in tn)delete Tween.tweens[_e][nn];delete Tween.attrs[_e][en]}}Tween.attrs={};Tween.tweens={};Node.prototype.to=function(St){var _e=St.onFinish;St.node=this,St.onFinish=function(){this.destroy(),_e&&_e()};var en=new Tween(St);en.play()};const Easings={BackEaseIn(St,_e,en,tn){var nn=1.70158;return en*(St/=tn)*St*((nn+1)*St-nn)+_e},BackEaseOut(St,_e,en,tn){var nn=1.70158;return en*((St=St/tn-1)*St*((nn+1)*St+nn)+1)+_e},BackEaseInOut(St,_e,en,tn){var nn=1.70158;return(St/=tn/2)<1?en/2*(St*St*(((nn*=1.525)+1)*St-nn))+_e:en/2*((St-=2)*St*(((nn*=1.525)+1)*St+nn)+2)+_e},ElasticEaseIn(St,_e,en,tn,nn,rn){var sn=0;return St===0?_e:(St/=tn)===1?_e+en:(rn||(rn=tn*.3),!nn||nn<Math.abs(en)?(nn=en,sn=rn/4):sn=rn/(2*Math.PI)*Math.asin(en/nn),-(nn*Math.pow(2,10*(St-=1))*Math.sin((St*tn-sn)*(2*Math.PI)/rn))+_e)},ElasticEaseOut(St,_e,en,tn,nn,rn){var sn=0;return St===0?_e:(St/=tn)===1?_e+en:(rn||(rn=tn*.3),!nn||nn<Math.abs(en)?(nn=en,sn=rn/4):sn=rn/(2*Math.PI)*Math.asin(en/nn),nn*Math.pow(2,-10*St)*Math.sin((St*tn-sn)*(2*Math.PI)/rn)+en+_e)},ElasticEaseInOut(St,_e,en,tn,nn,rn){var sn=0;return St===0?_e:(St/=tn/2)===2?_e+en:(rn||(rn=tn*(.3*1.5)),!nn||nn<Math.abs(en)?(nn=en,sn=rn/4):sn=rn/(2*Math.PI)*Math.asin(en/nn),St<1?-.5*(nn*Math.pow(2,10*(St-=1))*Math.sin((St*tn-sn)*(2*Math.PI)/rn))+_e:nn*Math.pow(2,-10*(St-=1))*Math.sin((St*tn-sn)*(2*Math.PI)/rn)*.5+en+_e)},BounceEaseOut(St,_e,en,tn){return(St/=tn)<1/2.75?en*(7.5625*St*St)+_e:St<2/2.75?en*(7.5625*(St-=1.5/2.75)*St+.75)+_e:St<2.5/2.75?en*(7.5625*(St-=2.25/2.75)*St+.9375)+_e:en*(7.5625*(St-=2.625/2.75)*St+.984375)+_e},BounceEaseIn(St,_e,en,tn){return en-Easings.BounceEaseOut(tn-St,0,en,tn)+_e},BounceEaseInOut(St,_e,en,tn){return St<tn/2?Easings.BounceEaseIn(St*2,0,en,tn)*.5+_e:Easings.BounceEaseOut(St*2-tn,0,en,tn)*.5+en*.5+_e},EaseIn(St,_e,en,tn){return en*(St/=tn)*St+_e},EaseOut(St,_e,en,tn){return-en*(St/=tn)*(St-2)+_e},EaseInOut(St,_e,en,tn){return(St/=tn/2)<1?en/2*St*St+_e:-en/2*(--St*(St-2)-1)+_e},StrongEaseIn(St,_e,en,tn){return en*(St/=tn)*St*St*St*St+_e},StrongEaseOut(St,_e,en,tn){return en*((St=St/tn-1)*St*St*St*St+1)+_e},StrongEaseInOut(St,_e,en,tn){return(St/=tn/2)<1?en/2*St*St*St*St*St+_e:en/2*((St-=2)*St*St*St*St+2)+_e},Linear(St,_e,en,tn){return en*St/tn+_e}},Konva=Util._assign(Konva$1,{Util,Transform,Node,Container,Stage:Stage$1,stages,Layer:Layer$1,FastLayer,Group,DD,Shape,shapes,Animation,Tween,Easings,Context,Canvas});class Arc extends Shape{_sceneFunc(_e){var en=Konva$1.getAngle(this.angle()),tn=this.clockwise();_e.beginPath(),_e.arc(0,0,this.outerRadius(),0,en,tn),_e.arc(0,0,this.innerRadius(),en,0,!tn),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}getSelfRect(){const _e=this.innerRadius(),en=this.outerRadius(),tn=this.clockwise(),nn=Konva$1.getAngle(tn?360-this.angle():this.angle()),rn=Math.cos(Math.min(nn,Math.PI)),sn=1,an=Math.sin(Math.min(Math.max(Math.PI,nn),3*Math.PI/2)),on=Math.sin(Math.min(nn,Math.PI/2)),cn=rn*(rn>0?_e:en),dn=sn*en,mn=an*(an>0?_e:en),pn=on*(on>0?en:_e);return{x:cn,y:tn?-1*pn:mn,width:dn-cn,height:pn-mn}}}Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Arc);Factory.addGetterSetter(Arc,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"outerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"angle",0,getNumberValidator());Factory.addGetterSetter(Arc,"clockwise",!1,getBooleanValidator());function getControlPoints(St,_e,en,tn,nn,rn,sn){var an=Math.sqrt(Math.pow(en-St,2)+Math.pow(tn-_e,2)),on=Math.sqrt(Math.pow(nn-en,2)+Math.pow(rn-tn,2)),cn=sn*an/(an+on),dn=sn*on/(an+on),mn=en-cn*(nn-St),pn=tn-cn*(rn-_e),fn=en+dn*(nn-St),yn=tn+dn*(rn-_e);return[mn,pn,fn,yn]}function expandPoints(St,_e){var en=St.length,tn=[],nn,rn;for(nn=2;nn<en-2;nn+=2)rn=getControlPoints(St[nn-2],St[nn-1],St[nn],St[nn+1],St[nn+2],St[nn+3],_e),!isNaN(rn[0])&&(tn.push(rn[0]),tn.push(rn[1]),tn.push(St[nn]),tn.push(St[nn+1]),tn.push(rn[2]),tn.push(rn[3]));return tn}class Line$1 extends Shape{constructor(_e){super(_e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(_e){var en=this.points(),tn=en.length,nn=this.tension(),rn=this.closed(),sn=this.bezier(),an,on,cn;if(!!tn){if(_e.beginPath(),_e.moveTo(en[0],en[1]),nn!==0&&tn>4){for(an=this.getTensionPoints(),on=an.length,cn=rn?0:4,rn||_e.quadraticCurveTo(an[0],an[1],an[2],an[3]);cn<on-2;)_e.bezierCurveTo(an[cn++],an[cn++],an[cn++],an[cn++],an[cn++],an[cn++]);rn||_e.quadraticCurveTo(an[on-2],an[on-1],en[tn-2],en[tn-1])}else if(sn)for(cn=2;cn<tn;)_e.bezierCurveTo(en[cn++],en[cn++],en[cn++],en[cn++],en[cn++],en[cn++]);else for(cn=2;cn<tn;cn+=2)_e.lineTo(en[cn],en[cn+1]);rn?(_e.closePath(),_e.fillStrokeShape(this)):_e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var _e=this.points(),en=_e.length,tn=this.tension(),nn=getControlPoints(_e[en-2],_e[en-1],_e[0],_e[1],_e[2],_e[3],tn),rn=getControlPoints(_e[en-4],_e[en-3],_e[en-2],_e[en-1],_e[0],_e[1],tn),sn=expandPoints(_e,tn),an=[nn[2],nn[3]].concat(sn).concat([rn[0],rn[1],_e[en-2],_e[en-1],rn[2],rn[3],nn[0],nn[1],_e[0],_e[1]]);return an}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var _e=this.points();if(_e.length<4)return{x:_e[0]||0,y:_e[1]||0,width:0,height:0};this.tension()!==0?_e=[_e[0],_e[1],...this._getTensionPoints(),_e[_e.length-2],_e[_e.length-1]]:_e=this.points();for(var en=_e[0],tn=_e[0],nn=_e[1],rn=_e[1],sn,an,on=0;on<_e.length/2;on++)sn=_e[on*2],an=_e[on*2+1],en=Math.min(en,sn),tn=Math.max(tn,sn),nn=Math.min(nn,an),rn=Math.max(rn,an);return{x:en,y:nn,width:tn-en,height:rn-nn}}}Line$1.prototype.className="Line";Line$1.prototype._attrsAffectingSize=["points","bezier","tension"];_registerNode(Line$1);Factory.addGetterSetter(Line$1,"closed",!1);Factory.addGetterSetter(Line$1,"bezier",!1);Factory.addGetterSetter(Line$1,"tension",0,getNumberValidator());Factory.addGetterSetter(Line$1,"points",[],getNumberArrayValidator());class Path extends Shape{constructor(_e){super(_e),this.dataArray=[],this.pathLength=0,this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var en=0;en<this.dataArray.length;++en)this.pathLength+=this.dataArray[en].pathLength;this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var tn=0;tn<this.dataArray.length;++tn)this.pathLength+=this.dataArray[tn].pathLength})}_sceneFunc(_e){var en=this.dataArray;_e.beginPath();for(var tn=!1,nn=0;nn<en.length;nn++){var rn=en[nn].command,sn=en[nn].points;switch(rn){case"L":_e.lineTo(sn[0],sn[1]);break;case"M":_e.moveTo(sn[0],sn[1]);break;case"C":_e.bezierCurveTo(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]);break;case"Q":_e.quadraticCurveTo(sn[0],sn[1],sn[2],sn[3]);break;case"A":var an=sn[0],on=sn[1],cn=sn[2],dn=sn[3],mn=sn[4],pn=sn[5],fn=sn[6],yn=sn[7],bn=cn>dn?cn:dn,wn=cn>dn?1:cn/dn,vn=cn>dn?dn/cn:1;_e.translate(an,on),_e.rotate(fn),_e.scale(wn,vn),_e.arc(0,0,bn,mn,mn+pn,1-yn),_e.scale(1/wn,1/vn),_e.rotate(-fn),_e.translate(-an,-on);break;case"z":tn=!0,_e.closePath();break}}!tn&&!this.hasFill()?_e.strokeShape(this):_e.fillStrokeShape(this)}getSelfRect(){var _e=[];this.dataArray.forEach(function(cn){if(cn.command==="A"){var dn=cn.points[4],mn=cn.points[5],pn=cn.points[4]+mn,fn=Math.PI/180;if(Math.abs(dn-pn)<fn&&(fn=Math.abs(dn-pn)),mn<0)for(let yn=dn-fn;yn>pn;yn-=fn){const bn=Path.getPointOnEllipticalArc(cn.points[0],cn.points[1],cn.points[2],cn.points[3],yn,0);_e.push(bn.x,bn.y)}else for(let yn=dn+fn;yn<pn;yn+=fn){const bn=Path.getPointOnEllipticalArc(cn.points[0],cn.points[1],cn.points[2],cn.points[3],yn,0);_e.push(bn.x,bn.y)}}else if(cn.command==="C")for(let yn=0;yn<=1;yn+=.01){const bn=Path.getPointOnCubicBezier(yn,cn.start.x,cn.start.y,cn.points[0],cn.points[1],cn.points[2],cn.points[3],cn.points[4],cn.points[5]);_e.push(bn.x,bn.y)}else _e=_e.concat(cn.points)});for(var en=_e[0],tn=_e[0],nn=_e[1],rn=_e[1],sn,an,on=0;on<_e.length/2;on++)sn=_e[on*2],an=_e[on*2+1],isNaN(sn)||(en=Math.min(en,sn),tn=Math.max(tn,sn)),isNaN(an)||(nn=Math.min(nn,an),rn=Math.max(rn,an));return{x:en,y:nn,width:tn-en,height:rn-nn}}getLength(){return this.pathLength}getPointAtLength(_e){var en,tn=0,nn=this.dataArray.length;if(!nn)return null;for(;tn<nn&&_e>this.dataArray[tn].pathLength;)_e-=this.dataArray[tn].pathLength,++tn;if(tn===nn)return en=this.dataArray[tn-1].points.slice(-2),{x:en[0],y:en[1]};if(_e<.01)return en=this.dataArray[tn].points.slice(0,2),{x:en[0],y:en[1]};var rn=this.dataArray[tn],sn=rn.points;switch(rn.command){case"L":return Path.getPointOnLine(_e,rn.start.x,rn.start.y,sn[0],sn[1]);case"C":return Path.getPointOnCubicBezier(_e/rn.pathLength,rn.start.x,rn.start.y,sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]);case"Q":return Path.getPointOnQuadraticBezier(_e/rn.pathLength,rn.start.x,rn.start.y,sn[0],sn[1],sn[2],sn[3]);case"A":var an=sn[0],on=sn[1],cn=sn[2],dn=sn[3],mn=sn[4],pn=sn[5],fn=sn[6];return mn+=pn*_e/rn.pathLength,Path.getPointOnEllipticalArc(an,on,cn,dn,mn,fn)}return null}static getLineLength(_e,en,tn,nn){return Math.sqrt((tn-_e)*(tn-_e)+(nn-en)*(nn-en))}static getPointOnLine(_e,en,tn,nn,rn,sn,an){sn===void 0&&(sn=en),an===void 0&&(an=tn);var on=(rn-tn)/(nn-en+1e-8),cn=Math.sqrt(_e*_e/(1+on*on));nn<en&&(cn*=-1);var dn=on*cn,mn;if(nn===en)mn={x:sn,y:an+dn};else if((an-tn)/(sn-en+1e-8)===on)mn={x:sn+cn,y:an+dn};else{var pn,fn,yn=this.getLineLength(en,tn,nn,rn),bn=(sn-en)*(nn-en)+(an-tn)*(rn-tn);bn=bn/(yn*yn),pn=en+bn*(nn-en),fn=tn+bn*(rn-tn);var wn=this.getLineLength(sn,an,pn,fn),vn=Math.sqrt(_e*_e-wn*wn);cn=Math.sqrt(vn*vn/(1+on*on)),nn<en&&(cn*=-1),dn=on*cn,mn={x:pn+cn,y:fn+dn}}return mn}static getPointOnCubicBezier(_e,en,tn,nn,rn,sn,an,on,cn){function dn(wn){return wn*wn*wn}function mn(wn){return 3*wn*wn*(1-wn)}function pn(wn){return 3*wn*(1-wn)*(1-wn)}function fn(wn){return(1-wn)*(1-wn)*(1-wn)}var yn=on*dn(_e)+sn*mn(_e)+nn*pn(_e)+en*fn(_e),bn=cn*dn(_e)+an*mn(_e)+rn*pn(_e)+tn*fn(_e);return{x:yn,y:bn}}static getPointOnQuadraticBezier(_e,en,tn,nn,rn,sn,an){function on(fn){return fn*fn}function cn(fn){return 2*fn*(1-fn)}function dn(fn){return(1-fn)*(1-fn)}var mn=sn*on(_e)+nn*cn(_e)+en*dn(_e),pn=an*on(_e)+rn*cn(_e)+tn*dn(_e);return{x:mn,y:pn}}static getPointOnEllipticalArc(_e,en,tn,nn,rn,sn){var an=Math.cos(sn),on=Math.sin(sn),cn={x:tn*Math.cos(rn),y:nn*Math.sin(rn)};return{x:_e+(cn.x*an-cn.y*on),y:en+(cn.x*on+cn.y*an)}}static parsePathData(_e){if(!_e)return[];var en=_e,tn=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];en=en.replace(new RegExp(" ","g"),",");for(var nn=0;nn<tn.length;nn++)en=en.replace(new RegExp(tn[nn],"g"),"|"+tn[nn]);var rn=en.split("|"),sn=[],an=[],on=0,cn=0,dn=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,mn;for(nn=1;nn<rn.length;nn++){var pn=rn[nn],fn=pn.charAt(0);for(pn=pn.slice(1),an.length=0;mn=dn.exec(pn);)an.push(mn[0]);for(var yn=[],bn=0,wn=an.length;bn<wn;bn++){if(an[bn]==="00"){yn.push(0,0);continue}var vn=parseFloat(an[bn]);isNaN(vn)?yn.push(0):yn.push(vn)}for(;yn.length>0&&!isNaN(yn[0]);){var Sn=null,xn=[],En=on,Cn=cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar;switch(fn){case"l":on+=yn.shift(),cn+=yn.shift(),Sn="L",xn.push(on,cn);break;case"L":on=yn.shift(),cn=yn.shift(),xn.push(on,cn);break;case"m":var tr=yn.shift(),dr=yn.shift();if(on+=tr,cn+=dr,Sn="M",sn.length>2&&sn[sn.length-1].command==="z"){for(var Jn=sn.length-2;Jn>=0;Jn--)if(sn[Jn].command==="M"){on=sn[Jn].points[0]+tr,cn=sn[Jn].points[1]+dr;break}}xn.push(on,cn),fn="l";break;case"M":on=yn.shift(),cn=yn.shift(),Sn="M",xn.push(on,cn),fn="L";break;case"h":on+=yn.shift(),Sn="L",xn.push(on,cn);break;case"H":on=yn.shift(),Sn="L",xn.push(on,cn);break;case"v":cn+=yn.shift(),Sn="L",xn.push(on,cn);break;case"V":cn=yn.shift(),Sn="L",xn.push(on,cn);break;case"C":xn.push(yn.shift(),yn.shift(),yn.shift(),yn.shift()),on=yn.shift(),cn=yn.shift(),xn.push(on,cn);break;case"c":xn.push(on+yn.shift(),cn+yn.shift(),on+yn.shift(),cn+yn.shift()),on+=yn.shift(),cn+=yn.shift(),Sn="C",xn.push(on,cn);break;case"S":In=on,Dn=cn,kn=sn[sn.length-1],kn.command==="C"&&(In=on+(on-kn.points[2]),Dn=cn+(cn-kn.points[3])),xn.push(In,Dn,yn.shift(),yn.shift()),on=yn.shift(),cn=yn.shift(),Sn="C",xn.push(on,cn);break;case"s":In=on,Dn=cn,kn=sn[sn.length-1],kn.command==="C"&&(In=on+(on-kn.points[2]),Dn=cn+(cn-kn.points[3])),xn.push(In,Dn,on+yn.shift(),cn+yn.shift()),on+=yn.shift(),cn+=yn.shift(),Sn="C",xn.push(on,cn);break;case"Q":xn.push(yn.shift(),yn.shift()),on=yn.shift(),cn=yn.shift(),xn.push(on,cn);break;case"q":xn.push(on+yn.shift(),cn+yn.shift()),on+=yn.shift(),cn+=yn.shift(),Sn="Q",xn.push(on,cn);break;case"T":In=on,Dn=cn,kn=sn[sn.length-1],kn.command==="Q"&&(In=on+(on-kn.points[0]),Dn=cn+(cn-kn.points[1])),on=yn.shift(),cn=yn.shift(),Sn="Q",xn.push(In,Dn,on,cn);break;case"t":In=on,Dn=cn,kn=sn[sn.length-1],kn.command==="Q"&&(In=on+(on-kn.points[0]),Dn=cn+(cn-kn.points[1])),on+=yn.shift(),cn+=yn.shift(),Sn="Q",xn.push(In,Dn,on,cn);break;case"A":Wn=yn.shift(),Vn=yn.shift(),On=yn.shift(),zn=yn.shift(),nr=yn.shift(),Yn=on,ar=cn,on=yn.shift(),cn=yn.shift(),Sn="A",xn=this.convertEndpointToCenterParameterization(Yn,ar,on,cn,zn,nr,Wn,Vn,On);break;case"a":Wn=yn.shift(),Vn=yn.shift(),On=yn.shift(),zn=yn.shift(),nr=yn.shift(),Yn=on,ar=cn,on+=yn.shift(),cn+=yn.shift(),Sn="A",xn=this.convertEndpointToCenterParameterization(Yn,ar,on,cn,zn,nr,Wn,Vn,On);break}sn.push({command:Sn||fn,points:xn,start:{x:En,y:Cn},pathLength:this.calcLength(En,Cn,Sn||fn,xn)})}(fn==="z"||fn==="Z")&&sn.push({command:"z",points:[],start:void 0,pathLength:0})}return sn}static calcLength(_e,en,tn,nn){var rn,sn,an,on,cn=Path;switch(tn){case"L":return cn.getLineLength(_e,en,nn[0],nn[1]);case"C":for(rn=0,sn=cn.getPointOnCubicBezier(0,_e,en,nn[0],nn[1],nn[2],nn[3],nn[4],nn[5]),on=.01;on<=1;on+=.01)an=cn.getPointOnCubicBezier(on,_e,en,nn[0],nn[1],nn[2],nn[3],nn[4],nn[5]),rn+=cn.getLineLength(sn.x,sn.y,an.x,an.y),sn=an;return rn;case"Q":for(rn=0,sn=cn.getPointOnQuadraticBezier(0,_e,en,nn[0],nn[1],nn[2],nn[3]),on=.01;on<=1;on+=.01)an=cn.getPointOnQuadraticBezier(on,_e,en,nn[0],nn[1],nn[2],nn[3]),rn+=cn.getLineLength(sn.x,sn.y,an.x,an.y),sn=an;return rn;case"A":rn=0;var dn=nn[4],mn=nn[5],pn=nn[4]+mn,fn=Math.PI/180;if(Math.abs(dn-pn)<fn&&(fn=Math.abs(dn-pn)),sn=cn.getPointOnEllipticalArc(nn[0],nn[1],nn[2],nn[3],dn,0),mn<0)for(on=dn-fn;on>pn;on-=fn)an=cn.getPointOnEllipticalArc(nn[0],nn[1],nn[2],nn[3],on,0),rn+=cn.getLineLength(sn.x,sn.y,an.x,an.y),sn=an;else for(on=dn+fn;on<pn;on+=fn)an=cn.getPointOnEllipticalArc(nn[0],nn[1],nn[2],nn[3],on,0),rn+=cn.getLineLength(sn.x,sn.y,an.x,an.y),sn=an;return an=cn.getPointOnEllipticalArc(nn[0],nn[1],nn[2],nn[3],pn,0),rn+=cn.getLineLength(sn.x,sn.y,an.x,an.y),rn}return 0}static convertEndpointToCenterParameterization(_e,en,tn,nn,rn,sn,an,on,cn){var dn=cn*(Math.PI/180),mn=Math.cos(dn)*(_e-tn)/2+Math.sin(dn)*(en-nn)/2,pn=-1*Math.sin(dn)*(_e-tn)/2+Math.cos(dn)*(en-nn)/2,fn=mn*mn/(an*an)+pn*pn/(on*on);fn>1&&(an*=Math.sqrt(fn),on*=Math.sqrt(fn));var yn=Math.sqrt((an*an*(on*on)-an*an*(pn*pn)-on*on*(mn*mn))/(an*an*(pn*pn)+on*on*(mn*mn)));rn===sn&&(yn*=-1),isNaN(yn)&&(yn=0);var bn=yn*an*pn/on,wn=yn*-on*mn/an,vn=(_e+tn)/2+Math.cos(dn)*bn-Math.sin(dn)*wn,Sn=(en+nn)/2+Math.sin(dn)*bn+Math.cos(dn)*wn,xn=function(Vn){return Math.sqrt(Vn[0]*Vn[0]+Vn[1]*Vn[1])},En=function(Vn,On){return(Vn[0]*On[0]+Vn[1]*On[1])/(xn(Vn)*xn(On))},Cn=function(Vn,On){return(Vn[0]*On[1]<Vn[1]*On[0]?-1:1)*Math.acos(En(Vn,On))},kn=Cn([1,0],[(mn-bn)/an,(pn-wn)/on]),In=[(mn-bn)/an,(pn-wn)/on],Dn=[(-1*mn-bn)/an,(-1*pn-wn)/on],Wn=Cn(In,Dn);return En(In,Dn)<=-1&&(Wn=Math.PI),En(In,Dn)>=1&&(Wn=0),sn===0&&Wn>0&&(Wn=Wn-2*Math.PI),sn===1&&Wn<0&&(Wn=Wn+2*Math.PI),[vn,Sn,an,on,kn,Wn,dn,sn]}}Path.prototype.className="Path";Path.prototype._attrsAffectingSize=["data"];_registerNode(Path);Factory.addGetterSetter(Path,"data");class Arrow extends Line$1{_sceneFunc(_e){super._sceneFunc(_e);var en=Math.PI*2,tn=this.points(),nn=tn,rn=this.tension()!==0&&tn.length>4;rn&&(nn=this.getTensionPoints());var sn=this.pointerLength(),an=tn.length,on,cn;if(rn){const pn=[nn[nn.length-4],nn[nn.length-3],nn[nn.length-2],nn[nn.length-1],tn[an-2],tn[an-1]],fn=Path.calcLength(nn[nn.length-4],nn[nn.length-3],"C",pn),yn=Path.getPointOnQuadraticBezier(Math.min(1,1-sn/fn),pn[0],pn[1],pn[2],pn[3],pn[4],pn[5]);on=tn[an-2]-yn.x,cn=tn[an-1]-yn.y}else on=tn[an-2]-tn[an-4],cn=tn[an-1]-tn[an-3];var dn=(Math.atan2(cn,on)+en)%en,mn=this.pointerWidth();this.pointerAtEnding()&&(_e.save(),_e.beginPath(),_e.translate(tn[an-2],tn[an-1]),_e.rotate(dn),_e.moveTo(0,0),_e.lineTo(-sn,mn/2),_e.lineTo(-sn,-mn/2),_e.closePath(),_e.restore(),this.__fillStroke(_e)),this.pointerAtBeginning()&&(_e.save(),_e.beginPath(),_e.translate(tn[0],tn[1]),rn?(on=(nn[0]+nn[2])/2-tn[0],cn=(nn[1]+nn[3])/2-tn[1]):(on=tn[2]-tn[0],cn=tn[3]-tn[1]),_e.rotate((Math.atan2(-cn,-on)+en)%en),_e.moveTo(0,0),_e.lineTo(-sn,mn/2),_e.lineTo(-sn,-mn/2),_e.closePath(),_e.restore(),this.__fillStroke(_e))}__fillStroke(_e){var en=this.dashEnabled();en&&(this.attrs.dashEnabled=!1,_e.setLineDash([])),_e.fillStrokeShape(this),en&&(this.attrs.dashEnabled=!0)}getSelfRect(){const _e=super.getSelfRect(),en=this.pointerWidth()/2;return{x:_e.x-en,y:_e.y-en,width:_e.width+en*2,height:_e.height+en*2}}}Arrow.prototype.className="Arrow";_registerNode(Arrow);Factory.addGetterSetter(Arrow,"pointerLength",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerWidth",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);class Circle extends Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius()!==_e/2&&this.radius(_e/2)}setHeight(_e){this.radius()!==_e/2&&this.radius(_e/2)}}Circle.prototype._centroid=!0;Circle.prototype.className="Circle";Circle.prototype._attrsAffectingSize=["radius"];_registerNode(Circle);Factory.addGetterSetter(Circle,"radius",0,getNumberValidator());class Ellipse extends Shape{_sceneFunc(_e){var en=this.radiusX(),tn=this.radiusY();_e.beginPath(),_e.save(),en!==tn&&_e.scale(1,tn/en),_e.arc(0,0,en,0,Math.PI*2,!1),_e.restore(),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(_e){this.radiusX(_e/2)}setHeight(_e){this.radiusY(_e/2)}}Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];_registerNode(Ellipse);Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory.addGetterSetter(Ellipse,"radiusX",0,getNumberValidator());Factory.addGetterSetter(Ellipse,"radiusY",0,getNumberValidator());class Image$2 extends Shape{constructor(_e){super(_e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const _e=this.image();_e&&_e.complete||_e&&_e.readyState===4||_e&&_e.addEventListener&&_e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(_e){const en=this.getWidth(),tn=this.getHeight(),nn=this.attrs.image;let rn;if(nn){const sn=this.attrs.cropWidth,an=this.attrs.cropHeight;sn&&an?rn=[nn,this.cropX(),this.cropY(),sn,an,0,0,en,tn]:rn=[nn,0,0,en,tn]}(this.hasFill()||this.hasStroke())&&(_e.beginPath(),_e.rect(0,0,en,tn),_e.closePath(),_e.fillStrokeShape(this)),nn&&_e.drawImage.apply(_e,rn)}_hitFunc(_e){var en=this.width(),tn=this.height();_e.beginPath(),_e.rect(0,0,en,tn),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){var _e,en;return(_e=this.attrs.width)!==null&&_e!==void 0?_e:(en=this.image())===null||en===void 0?void 0:en.width}getHeight(){var _e,en;return(_e=this.attrs.height)!==null&&_e!==void 0?_e:(en=this.image())===null||en===void 0?void 0:en.height}static fromURL(_e,en,tn=null){var nn=Util.createImageElement();nn.onload=function(){var rn=new Image$2({image:nn});en(rn)},nn.onerror=tn,nn.crossOrigin="Anonymous",nn.src=_e}}Image$2.prototype.className="Image";_registerNode(Image$2);Factory.addGetterSetter(Image$2,"image");Factory.addComponentsGetterSetter(Image$2,"crop",["x","y","width","height"]);Factory.addGetterSetter(Image$2,"cropX",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropY",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropWidth",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropHeight",0,getNumberValidator());var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group{constructor(_e){super(_e),this.on("add.konva",function(en){this._addListeners(en.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(_e){var en=this,tn,nn=function(){en._sync()};for(tn=0;tn<attrChangeListLen$1;tn++)_e.on(ATTR_CHANGE_LIST$2[tn]+CHANGE_KONVA$1,nn)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var _e=this.getText(),en=this.getTag(),tn,nn,rn,sn,an,on,cn;if(_e&&en){switch(tn=_e.width(),nn=_e.height(),rn=en.pointerDirection(),sn=en.pointerWidth(),cn=en.pointerHeight(),an=0,on=0,rn){case UP:an=tn/2,on=-1*cn;break;case RIGHT$1:an=tn+sn,on=nn/2;break;case DOWN:an=tn/2,on=nn+cn;break;case LEFT$1:an=-1*sn,on=nn/2;break}en.setAttrs({x:-1*an,y:-1*on,width:tn,height:nn}),_e.setAttrs({x:-1*an,y:-1*on})}}}Label.prototype.className="Label";_registerNode(Label);class Tag extends Shape{_sceneFunc(_e){var en=this.width(),tn=this.height(),nn=this.pointerDirection(),rn=this.pointerWidth(),sn=this.pointerHeight(),an=this.cornerRadius();let on=0,cn=0,dn=0,mn=0;typeof an=="number"?on=cn=dn=mn=Math.min(an,en/2,tn/2):(on=Math.min(an[0]||0,en/2,tn/2),cn=Math.min(an[1]||0,en/2,tn/2),mn=Math.min(an[2]||0,en/2,tn/2),dn=Math.min(an[3]||0,en/2,tn/2)),_e.beginPath(),_e.moveTo(on,0),nn===UP&&(_e.lineTo((en-rn)/2,0),_e.lineTo(en/2,-1*sn),_e.lineTo((en+rn)/2,0)),_e.lineTo(en-cn,0),_e.arc(en-cn,cn,cn,Math.PI*3/2,0,!1),nn===RIGHT$1&&(_e.lineTo(en,(tn-sn)/2),_e.lineTo(en+rn,tn/2),_e.lineTo(en,(tn+sn)/2)),_e.lineTo(en,tn-mn),_e.arc(en-mn,tn-mn,mn,0,Math.PI/2,!1),nn===DOWN&&(_e.lineTo((en+rn)/2,tn),_e.lineTo(en/2,tn+sn),_e.lineTo((en-rn)/2,tn)),_e.lineTo(dn,tn),_e.arc(dn,tn-dn,dn,Math.PI/2,Math.PI,!1),nn===LEFT$1&&(_e.lineTo(0,(tn+sn)/2),_e.lineTo(-1*rn,tn/2),_e.lineTo(0,(tn-sn)/2)),_e.lineTo(0,on),_e.arc(on,on,on,Math.PI,Math.PI*3/2,!1),_e.closePath(),_e.fillStrokeShape(this)}getSelfRect(){var _e=0,en=0,tn=this.pointerWidth(),nn=this.pointerHeight(),rn=this.pointerDirection(),sn=this.width(),an=this.height();return rn===UP?(en-=nn,an+=nn):rn===DOWN?an+=nn:rn===LEFT$1?(_e-=tn*1.5,sn+=tn):rn===RIGHT$1&&(sn+=tn*1.5),{x:_e,y:en,width:sn,height:an}}}Tag.prototype.className="Tag";_registerNode(Tag);Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory.addGetterSetter(Tag,"pointerWidth",0,getNumberValidator());Factory.addGetterSetter(Tag,"pointerHeight",0,getNumberValidator());Factory.addGetterSetter(Tag,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class Rect extends Shape{_sceneFunc(_e){var en=this.cornerRadius(),tn=this.width(),nn=this.height();if(_e.beginPath(),!en)_e.rect(0,0,tn,nn);else{let rn=0,sn=0,an=0,on=0;typeof en=="number"?rn=sn=an=on=Math.min(en,tn/2,nn/2):(rn=Math.min(en[0]||0,tn/2,nn/2),sn=Math.min(en[1]||0,tn/2,nn/2),on=Math.min(en[2]||0,tn/2,nn/2),an=Math.min(en[3]||0,tn/2,nn/2)),_e.moveTo(rn,0),_e.lineTo(tn-sn,0),_e.arc(tn-sn,sn,sn,Math.PI*3/2,0,!1),_e.lineTo(tn,nn-on),_e.arc(tn-on,nn-on,on,0,Math.PI/2,!1),_e.lineTo(an,nn),_e.arc(an,nn-an,an,Math.PI/2,Math.PI,!1),_e.lineTo(0,rn),_e.arc(rn,rn,rn,Math.PI,Math.PI*3/2,!1)}_e.closePath(),_e.fillStrokeShape(this)}}Rect.prototype.className="Rect";_registerNode(Rect);Factory.addGetterSetter(Rect,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class RegularPolygon extends Shape{_sceneFunc(_e){const en=this._getPoints();_e.beginPath(),_e.moveTo(en[0].x,en[0].y);for(var tn=1;tn<en.length;tn++)_e.lineTo(en[tn].x,en[tn].y);_e.closePath(),_e.fillStrokeShape(this)}_getPoints(){const _e=this.attrs.sides,en=this.attrs.radius||0,tn=[];for(var nn=0;nn<_e;nn++)tn.push({x:en*Math.sin(nn*2*Math.PI/_e),y:-1*en*Math.cos(nn*2*Math.PI/_e)});return tn}getSelfRect(){const _e=this._getPoints();var en=_e[0].x,tn=_e[0].y,nn=_e[0].x,rn=_e[0].y;return _e.forEach(sn=>{en=Math.min(en,sn.x),tn=Math.max(tn,sn.x),nn=Math.min(nn,sn.y),rn=Math.max(rn,sn.y)}),{x:en,y:nn,width:tn-en,height:rn-nn}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius(_e/2)}setHeight(_e){this.radius(_e/2)}}RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];_registerNode(RegularPolygon);Factory.addGetterSetter(RegularPolygon,"radius",0,getNumberValidator());Factory.addGetterSetter(RegularPolygon,"sides",0,getNumberValidator());var PIx2=Math.PI*2;class Ring extends Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.innerRadius(),0,PIx2,!1),_e.moveTo(this.outerRadius(),0),_e.arc(0,0,this.outerRadius(),PIx2,0,!0),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}}Ring.prototype.className="Ring";Ring.prototype._centroid=!0;Ring.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Ring);Factory.addGetterSetter(Ring,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Ring,"outerRadius",0,getNumberValidator());class Sprite extends Shape{constructor(_e){super(_e),this._updated=!0,this.anim=new Animation(()=>{var en=this._updated;return this._updated=!1,en}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(_e){var en=this.animation(),tn=this.frameIndex(),nn=tn*4,rn=this.animations()[en],sn=this.frameOffsets(),an=rn[nn+0],on=rn[nn+1],cn=rn[nn+2],dn=rn[nn+3],mn=this.image();if((this.hasFill()||this.hasStroke())&&(_e.beginPath(),_e.rect(0,0,cn,dn),_e.closePath(),_e.fillStrokeShape(this)),mn)if(sn){var pn=sn[en],fn=tn*2;_e.drawImage(mn,an,on,cn,dn,pn[fn+0],pn[fn+1],cn,dn)}else _e.drawImage(mn,an,on,cn,dn,0,0,cn,dn)}_hitFunc(_e){var en=this.animation(),tn=this.frameIndex(),nn=tn*4,rn=this.animations()[en],sn=this.frameOffsets(),an=rn[nn+2],on=rn[nn+3];if(_e.beginPath(),sn){var cn=sn[en],dn=tn*2;_e.rect(cn[dn+0],cn[dn+1],an,on)}else _e.rect(0,0,an,on);_e.closePath(),_e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var _e=this;this.interval=setInterval(function(){_e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var _e=this.getLayer();this.anim.setLayers(_e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var _e=this.frameIndex(),en=this.animation(),tn=this.animations(),nn=tn[en],rn=nn.length/4;_e<rn-1?this.frameIndex(_e+1):this.frameIndex(0)}}Sprite.prototype.className="Sprite";_registerNode(Sprite);Factory.addGetterSetter(Sprite,"animation");Factory.addGetterSetter(Sprite,"animations");Factory.addGetterSetter(Sprite,"frameOffsets");Factory.addGetterSetter(Sprite,"image");Factory.addGetterSetter(Sprite,"frameIndex",0,getNumberValidator());Factory.addGetterSetter(Sprite,"frameRate",17,getNumberValidator());Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Star extends Shape{_sceneFunc(_e){var en=this.innerRadius(),tn=this.outerRadius(),nn=this.numPoints();_e.beginPath(),_e.moveTo(0,0-tn);for(var rn=1;rn<nn*2;rn++){var sn=rn%2===0?tn:en,an=sn*Math.sin(rn*Math.PI/nn),on=-1*sn*Math.cos(rn*Math.PI/nn);_e.lineTo(an,on)}_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}}Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Star);Factory.addGetterSetter(Star,"numPoints",5,getNumberValidator());Factory.addGetterSetter(Star,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Star,"outerRadius",0,getNumberValidator());function stringToArray(St){return Array.from(St)}var AUTO="auto",CENTER="center",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",WORD="word",CHAR="char",NONE="none",ELLIPSIS="\u2026",ATTR_CHANGE_LIST$1=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(St){return St.split(",").map(_e=>{_e=_e.trim();const en=_e.indexOf(" ")>=0,tn=_e.indexOf('"')>=0||_e.indexOf("'")>=0;return en&&!tn&&(_e=`"${_e}"`),_e}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(St){St.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(St){St.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(St){return St=St||{},!St.fillLinearGradientColorStops&&!St.fillRadialGradientColorStops&&!St.fillPatternImage&&(St.fill=St.fill||"black"),St}class Text extends Shape{constructor(_e){super(checkDefaultFill(_e)),this._partialTextX=0,this._partialTextY=0;for(var en=0;en<attrChangeListLen;en++)this.on(ATTR_CHANGE_LIST$1[en]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(_e){var en=this.textArr,tn=en.length;if(!!this.text()){var nn=this.padding(),rn=this.fontSize(),sn=this.lineHeight()*rn,an=this.verticalAlign(),on=0,cn=this.align(),dn=this.getWidth(),mn=this.letterSpacing(),pn=this.fill(),fn=this.textDecoration(),yn=fn.indexOf("underline")!==-1,bn=fn.indexOf("line-through")!==-1,wn,vn=0,vn=sn/2,Sn=0,xn=0;for(_e.setAttr("font",this._getContextFont()),_e.setAttr("textBaseline",MIDDLE),_e.setAttr("textAlign",LEFT),an===MIDDLE?on=(this.getHeight()-tn*sn-nn*2)/2:an===BOTTOM&&(on=this.getHeight()-tn*sn-nn*2),_e.translate(nn,on+nn),wn=0;wn<tn;wn++){var Sn=0,xn=0,En=en[wn],Cn=En.text,kn=En.width,In=En.lastInParagraph,Dn,Wn,Vn;if(_e.save(),cn===RIGHT?Sn+=dn-kn-nn*2:cn===CENTER&&(Sn+=(dn-kn-nn*2)/2),yn&&(_e.save(),_e.beginPath(),_e.moveTo(Sn,vn+xn+Math.round(rn/2)),Dn=Cn.split(" ").length-1,Wn=Dn===0,Vn=cn===JUSTIFY&&In&&!Wn?dn-nn*2:kn,_e.lineTo(Sn+Math.round(Vn),vn+xn+Math.round(rn/2)),_e.lineWidth=rn/15,_e.strokeStyle=pn,_e.stroke(),_e.restore()),bn&&(_e.save(),_e.beginPath(),_e.moveTo(Sn,vn+xn),Dn=Cn.split(" ").length-1,Wn=Dn===0,Vn=cn===JUSTIFY&&In&&!Wn?dn-nn*2:kn,_e.lineTo(Sn+Math.round(Vn),vn+xn),_e.lineWidth=rn/15,_e.strokeStyle=pn,_e.stroke(),_e.restore()),mn!==0||cn===JUSTIFY){Dn=Cn.split(" ").length-1;for(var On=stringToArray(Cn),zn=0;zn<On.length;zn++){var nr=On[zn];nr===" "&&!In&&cn===JUSTIFY&&(Sn+=(dn-nn*2-kn)/Dn),this._partialTextX=Sn,this._partialTextY=vn+xn,this._partialText=nr,_e.fillStrokeShape(this),Sn+=this.measureSize(nr).width+mn}}else this._partialTextX=Sn,this._partialTextY=vn+xn,this._partialText=Cn,_e.fillStrokeShape(this);_e.restore(),tn>1&&(vn+=sn)}}}_hitFunc(_e){var en=this.getWidth(),tn=this.getHeight();_e.beginPath(),_e.rect(0,0,en,tn),_e.closePath(),_e.fillStrokeShape(this)}setText(_e){var en=Util._isString(_e)?_e:_e==null?"":_e+"";return this._setAttr(TEXT,en),this}getWidth(){var _e=this.attrs.width===AUTO||this.attrs.width===void 0;return _e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var _e=this.attrs.height===AUTO||this.attrs.height===void 0;return _e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(_e){var en=getDummyContext(),tn=this.fontSize(),nn;return en.save(),en.font=this._getContextFont(),nn=en.measureText(_e),en.restore(),{width:nn.width,height:tn}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(_e){this.align()===JUSTIFY&&(_e=_e.trim());var en=this._getTextWidth(_e);return this.textArr.push({text:_e,width:en,lastInParagraph:!1})}_getTextWidth(_e){var en=this.letterSpacing(),tn=_e.length;return getDummyContext().measureText(_e).width+(tn?en*(tn-1):0)}_setTextData(){var _e=this.text().split(`
`),en=+this.fontSize(),tn=0,nn=this.lineHeight()*en,rn=this.attrs.width,sn=this.attrs.height,an=rn!==AUTO&&rn!==void 0,on=sn!==AUTO&&sn!==void 0,cn=this.padding(),dn=rn-cn*2,mn=sn-cn*2,pn=0,fn=this.wrap(),yn=fn!==NONE,bn=fn!==CHAR&&yn,wn=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var vn=wn?this._getTextWidth(ELLIPSIS):0,Sn=0,xn=_e.length;Sn<xn;++Sn){var En=_e[Sn],Cn=this._getTextWidth(En);if(an&&Cn>dn)for(;En.length>0;){for(var kn=0,In=En.length,Dn="",Wn=0;kn<In;){var Vn=kn+In>>>1,On=En.slice(0,Vn+1),zn=this._getTextWidth(On)+vn;zn<=dn?(kn=Vn+1,Dn=On,Wn=zn):In=Vn}if(Dn){if(bn){var nr,Yn=En[Dn.length],ar=Yn===SPACE||Yn===DASH;ar&&Wn<=dn?nr=Dn.length:nr=Math.max(Dn.lastIndexOf(SPACE),Dn.lastIndexOf(DASH))+1,nr>0&&(kn=nr,Dn=Dn.slice(0,kn),Wn=this._getTextWidth(Dn))}Dn=Dn.trimRight(),this._addTextLine(Dn),tn=Math.max(tn,Wn),pn+=nn;var tr=this._shouldHandleEllipsis(pn);if(tr){this._tryToAddEllipsisToLastLine();break}if(En=En.slice(kn),En=En.trimLeft(),En.length>0&&(Cn=this._getTextWidth(En),Cn<=dn)){this._addTextLine(En),pn+=nn,tn=Math.max(tn,Cn);break}}else break}else this._addTextLine(En),pn+=nn,tn=Math.max(tn,Cn),this._shouldHandleEllipsis(pn)&&Sn<xn-1&&this._tryToAddEllipsisToLastLine();if(on&&pn+nn>mn)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=en,this.textWidth=tn}_shouldHandleEllipsis(_e){var en=+this.fontSize(),tn=this.lineHeight()*en,nn=this.attrs.height,rn=nn!==AUTO&&nn!==void 0,sn=this.padding(),an=nn-sn*2,on=this.wrap(),cn=on!==NONE;return!cn||rn&&_e+tn>an}_tryToAddEllipsisToLastLine(){var _e=this.attrs.width,en=_e!==AUTO&&_e!==void 0,tn=this.padding(),nn=_e-tn*2,rn=this.ellipsis(),sn=this.textArr[this.textArr.length-1];if(!(!sn||!rn)){if(en){var an=this._getTextWidth(sn.text+ELLIPSIS)<nn;an||(sn.text=sn.text.slice(0,sn.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(sn.text+ELLIPSIS)}}getStrokeScaleEnabled(){return!0}}Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];_registerNode(Text);Factory.overWriteSetter(Text,"width",getNumberOrAutoValidator());Factory.overWriteSetter(Text,"height",getNumberOrAutoValidator());Factory.addGetterSetter(Text,"fontFamily","Arial");Factory.addGetterSetter(Text,"fontSize",12,getNumberValidator());Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory.addGetterSetter(Text,"padding",0,getNumberValidator());Factory.addGetterSetter(Text,"align",LEFT);Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory.addGetterSetter(Text,"lineHeight",1,getNumberValidator());Factory.addGetterSetter(Text,"wrap",WORD);Factory.addGetterSetter(Text,"ellipsis",!1,getBooleanValidator());Factory.addGetterSetter(Text,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(Text,"text","",getStringValidator());Factory.addGetterSetter(Text,"textDecoration","");var EMPTY_STRING="",NORMAL="normal";function _fillFunc(St){St.fillText(this.partialText,0,0)}function _strokeFunc(St){St.strokeText(this.partialText,0,0)}class TextPath extends Shape{constructor(_e){super(_e),this.dummyCanvas=Util.createCanvasElement(),this.dataArray=[],this.dataArray=Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(_e){_e.setAttr("font",this._getContextFont()),_e.setAttr("textBaseline",this.textBaseline()),_e.setAttr("textAlign","left"),_e.save();var en=this.textDecoration(),tn=this.fill(),nn=this.fontSize(),rn=this.glyphInfo;en==="underline"&&_e.beginPath();for(var sn=0;sn<rn.length;sn++){_e.save();var an=rn[sn].p0;_e.translate(an.x,an.y),_e.rotate(rn[sn].rotation),this.partialText=rn[sn].text,_e.fillStrokeShape(this),en==="underline"&&(sn===0&&_e.moveTo(0,nn/2+1),_e.lineTo(nn,nn/2+1)),_e.restore()}en==="underline"&&(_e.strokeStyle=tn,_e.lineWidth=nn/20,_e.stroke()),_e.restore()}_hitFunc(_e){_e.beginPath();var en=this.glyphInfo;if(en.length>=1){var tn=en[0].p0;_e.moveTo(tn.x,tn.y)}for(var nn=0;nn<en.length;nn++){var rn=en[nn].p1;_e.lineTo(rn.x,rn.y)}_e.setAttr("lineWidth",this.fontSize()),_e.setAttr("strokeStyle",this.colorKey),_e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(_e){return Text.prototype.setText.call(this,_e)}_getContextFont(){return Text.prototype._getContextFont.call(this)}_getTextSize(_e){var en=this.dummyCanvas,tn=en.getContext("2d");tn.save(),tn.font=this._getContextFont();var nn=tn.measureText(_e);return tn.restore(),{width:nn.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var _e=this,en=this._getTextSize(this.attrs.text),tn=this.letterSpacing(),nn=this.align(),rn=this.kerningFunc();this.textWidth=en.width,this.textHeight=en.height;var sn=Math.max(this.textWidth+((this.attrs.text||"").length-1)*tn,0);this.glyphInfo=[];for(var an=0,on=0;on<_e.dataArray.length;on++)_e.dataArray[on].pathLength>0&&(an+=_e.dataArray[on].pathLength);var cn=0;nn==="center"&&(cn=Math.max(0,an/2-sn/2)),nn==="right"&&(cn=Math.max(0,an-sn));for(var dn=stringToArray(this.text()),mn=this.text().split(" ").length-1,pn,fn,yn,bn=-1,wn=0,vn=function(){wn=0;for(var zn=_e.dataArray,nr=bn+1;nr<zn.length;nr++){if(zn[nr].pathLength>0)return bn=nr,zn[nr];zn[nr].command==="M"&&(pn={x:zn[nr].points[0],y:zn[nr].points[1]})}return{}},Sn=function(zn){var nr=_e._getTextSize(zn).width+tn;zn===" "&&nn==="justify"&&(nr+=(an-sn)/mn);var Yn=0,ar=0;for(fn=void 0;Math.abs(nr-Yn)/nr>.01&&ar<20;){ar++;for(var tr=Yn;yn===void 0;)yn=vn(),yn&&tr+yn.pathLength<nr&&(tr+=yn.pathLength,yn=void 0);if(Object.keys(yn).length===0||pn===void 0)return;var dr=!1;switch(yn.command){case"L":Path.getLineLength(pn.x,pn.y,yn.points[0],yn.points[1])>nr?fn=Path.getPointOnLine(nr,pn.x,pn.y,yn.points[0],yn.points[1],pn.x,pn.y):yn=void 0;break;case"A":var Jn=yn.points[4],hr=yn.points[5],yr=yn.points[4]+hr;wn===0?wn=Jn+1e-8:nr>Yn?wn+=Math.PI/180*hr/Math.abs(hr):wn-=Math.PI/360*hr/Math.abs(hr),(hr<0&&wn<yr||hr>=0&&wn>yr)&&(wn=yr,dr=!0),fn=Path.getPointOnEllipticalArc(yn.points[0],yn.points[1],yn.points[2],yn.points[3],wn,yn.points[6]);break;case"C":wn===0?nr>yn.pathLength?wn=1e-8:wn=nr/yn.pathLength:nr>Yn?wn+=(nr-Yn)/yn.pathLength/2:wn=Math.max(wn-(Yn-nr)/yn.pathLength/2,0),wn>1&&(wn=1,dr=!0),fn=Path.getPointOnCubicBezier(wn,yn.start.x,yn.start.y,yn.points[0],yn.points[1],yn.points[2],yn.points[3],yn.points[4],yn.points[5]);break;case"Q":wn===0?wn=nr/yn.pathLength:nr>Yn?wn+=(nr-Yn)/yn.pathLength:wn-=(Yn-nr)/yn.pathLength,wn>1&&(wn=1,dr=!0),fn=Path.getPointOnQuadraticBezier(wn,yn.start.x,yn.start.y,yn.points[0],yn.points[1],yn.points[2],yn.points[3]);break}fn!==void 0&&(Yn=Path.getLineLength(pn.x,pn.y,fn.x,fn.y)),dr&&(dr=!1,yn=void 0)}},xn="C",En=_e._getTextSize(xn).width+tn,Cn=cn/En-1,kn=0;kn<Cn&&(Sn(xn),!(pn===void 0||fn===void 0));kn++)pn=fn;for(var In=0;In<dn.length&&(Sn(dn[In]),!(pn===void 0||fn===void 0));In++){var Dn=Path.getLineLength(pn.x,pn.y,fn.x,fn.y),Wn=0;if(rn)try{Wn=rn(dn[In-1],dn[In])*this.fontSize()}catch{Wn=0}pn.x+=Wn,fn.x+=Wn,this.textWidth+=Wn;var Vn=Path.getPointOnLine(Wn+Dn/2,pn.x,pn.y,fn.x,fn.y),On=Math.atan2(fn.y-pn.y,fn.x-pn.x);this.glyphInfo.push({transposeX:Vn.x,transposeY:Vn.y,text:dn[In],rotation:On,p0:pn,p1:fn}),pn=fn}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var _e=[];this.glyphInfo.forEach(function(dn){_e.push(dn.p0.x),_e.push(dn.p0.y),_e.push(dn.p1.x),_e.push(dn.p1.y)});for(var en=_e[0]||0,tn=_e[0]||0,nn=_e[1]||0,rn=_e[1]||0,sn,an,on=0;on<_e.length/2;on++)sn=_e[on*2],an=_e[on*2+1],en=Math.min(en,sn),tn=Math.max(tn,sn),nn=Math.min(nn,an),rn=Math.max(rn,an);var cn=this.fontSize();return{x:en-cn/2,y:nn-cn/2,width:tn-en+cn,height:rn-nn+cn}}destroy(){return Util.releaseCanvas(this.dummyCanvas),super.destroy()}}TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];_registerNode(TextPath);Factory.addGetterSetter(TextPath,"data");Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory.addGetterSetter(TextPath,"fontSize",12,getNumberValidator());Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory.addGetterSetter(TextPath,"align","left");Factory.addGetterSetter(TextPath,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory.addGetterSetter(TextPath,"textDecoration",null);Factory.addGetterSetter(TextPath,"kerningFunc",null);var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(St=>St+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Konva$1._global;function getCursor(St,_e){if(St==="rotater")return"crosshair";_e+=Util.degToRad(ANGLES[St]||0);var en=(Util.radToDeg(_e)%360+360)%360;return Util._inRange(en,315+22.5,360)||Util._inRange(en,0,22.5)?"ns-resize":Util._inRange(en,45-22.5,45+22.5)?"nesw-resize":Util._inRange(en,90-22.5,90+22.5)?"ew-resize":Util._inRange(en,135-22.5,135+22.5)?"nwse-resize":Util._inRange(en,180-22.5,180+22.5)?"ns-resize":Util._inRange(en,225-22.5,225+22.5)?"nesw-resize":Util._inRange(en,270-22.5,270+22.5)?"ew-resize":Util._inRange(en,315-22.5,315+22.5)?"nwse-resize":(Util.error("Transformer has unknown angle for cursor detection: "+en),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER=1e8;function getCenter(St){return{x:St.x+St.width/2*Math.cos(St.rotation)+St.height/2*Math.sin(-St.rotation),y:St.y+St.height/2*Math.cos(St.rotation)+St.width/2*Math.sin(St.rotation)}}function rotateAroundPoint(St,_e,en){const tn=en.x+(St.x-en.x)*Math.cos(_e)-(St.y-en.y)*Math.sin(_e),nn=en.y+(St.x-en.x)*Math.sin(_e)+(St.y-en.y)*Math.cos(_e);return Object.assign(Object.assign({},St),{rotation:St.rotation+_e,x:tn,y:nn})}function rotateAroundCenter(St,_e){const en=getCenter(St);return rotateAroundPoint(St,_e,en)}function getSnap(St,_e,en){let tn=_e;for(let nn=0;nn<St.length;nn++){const rn=Konva$1.getAngle(St[nn]),sn=Math.abs(rn-_e)%(Math.PI*2);Math.min(sn,Math.PI*2-sn)<en&&(tn=rn)}return tn}class Transformer$1 extends Group{constructor(_e){super(_e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(_e){return this.setNode(_e),this}setNode(_e){return Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([_e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(_e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=_e,_e.length===1&&this.useSingleNodeRotation()?this.rotation(_e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(tn=>{const nn=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},rn=tn._attrsAffectingSize.map(sn=>sn+"Change."+this._getEventNamespace()).join(" ");tn.on(rn,nn),tn.on(TRANSFORM_CHANGE_STR.map(sn=>sn+`.${this._getEventNamespace()}`).join(" "),nn),tn.on(`absoluteTransformChange.${this._getEventNamespace()}`,nn),this._proxyDrag(tn)}),this._resetTransformCache();var en=!!this.findOne(".top-left");return en&&this.update(),this}_proxyDrag(_e){let en;_e.on(`dragstart.${this._getEventNamespace()}`,tn=>{en=_e.getAbsolutePosition(),!this.isDragging()&&_e!==this.findOne(".back")&&this.startDrag(tn,!1)}),_e.on(`dragmove.${this._getEventNamespace()}`,tn=>{if(!en)return;const nn=_e.getAbsolutePosition(),rn=nn.x-en.x,sn=nn.y-en.y;this.nodes().forEach(an=>{if(an===_e||an.isDragging())return;const on=an.getAbsolutePosition();an.setAbsolutePosition({x:on.x+rn,y:on.y+sn}),an.startDrag(tn)}),en=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(_e=>{_e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(_e,en=this.rotation(),tn){var nn=_e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),rn=_e.getAbsoluteScale(tn),sn=_e.getAbsolutePosition(tn),an=nn.x*rn.x-_e.offsetX()*rn.x,on=nn.y*rn.y-_e.offsetY()*rn.y;const cn=(Konva$1.getAngle(_e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),dn={x:sn.x+an*Math.cos(cn)+on*Math.sin(-cn),y:sn.y+on*Math.cos(cn)+an*Math.sin(cn),width:nn.width*rn.x,height:nn.height*rn.y,rotation:cn};return rotateAroundPoint(dn,-Konva$1.getAngle(en),{x:0,y:0})}__getNodeRect(){var _e=this.getNode();if(!_e)return{x:-MAX_SAFE_INTEGER,y:-MAX_SAFE_INTEGER,width:0,height:0,rotation:0};const en=[];this.nodes().map(cn=>{const dn=cn.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var mn=[{x:dn.x,y:dn.y},{x:dn.x+dn.width,y:dn.y},{x:dn.x+dn.width,y:dn.y+dn.height},{x:dn.x,y:dn.y+dn.height}],pn=cn.getAbsoluteTransform();mn.forEach(function(fn){var yn=pn.point(fn);en.push(yn)})});const tn=new Transform;tn.rotate(-Konva$1.getAngle(this.rotation()));var nn,rn,sn,an;en.forEach(function(cn){var dn=tn.point(cn);nn===void 0&&(nn=sn=dn.x,rn=an=dn.y),nn=Math.min(nn,dn.x),rn=Math.min(rn,dn.y),sn=Math.max(sn,dn.x),an=Math.max(an,dn.y)}),tn.invert();const on=tn.point({x:nn,y:rn});return{x:on.x,y:on.y,width:sn-nn,height:an-rn,rotation:Konva$1.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(function(_e){this._createAnchor(_e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(_e){var en=new Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:_e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),tn=this;en.on("mousedown touchstart",function(nn){tn._handleMouseDown(nn)}),en.on("dragstart",nn=>{en.stopDrag(),nn.cancelBubble=!0}),en.on("dragend",nn=>{nn.cancelBubble=!0}),en.on("mouseenter",()=>{var nn=Konva$1.getAngle(this.rotation()),rn=getCursor(_e,nn);en.getStage().content&&(en.getStage().content.style.cursor=rn),this._cursorChange=!0}),en.on("mouseout",()=>{en.getStage().content&&(en.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(en)}_createBack(){var _e=new Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(en){var tn=this.getParent(),nn=tn.padding();en.beginPath(),en.rect(-nn,-nn,this.width()+nn*2,this.height()+nn*2),en.moveTo(this.width()/2,-nn),tn.rotateEnabled()&&en.lineTo(this.width()/2,-tn.rotateAnchorOffset()*Util._sign(this.height())-nn),en.fillStrokeShape(this)},hitFunc:(en,tn)=>{if(!!this.shouldOverdrawWholeArea()){var nn=this.padding();en.beginPath(),en.rect(-nn,-nn,tn.width()+nn*2,tn.height()+nn*2),en.fillStrokeShape(tn)}}});this.add(_e),this._proxyDrag(_e),_e.on("dragstart",en=>{en.cancelBubble=!0}),_e.on("dragmove",en=>{en.cancelBubble=!0}),_e.on("dragend",en=>{en.cancelBubble=!0}),this.on("dragmove",en=>{this.update()})}_handleMouseDown(_e){this._movingAnchorName=_e.target.name().split(" ")[0];var en=this._getNodeRect(),tn=en.width,nn=en.height,rn=Math.sqrt(Math.pow(tn,2)+Math.pow(nn,2));this.sin=Math.abs(nn/rn),this.cos=Math.abs(tn/rn),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var sn=_e.target.getAbsolutePosition(),an=_e.target.getStage().getPointerPosition();this._anchorDragOffset={x:an.x-sn.x,y:an.y-sn.y},this._fire("transformstart",{evt:_e.evt,target:this.getNode()}),this._nodes.forEach(on=>{on._fire("transformstart",{evt:_e.evt,target:on})})}_handleMouseMove(_e){var en,tn,nn,rn=this.findOne("."+this._movingAnchorName),sn=rn.getStage();sn.setPointersPositions(_e);const an=sn.getPointerPosition();let on={x:an.x-this._anchorDragOffset.x,y:an.y-this._anchorDragOffset.y};const cn=rn.getAbsolutePosition();this.anchorDragBoundFunc()&&(on=this.anchorDragBoundFunc()(cn,on,_e)),rn.setAbsolutePosition(on);const dn=rn.getAbsolutePosition();if(!(cn.x===dn.x&&cn.y===dn.y)){if(this._movingAnchorName==="rotater"){var mn=this._getNodeRect();en=rn.x()-mn.width/2,tn=-rn.y()+mn.height/2;let zn=Math.atan2(-tn,en)+Math.PI/2;mn.height<0&&(zn-=Math.PI);var pn=Konva$1.getAngle(this.rotation());const nr=pn+zn,Yn=Konva$1.getAngle(this.rotationSnapTolerance()),tr=getSnap(this.rotationSnaps(),nr,Yn)-mn.rotation,dr=rotateAroundCenter(mn,tr);this._fitNodesInto(dr,_e);return}var fn=this.keepRatio()||_e.shiftKey,Sn=this.centeredScaling()||_e.altKey;if(this._movingAnchorName==="top-left"){if(fn){var yn=Sn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};nn=Math.sqrt(Math.pow(yn.x-rn.x(),2)+Math.pow(yn.y-rn.y(),2));var bn=this.findOne(".top-left").x()>yn.x?-1:1,wn=this.findOne(".top-left").y()>yn.y?-1:1;en=nn*this.cos*bn,tn=nn*this.sin*wn,this.findOne(".top-left").x(yn.x-en),this.findOne(".top-left").y(yn.y-tn)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(rn.y());else if(this._movingAnchorName==="top-right"){if(fn){var yn=Sn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};nn=Math.sqrt(Math.pow(rn.x()-yn.x,2)+Math.pow(yn.y-rn.y(),2));var bn=this.findOne(".top-right").x()<yn.x?-1:1,wn=this.findOne(".top-right").y()>yn.y?-1:1;en=nn*this.cos*bn,tn=nn*this.sin*wn,this.findOne(".top-right").x(yn.x+en),this.findOne(".top-right").y(yn.y-tn)}var vn=rn.position();this.findOne(".top-left").y(vn.y),this.findOne(".bottom-right").x(vn.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(rn.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(rn.x());else if(this._movingAnchorName==="bottom-left"){if(fn){var yn=Sn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};nn=Math.sqrt(Math.pow(yn.x-rn.x(),2)+Math.pow(rn.y()-yn.y,2));var bn=yn.x<rn.x()?-1:1,wn=rn.y()<yn.y?-1:1;en=nn*this.cos*bn,tn=nn*this.sin*wn,rn.x(yn.x-en),rn.y(yn.y+tn)}vn=rn.position(),this.findOne(".top-left").x(vn.x),this.findOne(".bottom-right").y(vn.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(rn.y());else if(this._movingAnchorName==="bottom-right"){if(fn){var yn=Sn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};nn=Math.sqrt(Math.pow(rn.x()-yn.x,2)+Math.pow(rn.y()-yn.y,2));var bn=this.findOne(".bottom-right").x()<yn.x?-1:1,wn=this.findOne(".bottom-right").y()<yn.y?-1:1;en=nn*this.cos*bn,tn=nn*this.sin*wn,this.findOne(".bottom-right").x(yn.x+en),this.findOne(".bottom-right").y(yn.y+tn)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Sn=this.centeredScaling()||_e.altKey;if(Sn){var xn=this.findOne(".top-left"),En=this.findOne(".bottom-right"),Cn=xn.x(),kn=xn.y(),In=this.getWidth()-En.x(),Dn=this.getHeight()-En.y();En.move({x:-Cn,y:-kn}),xn.move({x:In,y:Dn})}var Wn=this.findOne(".top-left").getAbsolutePosition();en=Wn.x,tn=Wn.y;var Vn=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),On=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:en,y:tn,width:Vn,height:On,rotation:Konva$1.getAngle(this.rotation())},_e)}}_handleMouseUp(_e){this._removeEvents(_e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(_e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var en=this.getNode();this._fire("transformend",{evt:_e,target:en}),en&&this._nodes.forEach(tn=>{tn._fire("transformend",{evt:_e,target:tn})}),this._movingAnchorName=null}}_fitNodesInto(_e,en){var tn=this._getNodeRect();const nn=1;if(Util._inRange(_e.width,-this.padding()*2-nn,nn)){this.update();return}if(Util._inRange(_e.height,-this.padding()*2-nn,nn)){this.update();return}const rn=this.flipEnabled();var sn=new Transform;if(sn.rotate(Konva$1.getAngle(this.rotation())),this._movingAnchorName&&_e.width<0&&this._movingAnchorName.indexOf("left")>=0){const mn=sn.point({x:-this.padding()*2,y:0});if(_e.x+=mn.x,_e.y+=mn.y,_e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=mn.x,this._anchorDragOffset.y-=mn.y,!rn){this.update();return}}else if(this._movingAnchorName&&_e.width<0&&this._movingAnchorName.indexOf("right")>=0){const mn=sn.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=mn.x,this._anchorDragOffset.y-=mn.y,_e.width+=this.padding()*2,!rn){this.update();return}}if(this._movingAnchorName&&_e.height<0&&this._movingAnchorName.indexOf("top")>=0){const mn=sn.point({x:0,y:-this.padding()*2});if(_e.x+=mn.x,_e.y+=mn.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=mn.x,this._anchorDragOffset.y-=mn.y,_e.height+=this.padding()*2,!rn){this.update();return}}else if(this._movingAnchorName&&_e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const mn=sn.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=mn.x,this._anchorDragOffset.y-=mn.y,_e.height+=this.padding()*2,!rn){this.update();return}}if(this.boundBoxFunc()){const mn=this.boundBoxFunc()(tn,_e);mn?_e=mn:Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const an=1e7,on=new Transform;on.translate(tn.x,tn.y),on.rotate(tn.rotation),on.scale(tn.width/an,tn.height/an);const cn=new Transform;cn.translate(_e.x,_e.y),cn.rotate(_e.rotation),cn.scale(_e.width/an,_e.height/an);const dn=cn.multiply(on.invert());this._nodes.forEach(mn=>{var pn;const fn=mn.getParent().getAbsoluteTransform(),yn=mn.getTransform().copy();yn.translate(mn.offsetX(),mn.offsetY());const bn=new Transform;bn.multiply(fn.copy().invert()).multiply(dn).multiply(fn).multiply(yn);const wn=bn.decompose();mn.setAttrs(wn),this._fire("transform",{evt:en,target:mn}),mn._fire("transform",{evt:en,target:mn}),(pn=mn.getLayer())===null||pn===void 0||pn.batchDraw()}),this.rotation(Util._getRotation(_e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(_e,en){this.findOne(_e).setAttrs(en)}update(){var _e,en=this._getNodeRect();this.rotation(Util._getRotation(en.rotation));var tn=en.width,nn=en.height,rn=this.enabledAnchors(),sn=this.resizeEnabled(),an=this.padding(),on=this.anchorSize();this.find("._anchor").forEach(cn=>{cn.setAttrs({width:on,height:on,offsetX:on/2,offsetY:on/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:on/2+an,offsetY:on/2+an,visible:sn&&rn.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:tn/2,y:0,offsetY:on/2+an,visible:sn&&rn.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:tn,y:0,offsetX:on/2-an,offsetY:on/2+an,visible:sn&&rn.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:nn/2,offsetX:on/2+an,visible:sn&&rn.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:tn,y:nn/2,offsetX:on/2-an,visible:sn&&rn.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:nn,offsetX:on/2+an,offsetY:on/2-an,visible:sn&&rn.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:tn/2,y:nn,offsetY:on/2-an,visible:sn&&rn.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:tn,y:nn,offsetX:on/2-an,offsetY:on/2-an,visible:sn&&rn.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:tn/2,y:-this.rotateAnchorOffset()*Util._sign(nn)-an,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:tn,height:nn,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(_e=this.getLayer())===null||_e===void 0||_e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var _e=this.findOne("."+this._movingAnchorName);_e&&_e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function validateAnchors(St){return St instanceof Array||Util.warn("enabledAnchors value should be an array"),St instanceof Array&&St.forEach(function(_e){ANCHORS_NAMES.indexOf(_e)===-1&&Util.warn("Unknown anchor name: "+_e+". Available names are: "+ANCHORS_NAMES.join(", "))}),St||[]}Transformer$1.prototype.className="Transformer";_registerNode(Transformer$1);Factory.addGetterSetter(Transformer$1,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory.addGetterSetter(Transformer$1,"flipEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Transformer$1,"resizeEnabled",!0);Factory.addGetterSetter(Transformer$1,"anchorSize",10,getNumberValidator());Factory.addGetterSetter(Transformer$1,"rotateEnabled",!0);Factory.addGetterSetter(Transformer$1,"rotationSnaps",[]);Factory.addGetterSetter(Transformer$1,"rotateAnchorOffset",50,getNumberValidator());Factory.addGetterSetter(Transformer$1,"rotationSnapTolerance",5,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderEnabled",!0);Factory.addGetterSetter(Transformer$1,"anchorStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer$1,"anchorStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer$1,"anchorFill","white");Factory.addGetterSetter(Transformer$1,"anchorCornerRadius",0,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer$1,"borderStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderDash");Factory.addGetterSetter(Transformer$1,"keepRatio",!0);Factory.addGetterSetter(Transformer$1,"centeredScaling",!1);Factory.addGetterSetter(Transformer$1,"ignoreStroke",!1);Factory.addGetterSetter(Transformer$1,"padding",0,getNumberValidator());Factory.addGetterSetter(Transformer$1,"node");Factory.addGetterSetter(Transformer$1,"nodes");Factory.addGetterSetter(Transformer$1,"boundBoxFunc");Factory.addGetterSetter(Transformer$1,"anchorDragBoundFunc");Factory.addGetterSetter(Transformer$1,"shouldOverdrawWholeArea",!1);Factory.addGetterSetter(Transformer$1,"useSingleNodeRotation",!0);Factory.backCompat(Transformer$1,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Wedge extends Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.radius(),0,Konva$1.getAngle(this.angle()),this.clockwise()),_e.lineTo(0,0),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius(_e/2)}setHeight(_e){this.radius(_e/2)}}Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];_registerNode(Wedge);Factory.addGetterSetter(Wedge,"radius",0,getNumberValidator());Factory.addGetterSetter(Wedge,"angle",0,getNumberValidator());Factory.addGetterSetter(Wedge,"clockwise",!1);Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(St,_e){var en=St.data,tn=St.width,nn=St.height,rn,sn,an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn,Sn,xn,En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr=_e+_e+1,Yn=tn-1,ar=nn-1,tr=_e+1,dr=tr*(tr+1)/2,Jn=new BlurStack,hr=null,yr=Jn,Mr=null,Mn=null,Fn=mul_table[_e],Nn=shg_table[_e];for(an=1;an<nr;an++)yr=yr.next=new BlurStack,an===tr&&(hr=yr);for(yr.next=Jn,mn=dn=0,sn=0;sn<nn;sn++){for(En=Cn=kn=In=pn=fn=yn=bn=0,wn=tr*(Dn=en[dn]),vn=tr*(Wn=en[dn+1]),Sn=tr*(Vn=en[dn+2]),xn=tr*(On=en[dn+3]),pn+=dr*Dn,fn+=dr*Wn,yn+=dr*Vn,bn+=dr*On,yr=Jn,an=0;an<tr;an++)yr.r=Dn,yr.g=Wn,yr.b=Vn,yr.a=On,yr=yr.next;for(an=1;an<tr;an++)on=dn+((Yn<an?Yn:an)<<2),pn+=(yr.r=Dn=en[on])*(zn=tr-an),fn+=(yr.g=Wn=en[on+1])*zn,yn+=(yr.b=Vn=en[on+2])*zn,bn+=(yr.a=On=en[on+3])*zn,En+=Dn,Cn+=Wn,kn+=Vn,In+=On,yr=yr.next;for(Mr=Jn,Mn=hr,rn=0;rn<tn;rn++)en[dn+3]=On=bn*Fn>>Nn,On!==0?(On=255/On,en[dn]=(pn*Fn>>Nn)*On,en[dn+1]=(fn*Fn>>Nn)*On,en[dn+2]=(yn*Fn>>Nn)*On):en[dn]=en[dn+1]=en[dn+2]=0,pn-=wn,fn-=vn,yn-=Sn,bn-=xn,wn-=Mr.r,vn-=Mr.g,Sn-=Mr.b,xn-=Mr.a,on=mn+((on=rn+_e+1)<Yn?on:Yn)<<2,En+=Mr.r=en[on],Cn+=Mr.g=en[on+1],kn+=Mr.b=en[on+2],In+=Mr.a=en[on+3],pn+=En,fn+=Cn,yn+=kn,bn+=In,Mr=Mr.next,wn+=Dn=Mn.r,vn+=Wn=Mn.g,Sn+=Vn=Mn.b,xn+=On=Mn.a,En-=Dn,Cn-=Wn,kn-=Vn,In-=On,Mn=Mn.next,dn+=4;mn+=tn}for(rn=0;rn<tn;rn++){for(Cn=kn=In=En=fn=yn=bn=pn=0,dn=rn<<2,wn=tr*(Dn=en[dn]),vn=tr*(Wn=en[dn+1]),Sn=tr*(Vn=en[dn+2]),xn=tr*(On=en[dn+3]),pn+=dr*Dn,fn+=dr*Wn,yn+=dr*Vn,bn+=dr*On,yr=Jn,an=0;an<tr;an++)yr.r=Dn,yr.g=Wn,yr.b=Vn,yr.a=On,yr=yr.next;for(cn=tn,an=1;an<=_e;an++)dn=cn+rn<<2,pn+=(yr.r=Dn=en[dn])*(zn=tr-an),fn+=(yr.g=Wn=en[dn+1])*zn,yn+=(yr.b=Vn=en[dn+2])*zn,bn+=(yr.a=On=en[dn+3])*zn,En+=Dn,Cn+=Wn,kn+=Vn,In+=On,yr=yr.next,an<ar&&(cn+=tn);for(dn=rn,Mr=Jn,Mn=hr,sn=0;sn<nn;sn++)on=dn<<2,en[on+3]=On=bn*Fn>>Nn,On>0?(On=255/On,en[on]=(pn*Fn>>Nn)*On,en[on+1]=(fn*Fn>>Nn)*On,en[on+2]=(yn*Fn>>Nn)*On):en[on]=en[on+1]=en[on+2]=0,pn-=wn,fn-=vn,yn-=Sn,bn-=xn,wn-=Mr.r,vn-=Mr.g,Sn-=Mr.b,xn-=Mr.a,on=rn+((on=sn+tr)<ar?on:ar)*tn<<2,pn+=En+=Mr.r=en[on],fn+=Cn+=Mr.g=en[on+1],yn+=kn+=Mr.b=en[on+2],bn+=In+=Mr.a=en[on+3],Mr=Mr.next,wn+=Dn=Mn.r,vn+=Wn=Mn.g,Sn+=Vn=Mn.b,xn+=On=Mn.a,En-=Dn,Cn-=Wn,kn-=Vn,In-=On,Mn=Mn.next,dn+=tn}}const Blur=function St(_e){var en=Math.round(this.blurRadius());en>0&&filterGaussBlurRGBA(_e,en)};Factory.addGetterSetter(Node,"blurRadius",0,getNumberValidator(),Factory.afterSetFilter);const Brighten=function(St){var _e=this.brightness()*255,en=St.data,tn=en.length,nn;for(nn=0;nn<tn;nn+=4)en[nn]+=_e,en[nn+1]+=_e,en[nn+2]+=_e};Factory.addGetterSetter(Node,"brightness",0,getNumberValidator(),Factory.afterSetFilter);const Contrast=function(St){var _e=Math.pow((this.contrast()+100)/100,2),en=St.data,tn=en.length,nn=150,rn=150,sn=150,an;for(an=0;an<tn;an+=4)nn=en[an],rn=en[an+1],sn=en[an+2],nn/=255,nn-=.5,nn*=_e,nn+=.5,nn*=255,rn/=255,rn-=.5,rn*=_e,rn+=.5,rn*=255,sn/=255,sn-=.5,sn*=_e,sn+=.5,sn*=255,nn=nn<0?0:nn>255?255:nn,rn=rn<0?0:rn>255?255:rn,sn=sn<0?0:sn>255?255:sn,en[an]=nn,en[an+1]=rn,en[an+2]=sn};Factory.addGetterSetter(Node,"contrast",0,getNumberValidator(),Factory.afterSetFilter);const Emboss=function(St){var _e=this.embossStrength()*10,en=this.embossWhiteLevel()*255,tn=this.embossDirection(),nn=this.embossBlend(),rn=0,sn=0,an=St.data,on=St.width,cn=St.height,dn=on*4,mn=cn;switch(tn){case"top-left":rn=-1,sn=-1;break;case"top":rn=-1,sn=0;break;case"top-right":rn=-1,sn=1;break;case"right":rn=0,sn=1;break;case"bottom-right":rn=1,sn=1;break;case"bottom":rn=1,sn=0;break;case"bottom-left":rn=1,sn=-1;break;case"left":rn=0,sn=-1;break;default:Util.error("Unknown emboss direction: "+tn)}do{var pn=(mn-1)*dn,fn=rn;mn+fn<1&&(fn=0),mn+fn>cn&&(fn=0);var yn=(mn-1+fn)*on*4,bn=on;do{var wn=pn+(bn-1)*4,vn=sn;bn+vn<1&&(vn=0),bn+vn>on&&(vn=0);var Sn=yn+(bn-1+vn)*4,xn=an[wn]-an[Sn],En=an[wn+1]-an[Sn+1],Cn=an[wn+2]-an[Sn+2],kn=xn,In=kn>0?kn:-kn,Dn=En>0?En:-En,Wn=Cn>0?Cn:-Cn;if(Dn>In&&(kn=En),Wn>In&&(kn=Cn),kn*=_e,nn){var Vn=an[wn]+kn,On=an[wn+1]+kn,zn=an[wn+2]+kn;an[wn]=Vn>255?255:Vn<0?0:Vn,an[wn+1]=On>255?255:On<0?0:On,an[wn+2]=zn>255?255:zn<0?0:zn}else{var nr=en-kn;nr<0?nr=0:nr>255&&(nr=255),an[wn]=an[wn+1]=an[wn+2]=nr}}while(--bn)}while(--mn)};Factory.addGetterSetter(Node,"embossStrength",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossWhiteLevel",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossDirection","top-left",null,Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossBlend",!1,null,Factory.afterSetFilter);function remap(St,_e,en,tn,nn){var rn=en-_e,sn=nn-tn,an;return rn===0?tn+sn/2:sn===0?tn:(an=(St-_e)/rn,an=sn*an+tn,an)}const Enhance=function(St){var _e=St.data,en=_e.length,tn=_e[0],nn=tn,rn,sn=_e[1],an=sn,on,cn=_e[2],dn=cn,mn,pn,fn=this.enhance();if(fn!==0){for(pn=0;pn<en;pn+=4)rn=_e[pn+0],rn<tn?tn=rn:rn>nn&&(nn=rn),on=_e[pn+1],on<sn?sn=on:on>an&&(an=on),mn=_e[pn+2],mn<cn?cn=mn:mn>dn&&(dn=mn);nn===tn&&(nn=255,tn=0),an===sn&&(an=255,sn=0),dn===cn&&(dn=255,cn=0);var yn,bn,wn,vn,Sn,xn,En,Cn,kn;for(fn>0?(bn=nn+fn*(255-nn),wn=tn-fn*(tn-0),Sn=an+fn*(255-an),xn=sn-fn*(sn-0),Cn=dn+fn*(255-dn),kn=cn-fn*(cn-0)):(yn=(nn+tn)*.5,bn=nn+fn*(nn-yn),wn=tn+fn*(tn-yn),vn=(an+sn)*.5,Sn=an+fn*(an-vn),xn=sn+fn*(sn-vn),En=(dn+cn)*.5,Cn=dn+fn*(dn-En),kn=cn+fn*(cn-En)),pn=0;pn<en;pn+=4)_e[pn+0]=remap(_e[pn+0],tn,nn,wn,bn),_e[pn+1]=remap(_e[pn+1],sn,an,xn,Sn),_e[pn+2]=remap(_e[pn+2],cn,dn,kn,Cn)}};Factory.addGetterSetter(Node,"enhance",0,getNumberValidator(),Factory.afterSetFilter);const Grayscale=function(St){var _e=St.data,en=_e.length,tn,nn;for(tn=0;tn<en;tn+=4)nn=.34*_e[tn]+.5*_e[tn+1]+.16*_e[tn+2],_e[tn]=nn,_e[tn+1]=nn,_e[tn+2]=nn};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"luminance",0,getNumberValidator(),Factory.afterSetFilter);const HSL=function(St){var _e=St.data,en=_e.length,tn=1,nn=Math.pow(2,this.saturation()),rn=Math.abs(this.hue()+360)%360,sn=this.luminance()*127,an,on=tn*nn*Math.cos(rn*Math.PI/180),cn=tn*nn*Math.sin(rn*Math.PI/180),dn=.299*tn+.701*on+.167*cn,mn=.587*tn-.587*on+.33*cn,pn=.114*tn-.114*on-.497*cn,fn=.299*tn-.299*on-.328*cn,yn=.587*tn+.413*on+.035*cn,bn=.114*tn-.114*on+.293*cn,wn=.299*tn-.3*on+1.25*cn,vn=.587*tn-.586*on-1.05*cn,Sn=.114*tn+.886*on-.2*cn,xn,En,Cn,kn;for(an=0;an<en;an+=4)xn=_e[an+0],En=_e[an+1],Cn=_e[an+2],kn=_e[an+3],_e[an+0]=dn*xn+mn*En+pn*Cn+sn,_e[an+1]=fn*xn+yn*En+bn*Cn+sn,_e[an+2]=wn*xn+vn*En+Sn*Cn+sn,_e[an+3]=kn},HSV=function(St){var _e=St.data,en=_e.length,tn=Math.pow(2,this.value()),nn=Math.pow(2,this.saturation()),rn=Math.abs(this.hue()+360)%360,sn,an=tn*nn*Math.cos(rn*Math.PI/180),on=tn*nn*Math.sin(rn*Math.PI/180),cn=.299*tn+.701*an+.167*on,dn=.587*tn-.587*an+.33*on,mn=.114*tn-.114*an-.497*on,pn=.299*tn-.299*an-.328*on,fn=.587*tn+.413*an+.035*on,yn=.114*tn-.114*an+.293*on,bn=.299*tn-.3*an+1.25*on,wn=.587*tn-.586*an-1.05*on,vn=.114*tn+.886*an-.2*on,Sn,xn,En,Cn;for(sn=0;sn<en;sn+=4)Sn=_e[sn+0],xn=_e[sn+1],En=_e[sn+2],Cn=_e[sn+3],_e[sn+0]=cn*Sn+dn*xn+mn*En,_e[sn+1]=pn*Sn+fn*xn+yn*En,_e[sn+2]=bn*Sn+wn*xn+vn*En,_e[sn+3]=Cn};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"value",0,getNumberValidator(),Factory.afterSetFilter);const Invert=function(St){var _e=St.data,en=_e.length,tn;for(tn=0;tn<en;tn+=4)_e[tn]=255-_e[tn],_e[tn+1]=255-_e[tn+1],_e[tn+2]=255-_e[tn+2]};var ToPolar=function(St,_e,en){var tn=St.data,nn=_e.data,rn=St.width,sn=St.height,an=en.polarCenterX||rn/2,on=en.polarCenterY||sn/2,cn,dn,mn,pn=0,fn=0,yn=0,bn=0,wn,vn=Math.sqrt(an*an+on*on);dn=rn-an,mn=sn-on,wn=Math.sqrt(dn*dn+mn*mn),vn=wn>vn?wn:vn;var Sn=sn,xn=rn,En,Cn,kn=360/xn*Math.PI/180,In,Dn;for(Cn=0;Cn<xn;Cn+=1)for(In=Math.sin(Cn*kn),Dn=Math.cos(Cn*kn),En=0;En<Sn;En+=1)dn=Math.floor(an+vn*En/Sn*Dn),mn=Math.floor(on+vn*En/Sn*In),cn=(mn*rn+dn)*4,pn=tn[cn+0],fn=tn[cn+1],yn=tn[cn+2],bn=tn[cn+3],cn=(Cn+En*rn)*4,nn[cn+0]=pn,nn[cn+1]=fn,nn[cn+2]=yn,nn[cn+3]=bn},FromPolar=function(St,_e,en){var tn=St.data,nn=_e.data,rn=St.width,sn=St.height,an=en.polarCenterX||rn/2,on=en.polarCenterY||sn/2,cn,dn,mn,pn,fn,yn=0,bn=0,wn=0,vn=0,Sn,xn=Math.sqrt(an*an+on*on);dn=rn-an,mn=sn-on,Sn=Math.sqrt(dn*dn+mn*mn),xn=Sn>xn?Sn:xn;var En=sn,Cn=rn,kn,In,Dn=en.polarRotation||0,Wn,Vn;for(dn=0;dn<rn;dn+=1)for(mn=0;mn<sn;mn+=1)pn=dn-an,fn=mn-on,kn=Math.sqrt(pn*pn+fn*fn)*En/xn,In=(Math.atan2(fn,pn)*180/Math.PI+360+Dn)%360,In=In*Cn/360,Wn=Math.floor(In),Vn=Math.floor(kn),cn=(Vn*rn+Wn)*4,yn=tn[cn+0],bn=tn[cn+1],wn=tn[cn+2],vn=tn[cn+3],cn=(mn*rn+dn)*4,nn[cn+0]=yn,nn[cn+1]=bn,nn[cn+2]=wn,nn[cn+3]=vn};const Kaleidoscope=function(St){var _e=St.width,en=St.height,tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn=Math.round(this.kaleidoscopePower()),yn=Math.round(this.kaleidoscopeAngle()),bn=Math.floor(_e*(yn%360)/360);if(!(fn<1)){var wn=Util.createCanvasElement();wn.width=_e,wn.height=en;var vn=wn.getContext("2d").getImageData(0,0,_e,en);Util.releaseCanvas(wn),ToPolar(St,vn,{polarCenterX:_e/2,polarCenterY:en/2});for(var Sn=_e/Math.pow(2,fn);Sn<=8;)Sn=Sn*2,fn-=1;Sn=Math.ceil(Sn);var xn=Sn,En=0,Cn=xn,kn=1;for(bn+Sn>_e&&(En=xn,Cn=0,kn=-1),nn=0;nn<en;nn+=1)for(tn=En;tn!==Cn;tn+=kn)rn=Math.round(tn+bn)%_e,mn=(_e*nn+rn)*4,an=vn.data[mn+0],on=vn.data[mn+1],cn=vn.data[mn+2],dn=vn.data[mn+3],pn=(_e*nn+tn)*4,vn.data[pn+0]=an,vn.data[pn+1]=on,vn.data[pn+2]=cn,vn.data[pn+3]=dn;for(nn=0;nn<en;nn+=1)for(xn=Math.floor(Sn),sn=0;sn<fn;sn+=1){for(tn=0;tn<xn+1;tn+=1)mn=(_e*nn+tn)*4,an=vn.data[mn+0],on=vn.data[mn+1],cn=vn.data[mn+2],dn=vn.data[mn+3],pn=(_e*nn+xn*2-tn-1)*4,vn.data[pn+0]=an,vn.data[pn+1]=on,vn.data[pn+2]=cn,vn.data[pn+3]=dn;xn*=2}FromPolar(vn,St,{polarRotation:0})}};Factory.addGetterSetter(Node,"kaleidoscopePower",2,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"kaleidoscopeAngle",0,getNumberValidator(),Factory.afterSetFilter);function pixelAt(St,_e,en){var tn=(en*St.width+_e)*4,nn=[];return nn.push(St.data[tn++],St.data[tn++],St.data[tn++],St.data[tn++]),nn}function rgbDistance(St,_e){return Math.sqrt(Math.pow(St[0]-_e[0],2)+Math.pow(St[1]-_e[1],2)+Math.pow(St[2]-_e[2],2))}function rgbMean(St){for(var _e=[0,0,0],en=0;en<St.length;en++)_e[0]+=St[en][0],_e[1]+=St[en][1],_e[2]+=St[en][2];return _e[0]/=St.length,_e[1]/=St.length,_e[2]/=St.length,_e}function backgroundMask(St,_e){var en=pixelAt(St,0,0),tn=pixelAt(St,St.width-1,0),nn=pixelAt(St,0,St.height-1),rn=pixelAt(St,St.width-1,St.height-1),sn=_e||10;if(rgbDistance(en,tn)<sn&&rgbDistance(tn,rn)<sn&&rgbDistance(rn,nn)<sn&&rgbDistance(nn,en)<sn){for(var an=rgbMean([tn,en,rn,nn]),on=[],cn=0;cn<St.width*St.height;cn++){var dn=rgbDistance(an,[St.data[cn*4],St.data[cn*4+1],St.data[cn*4+2]]);on[cn]=dn<sn?0:255}return on}}function applyMask(St,_e){for(var en=0;en<St.width*St.height;en++)St.data[4*en+3]=_e[en]}function erodeMask(St,_e,en){for(var tn=[1,1,1,1,0,1,1,1,1],nn=Math.round(Math.sqrt(tn.length)),rn=Math.floor(nn/2),sn=[],an=0;an<en;an++)for(var on=0;on<_e;on++){for(var cn=an*_e+on,dn=0,mn=0;mn<nn;mn++)for(var pn=0;pn<nn;pn++){var fn=an+mn-rn,yn=on+pn-rn;if(fn>=0&&fn<en&&yn>=0&&yn<_e){var bn=fn*_e+yn,wn=tn[mn*nn+pn];dn+=St[bn]*wn}}sn[cn]=dn===255*8?255:0}return sn}function dilateMask(St,_e,en){for(var tn=[1,1,1,1,1,1,1,1,1],nn=Math.round(Math.sqrt(tn.length)),rn=Math.floor(nn/2),sn=[],an=0;an<en;an++)for(var on=0;on<_e;on++){for(var cn=an*_e+on,dn=0,mn=0;mn<nn;mn++)for(var pn=0;pn<nn;pn++){var fn=an+mn-rn,yn=on+pn-rn;if(fn>=0&&fn<en&&yn>=0&&yn<_e){var bn=fn*_e+yn,wn=tn[mn*nn+pn];dn+=St[bn]*wn}}sn[cn]=dn>=255*4?255:0}return sn}function smoothEdgeMask(St,_e,en){for(var tn=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],nn=Math.round(Math.sqrt(tn.length)),rn=Math.floor(nn/2),sn=[],an=0;an<en;an++)for(var on=0;on<_e;on++){for(var cn=an*_e+on,dn=0,mn=0;mn<nn;mn++)for(var pn=0;pn<nn;pn++){var fn=an+mn-rn,yn=on+pn-rn;if(fn>=0&&fn<en&&yn>=0&&yn<_e){var bn=fn*_e+yn,wn=tn[mn*nn+pn];dn+=St[bn]*wn}}sn[cn]=dn}return sn}const Mask=function(St){var _e=this.threshold(),en=backgroundMask(St,_e);return en&&(en=erodeMask(en,St.width,St.height),en=dilateMask(en,St.width,St.height),en=smoothEdgeMask(en,St.width,St.height),applyMask(St,en)),St};Factory.addGetterSetter(Node,"threshold",0,getNumberValidator(),Factory.afterSetFilter);const Noise=function(St){var _e=this.noise()*255,en=St.data,tn=en.length,nn=_e/2,rn;for(rn=0;rn<tn;rn+=4)en[rn+0]+=nn-2*nn*Math.random(),en[rn+1]+=nn-2*nn*Math.random(),en[rn+2]+=nn-2*nn*Math.random()};Factory.addGetterSetter(Node,"noise",.2,getNumberValidator(),Factory.afterSetFilter);const Pixelate=function(St){var _e=Math.ceil(this.pixelSize()),en=St.width,tn=St.height,nn,rn,sn,an,on,cn,dn,mn=Math.ceil(en/_e),pn=Math.ceil(tn/_e),fn,yn,bn,wn,vn,Sn,xn,En=St.data;if(_e<=0){Util.error("pixelSize value can not be <= 0");return}for(vn=0;vn<mn;vn+=1)for(Sn=0;Sn<pn;Sn+=1){for(an=0,on=0,cn=0,dn=0,fn=vn*_e,yn=fn+_e,bn=Sn*_e,wn=bn+_e,xn=0,nn=fn;nn<yn;nn+=1)if(!(nn>=en))for(rn=bn;rn<wn;rn+=1)rn>=tn||(sn=(en*rn+nn)*4,an+=En[sn+0],on+=En[sn+1],cn+=En[sn+2],dn+=En[sn+3],xn+=1);for(an=an/xn,on=on/xn,cn=cn/xn,dn=dn/xn,nn=fn;nn<yn;nn+=1)if(!(nn>=en))for(rn=bn;rn<wn;rn+=1)rn>=tn||(sn=(en*rn+nn)*4,En[sn+0]=an,En[sn+1]=on,En[sn+2]=cn,En[sn+3]=dn)}};Factory.addGetterSetter(Node,"pixelSize",8,getNumberValidator(),Factory.afterSetFilter);const Posterize=function(St){var _e=Math.round(this.levels()*254)+1,en=St.data,tn=en.length,nn=255/_e,rn;for(rn=0;rn<tn;rn+=1)en[rn]=Math.floor(en[rn]/nn)*nn};Factory.addGetterSetter(Node,"levels",.5,getNumberValidator(),Factory.afterSetFilter);const RGB=function(St){var _e=St.data,en=_e.length,tn=this.red(),nn=this.green(),rn=this.blue(),sn,an;for(sn=0;sn<en;sn+=4)an=(.34*_e[sn]+.5*_e[sn+1]+.16*_e[sn+2])/255,_e[sn]=an*tn,_e[sn+1]=an*nn,_e[sn+2]=an*rn,_e[sn+3]=_e[sn+3]};Factory.addGetterSetter(Node,"red",0,function(St){return this._filterUpToDate=!1,St>255?255:St<0?0:Math.round(St)});Factory.addGetterSetter(Node,"green",0,function(St){return this._filterUpToDate=!1,St>255?255:St<0?0:Math.round(St)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);const RGBA=function(St){var _e=St.data,en=_e.length,tn=this.red(),nn=this.green(),rn=this.blue(),sn=this.alpha(),an,on;for(an=0;an<en;an+=4)on=1-sn,_e[an]=tn*sn+_e[an]*on,_e[an+1]=nn*sn+_e[an+1]*on,_e[an+2]=rn*sn+_e[an+2]*on};Factory.addGetterSetter(Node,"red",0,function(St){return this._filterUpToDate=!1,St>255?255:St<0?0:Math.round(St)});Factory.addGetterSetter(Node,"green",0,function(St){return this._filterUpToDate=!1,St>255?255:St<0?0:Math.round(St)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);Factory.addGetterSetter(Node,"alpha",1,function(St){return this._filterUpToDate=!1,St>1?1:St<0?0:St});const Sepia=function(St){var _e=St.data,en=_e.length,tn,nn,rn,sn;for(tn=0;tn<en;tn+=4)nn=_e[tn+0],rn=_e[tn+1],sn=_e[tn+2],_e[tn+0]=Math.min(255,nn*.393+rn*.769+sn*.189),_e[tn+1]=Math.min(255,nn*.349+rn*.686+sn*.168),_e[tn+2]=Math.min(255,nn*.272+rn*.534+sn*.131)},Solarize=function(St){var _e=St.data,en=St.width,tn=St.height,nn=en*4,rn=tn;do{var sn=(rn-1)*nn,an=en;do{var on=sn+(an-1)*4,cn=_e[on],dn=_e[on+1],mn=_e[on+2];cn>127&&(cn=255-cn),dn>127&&(dn=255-dn),mn>127&&(mn=255-mn),_e[on]=cn,_e[on+1]=dn,_e[on+2]=mn}while(--an)}while(--rn)},Threshold=function(St){var _e=this.threshold()*255,en=St.data,tn=en.length,nn;for(nn=0;nn<tn;nn+=1)en[nn]=en[nn]<_e?0:255};Factory.addGetterSetter(Node,"threshold",.5,getNumberValidator(),Factory.afterSetFilter);Konva.Util._assign(Konva,{Arc,Arrow,Circle,Ellipse,Image:Image$2,Label,Tag,Line:Line$1,Path,Rect,RegularPolygon,Ring,Sprite,Star,Text,TextPath,Transformer:Transformer$1,Wedge,Filters:{Blur,Brighten,Contrast,Emboss,Enhance,Grayscale,HSL,HSV,Invert,Kaleidoscope,Mask,Noise,Pixelate,Posterize,RGB,RGBA,Sepia,Solarize,Threshold}});var reactReconciler={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function St(_e){var en={},tn=react.exports,nn=scheduler.exports,rn=Object.assign;function sn(un){for(var hn="https://reactjs.org/docs/error-decoder.html?invariant="+un,_n=1;_n<arguments.length;_n++)hn+="&args[]="+encodeURIComponent(arguments[_n]);return"Minified React error #"+un+"; visit "+hn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var an=tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,on=Symbol.for("react.element"),cn=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),mn=Symbol.for("react.strict_mode"),pn=Symbol.for("react.profiler"),fn=Symbol.for("react.provider"),yn=Symbol.for("react.context"),bn=Symbol.for("react.forward_ref"),wn=Symbol.for("react.suspense"),vn=Symbol.for("react.suspense_list"),Sn=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),En=Symbol.for("react.offscreen"),Cn=Symbol.iterator;function kn(un){return un===null||typeof un!="object"?null:(un=Cn&&un[Cn]||un["@@iterator"],typeof un=="function"?un:null)}function In(un){if(un==null)return null;if(typeof un=="function")return un.displayName||un.name||null;if(typeof un=="string")return un;switch(un){case dn:return"Fragment";case cn:return"Portal";case pn:return"Profiler";case mn:return"StrictMode";case wn:return"Suspense";case vn:return"SuspenseList"}if(typeof un=="object")switch(un.$$typeof){case yn:return(un.displayName||"Context")+".Consumer";case fn:return(un._context.displayName||"Context")+".Provider";case bn:var hn=un.render;return un=un.displayName,un||(un=hn.displayName||hn.name||"",un=un!==""?"ForwardRef("+un+")":"ForwardRef"),un;case Sn:return hn=un.displayName||null,hn!==null?hn:In(un.type)||"Memo";case xn:hn=un._payload,un=un._init;try{return In(un(hn))}catch{}}return null}function Dn(un){var hn=un.type;switch(un.tag){case 24:return"Cache";case 9:return(hn.displayName||"Context")+".Consumer";case 10:return(hn._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return un=hn.render,un=un.displayName||un.name||"",hn.displayName||(un!==""?"ForwardRef("+un+")":"ForwardRef");case 7:return"Fragment";case 5:return hn;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return In(hn);case 8:return hn===mn?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof hn=="function")return hn.displayName||hn.name||null;if(typeof hn=="string")return hn}return null}function Wn(un){var hn=un,_n=un;if(un.alternate)for(;hn.return;)hn=hn.return;else{un=hn;do hn=un,(hn.flags&4098)!==0&&(_n=hn.return),un=hn.return;while(un)}return hn.tag===3?_n:null}function Vn(un){if(Wn(un)!==un)throw Error(sn(188))}function On(un){var hn=un.alternate;if(!hn){if(hn=Wn(un),hn===null)throw Error(sn(188));return hn!==un?null:un}for(var _n=un,Pn=hn;;){var Rn=_n.return;if(Rn===null)break;var Hn=Rn.alternate;if(Hn===null){if(Pn=Rn.return,Pn!==null){_n=Pn;continue}break}if(Rn.child===Hn.child){for(Hn=Rn.child;Hn;){if(Hn===_n)return Vn(Rn),un;if(Hn===Pn)return Vn(Rn),hn;Hn=Hn.sibling}throw Error(sn(188))}if(_n.return!==Pn.return)_n=Rn,Pn=Hn;else{for(var mr=!1,jr=Rn.child;jr;){if(jr===_n){mr=!0,_n=Rn,Pn=Hn;break}if(jr===Pn){mr=!0,Pn=Rn,_n=Hn;break}jr=jr.sibling}if(!mr){for(jr=Hn.child;jr;){if(jr===_n){mr=!0,_n=Hn,Pn=Rn;break}if(jr===Pn){mr=!0,Pn=Hn,_n=Rn;break}jr=jr.sibling}if(!mr)throw Error(sn(189))}}if(_n.alternate!==Pn)throw Error(sn(190))}if(_n.tag!==3)throw Error(sn(188));return _n.stateNode.current===_n?un:hn}function zn(un){return un=On(un),un!==null?nr(un):null}function nr(un){if(un.tag===5||un.tag===6)return un;for(un=un.child;un!==null;){var hn=nr(un);if(hn!==null)return hn;un=un.sibling}return null}function Yn(un){if(un.tag===5||un.tag===6)return un;for(un=un.child;un!==null;){if(un.tag!==4){var hn=Yn(un);if(hn!==null)return hn}un=un.sibling}return null}var ar=Array.isArray,tr=_e.getPublicInstance,dr=_e.getRootHostContext,Jn=_e.getChildHostContext,hr=_e.prepareForCommit,yr=_e.resetAfterCommit,Mr=_e.createInstance,Mn=_e.appendInitialChild,Fn=_e.finalizeInitialChildren,Nn=_e.prepareUpdate,Un=_e.shouldSetTextContent,qn=_e.createTextInstance,er=_e.scheduleTimeout,sr=_e.cancelTimeout,ur=_e.noTimeout,br=_e.isPrimaryRenderer,kr=_e.supportsMutation,Er=_e.supportsPersistence,Pr=_e.supportsHydration,$n=_e.getInstanceFromNode,Gn=_e.preparePortalMount,jn=_e.getCurrentEventPriority,fr=_e.detachDeletedInstance,Xn=_e.supportsMicrotasks,Zn=_e.scheduleMicrotask,pr=_e.supportsTestSelectors,Tr=_e.findFiberRoot,xr=_e.getBoundingRect,Ur=_e.getTextContent,lr=_e.isHiddenSubtree,Rr=_e.matchAccessibilityRole,zr=_e.setFocusIfFocusable,qr=_e.setupIntersectionObserver,Ar=_e.appendChild,Hr=_e.appendChildToContainer,ns=_e.commitTextUpdate,Xr=_e.commitMount,Cs=_e.commitUpdate,ms=_e.insertBefore,ys=_e.insertInContainerBefore,ks=_e.removeChild,Rs=_e.removeChildFromContainer,_r=_e.resetTextContent,gr=_e.hideInstance,Cr=_e.hideTextInstance,_i=_e.unhideInstance,cs=_e.unhideTextInstance,xs=_e.clearContainer,ls=_e.cloneInstance,as=_e.createContainerChildSet,vs=_e.appendChildToContainerChildSet,Os=_e.finalizeContainerChildren,Ls=_e.replaceContainerChildren,zs=_e.cloneHiddenInstance,Fs=_e.cloneHiddenTextInstance,ws=_e.canHydrateInstance,Bs=_e.canHydrateTextInstance,oo=_e.canHydrateSuspenseInstance,Js=_e.isSuspenseInstancePending,Vs=_e.isSuspenseInstanceFallback,Zs=_e.getSuspenseInstanceFallbackErrorDetails,fo=_e.registerSuspenseInstanceRetry,ro=_e.getNextHydratableSibling,Lo=_e.getFirstHydratableChild,No=_e.getFirstHydratableChildWithinContainer,zo=_e.getFirstHydratableChildWithinSuspenseInstance,Rl=_e.hydrateInstance,Eu=_e.hydrateTextInstance,ou=_e.hydrateSuspenseInstance,Pu=_e.getNextHydratableInstanceAfterSuspenseInstance,mp=_e.commitHydratedContainer,Ip=_e.commitHydratedSuspenseInstance,jp=_e.clearSuspenseBoundary,Bp=_e.clearSuspenseBoundaryFromContainer,Up=_e.shouldDeleteUnhydratedTailInstances,Bm=_e.didNotMatchHydratedContainerTextInstance,p0=_e.didNotMatchHydratedTextInstance,pm;function Tu(un){if(pm===void 0)try{throw Error()}catch(_n){var hn=_n.stack.trim().match(/\n( *(at )?)/);pm=hn&&hn[1]||""}return`
`+pm+un}var $p=!1;function gm(un,hn){if(!un||$p)return"";$p=!0;var _n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(hn)if(hn=function(){throw Error()},Object.defineProperty(hn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(hn,[])}catch(us){var Pn=us}Reflect.construct(un,[],hn)}else{try{hn.call()}catch(us){Pn=us}un.call(hn.prototype)}else{try{throw Error()}catch(us){Pn=us}un()}}catch(us){if(us&&Pn&&typeof us.stack=="string"){for(var Rn=us.stack.split(`
`),Hn=Pn.stack.split(`
`),mr=Rn.length-1,jr=Hn.length-1;1<=mr&&0<=jr&&Rn[mr]!==Hn[jr];)jr--;for(;1<=mr&&0<=jr;mr--,jr--)if(Rn[mr]!==Hn[jr]){if(mr!==1||jr!==1)do if(mr--,jr--,0>jr||Rn[mr]!==Hn[jr]){var Kr=`
`+Rn[mr].replace(" at new "," at ");return un.displayName&&Kr.includes("<anonymous>")&&(Kr=Kr.replace("<anonymous>",un.displayName)),Kr}while(1<=mr&&0<=jr);break}}}finally{$p=!1,Error.prepareStackTrace=_n}return(un=un?un.displayName||un.name:"")?Tu(un):""}var mm=Object.prototype.hasOwnProperty,vm=[],zu=-1;function ku(un){return{current:un}}function na(un){0>zu||(un.current=vm[zu],vm[zu]=null,zu--)}function io(un,hn){zu++,vm[zu]=un.current,un.current=hn}var so={},Oo=ku(so),Ho=ku(!1),Lu=so;function Nu(un,hn){var _n=un.type.contextTypes;if(!_n)return so;var Pn=un.stateNode;if(Pn&&Pn.__reactInternalMemoizedUnmaskedChildContext===hn)return Pn.__reactInternalMemoizedMaskedChildContext;var Rn={},Hn;for(Hn in _n)Rn[Hn]=hn[Hn];return Pn&&(un=un.stateNode,un.__reactInternalMemoizedUnmaskedChildContext=hn,un.__reactInternalMemoizedMaskedChildContext=Rn),Rn}function Ko(un){return un=un.childContextTypes,un!=null}function Fl(){na(Ho),na(Oo)}function vp(un,hn,_n){if(Oo.current!==so)throw Error(sn(168));io(Oo,hn),io(Ho,_n)}function xl(un,hn,_n){var Pn=un.stateNode;if(hn=hn.childContextTypes,typeof Pn.getChildContext!="function")return _n;Pn=Pn.getChildContext();for(var Rn in Pn)if(!(Rn in hn))throw Error(sn(108,Dn(un)||"Unknown",Rn));return rn({},_n,Pn)}function tp(un){return un=(un=un.stateNode)&&un.__reactInternalMemoizedMergedChildContext||so,Lu=Oo.current,io(Oo,un),io(Ho,Ho.current),!0}function ym(un,hn,_n){var Pn=un.stateNode;if(!Pn)throw Error(sn(169));_n?(un=xl(un,hn,Lu),Pn.__reactInternalMemoizedMergedChildContext=un,na(Ho),na(Oo),io(Oo,un)):na(Ho),io(Ho,_n)}var Gl=Math.clz32?Math.clz32:$m,Um=Math.log,g0=Math.LN2;function $m(un){return un>>>=0,un===0?32:31-(Um(un)/g0|0)|0}var Vp=64,np=4194304;function yp(un){switch(un&-un){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return un&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return un&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return un}}function zp(un,hn){var _n=un.pendingLanes;if(_n===0)return 0;var Pn=0,Rn=un.suspendedLanes,Hn=un.pingedLanes,mr=_n&268435455;if(mr!==0){var jr=mr&~Rn;jr!==0?Pn=yp(jr):(Hn&=mr,Hn!==0&&(Pn=yp(Hn)))}else mr=_n&~Rn,mr!==0?Pn=yp(mr):Hn!==0&&(Pn=yp(Hn));if(Pn===0)return 0;if(hn!==0&&hn!==Pn&&(hn&Rn)===0&&(Rn=Pn&-Pn,Hn=hn&-hn,Rn>=Hn||Rn===16&&(Hn&4194240)!==0))return hn;if((Pn&4)!==0&&(Pn|=_n&16),hn=un.entangledLanes,hn!==0)for(un=un.entanglements,hn&=Pn;0<hn;)_n=31-Gl(hn),Rn=1<<_n,Pn|=un[_n],hn&=~Rn;return Pn}function m0(un,hn){switch(un){case 1:case 2:case 4:return hn+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return hn+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(un,hn){for(var _n=un.suspendedLanes,Pn=un.pingedLanes,Rn=un.expirationTimes,Hn=un.pendingLanes;0<Hn;){var mr=31-Gl(Hn),jr=1<<mr,Kr=Rn[mr];Kr===-1?((jr&_n)===0||(jr&Pn)!==0)&&(Rn[mr]=m0(jr,hn)):Kr<=hn&&(un.expiredLanes|=jr),Hn&=~jr}}function rp(un){return un=un.pendingLanes&-1073741825,un!==0?un:un&1073741824?1073741824:0}function Sp(){var un=Vp;return Vp<<=1,(Vp&4194240)===0&&(Vp=64),un}function Hp(un){for(var hn=[],_n=0;31>_n;_n++)hn.push(un);return hn}function Ro(un,hn,_n){un.pendingLanes|=hn,hn!==536870912&&(un.suspendedLanes=0,un.pingedLanes=0),un=un.eventTimes,hn=31-Gl(hn),un[hn]=_n}function v0(un,hn){var _n=un.pendingLanes&~hn;un.pendingLanes=hn,un.suspendedLanes=0,un.pingedLanes=0,un.expiredLanes&=hn,un.mutableReadLanes&=hn,un.entangledLanes&=hn,hn=un.entanglements;var Pn=un.eventTimes;for(un=un.expirationTimes;0<_n;){var Rn=31-Gl(_n),Hn=1<<Rn;hn[Rn]=0,Pn[Rn]=-1,un[Rn]=-1,_n&=~Hn}}function Gp(un,hn){var _n=un.entangledLanes|=hn;for(un=un.entanglements;_n;){var Pn=31-Gl(_n),Rn=1<<Pn;Rn&hn|un[Pn]&hn&&(un[Pn]|=hn),_n&=~Rn}}var gs=0;function Vm(un){return un&=-un,1<un?4<un?(un&268435455)!==0?16:536870912:4:1}var Sm=nn.unstable_scheduleCallback,mu=nn.unstable_cancelCallback,zm=nn.unstable_shouldYield,Hm=nn.unstable_requestPaint,po=nn.unstable_now,_p=nn.unstable_ImmediatePriority,y0=nn.unstable_UserBlockingPriority,_m=nn.unstable_NormalPriority,S0=nn.unstable_IdlePriority,ip=null,Yo=null;function sp(un){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(ip,un,void 0,(un.current.flags&128)===128)}catch{}}function _0(un,hn){return un===hn&&(un!==0||1/un===1/hn)||un!==un&&hn!==hn}var Go=typeof Object.is=="function"?Object.is:_0,Wl=null,Gu=!1,qp=!1;function wm(un){Wl===null?Wl=[un]:Wl.push(un)}function Gm(un){Gu=!0,wm(un)}function Kl(){if(!qp&&Wl!==null){qp=!0;var un=0,hn=gs;try{var _n=Wl;for(gs=1;un<_n.length;un++){var Pn=_n[un];do Pn=Pn(!0);while(Pn!==null)}Wl=null,Gu=!1}catch(Rn){throw Wl!==null&&(Wl=Wl.slice(un+1)),Sm(_p,Kl),Rn}finally{gs=hn,qp=!1}}return null}var Ml=[],Yl=0,Wp=null,vu=0,_o=[],Xo=0,Xl=null,yu=1,Dl="";function qu(un,hn){Ml[Yl++]=vu,Ml[Yl++]=Wp,Wp=un,vu=hn}function Kp(un,hn,_n){_o[Xo++]=yu,_o[Xo++]=Dl,_o[Xo++]=Xl,Xl=un;var Pn=yu;un=Dl;var Rn=32-Gl(Pn)-1;Pn&=~(1<<Rn),_n+=1;var Hn=32-Gl(hn)+Rn;if(30<Hn){var mr=Rn-Rn%5;Hn=(Pn&(1<<mr)-1).toString(32),Pn>>=mr,Rn-=mr,yu=1<<32-Gl(hn)+Rn|_n<<Rn|Pn,Dl=Hn+un}else yu=1<<Hn|_n<<Rn|Pn,Dl=un}function wp(un){un.return!==null&&(qu(un,1),Kp(un,1,0))}function Yp(un){for(;un===Wp;)Wp=Ml[--Yl],Ml[Yl]=null,vu=Ml[--Yl],Ml[Yl]=null;for(;un===Xl;)Xl=_o[--Xo],_o[Xo]=null,Dl=_o[--Xo],_o[Xo]=null,yu=_o[--Xo],_o[Xo]=null}var Bo=null,Qo=null,ao=!1,ap=!1,Ql=null;function bp(un,hn){var _n=$u(5,null,null,0);_n.elementType="DELETED",_n.stateNode=hn,_n.return=un,hn=un.deletions,hn===null?(un.deletions=[_n],un.flags|=16):hn.push(_n)}function op(un,hn){switch(un.tag){case 5:return hn=ws(hn,un.type,un.pendingProps),hn!==null?(un.stateNode=hn,Bo=un,Qo=Lo(hn),!0):!1;case 6:return hn=Bs(hn,un.pendingProps),hn!==null?(un.stateNode=hn,Bo=un,Qo=null,!0):!1;case 13:if(hn=oo(hn),hn!==null){var _n=Xl!==null?{id:yu,overflow:Dl}:null;return un.memoizedState={dehydrated:hn,treeContext:_n,retryLane:1073741824},_n=$u(18,null,null,0),_n.stateNode=hn,_n.return=un,un.child=_n,Bo=un,Qo=null,!0}return!1;default:return!1}}function xp(un){return(un.mode&1)!==0&&(un.flags&128)===0}function Ru(un){if(ao){var hn=Qo;if(hn){var _n=hn;if(!op(un,hn)){if(xp(un))throw Error(sn(418));hn=ro(_n);var Pn=Bo;hn&&op(un,hn)?bp(Pn,_n):(un.flags=un.flags&-4097|2,ao=!1,Bo=un)}}else{if(xp(un))throw Error(sn(418));un.flags=un.flags&-4097|2,ao=!1,Bo=un}}}function Xp(un){for(un=un.return;un!==null&&un.tag!==5&&un.tag!==3&&un.tag!==13;)un=un.return;Bo=un}function Tn(un){if(!Pr||un!==Bo)return!1;if(!ao)return Xp(un),ao=!0,!1;if(un.tag!==3&&(un.tag!==5||Up(un.type)&&!Un(un.type,un.memoizedProps))){var hn=Qo;if(hn){if(xp(un))throw Qn(),Error(sn(418));for(;hn;)bp(un,hn),hn=ro(hn)}}if(Xp(un),un.tag===13){if(!Pr)throw Error(sn(316));if(un=un.memoizedState,un=un!==null?un.dehydrated:null,!un)throw Error(sn(317));Qo=Pu(un)}else Qo=Bo?ro(un.stateNode):null;return!0}function Qn(){for(var un=Qo;un;)un=ro(un)}function wr(){Pr&&(Qo=Bo=null,ap=ao=!1)}function Nr(un){Ql===null?Ql=[un]:Ql.push(un)}var Vr=an.ReactCurrentBatchConfig;function Qr(un,hn){if(Go(un,hn))return!0;if(typeof un!="object"||un===null||typeof hn!="object"||hn===null)return!1;var _n=Object.keys(un),Pn=Object.keys(hn);if(_n.length!==Pn.length)return!1;for(Pn=0;Pn<_n.length;Pn++){var Rn=_n[Pn];if(!mm.call(hn,Rn)||!Go(un[Rn],hn[Rn]))return!1}return!0}function os(un){switch(un.tag){case 5:return Tu(un.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return un=gm(un.type,!1),un;case 11:return un=gm(un.type.render,!1),un;case 1:return un=gm(un.type,!0),un;default:return""}}function hs(un,hn){if(un&&un.defaultProps){hn=rn({},hn),un=un.defaultProps;for(var _n in un)hn[_n]===void 0&&(hn[_n]=un[_n]);return hn}return hn}var Ps=ku(null),Ds=null,Is=null,Ys=null;function co(){Ys=Is=Ds=null}function go(un,hn,_n){br?(io(Ps,hn._currentValue),hn._currentValue=_n):(io(Ps,hn._currentValue2),hn._currentValue2=_n)}function wo(un){var hn=Ps.current;na(Ps),br?un._currentValue=hn:un._currentValue2=hn}function Uo(un,hn,_n){for(;un!==null;){var Pn=un.alternate;if((un.childLanes&hn)!==hn?(un.childLanes|=hn,Pn!==null&&(Pn.childLanes|=hn)):Pn!==null&&(Pn.childLanes&hn)!==hn&&(Pn.childLanes|=hn),un===_n)break;un=un.return}}function mo(un,hn){Ds=un,Ys=Is=null,un=un.dependencies,un!==null&&un.firstContext!==null&&((un.lanes&hn)!==0&&(El=!0),un.firstContext=null)}function bo(un){var hn=br?un._currentValue:un._currentValue2;if(Ys!==un)if(un={context:un,memoizedValue:hn,next:null},Is===null){if(Ds===null)throw Error(sn(308));Is=un,Ds.dependencies={lanes:0,firstContext:un}}else Is=Is.next=un;return hn}var Io=null;function Su(un){Io===null?Io=[un]:Io.push(un)}function bm(un,hn,_n,Pn){var Rn=hn.interleaved;return Rn===null?(_n.next=_n,Su(hn)):(_n.next=Rn.next,Rn.next=_n),hn.interleaved=_n,Ol(un,Pn)}function Ol(un,hn){un.lanes|=hn;var _n=un.alternate;for(_n!==null&&(_n.lanes|=hn),_n=un,un=un.return;un!==null;)un.childLanes|=hn,_n=un.alternate,_n!==null&&(_n.childLanes|=hn),_n=un,un=un.return;return _n.tag===3?_n.stateNode:null}var lu=!1;function lp(un){un.updateQueue={baseState:un.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(un,hn){un=un.updateQueue,hn.updateQueue===un&&(hn.updateQueue={baseState:un.baseState,firstBaseUpdate:un.firstBaseUpdate,lastBaseUpdate:un.lastBaseUpdate,shared:un.shared,effects:un.effects})}function Jl(un,hn){return{eventTime:un,lane:hn,tag:0,payload:null,callback:null,next:null}}function Zl(un,hn,_n){var Pn=un.updateQueue;if(Pn===null)return null;if(Pn=Pn.shared,(Gs&2)!==0){var Rn=Pn.pending;return Rn===null?hn.next=hn:(hn.next=Rn.next,Rn.next=hn),Pn.pending=hn,Ol(un,_n)}return Rn=Pn.interleaved,Rn===null?(hn.next=hn,Su(Pn)):(hn.next=Rn.next,Rn.next=hn),Pn.interleaved=hn,Ol(un,_n)}function qo(un,hn,_n){if(hn=hn.updateQueue,hn!==null&&(hn=hn.shared,(_n&4194240)!==0)){var Pn=hn.lanes;Pn&=un.pendingLanes,_n|=Pn,hn.lanes=_n,Gp(un,_n)}}function Ap(un,hn){var _n=un.updateQueue,Pn=un.alternate;if(Pn!==null&&(Pn=Pn.updateQueue,_n===Pn)){var Rn=null,Hn=null;if(_n=_n.firstBaseUpdate,_n!==null){do{var mr={eventTime:_n.eventTime,lane:_n.lane,tag:_n.tag,payload:_n.payload,callback:_n.callback,next:null};Hn===null?Rn=Hn=mr:Hn=Hn.next=mr,_n=_n.next}while(_n!==null);Hn===null?Rn=Hn=hn:Hn=Hn.next=hn}else Rn=Hn=hn;_n={baseState:Pn.baseState,firstBaseUpdate:Rn,lastBaseUpdate:Hn,shared:Pn.shared,effects:Pn.effects},un.updateQueue=_n;return}un=_n.lastBaseUpdate,un===null?_n.firstBaseUpdate=hn:un.next=hn,_n.lastBaseUpdate=hn}function Wu(un,hn,_n,Pn){var Rn=un.updateQueue;lu=!1;var Hn=Rn.firstBaseUpdate,mr=Rn.lastBaseUpdate,jr=Rn.shared.pending;if(jr!==null){Rn.shared.pending=null;var Kr=jr,us=Kr.next;Kr.next=null,mr===null?Hn=us:mr.next=us,mr=Kr;var As=un.alternate;As!==null&&(As=As.updateQueue,jr=As.lastBaseUpdate,jr!==mr&&(jr===null?As.firstBaseUpdate=us:jr.next=us,As.lastBaseUpdate=Kr))}if(Hn!==null){var Us=Rn.baseState;mr=0,As=us=Kr=null,jr=Hn;do{var _s=jr.lane,So=jr.eventTime;if((Pn&_s)===_s){As!==null&&(As=As.next={eventTime:So,lane:0,tag:jr.tag,payload:jr.payload,callback:jr.callback,next:null});e:{var ho=un,gu=jr;switch(_s=hn,So=_n,gu.tag){case 1:if(ho=gu.payload,typeof ho=="function"){Us=ho.call(So,Us,_s);break e}Us=ho;break e;case 3:ho.flags=ho.flags&-65537|128;case 0:if(ho=gu.payload,_s=typeof ho=="function"?ho.call(So,Us,_s):ho,_s==null)break e;Us=rn({},Us,_s);break e;case 2:lu=!0}}jr.callback!==null&&jr.lane!==0&&(un.flags|=64,_s=Rn.effects,_s===null?Rn.effects=[jr]:_s.push(jr))}else So={eventTime:So,lane:_s,tag:jr.tag,payload:jr.payload,callback:jr.callback,next:null},As===null?(us=As=So,Kr=Us):As=As.next=So,mr|=_s;if(jr=jr.next,jr===null){if(jr=Rn.shared.pending,jr===null)break;_s=jr,jr=_s.next,_s.next=null,Rn.lastBaseUpdate=_s,Rn.shared.pending=null}}while(1);if(As===null&&(Kr=Us),Rn.baseState=Kr,Rn.firstBaseUpdate=us,Rn.lastBaseUpdate=As,hn=Rn.shared.interleaved,hn!==null){Rn=hn;do mr|=Rn.lane,Rn=Rn.next;while(Rn!==hn)}else Hn===null&&(Rn.shared.lanes=0);Rp|=mr,un.lanes=mr,un.memoizedState=Us}}function Cp(un,hn,_n){if(un=hn.effects,hn.effects=null,un!==null)for(hn=0;hn<un.length;hn++){var Pn=un[hn],Rn=Pn.callback;if(Rn!==null){if(Pn.callback=null,Pn=_n,typeof Rn!="function")throw Error(sn(191,Rn));Rn.call(Pn)}}}var Jp=new tn.Component().refs;function Jo(un,hn,_n,Pn){hn=un.memoizedState,_n=_n(Pn,hn),_n=_n==null?hn:rn({},hn,_n),un.memoizedState=_n,un.lanes===0&&(un.updateQueue.baseState=_n)}var Zp={isMounted:function(un){return(un=un._reactInternals)?Wn(un)===un:!1},enqueueSetState:function(un,hn,_n){un=un._reactInternals;var Pn=Wo(),Rn=_h(un),Hn=Jl(Pn,Rn);Hn.payload=hn,_n!=null&&(Hn.callback=_n),hn=Zl(un,Hn,Rn),hn!==null&&(pu(hn,un,Rn,Pn),qo(hn,un,Rn))},enqueueReplaceState:function(un,hn,_n){un=un._reactInternals;var Pn=Wo(),Rn=_h(un),Hn=Jl(Pn,Rn);Hn.tag=1,Hn.payload=hn,_n!=null&&(Hn.callback=_n),hn=Zl(un,Hn,Rn),hn!==null&&(pu(hn,un,Rn,Pn),qo(hn,un,Rn))},enqueueForceUpdate:function(un,hn){un=un._reactInternals;var _n=Wo(),Pn=_h(un),Rn=Jl(_n,Pn);Rn.tag=2,hn!=null&&(Rn.callback=hn),hn=Zl(un,Rn,Pn),hn!==null&&(pu(hn,un,Pn,_n),qo(hn,un,Pn))}};function _g(un,hn,_n,Pn,Rn,Hn,mr){return un=un.stateNode,typeof un.shouldComponentUpdate=="function"?un.shouldComponentUpdate(Pn,Hn,mr):hn.prototype&&hn.prototype.isPureReactComponent?!Qr(_n,Pn)||!Qr(Rn,Hn):!0}function xm(un,hn,_n){var Pn=!1,Rn=so,Hn=hn.contextType;return typeof Hn=="object"&&Hn!==null?Hn=bo(Hn):(Rn=Ko(hn)?Lu:Oo.current,Pn=hn.contextTypes,Hn=(Pn=Pn!=null)?Nu(un,Rn):so),hn=new hn(_n,Hn),un.memoizedState=hn.state!==null&&hn.state!==void 0?hn.state:null,hn.updater=Zp,un.stateNode=hn,hn._reactInternals=un,Pn&&(un=un.stateNode,un.__reactInternalMemoizedUnmaskedChildContext=Rn,un.__reactInternalMemoizedMaskedChildContext=Hn),hn}function uu(un,hn,_n,Pn){un=hn.state,typeof hn.componentWillReceiveProps=="function"&&hn.componentWillReceiveProps(_n,Pn),typeof hn.UNSAFE_componentWillReceiveProps=="function"&&hn.UNSAFE_componentWillReceiveProps(_n,Pn),hn.state!==un&&Zp.enqueueReplaceState(hn,hn.state,null)}function Ep(un,hn,_n,Pn){var Rn=un.stateNode;Rn.props=_n,Rn.state=un.memoizedState,Rn.refs=Jp,lp(un);var Hn=hn.contextType;typeof Hn=="object"&&Hn!==null?Rn.context=bo(Hn):(Hn=Ko(hn)?Lu:Oo.current,Rn.context=Nu(un,Hn)),Rn.state=un.memoizedState,Hn=hn.getDerivedStateFromProps,typeof Hn=="function"&&(Jo(un,hn,Hn,_n),Rn.state=un.memoizedState),typeof hn.getDerivedStateFromProps=="function"||typeof Rn.getSnapshotBeforeUpdate=="function"||typeof Rn.UNSAFE_componentWillMount!="function"&&typeof Rn.componentWillMount!="function"||(hn=Rn.state,typeof Rn.componentWillMount=="function"&&Rn.componentWillMount(),typeof Rn.UNSAFE_componentWillMount=="function"&&Rn.UNSAFE_componentWillMount(),hn!==Rn.state&&Zp.enqueueReplaceState(Rn,Rn.state,null),Wu(un,_n,Rn,Pn),Rn.state=un.memoizedState),typeof Rn.componentDidMount=="function"&&(un.flags|=4194308)}function Pp(un,hn,_n){if(un=_n.ref,un!==null&&typeof un!="function"&&typeof un!="object"){if(_n._owner){if(_n=_n._owner,_n){if(_n.tag!==1)throw Error(sn(309));var Pn=_n.stateNode}if(!Pn)throw Error(sn(147,un));var Rn=Pn,Hn=""+un;return hn!==null&&hn.ref!==null&&typeof hn.ref=="function"&&hn.ref._stringRef===Hn?hn.ref:(hn=function(mr){var jr=Rn.refs;jr===Jp&&(jr=Rn.refs={}),mr===null?delete jr[Hn]:jr[Hn]=mr},hn._stringRef=Hn,hn)}if(typeof un!="string")throw Error(sn(284));if(!_n._owner)throw Error(sn(290,un))}return un}function em(un,hn){throw un=Object.prototype.toString.call(hn),Error(sn(31,un==="[object Object]"?"object with keys {"+Object.keys(hn).join(", ")+"}":un))}function Ku(un){var hn=un._init;return hn(un._payload)}function eu(un){function hn(Wr,$r){if(un){var Zr=Wr.deletions;Zr===null?(Wr.deletions=[$r],Wr.flags|=16):Zr.push($r)}}function _n(Wr,$r){if(!un)return null;for(;$r!==null;)hn(Wr,$r),$r=$r.sibling;return null}function Pn(Wr,$r){for(Wr=new Map;$r!==null;)$r.key!==null?Wr.set($r.key,$r):Wr.set($r.index,$r),$r=$r.sibling;return Wr}function Rn(Wr,$r){return Wr=dm(Wr,$r),Wr.index=0,Wr.sibling=null,Wr}function Hn(Wr,$r,Zr){return Wr.index=Zr,un?(Zr=Wr.alternate,Zr!==null?(Zr=Zr.index,Zr<$r?(Wr.flags|=2,$r):Zr):(Wr.flags|=2,$r)):(Wr.flags|=1048576,$r)}function mr(Wr){return un&&Wr.alternate===null&&(Wr.flags|=2),Wr}function jr(Wr,$r,Zr,bs){return $r===null||$r.tag!==6?($r=v1(Zr,Wr.mode,bs),$r.return=Wr,$r):($r=Rn($r,Zr),$r.return=Wr,$r)}function Kr(Wr,$r,Zr,bs){var Ns=Zr.type;return Ns===dn?As(Wr,$r,Zr.props.children,bs,Zr.key):$r!==null&&($r.elementType===Ns||typeof Ns=="object"&&Ns!==null&&Ns.$$typeof===xn&&Ku(Ns)===$r.type)?(bs=Rn($r,Zr.props),bs.ref=Pp(Wr,$r,Zr),bs.return=Wr,bs):(bs=i1(Zr.type,Zr.key,Zr.props,null,Wr.mode,bs),bs.ref=Pp(Wr,$r,Zr),bs.return=Wr,bs)}function us(Wr,$r,Zr,bs){return $r===null||$r.tag!==4||$r.stateNode.containerInfo!==Zr.containerInfo||$r.stateNode.implementation!==Zr.implementation?($r=y1(Zr,Wr.mode,bs),$r.return=Wr,$r):($r=Rn($r,Zr.children||[]),$r.return=Wr,$r)}function As(Wr,$r,Zr,bs,Ns){return $r===null||$r.tag!==7?($r=jm(Zr,Wr.mode,bs,Ns),$r.return=Wr,$r):($r=Rn($r,Zr),$r.return=Wr,$r)}function Us(Wr,$r,Zr){if(typeof $r=="string"&&$r!==""||typeof $r=="number")return $r=v1(""+$r,Wr.mode,Zr),$r.return=Wr,$r;if(typeof $r=="object"&&$r!==null){switch($r.$$typeof){case on:return Zr=i1($r.type,$r.key,$r.props,null,Wr.mode,Zr),Zr.ref=Pp(Wr,null,$r),Zr.return=Wr,Zr;case cn:return $r=y1($r,Wr.mode,Zr),$r.return=Wr,$r;case xn:var bs=$r._init;return Us(Wr,bs($r._payload),Zr)}if(ar($r)||kn($r))return $r=jm($r,Wr.mode,Zr,null),$r.return=Wr,$r;em(Wr,$r)}return null}function _s(Wr,$r,Zr,bs){var Ns=$r!==null?$r.key:null;if(typeof Zr=="string"&&Zr!==""||typeof Zr=="number")return Ns!==null?null:jr(Wr,$r,""+Zr,bs);if(typeof Zr=="object"&&Zr!==null){switch(Zr.$$typeof){case on:return Zr.key===Ns?Kr(Wr,$r,Zr,bs):null;case cn:return Zr.key===Ns?us(Wr,$r,Zr,bs):null;case xn:return Ns=Zr._init,_s(Wr,$r,Ns(Zr._payload),bs)}if(ar(Zr)||kn(Zr))return Ns!==null?null:As(Wr,$r,Zr,bs,null);em(Wr,Zr)}return null}function So(Wr,$r,Zr,bs,Ns){if(typeof bs=="string"&&bs!==""||typeof bs=="number")return Wr=Wr.get(Zr)||null,jr($r,Wr,""+bs,Ns);if(typeof bs=="object"&&bs!==null){switch(bs.$$typeof){case on:return Wr=Wr.get(bs.key===null?Zr:bs.key)||null,Kr($r,Wr,bs,Ns);case cn:return Wr=Wr.get(bs.key===null?Zr:bs.key)||null,us($r,Wr,bs,Ns);case xn:var Ws=bs._init;return So(Wr,$r,Zr,Ws(bs._payload),Ns)}if(ar(bs)||kn(bs))return Wr=Wr.get(Zr)||null,As($r,Wr,bs,Ns,null);em($r,bs)}return null}function ho(Wr,$r,Zr,bs){for(var Ns=null,Ws=null,$s=$r,$a=$r=0,_l=null;$s!==null&&$a<Zr.length;$a++){$s.index>$a?(_l=$s,$s=null):_l=$s.sibling;var eo=_s(Wr,$s,Zr[$a],bs);if(eo===null){$s===null&&($s=_l);break}un&&$s&&eo.alternate===null&&hn(Wr,$s),$r=Hn(eo,$r,$a),Ws===null?Ns=eo:Ws.sibling=eo,Ws=eo,$s=_l}if($a===Zr.length)return _n(Wr,$s),ao&&qu(Wr,$a),Ns;if($s===null){for(;$a<Zr.length;$a++)$s=Us(Wr,Zr[$a],bs),$s!==null&&($r=Hn($s,$r,$a),Ws===null?Ns=$s:Ws.sibling=$s,Ws=$s);return ao&&qu(Wr,$a),Ns}for($s=Pn(Wr,$s);$a<Zr.length;$a++)_l=So($s,Wr,$a,Zr[$a],bs),_l!==null&&(un&&_l.alternate!==null&&$s.delete(_l.key===null?$a:_l.key),$r=Hn(_l,$r,$a),Ws===null?Ns=_l:Ws.sibling=_l,Ws=_l);return un&&$s.forEach(function(fm){return hn(Wr,fm)}),ao&&qu(Wr,$a),Ns}function gu(Wr,$r,Zr,bs){var Ns=kn(Zr);if(typeof Ns!="function")throw Error(sn(150));if(Zr=Ns.call(Zr),Zr==null)throw Error(sn(151));for(var Ws=Ns=null,$s=$r,$a=$r=0,_l=null,eo=Zr.next();$s!==null&&!eo.done;$a++,eo=Zr.next()){$s.index>$a?(_l=$s,$s=null):_l=$s.sibling;var fm=_s(Wr,$s,eo.value,bs);if(fm===null){$s===null&&($s=_l);break}un&&$s&&fm.alternate===null&&hn(Wr,$s),$r=Hn(fm,$r,$a),Ws===null?Ns=fm:Ws.sibling=fm,Ws=fm,$s=_l}if(eo.done)return _n(Wr,$s),ao&&qu(Wr,$a),Ns;if($s===null){for(;!eo.done;$a++,eo=Zr.next())eo=Us(Wr,eo.value,bs),eo!==null&&($r=Hn(eo,$r,$a),Ws===null?Ns=eo:Ws.sibling=eo,Ws=eo);return ao&&qu(Wr,$a),Ns}for($s=Pn(Wr,$s);!eo.done;$a++,eo=Zr.next())eo=So($s,Wr,$a,eo.value,bs),eo!==null&&(un&&eo.alternate!==null&&$s.delete(eo.key===null?$a:eo.key),$r=Hn(eo,$r,$a),Ws===null?Ns=eo:Ws.sibling=eo,Ws=eo);return un&&$s.forEach(function(Cv){return hn(Wr,Cv)}),ao&&qu(Wr,$a),Ns}function Op(Wr,$r,Zr,bs){if(typeof Zr=="object"&&Zr!==null&&Zr.type===dn&&Zr.key===null&&(Zr=Zr.props.children),typeof Zr=="object"&&Zr!==null){switch(Zr.$$typeof){case on:e:{for(var Ns=Zr.key,Ws=$r;Ws!==null;){if(Ws.key===Ns){if(Ns=Zr.type,Ns===dn){if(Ws.tag===7){_n(Wr,Ws.sibling),$r=Rn(Ws,Zr.props.children),$r.return=Wr,Wr=$r;break e}}else if(Ws.elementType===Ns||typeof Ns=="object"&&Ns!==null&&Ns.$$typeof===xn&&Ku(Ns)===Ws.type){_n(Wr,Ws.sibling),$r=Rn(Ws,Zr.props),$r.ref=Pp(Wr,Ws,Zr),$r.return=Wr,Wr=$r;break e}_n(Wr,Ws);break}else hn(Wr,Ws);Ws=Ws.sibling}Zr.type===dn?($r=jm(Zr.props.children,Wr.mode,bs,Zr.key),$r.return=Wr,Wr=$r):(bs=i1(Zr.type,Zr.key,Zr.props,null,Wr.mode,bs),bs.ref=Pp(Wr,$r,Zr),bs.return=Wr,Wr=bs)}return mr(Wr);case cn:e:{for(Ws=Zr.key;$r!==null;){if($r.key===Ws)if($r.tag===4&&$r.stateNode.containerInfo===Zr.containerInfo&&$r.stateNode.implementation===Zr.implementation){_n(Wr,$r.sibling),$r=Rn($r,Zr.children||[]),$r.return=Wr,Wr=$r;break e}else{_n(Wr,$r);break}else hn(Wr,$r);$r=$r.sibling}$r=y1(Zr,Wr.mode,bs),$r.return=Wr,Wr=$r}return mr(Wr);case xn:return Ws=Zr._init,Op(Wr,$r,Ws(Zr._payload),bs)}if(ar(Zr))return ho(Wr,$r,Zr,bs);if(kn(Zr))return gu(Wr,$r,Zr,bs);em(Wr,Zr)}return typeof Zr=="string"&&Zr!==""||typeof Zr=="number"?(Zr=""+Zr,$r!==null&&$r.tag===6?(_n(Wr,$r.sibling),$r=Rn($r,Zr),$r.return=Wr,Wr=$r):(_n(Wr,$r),$r=v1(Zr,Wr.mode,bs),$r.return=Wr,Wr=$r),mr(Wr)):_n(Wr,$r)}return Op}var Zo=eu(!0),Yu=eu(!1),Il={},Fo=ku(Il),Fu=ku(Il),yl=ku(Il);function Al(un){if(un===Il)throw Error(sn(174));return un}function Tp(un,hn){io(yl,hn),io(Fu,un),io(Fo,Il),un=dr(hn),na(Fo),io(Fo,un)}function tu(){na(Fo),na(Fu),na(yl)}function cu(un){var hn=Al(yl.current),_n=Al(Fo.current);hn=Jn(_n,un.type,hn),_n!==hn&&(io(Fu,un),io(Fo,hn))}function _u(un){Fu.current===un&&(na(Fo),na(Fu))}var to=ku(0);function Xu(un){for(var hn=un;hn!==null;){if(hn.tag===13){var _n=hn.memoizedState;if(_n!==null&&(_n=_n.dehydrated,_n===null||Js(_n)||Vs(_n)))return hn}else if(hn.tag===19&&hn.memoizedProps.revealOrder!==void 0){if((hn.flags&128)!==0)return hn}else if(hn.child!==null){hn.child.return=hn,hn=hn.child;continue}if(hn===un)break;for(;hn.sibling===null;){if(hn.return===null||hn.return===un)return null;hn=hn.return}hn.sibling.return=hn.return,hn=hn.sibling}return null}var Qu=[];function Mu(){for(var un=0;un<Qu.length;un++){var hn=Qu[un];br?hn._workInProgressVersionPrimary=null:hn._workInProgressVersionSecondary=null}Qu.length=0}var up=an.ReactCurrentDispatcher,Bl=an.ReactCurrentBatchConfig,Cl=0,Ms=null,js=null,qs=null,xo=!1,nu=!1,hu=0,tm=0;function jo(){throw Error(sn(321))}function qm(un,hn){if(hn===null)return!1;for(var _n=0;_n<hn.length&&_n<un.length;_n++)if(!Go(un[_n],hn[_n]))return!1;return!0}function Wm(un,hn,_n,Pn,Rn,Hn){if(Cl=Hn,Ms=hn,hn.memoizedState=null,hn.updateQueue=null,hn.lanes=0,up.current=un===null||un.memoizedState===null?f1:cp,un=_n(Pn,Rn),nu){Hn=0;do{if(nu=!1,hu=0,25<=Hn)throw Error(sn(301));Hn+=1,qs=js=null,hn.updateQueue=null,up.current=bu,un=_n(Pn,Rn)}while(nu)}if(up.current=Zm,hn=js!==null&&js.next!==null,Cl=0,qs=js=Ms=null,xo=!1,hn)throw Error(sn(300));return un}function Km(){var un=hu!==0;return hu=0,un}function wu(){var un={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qs===null?Ms.memoizedState=qs=un:qs=qs.next=un,qs}function ru(){if(js===null){var un=Ms.alternate;un=un!==null?un.memoizedState:null}else un=js.next;var hn=qs===null?Ms.memoizedState:qs.next;if(hn!==null)qs=hn,js=un;else{if(un===null)throw Error(sn(310));js=un,un={memoizedState:js.memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},qs===null?Ms.memoizedState=qs=un:qs=qs.next=un}return qs}function nm(un,hn){return typeof hn=="function"?hn(un):hn}function Am(un){var hn=ru(),_n=hn.queue;if(_n===null)throw Error(sn(311));_n.lastRenderedReducer=un;var Pn=js,Rn=Pn.baseQueue,Hn=_n.pending;if(Hn!==null){if(Rn!==null){var mr=Rn.next;Rn.next=Hn.next,Hn.next=mr}Pn.baseQueue=Rn=Hn,_n.pending=null}if(Rn!==null){Hn=Rn.next,Pn=Pn.baseState;var jr=mr=null,Kr=null,us=Hn;do{var As=us.lane;if((Cl&As)===As)Kr!==null&&(Kr=Kr.next={lane:0,action:us.action,hasEagerState:us.hasEagerState,eagerState:us.eagerState,next:null}),Pn=us.hasEagerState?us.eagerState:un(Pn,us.action);else{var Us={lane:As,action:us.action,hasEagerState:us.hasEagerState,eagerState:us.eagerState,next:null};Kr===null?(jr=Kr=Us,mr=Pn):Kr=Kr.next=Us,Ms.lanes|=As,Rp|=As}us=us.next}while(us!==null&&us!==Hn);Kr===null?mr=Pn:Kr.next=jr,Go(Pn,hn.memoizedState)||(El=!0),hn.memoizedState=Pn,hn.baseState=mr,hn.baseQueue=Kr,_n.lastRenderedState=Pn}if(un=_n.interleaved,un!==null){Rn=un;do Hn=Rn.lane,Ms.lanes|=Hn,Rp|=Hn,Rn=Rn.next;while(Rn!==un)}else Rn===null&&(_n.lanes=0);return[hn.memoizedState,_n.dispatch]}function rm(un){var hn=ru(),_n=hn.queue;if(_n===null)throw Error(sn(311));_n.lastRenderedReducer=un;var Pn=_n.dispatch,Rn=_n.pending,Hn=hn.memoizedState;if(Rn!==null){_n.pending=null;var mr=Rn=Rn.next;do Hn=un(Hn,mr.action),mr=mr.next;while(mr!==Rn);Go(Hn,hn.memoizedState)||(El=!0),hn.memoizedState=Hn,hn.baseQueue===null&&(hn.baseState=Hn),_n.lastRenderedState=Hn}return[Hn,Pn]}function Ul(){}function iu(un,hn){var _n=Ms,Pn=ru(),Rn=hn(),Hn=!Go(Pn.memoizedState,Rn);if(Hn&&(Pn.memoizedState=Rn,El=!0),Pn=Pn.queue,b0(w0.bind(null,_n,Pn,un),[un]),Pn.getSnapshot!==hn||Hn||qs!==null&&qs.memoizedState.tag&1){if(_n.flags|=2048,im(9,Em.bind(null,_n,Pn,Rn,hn),void 0,null),To===null)throw Error(sn(349));(Cl&30)!==0||Cm(_n,hn,Rn)}return Rn}function Cm(un,hn,_n){un.flags|=16384,un={getSnapshot:hn,value:_n},hn=Ms.updateQueue,hn===null?(hn={lastEffect:null,stores:null},Ms.updateQueue=hn,hn.stores=[un]):(_n=hn.stores,_n===null?hn.stores=[un]:_n.push(un))}function Em(un,hn,_n,Pn){hn.value=_n,hn.getSnapshot=Pn,Pm(hn)&&Tm(un)}function w0(un,hn,_n){return _n(function(){Pm(hn)&&Tm(un)})}function Pm(un){var hn=un.getSnapshot;un=un.value;try{var _n=hn();return!Go(un,_n)}catch{return!0}}function Tm(un){var hn=Ol(un,1);hn!==null&&pu(hn,un,1,-1)}function Ym(un){var hn=wu();return typeof un=="function"&&(un=un()),hn.memoizedState=hn.baseState=un,un={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nm,lastRenderedState:un},hn.queue=un,un=un.dispatch=d1.bind(null,Ms,un),[hn.memoizedState,un]}function im(un,hn,_n,Pn){return un={tag:un,create:hn,destroy:_n,deps:Pn,next:null},hn=Ms.updateQueue,hn===null?(hn={lastEffect:null,stores:null},Ms.updateQueue=hn,hn.lastEffect=un.next=un):(_n=hn.lastEffect,_n===null?hn.lastEffect=un.next=un:(Pn=_n.next,_n.next=un,un.next=Pn,hn.lastEffect=un)),un}function Xm(){return ru().memoizedState}function sm(un,hn,_n,Pn){var Rn=wu();Ms.flags|=un,Rn.memoizedState=im(1|hn,_n,void 0,Pn===void 0?null:Pn)}function kp(un,hn,_n,Pn){var Rn=ru();Pn=Pn===void 0?null:Pn;var Hn=void 0;if(js!==null){var mr=js.memoizedState;if(Hn=mr.destroy,Pn!==null&&qm(Pn,mr.deps)){Rn.memoizedState=im(hn,_n,Hn,Pn);return}}Ms.flags|=un,Rn.memoizedState=im(1|hn,_n,Hn,Pn)}function Qm(un,hn){return sm(8390656,8,un,hn)}function b0(un,hn){return kp(2048,8,un,hn)}function $0(un,hn){return kp(4,2,un,hn)}function x0(un,hn){return kp(4,4,un,hn)}function V0(un,hn){if(typeof hn=="function")return un=un(),hn(un),function(){hn(null)};if(hn!=null)return un=un(),hn.current=un,function(){hn.current=null}}function z0(un,hn,_n){return _n=_n!=null?_n.concat([un]):null,kp(4,4,V0.bind(null,hn,un),_n)}function A0(){}function H0(un,hn){var _n=ru();hn=hn===void 0?null:hn;var Pn=_n.memoizedState;return Pn!==null&&hn!==null&&qm(hn,Pn[1])?Pn[0]:(_n.memoizedState=[un,hn],un)}function G0(un,hn){var _n=ru();hn=hn===void 0?null:hn;var Pn=_n.memoizedState;return Pn!==null&&hn!==null&&qm(hn,Pn[1])?Pn[0]:(un=un(),_n.memoizedState=[un,hn],un)}function Jm(un,hn,_n){return(Cl&21)===0?(un.baseState&&(un.baseState=!1,El=!0),un.memoizedState=_n):(Go(_n,hn)||(_n=Sp(),Ms.lanes|=_n,Rp|=_n,un.baseState=!0),hn)}function C0(un,hn){var _n=gs;gs=_n!==0&&4>_n?_n:4,un(!0);var Pn=Bl.transition;Bl.transition={};try{un(!1),hn()}finally{gs=_n,Bl.transition=Pn}}function am(){return ru().memoizedState}function h1(un,hn,_n){var Pn=_h(un);if(_n={lane:Pn,action:_n,hasEagerState:!1,eagerState:null,next:null},E0(un))q0(hn,_n);else if(_n=bm(un,hn,_n,Pn),_n!==null){var Rn=Wo();pu(_n,un,Pn,Rn),W0(_n,hn,Pn)}}function d1(un,hn,_n){var Pn=_h(un),Rn={lane:Pn,action:_n,hasEagerState:!1,eagerState:null,next:null};if(E0(un))q0(hn,Rn);else{var Hn=un.alternate;if(un.lanes===0&&(Hn===null||Hn.lanes===0)&&(Hn=hn.lastRenderedReducer,Hn!==null))try{var mr=hn.lastRenderedState,jr=Hn(mr,_n);if(Rn.hasEagerState=!0,Rn.eagerState=jr,Go(jr,mr)){var Kr=hn.interleaved;Kr===null?(Rn.next=Rn,Su(hn)):(Rn.next=Kr.next,Kr.next=Rn),hn.interleaved=Rn;return}}catch{}finally{}_n=bm(un,hn,Rn,Pn),_n!==null&&(Rn=Wo(),pu(_n,un,Pn,Rn),W0(_n,hn,Pn))}}function E0(un){var hn=un.alternate;return un===Ms||hn!==null&&hn===Ms}function q0(un,hn){nu=xo=!0;var _n=un.pending;_n===null?hn.next=hn:(hn.next=_n.next,_n.next=hn),un.pending=hn}function W0(un,hn,_n){if((_n&4194240)!==0){var Pn=hn.lanes;Pn&=un.pendingLanes,_n|=Pn,hn.lanes=_n,Gp(un,_n)}}var Zm={readContext:bo,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useInsertionEffect:jo,useLayoutEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useMutableSource:jo,useSyncExternalStore:jo,useId:jo,unstable_isNewReconciler:!1},f1={readContext:bo,useCallback:function(un,hn){return wu().memoizedState=[un,hn===void 0?null:hn],un},useContext:bo,useEffect:Qm,useImperativeHandle:function(un,hn,_n){return _n=_n!=null?_n.concat([un]):null,sm(4194308,4,V0.bind(null,hn,un),_n)},useLayoutEffect:function(un,hn){return sm(4194308,4,un,hn)},useInsertionEffect:function(un,hn){return sm(4,2,un,hn)},useMemo:function(un,hn){var _n=wu();return hn=hn===void 0?null:hn,un=un(),_n.memoizedState=[un,hn],un},useReducer:function(un,hn,_n){var Pn=wu();return hn=_n!==void 0?_n(hn):hn,Pn.memoizedState=Pn.baseState=hn,un={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:hn},Pn.queue=un,un=un.dispatch=h1.bind(null,Ms,un),[Pn.memoizedState,un]},useRef:function(un){var hn=wu();return un={current:un},hn.memoizedState=un},useState:Ym,useDebugValue:A0,useDeferredValue:function(un){return wu().memoizedState=un},useTransition:function(){var un=Ym(!1),hn=un[0];return un=C0.bind(null,un[1]),wu().memoizedState=un,[hn,un]},useMutableSource:function(){},useSyncExternalStore:function(un,hn,_n){var Pn=Ms,Rn=wu();if(ao){if(_n===void 0)throw Error(sn(407));_n=_n()}else{if(_n=hn(),To===null)throw Error(sn(349));(Cl&30)!==0||Cm(Pn,hn,_n)}Rn.memoizedState=_n;var Hn={value:_n,getSnapshot:hn};return Rn.queue=Hn,Qm(w0.bind(null,Pn,Hn,un),[un]),Pn.flags|=2048,im(9,Em.bind(null,Pn,Hn,_n,hn),void 0,null),_n},useId:function(){var un=wu(),hn=To.identifierPrefix;if(ao){var _n=Dl,Pn=yu;_n=(Pn&~(1<<32-Gl(Pn)-1)).toString(32)+_n,hn=":"+hn+"R"+_n,_n=hu++,0<_n&&(hn+="H"+_n.toString(32)),hn+=":"}else _n=tm++,hn=":"+hn+"r"+_n.toString(32)+":";return un.memoizedState=hn},unstable_isNewReconciler:!1},cp={readContext:bo,useCallback:H0,useContext:bo,useEffect:b0,useImperativeHandle:z0,useInsertionEffect:$0,useLayoutEffect:x0,useMemo:G0,useReducer:Am,useRef:Xm,useState:function(){return Am(nm)},useDebugValue:A0,useDeferredValue:function(un){var hn=ru();return Jm(hn,js.memoizedState,un)},useTransition:function(){var un=Am(nm)[0],hn=ru().memoizedState;return[un,hn]},useMutableSource:Ul,useSyncExternalStore:iu,useId:am,unstable_isNewReconciler:!1},bu={readContext:bo,useCallback:H0,useContext:bo,useEffect:b0,useImperativeHandle:z0,useInsertionEffect:$0,useLayoutEffect:x0,useMemo:G0,useReducer:rm,useRef:Xm,useState:function(){return rm(nm)},useDebugValue:A0,useDeferredValue:function(un){var hn=ru();return js===null?hn.memoizedState=un:Jm(hn,js.memoizedState,un)},useTransition:function(){var un=rm(nm)[0],hn=ru().memoizedState;return[un,hn]},useMutableSource:Ul,useSyncExternalStore:iu,useId:am,unstable_isNewReconciler:!1};function $l(un,hn){try{var _n="",Pn=hn;do _n+=os(Pn),Pn=Pn.return;while(Pn);var Rn=_n}catch(Hn){Rn=`
Error generating stack: `+Hn.message+`
`+Hn.stack}return{value:un,source:hn,stack:Rn,digest:null}}function P0(un,hn,_n){return{value:un,source:null,stack:_n!=null?_n:null,digest:hn!=null?hn:null}}function e0(un,hn){try{console.error(hn.value)}catch(_n){setTimeout(function(){throw _n})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function su(un,hn,_n){_n=Jl(-1,_n),_n.tag=3,_n.payload={element:null};var Pn=hn.value;return _n.callback=function(){Dm||(Dm=!0,um=Pn),e0(un,hn)},_n}function K0(un,hn,_n){_n=Jl(-1,_n),_n.tag=3;var Pn=un.type.getDerivedStateFromError;if(typeof Pn=="function"){var Rn=hn.value;_n.payload=function(){return Pn(Rn)},_n.callback=function(){e0(un,hn)}}var Hn=un.stateNode;return Hn!==null&&typeof Hn.componentDidCatch=="function"&&(_n.callback=function(){e0(un,hn),typeof Pn!="function"&&(Iu===null?Iu=new Set([this]):Iu.add(this));var mr=hn.stack;this.componentDidCatch(hn.value,{componentStack:mr!==null?mr:""})}),_n}function Y0(un,hn,_n){var Pn=un.pingCache;if(Pn===null){Pn=un.pingCache=new hp;var Rn=new Set;Pn.set(hn,Rn)}else Rn=Pn.get(hn),Rn===void 0&&(Rn=new Set,Pn.set(hn,Rn));Rn.has(_n)||(Rn.add(_n),un=vv.bind(null,un,hn,_n),hn.then(un,un))}function T0(un){do{var hn;if((hn=un.tag===13)&&(hn=un.memoizedState,hn=hn!==null?hn.dehydrated!==null:!0),hn)return un;un=un.return}while(un!==null);return null}function k0(un,hn,_n,Pn,Rn){return(un.mode&1)===0?(un===hn?un.flags|=65536:(un.flags|=128,_n.flags|=131072,_n.flags&=-52805,_n.tag===1&&(_n.alternate===null?_n.tag=17:(hn=Jl(-1,1),hn.tag=2,Zl(_n,hn,1))),_n.lanes|=1),un):(un.flags|=65536,un.lanes=Rn,un)}var X0=an.ReactCurrentOwner,El=!1;function Pl(un,hn,_n,Pn){hn.child=un===null?Yu(hn,null,_n,Pn):Zo(hn,un.child,_n,Pn)}function km(un,hn,_n,Pn,Rn){_n=_n.render;var Hn=hn.ref;return mo(hn,Rn),Pn=Wm(un,hn,_n,Pn,Hn,Rn),_n=Km(),un!==null&&!El?(hn.updateQueue=un.updateQueue,hn.flags&=-2053,un.lanes&=~Rn,Ln(un,hn,Rn)):(ao&&_n&&wp(hn),hn.flags|=1,Pl(un,hn,Pn,Rn),hn.child)}function Lm(un,hn,_n,Pn,Rn){if(un===null){var Hn=_n.type;return typeof Hn=="function"&&!m1(Hn)&&Hn.defaultProps===void 0&&_n.compare===null&&_n.defaultProps===void 0?(hn.tag=15,hn.type=Hn,om(un,hn,Hn,Pn,Rn)):(un=i1(_n.type,null,Pn,hn,hn.mode,Rn),un.ref=hn.ref,un.return=hn,hn.child=un)}if(Hn=un.child,(un.lanes&Rn)===0){var mr=Hn.memoizedProps;if(_n=_n.compare,_n=_n!==null?_n:Qr,_n(mr,Pn)&&un.ref===hn.ref)return Ln(un,hn,Rn)}return hn.flags|=1,un=dm(Hn,Pn),un.ref=hn.ref,un.return=hn,hn.child=un}function om(un,hn,_n,Pn,Rn){if(un!==null){var Hn=un.memoizedProps;if(Qr(Hn,Pn)&&un.ref===hn.ref)if(El=!1,hn.pendingProps=Pn=Hn,(un.lanes&Rn)!==0)(un.flags&131072)!==0&&(El=!0);else return hn.lanes=un.lanes,Ln(un,hn,Rn)}return N0(un,hn,_n,Pn,Rn)}function t0(un,hn,_n){var Pn=hn.pendingProps,Rn=Pn.children,Hn=un!==null?un.memoizedState:null;if(Pn.mode==="hidden")if((hn.mode&1)===0)hn.memoizedState={baseLanes:0,cachePool:null,transitions:null},io(Zu,Ll),Ll|=_n;else{if((_n&1073741824)===0)return un=Hn!==null?Hn.baseLanes|_n:_n,hn.lanes=hn.childLanes=1073741824,hn.memoizedState={baseLanes:un,cachePool:null,transitions:null},hn.updateQueue=null,io(Zu,Ll),Ll|=un,null;hn.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn=Hn!==null?Hn.baseLanes:_n,io(Zu,Ll),Ll|=Pn}else Hn!==null?(Pn=Hn.baseLanes|_n,hn.memoizedState=null):Pn=_n,io(Zu,Ll),Ll|=Pn;return Pl(un,hn,Rn,_n),hn.child}function L0(un,hn){var _n=hn.ref;(un===null&&_n!==null||un!==null&&un.ref!==_n)&&(hn.flags|=512,hn.flags|=2097152)}function N0(un,hn,_n,Pn,Rn){var Hn=Ko(_n)?Lu:Oo.current;return Hn=Nu(hn,Hn),mo(hn,Rn),_n=Wm(un,hn,_n,Pn,Hn,Rn),Pn=Km(),un!==null&&!El?(hn.updateQueue=un.updateQueue,hn.flags&=-2053,un.lanes&=~Rn,Ln(un,hn,Rn)):(ao&&Pn&&wp(hn),hn.flags|=1,Pl(un,hn,_n,Rn),hn.child)}function R0(un,hn,_n,Pn,Rn){if(Ko(_n)){var Hn=!0;tp(hn)}else Hn=!1;if(mo(hn,Rn),hn.stateNode===null)An(un,hn),xm(hn,_n,Pn),Ep(hn,_n,Pn,Rn),Pn=!0;else if(un===null){var mr=hn.stateNode,jr=hn.memoizedProps;mr.props=jr;var Kr=mr.context,us=_n.contextType;typeof us=="object"&&us!==null?us=bo(us):(us=Ko(_n)?Lu:Oo.current,us=Nu(hn,us));var As=_n.getDerivedStateFromProps,Us=typeof As=="function"||typeof mr.getSnapshotBeforeUpdate=="function";Us||typeof mr.UNSAFE_componentWillReceiveProps!="function"&&typeof mr.componentWillReceiveProps!="function"||(jr!==Pn||Kr!==us)&&uu(hn,mr,Pn,us),lu=!1;var _s=hn.memoizedState;mr.state=_s,Wu(hn,Pn,mr,Rn),Kr=hn.memoizedState,jr!==Pn||_s!==Kr||Ho.current||lu?(typeof As=="function"&&(Jo(hn,_n,As,Pn),Kr=hn.memoizedState),(jr=lu||_g(hn,_n,jr,Pn,_s,Kr,us))?(Us||typeof mr.UNSAFE_componentWillMount!="function"&&typeof mr.componentWillMount!="function"||(typeof mr.componentWillMount=="function"&&mr.componentWillMount(),typeof mr.UNSAFE_componentWillMount=="function"&&mr.UNSAFE_componentWillMount()),typeof mr.componentDidMount=="function"&&(hn.flags|=4194308)):(typeof mr.componentDidMount=="function"&&(hn.flags|=4194308),hn.memoizedProps=Pn,hn.memoizedState=Kr),mr.props=Pn,mr.state=Kr,mr.context=us,Pn=jr):(typeof mr.componentDidMount=="function"&&(hn.flags|=4194308),Pn=!1)}else{mr=hn.stateNode,Qp(un,hn),jr=hn.memoizedProps,us=hn.type===hn.elementType?jr:hs(hn.type,jr),mr.props=us,Us=hn.pendingProps,_s=mr.context,Kr=_n.contextType,typeof Kr=="object"&&Kr!==null?Kr=bo(Kr):(Kr=Ko(_n)?Lu:Oo.current,Kr=Nu(hn,Kr));var So=_n.getDerivedStateFromProps;(As=typeof So=="function"||typeof mr.getSnapshotBeforeUpdate=="function")||typeof mr.UNSAFE_componentWillReceiveProps!="function"&&typeof mr.componentWillReceiveProps!="function"||(jr!==Us||_s!==Kr)&&uu(hn,mr,Pn,Kr),lu=!1,_s=hn.memoizedState,mr.state=_s,Wu(hn,Pn,mr,Rn);var ho=hn.memoizedState;jr!==Us||_s!==ho||Ho.current||lu?(typeof So=="function"&&(Jo(hn,_n,So,Pn),ho=hn.memoizedState),(us=lu||_g(hn,_n,us,Pn,_s,ho,Kr)||!1)?(As||typeof mr.UNSAFE_componentWillUpdate!="function"&&typeof mr.componentWillUpdate!="function"||(typeof mr.componentWillUpdate=="function"&&mr.componentWillUpdate(Pn,ho,Kr),typeof mr.UNSAFE_componentWillUpdate=="function"&&mr.UNSAFE_componentWillUpdate(Pn,ho,Kr)),typeof mr.componentDidUpdate=="function"&&(hn.flags|=4),typeof mr.getSnapshotBeforeUpdate=="function"&&(hn.flags|=1024)):(typeof mr.componentDidUpdate!="function"||jr===un.memoizedProps&&_s===un.memoizedState||(hn.flags|=4),typeof mr.getSnapshotBeforeUpdate!="function"||jr===un.memoizedProps&&_s===un.memoizedState||(hn.flags|=1024),hn.memoizedProps=Pn,hn.memoizedState=ho),mr.props=Pn,mr.state=ho,mr.context=Kr,Pn=us):(typeof mr.componentDidUpdate!="function"||jr===un.memoizedProps&&_s===un.memoizedState||(hn.flags|=4),typeof mr.getSnapshotBeforeUpdate!="function"||jr===un.memoizedProps&&_s===un.memoizedState||(hn.flags|=1024),Pn=!1)}return F0(un,hn,_n,Pn,Hn,Rn)}function F0(un,hn,_n,Pn,Rn,Hn){L0(un,hn);var mr=(hn.flags&128)!==0;if(!Pn&&!mr)return Rn&&ym(hn,_n,!1),Ln(un,hn,Hn);Pn=hn.stateNode,X0.current=hn;var jr=mr&&typeof _n.getDerivedStateFromError!="function"?null:Pn.render();return hn.flags|=1,un!==null&&mr?(hn.child=Zo(hn,un.child,null,Hn),hn.child=Zo(hn,null,jr,Hn)):Pl(un,hn,jr,Hn),hn.memoizedState=Pn.state,Rn&&ym(hn,_n,!0),hn.child}function Q0(un){var hn=un.stateNode;hn.pendingContext?vp(un,hn.pendingContext,hn.pendingContext!==hn.context):hn.context&&vp(un,hn.context,!1),Tp(un,hn.containerInfo)}function J0(un,hn,_n,Pn,Rn){return wr(),Nr(Rn),hn.flags|=256,Pl(un,hn,_n,Pn),hn.child}var M0={dehydrated:null,treeContext:null,retryLane:0};function D0(un){return{baseLanes:un,cachePool:null,transitions:null}}function Z0(un,hn,_n){var Pn=hn.pendingProps,Rn=to.current,Hn=!1,mr=(hn.flags&128)!==0,jr;if((jr=mr)||(jr=un!==null&&un.memoizedState===null?!1:(Rn&2)!==0),jr?(Hn=!0,hn.flags&=-129):(un===null||un.memoizedState!==null)&&(Rn|=1),io(to,Rn&1),un===null)return Ru(hn),un=hn.memoizedState,un!==null&&(un=un.dehydrated,un!==null)?((hn.mode&1)===0?hn.lanes=1:Vs(un)?hn.lanes=8:hn.lanes=1073741824,null):(mr=Pn.children,un=Pn.fallback,Hn?(Pn=hn.mode,Hn=hn.child,mr={mode:"hidden",children:mr},(Pn&1)===0&&Hn!==null?(Hn.childLanes=0,Hn.pendingProps=mr):Hn=s1(mr,Pn,0,null),un=jm(un,Pn,_n,null),Hn.return=hn,un.return=hn,Hn.sibling=un,hn.child=Hn,hn.child.memoizedState=D0(_n),hn.memoizedState=M0,un):n0(hn,mr));if(Rn=un.memoizedState,Rn!==null&&(jr=Rn.dehydrated,jr!==null))return p1(un,hn,mr,Pn,jr,Rn,_n);if(Hn){Hn=Pn.fallback,mr=hn.mode,Rn=un.child,jr=Rn.sibling;var Kr={mode:"hidden",children:Pn.children};return(mr&1)===0&&hn.child!==Rn?(Pn=hn.child,Pn.childLanes=0,Pn.pendingProps=Kr,hn.deletions=null):(Pn=dm(Rn,Kr),Pn.subtreeFlags=Rn.subtreeFlags&14680064),jr!==null?Hn=dm(jr,Hn):(Hn=jm(Hn,mr,_n,null),Hn.flags|=2),Hn.return=hn,Pn.return=hn,Pn.sibling=Hn,hn.child=Pn,Pn=Hn,Hn=hn.child,mr=un.child.memoizedState,mr=mr===null?D0(_n):{baseLanes:mr.baseLanes|_n,cachePool:null,transitions:mr.transitions},Hn.memoizedState=mr,Hn.childLanes=un.childLanes&~_n,hn.memoizedState=M0,Pn}return Hn=un.child,un=Hn.sibling,Pn=dm(Hn,{mode:"visible",children:Pn.children}),(hn.mode&1)===0&&(Pn.lanes=_n),Pn.return=hn,Pn.sibling=null,un!==null&&(_n=hn.deletions,_n===null?(hn.deletions=[un],hn.flags|=16):_n.push(un)),hn.child=Pn,hn.memoizedState=null,Pn}function n0(un,hn){return hn=s1({mode:"visible",children:hn},un.mode,0,null),hn.return=un,un.child=hn}function Lp(un,hn,_n,Pn){return Pn!==null&&Nr(Pn),Zo(hn,un.child,null,_n),un=n0(hn,hn.pendingProps.children),un.flags|=2,hn.memoizedState=null,un}function p1(un,hn,_n,Pn,Rn,Hn,mr){if(_n)return hn.flags&256?(hn.flags&=-257,Pn=P0(Error(sn(422))),Lp(un,hn,mr,Pn)):hn.memoizedState!==null?(hn.child=un.child,hn.flags|=128,null):(Hn=Pn.fallback,Rn=hn.mode,Pn=s1({mode:"visible",children:Pn.children},Rn,0,null),Hn=jm(Hn,Rn,mr,null),Hn.flags|=2,Pn.return=hn,Hn.return=hn,Pn.sibling=Hn,hn.child=Pn,(hn.mode&1)!==0&&Zo(hn,un.child,null,mr),hn.child.memoizedState=D0(mr),hn.memoizedState=M0,Hn);if((hn.mode&1)===0)return Lp(un,hn,mr,null);if(Vs(Rn))return Pn=Zs(Rn).digest,Hn=Error(sn(419)),Pn=P0(Hn,Pn,void 0),Lp(un,hn,mr,Pn);if(_n=(mr&un.childLanes)!==0,El||_n){if(Pn=To,Pn!==null){switch(mr&-mr){case 4:Rn=2;break;case 16:Rn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Rn=32;break;case 536870912:Rn=268435456;break;default:Rn=0}Rn=(Rn&(Pn.suspendedLanes|mr))!==0?0:Rn,Rn!==0&&Rn!==Hn.retryLane&&(Hn.retryLane=Rn,Ol(un,Rn),pu(Pn,un,Rn,-1))}return Uu(),Pn=P0(Error(sn(421))),Lp(un,hn,mr,Pn)}return Js(Rn)?(hn.flags|=128,hn.child=un.child,hn=yv.bind(null,un),fo(Rn,hn),null):(un=Hn.treeContext,Pr&&(Qo=zo(Rn),Bo=hn,ao=!0,Ql=null,ap=!1,un!==null&&(_o[Xo++]=yu,_o[Xo++]=Dl,_o[Xo++]=Xl,yu=un.id,Dl=un.overflow,Xl=hn)),hn=n0(hn,Pn.children),hn.flags|=4096,hn)}function e1(un,hn,_n){un.lanes|=hn;var Pn=un.alternate;Pn!==null&&(Pn.lanes|=hn),Uo(un.return,hn,_n)}function r0(un,hn,_n,Pn,Rn){var Hn=un.memoizedState;Hn===null?un.memoizedState={isBackwards:hn,rendering:null,renderingStartTime:0,last:Pn,tail:_n,tailMode:Rn}:(Hn.isBackwards=hn,Hn.rendering=null,Hn.renderingStartTime=0,Hn.last=Pn,Hn.tail=_n,Hn.tailMode=Rn)}function gn(un,hn,_n){var Pn=hn.pendingProps,Rn=Pn.revealOrder,Hn=Pn.tail;if(Pl(un,hn,Pn.children,_n),Pn=to.current,(Pn&2)!==0)Pn=Pn&1|2,hn.flags|=128;else{if(un!==null&&(un.flags&128)!==0)e:for(un=hn.child;un!==null;){if(un.tag===13)un.memoizedState!==null&&e1(un,_n,hn);else if(un.tag===19)e1(un,_n,hn);else if(un.child!==null){un.child.return=un,un=un.child;continue}if(un===hn)break e;for(;un.sibling===null;){if(un.return===null||un.return===hn)break e;un=un.return}un.sibling.return=un.return,un=un.sibling}Pn&=1}if(io(to,Pn),(hn.mode&1)===0)hn.memoizedState=null;else switch(Rn){case"forwards":for(_n=hn.child,Rn=null;_n!==null;)un=_n.alternate,un!==null&&Xu(un)===null&&(Rn=_n),_n=_n.sibling;_n=Rn,_n===null?(Rn=hn.child,hn.child=null):(Rn=_n.sibling,_n.sibling=null),r0(hn,!1,Rn,_n,Hn);break;case"backwards":for(_n=null,Rn=hn.child,hn.child=null;Rn!==null;){if(un=Rn.alternate,un!==null&&Xu(un)===null){hn.child=Rn;break}un=Rn.sibling,Rn.sibling=_n,_n=Rn,Rn=un}r0(hn,!0,_n,null,Hn);break;case"together":r0(hn,!1,null,null,void 0);break;default:hn.memoizedState=null}return hn.child}function An(un,hn){(hn.mode&1)===0&&un!==null&&(un.alternate=null,hn.alternate=null,hn.flags|=2)}function Ln(un,hn,_n){if(un!==null&&(hn.dependencies=un.dependencies),Rp|=hn.lanes,(_n&hn.childLanes)===0)return null;if(un!==null&&hn.child!==un.child)throw Error(sn(153));if(hn.child!==null){for(un=hn.child,_n=dm(un,un.pendingProps),hn.child=_n,_n.return=hn;un.sibling!==null;)un=un.sibling,_n=_n.sibling=dm(un,un.pendingProps),_n.return=hn;_n.sibling=null}return hn.child}function Bn(un,hn,_n){switch(hn.tag){case 3:Q0(hn),wr();break;case 5:cu(hn);break;case 1:Ko(hn.type)&&tp(hn);break;case 4:Tp(hn,hn.stateNode.containerInfo);break;case 10:go(hn,hn.type._context,hn.memoizedProps.value);break;case 13:var Pn=hn.memoizedState;if(Pn!==null)return Pn.dehydrated!==null?(io(to,to.current&1),hn.flags|=128,null):(_n&hn.child.childLanes)!==0?Z0(un,hn,_n):(io(to,to.current&1),un=Ln(un,hn,_n),un!==null?un.sibling:null);io(to,to.current&1);break;case 19:if(Pn=(_n&hn.childLanes)!==0,(un.flags&128)!==0){if(Pn)return gn(un,hn,_n);hn.flags|=128}var Rn=hn.memoizedState;if(Rn!==null&&(Rn.rendering=null,Rn.tail=null,Rn.lastEffect=null),io(to,to.current),Pn)break;return null;case 22:case 23:return hn.lanes=0,t0(un,hn,_n)}return Ln(un,hn,_n)}function Kn(un){un.flags|=4}function rr(un,hn){if(un!==null&&un.child===hn.child)return!0;if((hn.flags&16)!==0)return!1;for(un=hn.child;un!==null;){if((un.flags&12854)!==0||(un.subtreeFlags&12854)!==0)return!1;un=un.sibling}return!0}var ir,or,cr,Sr;if(kr)ir=function(un,hn){for(var _n=hn.child;_n!==null;){if(_n.tag===5||_n.tag===6)Mn(un,_n.stateNode);else if(_n.tag!==4&&_n.child!==null){_n.child.return=_n,_n=_n.child;continue}if(_n===hn)break;for(;_n.sibling===null;){if(_n.return===null||_n.return===hn)return;_n=_n.return}_n.sibling.return=_n.return,_n=_n.sibling}},or=function(){},cr=function(un,hn,_n,Pn,Rn){if(un=un.memoizedProps,un!==Pn){var Hn=hn.stateNode,mr=Al(Fo.current);_n=Nn(Hn,_n,un,Pn,Rn,mr),(hn.updateQueue=_n)&&Kn(hn)}},Sr=function(un,hn,_n,Pn){_n!==Pn&&Kn(hn)};else if(Er){ir=function(un,hn,_n,Pn){for(var Rn=hn.child;Rn!==null;){if(Rn.tag===5){var Hn=Rn.stateNode;_n&&Pn&&(Hn=zs(Hn,Rn.type,Rn.memoizedProps,Rn)),Mn(un,Hn)}else if(Rn.tag===6)Hn=Rn.stateNode,_n&&Pn&&(Hn=Fs(Hn,Rn.memoizedProps,Rn)),Mn(un,Hn);else if(Rn.tag!==4){if(Rn.tag===22&&Rn.memoizedState!==null)Hn=Rn.child,Hn!==null&&(Hn.return=Rn),ir(un,Rn,!0,!0);else if(Rn.child!==null){Rn.child.return=Rn,Rn=Rn.child;continue}}if(Rn===hn)break;for(;Rn.sibling===null;){if(Rn.return===null||Rn.return===hn)return;Rn=Rn.return}Rn.sibling.return=Rn.return,Rn=Rn.sibling}};var Fr=function(un,hn,_n,Pn){for(var Rn=hn.child;Rn!==null;){if(Rn.tag===5){var Hn=Rn.stateNode;_n&&Pn&&(Hn=zs(Hn,Rn.type,Rn.memoizedProps,Rn)),vs(un,Hn)}else if(Rn.tag===6)Hn=Rn.stateNode,_n&&Pn&&(Hn=Fs(Hn,Rn.memoizedProps,Rn)),vs(un,Hn);else if(Rn.tag!==4){if(Rn.tag===22&&Rn.memoizedState!==null)Hn=Rn.child,Hn!==null&&(Hn.return=Rn),Fr(un,Rn,!0,!0);else if(Rn.child!==null){Rn.child.return=Rn,Rn=Rn.child;continue}}if(Rn===hn)break;for(;Rn.sibling===null;){if(Rn.return===null||Rn.return===hn)return;Rn=Rn.return}Rn.sibling.return=Rn.return,Rn=Rn.sibling}};or=function(un,hn){var _n=hn.stateNode;if(!rr(un,hn)){un=_n.containerInfo;var Pn=as(un);Fr(Pn,hn,!1,!1),_n.pendingChildren=Pn,Kn(hn),Os(un,Pn)}},cr=function(un,hn,_n,Pn,Rn){var Hn=un.stateNode,mr=un.memoizedProps;if((un=rr(un,hn))&&mr===Pn)hn.stateNode=Hn;else{var jr=hn.stateNode,Kr=Al(Fo.current),us=null;mr!==Pn&&(us=Nn(jr,_n,mr,Pn,Rn,Kr)),un&&us===null?hn.stateNode=Hn:(Hn=ls(Hn,us,_n,mr,Pn,hn,un,jr),Fn(Hn,_n,Pn,Rn,Kr)&&Kn(hn),hn.stateNode=Hn,un?Kn(hn):ir(Hn,hn,!1,!1))}},Sr=function(un,hn,_n,Pn){_n!==Pn?(un=Al(yl.current),_n=Al(Fo.current),hn.stateNode=qn(Pn,un,_n,hn),Kn(hn)):hn.stateNode=un.stateNode}}else or=function(){},cr=function(){},Sr=function(){};function Gr(un,hn){if(!ao)switch(un.tailMode){case"hidden":hn=un.tail;for(var _n=null;hn!==null;)hn.alternate!==null&&(_n=hn),hn=hn.sibling;_n===null?un.tail=null:_n.sibling=null;break;case"collapsed":_n=un.tail;for(var Pn=null;_n!==null;)_n.alternate!==null&&(Pn=_n),_n=_n.sibling;Pn===null?hn||un.tail===null?un.tail=null:un.tail.sibling=null:Pn.sibling=null}}function Br(un){var hn=un.alternate!==null&&un.alternate.child===un.child,_n=0,Pn=0;if(hn)for(var Rn=un.child;Rn!==null;)_n|=Rn.lanes|Rn.childLanes,Pn|=Rn.subtreeFlags&14680064,Pn|=Rn.flags&14680064,Rn.return=un,Rn=Rn.sibling;else for(Rn=un.child;Rn!==null;)_n|=Rn.lanes|Rn.childLanes,Pn|=Rn.subtreeFlags,Pn|=Rn.flags,Rn.return=un,Rn=Rn.sibling;return un.subtreeFlags|=Pn,un.childLanes=_n,hn}function Or(un,hn,_n){var Pn=hn.pendingProps;switch(Yp(hn),hn.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(hn),null;case 1:return Ko(hn.type)&&Fl(),Br(hn),null;case 3:return _n=hn.stateNode,tu(),na(Ho),na(Oo),Mu(),_n.pendingContext&&(_n.context=_n.pendingContext,_n.pendingContext=null),(un===null||un.child===null)&&(Tn(hn)?Kn(hn):un===null||un.memoizedState.isDehydrated&&(hn.flags&256)===0||(hn.flags|=1024,Ql!==null&&(c0(Ql),Ql=null))),or(un,hn),Br(hn),null;case 5:_u(hn),_n=Al(yl.current);var Rn=hn.type;if(un!==null&&hn.stateNode!=null)cr(un,hn,Rn,Pn,_n),un.ref!==hn.ref&&(hn.flags|=512,hn.flags|=2097152);else{if(!Pn){if(hn.stateNode===null)throw Error(sn(166));return Br(hn),null}if(un=Al(Fo.current),Tn(hn)){if(!Pr)throw Error(sn(175));un=Rl(hn.stateNode,hn.type,hn.memoizedProps,_n,un,hn,!ap),hn.updateQueue=un,un!==null&&Kn(hn)}else{var Hn=Mr(Rn,Pn,_n,un,hn);ir(Hn,hn,!1,!1),hn.stateNode=Hn,Fn(Hn,Rn,Pn,_n,un)&&Kn(hn)}hn.ref!==null&&(hn.flags|=512,hn.flags|=2097152)}return Br(hn),null;case 6:if(un&&hn.stateNode!=null)Sr(un,hn,un.memoizedProps,Pn);else{if(typeof Pn!="string"&&hn.stateNode===null)throw Error(sn(166));if(un=Al(yl.current),_n=Al(Fo.current),Tn(hn)){if(!Pr)throw Error(sn(176));if(un=hn.stateNode,_n=hn.memoizedProps,(Pn=Eu(un,_n,hn,!ap))&&(Rn=Bo,Rn!==null))switch(Rn.tag){case 3:Bm(Rn.stateNode.containerInfo,un,_n,(Rn.mode&1)!==0);break;case 5:p0(Rn.type,Rn.memoizedProps,Rn.stateNode,un,_n,(Rn.mode&1)!==0)}Pn&&Kn(hn)}else hn.stateNode=qn(Pn,un,_n,hn)}return Br(hn),null;case 13:if(na(to),Pn=hn.memoizedState,un===null||un.memoizedState!==null&&un.memoizedState.dehydrated!==null){if(ao&&Qo!==null&&(hn.mode&1)!==0&&(hn.flags&128)===0)Qn(),wr(),hn.flags|=98560,Rn=!1;else if(Rn=Tn(hn),Pn!==null&&Pn.dehydrated!==null){if(un===null){if(!Rn)throw Error(sn(318));if(!Pr)throw Error(sn(344));if(Rn=hn.memoizedState,Rn=Rn!==null?Rn.dehydrated:null,!Rn)throw Error(sn(317));ou(Rn,hn)}else wr(),(hn.flags&128)===0&&(hn.memoizedState=null),hn.flags|=4;Br(hn),Rn=!1}else Ql!==null&&(c0(Ql),Ql=null),Rn=!0;if(!Rn)return hn.flags&65536?hn:null}return(hn.flags&128)!==0?(hn.lanes=_n,hn):(_n=Pn!==null,_n!==(un!==null&&un.memoizedState!==null)&&_n&&(hn.child.flags|=8192,(hn.mode&1)!==0&&(un===null||(to.current&1)!==0?yo===0&&(yo=3):Uu())),hn.updateQueue!==null&&(hn.flags|=4),Br(hn),null);case 4:return tu(),or(un,hn),un===null&&Gn(hn.stateNode.containerInfo),Br(hn),null;case 10:return wo(hn.type._context),Br(hn),null;case 17:return Ko(hn.type)&&Fl(),Br(hn),null;case 19:if(na(to),Rn=hn.memoizedState,Rn===null)return Br(hn),null;if(Pn=(hn.flags&128)!==0,Hn=Rn.rendering,Hn===null)if(Pn)Gr(Rn,!1);else{if(yo!==0||un!==null&&(un.flags&128)!==0)for(un=hn.child;un!==null;){if(Hn=Xu(un),Hn!==null){for(hn.flags|=128,Gr(Rn,!1),un=Hn.updateQueue,un!==null&&(hn.updateQueue=un,hn.flags|=4),hn.subtreeFlags=0,un=_n,_n=hn.child;_n!==null;)Pn=_n,Rn=un,Pn.flags&=14680066,Hn=Pn.alternate,Hn===null?(Pn.childLanes=0,Pn.lanes=Rn,Pn.child=null,Pn.subtreeFlags=0,Pn.memoizedProps=null,Pn.memoizedState=null,Pn.updateQueue=null,Pn.dependencies=null,Pn.stateNode=null):(Pn.childLanes=Hn.childLanes,Pn.lanes=Hn.lanes,Pn.child=Hn.child,Pn.subtreeFlags=0,Pn.deletions=null,Pn.memoizedProps=Hn.memoizedProps,Pn.memoizedState=Hn.memoizedState,Pn.updateQueue=Hn.updateQueue,Pn.type=Hn.type,Rn=Hn.dependencies,Pn.dependencies=Rn===null?null:{lanes:Rn.lanes,firstContext:Rn.firstContext}),_n=_n.sibling;return io(to,to.current&1|2),hn.child}un=un.sibling}Rn.tail!==null&&po()>o0&&(hn.flags|=128,Pn=!0,Gr(Rn,!1),hn.lanes=4194304)}else{if(!Pn)if(un=Xu(Hn),un!==null){if(hn.flags|=128,Pn=!0,un=un.updateQueue,un!==null&&(hn.updateQueue=un,hn.flags|=4),Gr(Rn,!0),Rn.tail===null&&Rn.tailMode==="hidden"&&!Hn.alternate&&!ao)return Br(hn),null}else 2*po()-Rn.renderingStartTime>o0&&_n!==1073741824&&(hn.flags|=128,Pn=!0,Gr(Rn,!1),hn.lanes=4194304);Rn.isBackwards?(Hn.sibling=hn.child,hn.child=Hn):(un=Rn.last,un!==null?un.sibling=Hn:hn.child=Hn,Rn.last=Hn)}return Rn.tail!==null?(hn=Rn.tail,Rn.rendering=hn,Rn.tail=hn.sibling,Rn.renderingStartTime=po(),hn.sibling=null,un=to.current,io(to,Pn?un&1|2:un&1),hn):(Br(hn),null);case 22:case 23:return Om(),_n=hn.memoizedState!==null,un!==null&&un.memoizedState!==null!==_n&&(hn.flags|=8192),_n&&(hn.mode&1)!==0?(Ll&1073741824)!==0&&(Br(hn),kr&&hn.subtreeFlags&6&&(hn.flags|=8192)):Br(hn),null;case 24:return null;case 25:return null}throw Error(sn(156,hn.tag))}function ts(un,hn){switch(Yp(hn),hn.tag){case 1:return Ko(hn.type)&&Fl(),un=hn.flags,un&65536?(hn.flags=un&-65537|128,hn):null;case 3:return tu(),na(Ho),na(Oo),Mu(),un=hn.flags,(un&65536)!==0&&(un&128)===0?(hn.flags=un&-65537|128,hn):null;case 5:return _u(hn),null;case 13:if(na(to),un=hn.memoizedState,un!==null&&un.dehydrated!==null){if(hn.alternate===null)throw Error(sn(340));wr()}return un=hn.flags,un&65536?(hn.flags=un&-65537|128,hn):null;case 19:return na(to),null;case 4:return tu(),null;case 10:return wo(hn.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var Yr=!1,Lr=!1,Dr=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function rs(un,hn){var _n=un.ref;if(_n!==null)if(typeof _n=="function")try{_n(null)}catch(Pn){Eo(un,hn,Pn)}else _n.current=null}function es(un,hn,_n){try{_n()}catch(Pn){Eo(un,hn,Pn)}}var Ss=!1;function ds(un,hn){for(hr(un.containerInfo),Ir=hn;Ir!==null;)if(un=Ir,hn=un.child,(un.subtreeFlags&1028)!==0&&hn!==null)hn.return=un,Ir=hn;else for(;Ir!==null;){un=Ir;try{var _n=un.alternate;if((un.flags&1024)!==0)switch(un.tag){case 0:case 11:case 15:break;case 1:if(_n!==null){var Pn=_n.memoizedProps,Rn=_n.memoizedState,Hn=un.stateNode,mr=Hn.getSnapshotBeforeUpdate(un.elementType===un.type?Pn:hs(un.type,Pn),Rn);Hn.__reactInternalSnapshotBeforeUpdate=mr}break;case 3:kr&&xs(un.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(sn(163))}}catch(jr){Eo(un,un.return,jr)}if(hn=un.sibling,hn!==null){hn.return=un.return,Ir=hn;break}Ir=un.return}return _n=Ss,Ss=!1,_n}function Ts(un,hn,_n){var Pn=hn.updateQueue;if(Pn=Pn!==null?Pn.lastEffect:null,Pn!==null){var Rn=Pn=Pn.next;do{if((Rn.tag&un)===un){var Hn=Rn.destroy;Rn.destroy=void 0,Hn!==void 0&&es(hn,_n,Hn)}Rn=Rn.next}while(Rn!==Pn)}}function fs(un,hn){if(hn=hn.updateQueue,hn=hn!==null?hn.lastEffect:null,hn!==null){var _n=hn=hn.next;do{if((_n.tag&un)===un){var Pn=_n.create;_n.destroy=Pn()}_n=_n.next}while(_n!==hn)}}function Qs(un){var hn=un.ref;if(hn!==null){var _n=un.stateNode;switch(un.tag){case 5:un=tr(_n);break;default:un=_n}typeof hn=="function"?hn(un):hn.current=un}}function ga(un){var hn=un.alternate;hn!==null&&(un.alternate=null,ga(hn)),un.child=null,un.deletions=null,un.sibling=null,un.tag===5&&(hn=un.stateNode,hn!==null&&fr(hn)),un.stateNode=null,un.return=null,un.dependencies=null,un.memoizedProps=null,un.memoizedState=null,un.pendingProps=null,un.stateNode=null,un.updateQueue=null}function Xs(un){return un.tag===5||un.tag===3||un.tag===4}function Ks(un){e:for(;;){for(;un.sibling===null;){if(un.return===null||Xs(un.return))return null;un=un.return}for(un.sibling.return=un.return,un=un.sibling;un.tag!==5&&un.tag!==6&&un.tag!==18;){if(un.flags&2||un.child===null||un.tag===4)continue e;un.child.return=un,un=un.child}if(!(un.flags&2))return un.stateNode}}function no(un,hn,_n){var Pn=un.tag;if(Pn===5||Pn===6)un=un.stateNode,hn?ys(_n,un,hn):Hr(_n,un);else if(Pn!==4&&(un=un.child,un!==null))for(no(un,hn,_n),un=un.sibling;un!==null;)no(un,hn,_n),un=un.sibling}function ba(un,hn,_n){var Pn=un.tag;if(Pn===5||Pn===6)un=un.stateNode,hn?ms(_n,un,hn):Ar(_n,un);else if(Pn!==4&&(un=un.child,un!==null))for(ba(un,hn,_n),un=un.sibling;un!==null;)ba(un,hn,_n),un=un.sibling}var Es=null,xa=!1;function vo(un,hn,_n){for(_n=_n.child;_n!==null;)Ao(un,hn,_n),_n=_n.sibling}function Ao(un,hn,_n){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(ip,_n)}catch{}switch(_n.tag){case 5:Lr||rs(_n,hn);case 6:if(kr){var Pn=Es,Rn=xa;Es=null,vo(un,hn,_n),Es=Pn,xa=Rn,Es!==null&&(xa?Rs(Es,_n.stateNode):ks(Es,_n.stateNode))}else vo(un,hn,_n);break;case 18:kr&&Es!==null&&(xa?Bp(Es,_n.stateNode):jp(Es,_n.stateNode));break;case 4:kr?(Pn=Es,Rn=xa,Es=_n.stateNode.containerInfo,xa=!0,vo(un,hn,_n),Es=Pn,xa=Rn):(Er&&(Pn=_n.stateNode.containerInfo,Rn=as(Pn),Ls(Pn,Rn)),vo(un,hn,_n));break;case 0:case 11:case 14:case 15:if(!Lr&&(Pn=_n.updateQueue,Pn!==null&&(Pn=Pn.lastEffect,Pn!==null))){Rn=Pn=Pn.next;do{var Hn=Rn,mr=Hn.destroy;Hn=Hn.tag,mr!==void 0&&((Hn&2)!==0||(Hn&4)!==0)&&es(_n,hn,mr),Rn=Rn.next}while(Rn!==Pn)}vo(un,hn,_n);break;case 1:if(!Lr&&(rs(_n,hn),Pn=_n.stateNode,typeof Pn.componentWillUnmount=="function"))try{Pn.props=_n.memoizedProps,Pn.state=_n.memoizedState,Pn.componentWillUnmount()}catch(jr){Eo(_n,hn,jr)}vo(un,hn,_n);break;case 21:vo(un,hn,_n);break;case 22:_n.mode&1?(Lr=(Pn=Lr)||_n.memoizedState!==null,vo(un,hn,_n),Lr=Pn):vo(un,hn,_n);break;default:vo(un,hn,_n)}}function Tl(un){var hn=un.updateQueue;if(hn!==null){un.updateQueue=null;var _n=un.stateNode;_n===null&&(_n=un.stateNode=new Dr),hn.forEach(function(Pn){var Rn=Sv.bind(null,un,Pn);_n.has(Pn)||(_n.add(Pn),Pn.then(Rn,Rn))})}}function Hs(un,hn){var _n=hn.deletions;if(_n!==null)for(var Pn=0;Pn<_n.length;Pn++){var Rn=_n[Pn];try{var Hn=un,mr=hn;if(kr){var jr=mr;e:for(;jr!==null;){switch(jr.tag){case 5:Es=jr.stateNode,xa=!1;break e;case 3:Es=jr.stateNode.containerInfo,xa=!0;break e;case 4:Es=jr.stateNode.containerInfo,xa=!0;break e}jr=jr.return}if(Es===null)throw Error(sn(160));Ao(Hn,mr,Rn),Es=null,xa=!1}else Ao(Hn,mr,Rn);var Kr=Rn.alternate;Kr!==null&&(Kr.return=null),Rn.return=null}catch(us){Eo(Rn,hn,us)}}if(hn.subtreeFlags&12854)for(hn=hn.child;hn!==null;)Vl(hn,un),hn=hn.sibling}function Vl(un,hn){var _n=un.alternate,Pn=un.flags;switch(un.tag){case 0:case 11:case 14:case 15:if(Hs(hn,un),Co(un),Pn&4){try{Ts(3,un,un.return),fs(3,un)}catch(_s){Eo(un,un.return,_s)}try{Ts(5,un,un.return)}catch(_s){Eo(un,un.return,_s)}}break;case 1:Hs(hn,un),Co(un),Pn&512&&_n!==null&&rs(_n,_n.return);break;case 5:if(Hs(hn,un),Co(un),Pn&512&&_n!==null&&rs(_n,_n.return),kr){if(un.flags&32){var Rn=un.stateNode;try{_r(Rn)}catch(_s){Eo(un,un.return,_s)}}if(Pn&4&&(Rn=un.stateNode,Rn!=null)){var Hn=un.memoizedProps;if(_n=_n!==null?_n.memoizedProps:Hn,Pn=un.type,hn=un.updateQueue,un.updateQueue=null,hn!==null)try{Cs(Rn,hn,Pn,_n,Hn,un)}catch(_s){Eo(un,un.return,_s)}}}break;case 6:if(Hs(hn,un),Co(un),Pn&4&&kr){if(un.stateNode===null)throw Error(sn(162));Rn=un.stateNode,Hn=un.memoizedProps,_n=_n!==null?_n.memoizedProps:Hn;try{ns(Rn,_n,Hn)}catch(_s){Eo(un,un.return,_s)}}break;case 3:if(Hs(hn,un),Co(un),Pn&4){if(kr&&Pr&&_n!==null&&_n.memoizedState.isDehydrated)try{mp(hn.containerInfo)}catch(_s){Eo(un,un.return,_s)}if(Er){Rn=hn.containerInfo,Hn=hn.pendingChildren;try{Ls(Rn,Hn)}catch(_s){Eo(un,un.return,_s)}}}break;case 4:if(Hs(hn,un),Co(un),Pn&4&&Er){Hn=un.stateNode,Rn=Hn.containerInfo,Hn=Hn.pendingChildren;try{Ls(Rn,Hn)}catch(_s){Eo(un,un.return,_s)}}break;case 13:Hs(hn,un),Co(un),Rn=un.child,Rn.flags&8192&&(Hn=Rn.memoizedState!==null,Rn.stateNode.isHidden=Hn,!Hn||Rn.alternate!==null&&Rn.alternate.memoizedState!==null||(O0=po())),Pn&4&&Tl(un);break;case 22:var mr=_n!==null&&_n.memoizedState!==null;if(un.mode&1?(Lr=(_n=Lr)||mr,Hs(hn,un),Lr=_n):Hs(hn,un),Co(un),Pn&8192){if(_n=un.memoizedState!==null,(un.stateNode.isHidden=_n)&&!mr&&(un.mode&1)!==0)for(Ir=un,Pn=un.child;Pn!==null;){for(hn=Ir=Pn;Ir!==null;){mr=Ir;var jr=mr.child;switch(mr.tag){case 0:case 11:case 14:case 15:Ts(4,mr,mr.return);break;case 1:rs(mr,mr.return);var Kr=mr.stateNode;if(typeof Kr.componentWillUnmount=="function"){var us=mr,As=mr.return;try{var Us=us;Kr.props=Us.memoizedProps,Kr.state=Us.memoizedState,Kr.componentWillUnmount()}catch(_s){Eo(us,As,_s)}}break;case 5:rs(mr,mr.return);break;case 22:if(mr.memoizedState!==null){au(hn);continue}}jr!==null?(jr.return=mr,Ir=jr):au(hn)}Pn=Pn.sibling}if(kr){e:if(Pn=null,kr)for(hn=un;;){if(hn.tag===5){if(Pn===null){Pn=hn;try{Rn=hn.stateNode,_n?gr(Rn):_i(hn.stateNode,hn.memoizedProps)}catch(_s){Eo(un,un.return,_s)}}}else if(hn.tag===6){if(Pn===null)try{Hn=hn.stateNode,_n?Cr(Hn):cs(Hn,hn.memoizedProps)}catch(_s){Eo(un,un.return,_s)}}else if((hn.tag!==22&&hn.tag!==23||hn.memoizedState===null||hn===un)&&hn.child!==null){hn.child.return=hn,hn=hn.child;continue}if(hn===un)break e;for(;hn.sibling===null;){if(hn.return===null||hn.return===un)break e;Pn===hn&&(Pn=null),hn=hn.return}Pn===hn&&(Pn=null),hn.sibling.return=hn.return,hn=hn.sibling}}}break;case 19:Hs(hn,un),Co(un),Pn&4&&Tl(un);break;case 21:break;default:Hs(hn,un),Co(un)}}function Co(un){var hn=un.flags;if(hn&2){try{if(kr){e:{for(var _n=un.return;_n!==null;){if(Xs(_n)){var Pn=_n;break e}_n=_n.return}throw Error(sn(160))}switch(Pn.tag){case 5:var Rn=Pn.stateNode;Pn.flags&32&&(_r(Rn),Pn.flags&=-33);var Hn=Ks(un);ba(un,Hn,Rn);break;case 3:case 4:var mr=Pn.stateNode.containerInfo,jr=Ks(un);no(un,jr,mr);break;default:throw Error(sn(161))}}}catch(Kr){Eo(un,un.return,Kr)}un.flags&=-3}hn&4096&&(un.flags&=-4097)}function $o(un,hn,_n){Ir=un,Vo(un)}function Vo(un,hn,_n){for(var Pn=(un.mode&1)!==0;Ir!==null;){var Rn=Ir,Hn=Rn.child;if(Rn.tag===22&&Pn){var mr=Rn.memoizedState!==null||Yr;if(!mr){var jr=Rn.alternate,Kr=jr!==null&&jr.memoizedState!==null||Lr;jr=Yr;var us=Lr;if(Yr=mr,(Lr=Kr)&&!us)for(Ir=Rn;Ir!==null;)mr=Ir,Kr=mr.child,mr.tag===22&&mr.memoizedState!==null?xu(Rn):Kr!==null?(Kr.return=mr,Ir=Kr):xu(Rn);for(;Hn!==null;)Ir=Hn,Vo(Hn),Hn=Hn.sibling;Ir=Rn,Yr=jr,Lr=us}Sl(un)}else(Rn.subtreeFlags&8772)!==0&&Hn!==null?(Hn.return=Rn,Ir=Hn):Sl(un)}}function Sl(un){for(;Ir!==null;){var hn=Ir;if((hn.flags&8772)!==0){var _n=hn.alternate;try{if((hn.flags&8772)!==0)switch(hn.tag){case 0:case 11:case 15:Lr||fs(5,hn);break;case 1:var Pn=hn.stateNode;if(hn.flags&4&&!Lr)if(_n===null)Pn.componentDidMount();else{var Rn=hn.elementType===hn.type?_n.memoizedProps:hs(hn.type,_n.memoizedProps);Pn.componentDidUpdate(Rn,_n.memoizedState,Pn.__reactInternalSnapshotBeforeUpdate)}var Hn=hn.updateQueue;Hn!==null&&Cp(hn,Hn,Pn);break;case 3:var mr=hn.updateQueue;if(mr!==null){if(_n=null,hn.child!==null)switch(hn.child.tag){case 5:_n=tr(hn.child.stateNode);break;case 1:_n=hn.child.stateNode}Cp(hn,mr,_n)}break;case 5:var jr=hn.stateNode;_n===null&&hn.flags&4&&Xr(jr,hn.type,hn.memoizedProps,hn);break;case 6:break;case 4:break;case 12:break;case 13:if(Pr&&hn.memoizedState===null){var Kr=hn.alternate;if(Kr!==null){var us=Kr.memoizedState;if(us!==null){var As=us.dehydrated;As!==null&&Ip(As)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(sn(163))}Lr||hn.flags&512&&Qs(hn)}catch(Us){Eo(hn,hn.return,Us)}}if(hn===un){Ir=null;break}if(_n=hn.sibling,_n!==null){_n.return=hn.return,Ir=_n;break}Ir=hn.return}}function au(un){for(;Ir!==null;){var hn=Ir;if(hn===un){Ir=null;break}var _n=hn.sibling;if(_n!==null){_n.return=hn.return,Ir=_n;break}Ir=hn.return}}function xu(un){for(;Ir!==null;){var hn=Ir;try{switch(hn.tag){case 0:case 11:case 15:var _n=hn.return;try{fs(4,hn)}catch(Kr){Eo(hn,_n,Kr)}break;case 1:var Pn=hn.stateNode;if(typeof Pn.componentDidMount=="function"){var Rn=hn.return;try{Pn.componentDidMount()}catch(Kr){Eo(hn,Rn,Kr)}}var Hn=hn.return;try{Qs(hn)}catch(Kr){Eo(hn,Hn,Kr)}break;case 5:var mr=hn.return;try{Qs(hn)}catch(Kr){Eo(hn,mr,Kr)}}}catch(Kr){Eo(hn,hn.return,Kr)}if(hn===un){Ir=null;break}var jr=hn.sibling;if(jr!==null){jr.return=hn.return,Ir=jr;break}Ir=hn.return}}var Po=0,du=1,Du=2,Ju=3,Au=4;if(typeof Symbol=="function"&&Symbol.for){var lo=Symbol.for;Po=lo("selector.component"),du=lo("selector.has_pseudo_class"),Du=lo("selector.role"),Ju=lo("selector.test_id"),Au=lo("selector.text")}function Nm(un){var hn=$n(un);if(hn!=null){if(typeof hn.memoizedProps["data-testname"]!="string")throw Error(sn(364));return hn}if(un=Tr(un),un===null)throw Error(sn(362));return un.stateNode.current}function i0(un,hn){switch(hn.$$typeof){case Po:if(un.type===hn.value)return!0;break;case du:e:{hn=hn.value,un=[un,0];for(var _n=0;_n<un.length;){var Pn=un[_n++],Rn=un[_n++],Hn=hn[Rn];if(Pn.tag!==5||!lr(Pn)){for(;Hn!=null&&i0(Pn,Hn);)Rn++,Hn=hn[Rn];if(Rn===hn.length){hn=!0;break e}else for(Pn=Pn.child;Pn!==null;)un.push(Pn,Rn),Pn=Pn.sibling}}hn=!1}return hn;case Du:if(un.tag===5&&Rr(un.stateNode,hn.value))return!0;break;case Au:if((un.tag===5||un.tag===6)&&(un=Ur(un),un!==null&&0<=un.indexOf(hn.value)))return!0;break;case Ju:if(un.tag===5&&(un=un.memoizedProps["data-testname"],typeof un=="string"&&un.toLowerCase()===hn.value.toLowerCase()))return!0;break;default:throw Error(sn(365))}return!1}function s0(un){switch(un.$$typeof){case Po:return"<"+(In(un.value)||"Unknown")+">";case du:return":has("+(s0(un)||"")+")";case Du:return'[role="'+un.value+'"]';case Au:return'"'+un.value+'"';case Ju:return'[data-testname="'+un.value+'"]';default:throw Error(sn(365))}}function Rm(un,hn){var _n=[];un=[un,0];for(var Pn=0;Pn<un.length;){var Rn=un[Pn++],Hn=un[Pn++],mr=hn[Hn];if(Rn.tag!==5||!lr(Rn)){for(;mr!=null&&i0(Rn,mr);)Hn++,mr=hn[Hn];if(Hn===hn.length)_n.push(Rn);else for(Rn=Rn.child;Rn!==null;)un.push(Rn,Hn),Rn=Rn.sibling}}return _n}function Np(un,hn){if(!pr)throw Error(sn(363));un=Nm(un),un=Rm(un,hn),hn=[],un=Array.from(un);for(var _n=0;_n<un.length;){var Pn=un[_n++];if(Pn.tag===5)lr(Pn)||hn.push(Pn.stateNode);else for(Pn=Pn.child;Pn!==null;)un.push(Pn),Pn=Pn.sibling}return hn}var a0=Math.ceil,zl=an.ReactCurrentDispatcher,dp=an.ReactCurrentOwner,uo=an.ReactCurrentBatchConfig,Gs=0,To=null,ko=null,Mo=0,Ll=0,Zu=ku(0),yo=0,Fm=null,Rp=0,lm=0,Ou=0,Mm=null,Hl=null,O0=0,o0=1/0,fu=null;function Fp(){o0=po()+500}var Dm=!1,um=null,Iu=null,fp=!1,_c=null,l0=0,pp=0,u0=null,cm=-1,Cu=0;function Wo(){return(Gs&6)!==0?po():cm!==-1?cm:cm=po()}function _h(un){return(un.mode&1)===0?1:(Gs&2)!==0&&Mo!==0?Mo&-Mo:Vr.transition!==null?(Cu===0&&(Cu=Sp()),Cu):(un=gs,un!==0?un:jn())}function pu(un,hn,_n,Pn){if(50<pp)throw pp=0,u0=null,Error(sn(185));Ro(un,_n,Pn),((Gs&2)===0||un!==To)&&(un===To&&((Gs&2)===0&&(lm|=_n),yo===4&&_d(un,Mo)),Nl(un,Pn),_n===1&&Gs===0&&(hn.mode&1)===0&&(Fp(),Gu&&Kl()))}function Nl(un,hn){var _n=un.callbackNode;Hu(un,hn);var Pn=zp(un,un===To?Mo:0);if(Pn===0)_n!==null&&mu(_n),un.callbackNode=null,un.callbackPriority=0;else if(hn=Pn&-Pn,un.callbackPriority!==hn){if(_n!=null&&mu(_n),hn===1)un.tag===0?Gm(t1.bind(null,un)):wm(t1.bind(null,un)),Xn?Zn(function(){(Gs&6)===0&&Kl()}):Sm(_p,Kl),_n=null;else{switch(Vm(Pn)){case 1:_n=_p;break;case 4:_n=y0;break;case 16:_n=_m;break;case 536870912:_n=S0;break;default:_n=_m}_n=V1(_n,Mp.bind(null,un))}un.callbackPriority=hn,un.callbackNode=_n}}function Mp(un,hn){if(cm=-1,Cu=0,(Gs&6)!==0)throw Error(sn(327));var _n=un.callbackNode;if(Im()&&un.callbackNode!==_n)return null;var Pn=zp(un,un===To?Mo:0);if(Pn===0)return null;if((Pn&30)!==0||(Pn&un.expiredLanes)!==0||hn)hn=Dp(un,Pn);else{hn=Pn;var Rn=Gs;Gs|=2;var Hn=_f();(To!==un||Mo!==hn)&&(fu=null,Fp(),ju(un,hn));do try{n1();break}catch(jr){Bu(un,jr)}while(1);co(),zl.current=Hn,Gs=Rn,ko!==null?hn=0:(To=null,Mo=0,hn=yo)}if(hn!==0){if(hn===2&&(Rn=rp(un),Rn!==0&&(Pn=Rn,hn=I0(un,Rn))),hn===1)throw _n=Fm,ju(un,0),_d(un,Pn),Nl(un,po()),_n;if(hn===6)_d(un,Pn);else{if(Rn=un.current.alternate,(Pn&30)===0&&!g1(Rn)&&(hn=Dp(un,Pn),hn===2&&(Hn=rp(un),Hn!==0&&(Pn=Hn,hn=I0(un,Hn))),hn===1))throw _n=Fm,ju(un,0),_d(un,Pn),Nl(un,po()),_n;switch(un.finishedWork=Rn,un.finishedLanes=Pn,hn){case 0:case 1:throw Error(sn(345));case 2:ep(un,Hl,fu);break;case 3:if(_d(un,Pn),(Pn&130023424)===Pn&&(hn=O0+500-po(),10<hn)){if(zp(un,0)!==0)break;if(Rn=un.suspendedLanes,(Rn&Pn)!==Pn){Wo(),un.pingedLanes|=un.suspendedLanes&Rn;break}un.timeoutHandle=er(ep.bind(null,un,Hl,fu),hn);break}ep(un,Hl,fu);break;case 4:if(_d(un,Pn),(Pn&4194240)===Pn)break;for(hn=un.eventTimes,Rn=-1;0<Pn;){var mr=31-Gl(Pn);Hn=1<<mr,mr=hn[mr],mr>Rn&&(Rn=mr),Pn&=~Hn}if(Pn=Rn,Pn=po()-Pn,Pn=(120>Pn?120:480>Pn?480:1080>Pn?1080:1920>Pn?1920:3e3>Pn?3e3:4320>Pn?4320:1960*a0(Pn/1960))-Pn,10<Pn){un.timeoutHandle=er(ep.bind(null,un,Hl,fu),Pn);break}ep(un,Hl,fu);break;case 5:ep(un,Hl,fu);break;default:throw Error(sn(329))}}}return Nl(un,po()),un.callbackNode===_n?Mp.bind(null,un):null}function I0(un,hn){var _n=Mm;return un.current.memoizedState.isDehydrated&&(ju(un,hn).flags|=256),un=Dp(un,hn),un!==2&&(hn=Hl,Hl=_n,hn!==null&&c0(hn)),un}function c0(un){Hl===null?Hl=un:Hl.push.apply(Hl,un)}function g1(un){for(var hn=un;;){if(hn.flags&16384){var _n=hn.updateQueue;if(_n!==null&&(_n=_n.stores,_n!==null))for(var Pn=0;Pn<_n.length;Pn++){var Rn=_n[Pn],Hn=Rn.getSnapshot;Rn=Rn.value;try{if(!Go(Hn(),Rn))return!1}catch{return!1}}}if(_n=hn.child,hn.subtreeFlags&16384&&_n!==null)_n.return=hn,hn=_n;else{if(hn===un)break;for(;hn.sibling===null;){if(hn.return===null||hn.return===un)return!0;hn=hn.return}hn.sibling.return=hn.return,hn=hn.sibling}}return!0}function _d(un,hn){for(hn&=~Ou,hn&=~lm,un.suspendedLanes|=hn,un.pingedLanes&=~hn,un=un.expirationTimes;0<hn;){var _n=31-Gl(hn),Pn=1<<_n;un[_n]=-1,hn&=~Pn}}function t1(un){if((Gs&6)!==0)throw Error(sn(327));Im();var hn=zp(un,0);if((hn&1)===0)return Nl(un,po()),null;var _n=Dp(un,hn);if(un.tag!==0&&_n===2){var Pn=rp(un);Pn!==0&&(hn=Pn,_n=I0(un,Pn))}if(_n===1)throw _n=Fm,ju(un,0),_d(un,hn),Nl(un,po()),_n;if(_n===6)throw Error(sn(345));return un.finishedWork=un.current.alternate,un.finishedLanes=hn,ep(un,Hl,fu),Nl(un,po()),null}function hm(un){_c!==null&&_c.tag===0&&(Gs&6)===0&&Im();var hn=Gs;Gs|=1;var _n=uo.transition,Pn=gs;try{if(uo.transition=null,gs=1,un)return un()}finally{gs=Pn,uo.transition=_n,Gs=hn,(Gs&6)===0&&Kl()}}function Om(){Ll=Zu.current,na(Zu)}function ju(un,hn){un.finishedWork=null,un.finishedLanes=0;var _n=un.timeoutHandle;if(_n!==ur&&(un.timeoutHandle=ur,sr(_n)),ko!==null)for(_n=ko.return;_n!==null;){var Pn=_n;switch(Yp(Pn),Pn.tag){case 1:Pn=Pn.type.childContextTypes,Pn!=null&&Fl();break;case 3:tu(),na(Ho),na(Oo),Mu();break;case 5:_u(Pn);break;case 4:tu();break;case 13:na(to);break;case 19:na(to);break;case 10:wo(Pn.type._context);break;case 22:case 23:Om()}_n=_n.return}if(To=un,ko=un=dm(un.current,null),Mo=Ll=hn,yo=0,Fm=null,Ou=lm=Rp=0,Hl=Mm=null,Io!==null){for(hn=0;hn<Io.length;hn++)if(_n=Io[hn],Pn=_n.interleaved,Pn!==null){_n.interleaved=null;var Rn=Pn.next,Hn=_n.pending;if(Hn!==null){var mr=Hn.next;Hn.next=Rn,Pn.next=mr}_n.pending=Pn}Io=null}return un}function Bu(un,hn){do{var _n=ko;try{if(co(),up.current=Zm,xo){for(var Pn=Ms.memoizedState;Pn!==null;){var Rn=Pn.queue;Rn!==null&&(Rn.pending=null),Pn=Pn.next}xo=!1}if(Cl=0,qs=js=Ms=null,nu=!1,hu=0,dp.current=null,_n===null||_n.return===null){yo=1,Fm=hn,ko=null;break}e:{var Hn=un,mr=_n.return,jr=_n,Kr=hn;if(hn=Mo,jr.flags|=32768,Kr!==null&&typeof Kr=="object"&&typeof Kr.then=="function"){var us=Kr,As=jr,Us=As.tag;if((As.mode&1)===0&&(Us===0||Us===11||Us===15)){var _s=As.alternate;_s?(As.updateQueue=_s.updateQueue,As.memoizedState=_s.memoizedState,As.lanes=_s.lanes):(As.updateQueue=null,As.memoizedState=null)}var So=T0(mr);if(So!==null){So.flags&=-257,k0(So,mr,jr,Hn,hn),So.mode&1&&Y0(Hn,us,hn),hn=So,Kr=us;var ho=hn.updateQueue;if(ho===null){var gu=new Set;gu.add(Kr),hn.updateQueue=gu}else ho.add(Kr);break e}else{if((hn&1)===0){Y0(Hn,us,hn),Uu();break e}Kr=Error(sn(426))}}else if(ao&&jr.mode&1){var Op=T0(mr);if(Op!==null){(Op.flags&65536)===0&&(Op.flags|=256),k0(Op,mr,jr,Hn,hn),Nr($l(Kr,jr));break e}}Hn=Kr=$l(Kr,jr),yo!==4&&(yo=2),Mm===null?Mm=[Hn]:Mm.push(Hn),Hn=mr;do{switch(Hn.tag){case 3:Hn.flags|=65536,hn&=-hn,Hn.lanes|=hn;var Wr=su(Hn,Kr,hn);Ap(Hn,Wr);break e;case 1:jr=Kr;var $r=Hn.type,Zr=Hn.stateNode;if((Hn.flags&128)===0&&(typeof $r.getDerivedStateFromError=="function"||Zr!==null&&typeof Zr.componentDidCatch=="function"&&(Iu===null||!Iu.has(Zr)))){Hn.flags|=65536,hn&=-hn,Hn.lanes|=hn;var bs=K0(Hn,jr,hn);Ap(Hn,bs);break e}}Hn=Hn.return}while(Hn!==null)}h0(_n)}catch(Ns){hn=Ns,ko===_n&&_n!==null&&(ko=_n=_n.return);continue}break}while(1)}function _f(){var un=zl.current;return zl.current=Zm,un===null?Zm:un}function Uu(){(yo===0||yo===3||yo===2)&&(yo=4),To===null||(Rp&268435455)===0&&(lm&268435455)===0||_d(To,Mo)}function Dp(un,hn){var _n=Gs;Gs|=2;var Pn=_f();(To!==un||Mo!==hn)&&(fu=null,ju(un,hn));do try{j0();break}catch(Rn){Bu(un,Rn)}while(1);if(co(),Gs=_n,zl.current=Pn,ko!==null)throw Error(sn(261));return To=null,Mo=0,yo}function j0(){for(;ko!==null;)r1(ko)}function n1(){for(;ko!==null&&!zm();)r1(ko)}function r1(un){var hn=$1(un.alternate,un,Ll);un.memoizedProps=un.pendingProps,hn===null?h0(un):ko=hn,dp.current=null}function h0(un){var hn=un;do{var _n=hn.alternate;if(un=hn.return,(hn.flags&32768)===0){if(_n=Or(_n,hn,Ll),_n!==null){ko=_n;return}}else{if(_n=ts(_n,hn),_n!==null){_n.flags&=32767,ko=_n;return}if(un!==null)un.flags|=32768,un.subtreeFlags=0,un.deletions=null;else{yo=6,ko=null;return}}if(hn=hn.sibling,hn!==null){ko=hn;return}ko=hn=un}while(hn!==null);yo===0&&(yo=5)}function ep(un,hn,_n){var Pn=gs,Rn=uo.transition;try{uo.transition=null,gs=1,mv(un,hn,_n,Pn)}finally{uo.transition=Rn,gs=Pn}return null}function mv(un,hn,_n,Pn){do Im();while(_c!==null);if((Gs&6)!==0)throw Error(sn(327));_n=un.finishedWork;var Rn=un.finishedLanes;if(_n===null)return null;if(un.finishedWork=null,un.finishedLanes=0,_n===un.current)throw Error(sn(177));un.callbackNode=null,un.callbackPriority=0;var Hn=_n.lanes|_n.childLanes;if(v0(un,Hn),un===To&&(ko=To=null,Mo=0),(_n.subtreeFlags&2064)===0&&(_n.flags&2064)===0||fp||(fp=!0,V1(_m,function(){return Im(),null})),Hn=(_n.flags&15990)!==0,(_n.subtreeFlags&15990)!==0||Hn){Hn=uo.transition,uo.transition=null;var mr=gs;gs=1;var jr=Gs;Gs|=4,dp.current=null,ds(un,_n),Vl(_n,un),yr(un.containerInfo),un.current=_n,$o(_n),Hm(),Gs=jr,gs=mr,uo.transition=Hn}else un.current=_n;if(fp&&(fp=!1,_c=un,l0=Rn),Hn=un.pendingLanes,Hn===0&&(Iu=null),sp(_n.stateNode),Nl(un,po()),hn!==null)for(Pn=un.onRecoverableError,_n=0;_n<hn.length;_n++)Rn=hn[_n],Pn(Rn.value,{componentStack:Rn.stack,digest:Rn.digest});if(Dm)throw Dm=!1,un=um,um=null,un;return(l0&1)!==0&&un.tag!==0&&Im(),Hn=un.pendingLanes,(Hn&1)!==0?un===u0?pp++:(pp=0,u0=un):pp=0,Kl(),null}function Im(){if(_c!==null){var un=Vm(l0),hn=uo.transition,_n=gs;try{if(uo.transition=null,gs=16>un?16:un,_c===null)var Pn=!1;else{if(un=_c,_c=null,l0=0,(Gs&6)!==0)throw Error(sn(331));var Rn=Gs;for(Gs|=4,Ir=un.current;Ir!==null;){var Hn=Ir,mr=Hn.child;if((Ir.flags&16)!==0){var jr=Hn.deletions;if(jr!==null){for(var Kr=0;Kr<jr.length;Kr++){var us=jr[Kr];for(Ir=us;Ir!==null;){var As=Ir;switch(As.tag){case 0:case 11:case 15:Ts(8,As,Hn)}var Us=As.child;if(Us!==null)Us.return=As,Ir=Us;else for(;Ir!==null;){As=Ir;var _s=As.sibling,So=As.return;if(ga(As),As===us){Ir=null;break}if(_s!==null){_s.return=So,Ir=_s;break}Ir=So}}}var ho=Hn.alternate;if(ho!==null){var gu=ho.child;if(gu!==null){ho.child=null;do{var Op=gu.sibling;gu.sibling=null,gu=Op}while(gu!==null)}}Ir=Hn}}if((Hn.subtreeFlags&2064)!==0&&mr!==null)mr.return=Hn,Ir=mr;else e:for(;Ir!==null;){if(Hn=Ir,(Hn.flags&2048)!==0)switch(Hn.tag){case 0:case 11:case 15:Ts(9,Hn,Hn.return)}var Wr=Hn.sibling;if(Wr!==null){Wr.return=Hn.return,Ir=Wr;break e}Ir=Hn.return}}var $r=un.current;for(Ir=$r;Ir!==null;){mr=Ir;var Zr=mr.child;if((mr.subtreeFlags&2064)!==0&&Zr!==null)Zr.return=mr,Ir=Zr;else e:for(mr=$r;Ir!==null;){if(jr=Ir,(jr.flags&2048)!==0)try{switch(jr.tag){case 0:case 11:case 15:fs(9,jr)}}catch(Ns){Eo(jr,jr.return,Ns)}if(jr===mr){Ir=null;break e}var bs=jr.sibling;if(bs!==null){bs.return=jr.return,Ir=bs;break e}Ir=jr.return}}if(Gs=Rn,Kl(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(ip,un)}catch{}Pn=!0}return Pn}finally{gs=_n,uo.transition=hn}}return!1}function B1(un,hn,_n){hn=$l(_n,hn),hn=su(un,hn,1),un=Zl(un,hn,1),hn=Wo(),un!==null&&(Ro(un,1,hn),Nl(un,hn))}function Eo(un,hn,_n){if(un.tag===3)B1(un,un,_n);else for(;hn!==null;){if(hn.tag===3){B1(hn,un,_n);break}else if(hn.tag===1){var Pn=hn.stateNode;if(typeof hn.type.getDerivedStateFromError=="function"||typeof Pn.componentDidCatch=="function"&&(Iu===null||!Iu.has(Pn))){un=$l(_n,un),un=K0(hn,un,1),hn=Zl(hn,un,1),un=Wo(),hn!==null&&(Ro(hn,1,un),Nl(hn,un));break}}hn=hn.return}}function vv(un,hn,_n){var Pn=un.pingCache;Pn!==null&&Pn.delete(hn),hn=Wo(),un.pingedLanes|=un.suspendedLanes&_n,To===un&&(Mo&_n)===_n&&(yo===4||yo===3&&(Mo&130023424)===Mo&&500>po()-O0?ju(un,0):Ou|=_n),Nl(un,hn)}function U1(un,hn){hn===0&&((un.mode&1)===0?hn=1:(hn=np,np<<=1,(np&130023424)===0&&(np=4194304)));var _n=Wo();un=Ol(un,hn),un!==null&&(Ro(un,hn,_n),Nl(un,_n))}function yv(un){var hn=un.memoizedState,_n=0;hn!==null&&(_n=hn.retryLane),U1(un,_n)}function Sv(un,hn){var _n=0;switch(un.tag){case 13:var Pn=un.stateNode,Rn=un.memoizedState;Rn!==null&&(_n=Rn.retryLane);break;case 19:Pn=un.stateNode;break;default:throw Error(sn(314))}Pn!==null&&Pn.delete(hn),U1(un,_n)}var $1;$1=function(un,hn,_n){if(un!==null)if(un.memoizedProps!==hn.pendingProps||Ho.current)El=!0;else{if((un.lanes&_n)===0&&(hn.flags&128)===0)return El=!1,Bn(un,hn,_n);El=(un.flags&131072)!==0}else El=!1,ao&&(hn.flags&1048576)!==0&&Kp(hn,vu,hn.index);switch(hn.lanes=0,hn.tag){case 2:var Pn=hn.type;An(un,hn),un=hn.pendingProps;var Rn=Nu(hn,Oo.current);mo(hn,_n),Rn=Wm(null,hn,Pn,un,Rn,_n);var Hn=Km();return hn.flags|=1,typeof Rn=="object"&&Rn!==null&&typeof Rn.render=="function"&&Rn.$$typeof===void 0?(hn.tag=1,hn.memoizedState=null,hn.updateQueue=null,Ko(Pn)?(Hn=!0,tp(hn)):Hn=!1,hn.memoizedState=Rn.state!==null&&Rn.state!==void 0?Rn.state:null,lp(hn),Rn.updater=Zp,hn.stateNode=Rn,Rn._reactInternals=hn,Ep(hn,Pn,un,_n),hn=F0(null,hn,Pn,!0,Hn,_n)):(hn.tag=0,ao&&Hn&&wp(hn),Pl(null,hn,Rn,_n),hn=hn.child),hn;case 16:Pn=hn.elementType;e:{switch(An(un,hn),un=hn.pendingProps,Rn=Pn._init,Pn=Rn(Pn._payload),hn.type=Pn,Rn=hn.tag=wv(Pn),un=hs(Pn,un),Rn){case 0:hn=N0(null,hn,Pn,un,_n);break e;case 1:hn=R0(null,hn,Pn,un,_n);break e;case 11:hn=km(null,hn,Pn,un,_n);break e;case 14:hn=Lm(null,hn,Pn,hs(Pn.type,un),_n);break e}throw Error(sn(306,Pn,""))}return hn;case 0:return Pn=hn.type,Rn=hn.pendingProps,Rn=hn.elementType===Pn?Rn:hs(Pn,Rn),N0(un,hn,Pn,Rn,_n);case 1:return Pn=hn.type,Rn=hn.pendingProps,Rn=hn.elementType===Pn?Rn:hs(Pn,Rn),R0(un,hn,Pn,Rn,_n);case 3:e:{if(Q0(hn),un===null)throw Error(sn(387));Pn=hn.pendingProps,Hn=hn.memoizedState,Rn=Hn.element,Qp(un,hn),Wu(hn,Pn,null,_n);var mr=hn.memoizedState;if(Pn=mr.element,Pr&&Hn.isDehydrated)if(Hn={element:Pn,isDehydrated:!1,cache:mr.cache,pendingSuspenseBoundaries:mr.pendingSuspenseBoundaries,transitions:mr.transitions},hn.updateQueue.baseState=Hn,hn.memoizedState=Hn,hn.flags&256){Rn=$l(Error(sn(423)),hn),hn=J0(un,hn,Pn,_n,Rn);break e}else if(Pn!==Rn){Rn=$l(Error(sn(424)),hn),hn=J0(un,hn,Pn,_n,Rn);break e}else for(Pr&&(Qo=No(hn.stateNode.containerInfo),Bo=hn,ao=!0,Ql=null,ap=!1),_n=Yu(hn,null,Pn,_n),hn.child=_n;_n;)_n.flags=_n.flags&-3|4096,_n=_n.sibling;else{if(wr(),Pn===Rn){hn=Ln(un,hn,_n);break e}Pl(un,hn,Pn,_n)}hn=hn.child}return hn;case 5:return cu(hn),un===null&&Ru(hn),Pn=hn.type,Rn=hn.pendingProps,Hn=un!==null?un.memoizedProps:null,mr=Rn.children,Un(Pn,Rn)?mr=null:Hn!==null&&Un(Pn,Hn)&&(hn.flags|=32),L0(un,hn),Pl(un,hn,mr,_n),hn.child;case 6:return un===null&&Ru(hn),null;case 13:return Z0(un,hn,_n);case 4:return Tp(hn,hn.stateNode.containerInfo),Pn=hn.pendingProps,un===null?hn.child=Zo(hn,null,Pn,_n):Pl(un,hn,Pn,_n),hn.child;case 11:return Pn=hn.type,Rn=hn.pendingProps,Rn=hn.elementType===Pn?Rn:hs(Pn,Rn),km(un,hn,Pn,Rn,_n);case 7:return Pl(un,hn,hn.pendingProps,_n),hn.child;case 8:return Pl(un,hn,hn.pendingProps.children,_n),hn.child;case 12:return Pl(un,hn,hn.pendingProps.children,_n),hn.child;case 10:e:{if(Pn=hn.type._context,Rn=hn.pendingProps,Hn=hn.memoizedProps,mr=Rn.value,go(hn,Pn,mr),Hn!==null)if(Go(Hn.value,mr)){if(Hn.children===Rn.children&&!Ho.current){hn=Ln(un,hn,_n);break e}}else for(Hn=hn.child,Hn!==null&&(Hn.return=hn);Hn!==null;){var jr=Hn.dependencies;if(jr!==null){mr=Hn.child;for(var Kr=jr.firstContext;Kr!==null;){if(Kr.context===Pn){if(Hn.tag===1){Kr=Jl(-1,_n&-_n),Kr.tag=2;var us=Hn.updateQueue;if(us!==null){us=us.shared;var As=us.pending;As===null?Kr.next=Kr:(Kr.next=As.next,As.next=Kr),us.pending=Kr}}Hn.lanes|=_n,Kr=Hn.alternate,Kr!==null&&(Kr.lanes|=_n),Uo(Hn.return,_n,hn),jr.lanes|=_n;break}Kr=Kr.next}}else if(Hn.tag===10)mr=Hn.type===hn.type?null:Hn.child;else if(Hn.tag===18){if(mr=Hn.return,mr===null)throw Error(sn(341));mr.lanes|=_n,jr=mr.alternate,jr!==null&&(jr.lanes|=_n),Uo(mr,_n,hn),mr=Hn.sibling}else mr=Hn.child;if(mr!==null)mr.return=Hn;else for(mr=Hn;mr!==null;){if(mr===hn){mr=null;break}if(Hn=mr.sibling,Hn!==null){Hn.return=mr.return,mr=Hn;break}mr=mr.return}Hn=mr}Pl(un,hn,Rn.children,_n),hn=hn.child}return hn;case 9:return Rn=hn.type,Pn=hn.pendingProps.children,mo(hn,_n),Rn=bo(Rn),Pn=Pn(Rn),hn.flags|=1,Pl(un,hn,Pn,_n),hn.child;case 14:return Pn=hn.type,Rn=hs(Pn,hn.pendingProps),Rn=hs(Pn.type,Rn),Lm(un,hn,Pn,Rn,_n);case 15:return om(un,hn,hn.type,hn.pendingProps,_n);case 17:return Pn=hn.type,Rn=hn.pendingProps,Rn=hn.elementType===Pn?Rn:hs(Pn,Rn),An(un,hn),hn.tag=1,Ko(Pn)?(un=!0,tp(hn)):un=!1,mo(hn,_n),xm(hn,Pn,Rn),Ep(hn,Pn,Rn,_n),F0(null,hn,Pn,!0,un,_n);case 19:return gn(un,hn,_n);case 22:return t0(un,hn,_n)}throw Error(sn(156,hn.tag))};function V1(un,hn){return Sm(un,hn)}function _v(un,hn,_n,Pn){this.tag=un,this.key=_n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=hn,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Pn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $u(un,hn,_n,Pn){return new _v(un,hn,_n,Pn)}function m1(un){return un=un.prototype,!(!un||!un.isReactComponent)}function wv(un){if(typeof un=="function")return m1(un)?1:0;if(un!=null){if(un=un.$$typeof,un===bn)return 11;if(un===Sn)return 14}return 2}function dm(un,hn){var _n=un.alternate;return _n===null?(_n=$u(un.tag,hn,un.key,un.mode),_n.elementType=un.elementType,_n.type=un.type,_n.stateNode=un.stateNode,_n.alternate=un,un.alternate=_n):(_n.pendingProps=hn,_n.type=un.type,_n.flags=0,_n.subtreeFlags=0,_n.deletions=null),_n.flags=un.flags&14680064,_n.childLanes=un.childLanes,_n.lanes=un.lanes,_n.child=un.child,_n.memoizedProps=un.memoizedProps,_n.memoizedState=un.memoizedState,_n.updateQueue=un.updateQueue,hn=un.dependencies,_n.dependencies=hn===null?null:{lanes:hn.lanes,firstContext:hn.firstContext},_n.sibling=un.sibling,_n.index=un.index,_n.ref=un.ref,_n}function i1(un,hn,_n,Pn,Rn,Hn){var mr=2;if(Pn=un,typeof un=="function")m1(un)&&(mr=1);else if(typeof un=="string")mr=5;else e:switch(un){case dn:return jm(_n.children,Rn,Hn,hn);case mn:mr=8,Rn|=8;break;case pn:return un=$u(12,_n,hn,Rn|2),un.elementType=pn,un.lanes=Hn,un;case wn:return un=$u(13,_n,hn,Rn),un.elementType=wn,un.lanes=Hn,un;case vn:return un=$u(19,_n,hn,Rn),un.elementType=vn,un.lanes=Hn,un;case En:return s1(_n,Rn,Hn,hn);default:if(typeof un=="object"&&un!==null)switch(un.$$typeof){case fn:mr=10;break e;case yn:mr=9;break e;case bn:mr=11;break e;case Sn:mr=14;break e;case xn:mr=16,Pn=null;break e}throw Error(sn(130,un==null?un:typeof un,""))}return hn=$u(mr,_n,hn,Rn),hn.elementType=un,hn.type=Pn,hn.lanes=Hn,hn}function jm(un,hn,_n,Pn){return un=$u(7,un,Pn,hn),un.lanes=_n,un}function s1(un,hn,_n,Pn){return un=$u(22,un,Pn,hn),un.elementType=En,un.lanes=_n,un.stateNode={isHidden:!1},un}function v1(un,hn,_n){return un=$u(6,un,null,hn),un.lanes=_n,un}function y1(un,hn,_n){return hn=$u(4,un.children!==null?un.children:[],un.key,hn),hn.lanes=_n,hn.stateNode={containerInfo:un.containerInfo,pendingChildren:null,implementation:un.implementation},hn}function bv(un,hn,_n,Pn,Rn){this.tag=hn,this.containerInfo=un,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ur,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hp(0),this.expirationTimes=Hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hp(0),this.identifierPrefix=Pn,this.onRecoverableError=Rn,Pr&&(this.mutableSourceEagerHydrationData=null)}function z1(un,hn,_n,Pn,Rn,Hn,mr,jr,Kr){return un=new bv(un,hn,_n,jr,Kr),hn===1?(hn=1,Hn===!0&&(hn|=8)):hn=0,Hn=$u(3,null,null,hn),un.current=Hn,Hn.stateNode=un,Hn.memoizedState={element:Pn,isDehydrated:_n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(Hn),un}function H1(un){if(!un)return so;un=un._reactInternals;e:{if(Wn(un)!==un||un.tag!==1)throw Error(sn(170));var hn=un;do{switch(hn.tag){case 3:hn=hn.stateNode.context;break e;case 1:if(Ko(hn.type)){hn=hn.stateNode.__reactInternalMemoizedMergedChildContext;break e}}hn=hn.return}while(hn!==null);throw Error(sn(171))}if(un.tag===1){var _n=un.type;if(Ko(_n))return xl(un,_n,hn)}return hn}function G1(un){var hn=un._reactInternals;if(hn===void 0)throw typeof un.render=="function"?Error(sn(188)):(un=Object.keys(un).join(","),Error(sn(268,un)));return un=zn(hn),un===null?null:un.stateNode}function q1(un,hn){if(un=un.memoizedState,un!==null&&un.dehydrated!==null){var _n=un.retryLane;un.retryLane=_n!==0&&_n<hn?_n:hn}}function a1(un,hn){q1(un,hn),(un=un.alternate)&&q1(un,hn)}function xv(un){return un=zn(un),un===null?null:un.stateNode}function Av(){return null}return en.attemptContinuousHydration=function(un){if(un.tag===13){var hn=Ol(un,134217728);if(hn!==null){var _n=Wo();pu(hn,un,134217728,_n)}a1(un,134217728)}},en.attemptDiscreteHydration=function(un){if(un.tag===13){var hn=Ol(un,1);if(hn!==null){var _n=Wo();pu(hn,un,1,_n)}a1(un,1)}},en.attemptHydrationAtCurrentPriority=function(un){if(un.tag===13){var hn=_h(un),_n=Ol(un,hn);if(_n!==null){var Pn=Wo();pu(_n,un,hn,Pn)}a1(un,hn)}},en.attemptSynchronousHydration=function(un){switch(un.tag){case 3:var hn=un.stateNode;if(hn.current.memoizedState.isDehydrated){var _n=yp(hn.pendingLanes);_n!==0&&(Gp(hn,_n|1),Nl(hn,po()),(Gs&6)===0&&(Fp(),Kl()))}break;case 13:hm(function(){var Pn=Ol(un,1);if(Pn!==null){var Rn=Wo();pu(Pn,un,1,Rn)}}),a1(un,1)}},en.batchedUpdates=function(un,hn){var _n=Gs;Gs|=1;try{return un(hn)}finally{Gs=_n,Gs===0&&(Fp(),Gu&&Kl())}},en.createComponentSelector=function(un){return{$$typeof:Po,value:un}},en.createContainer=function(un,hn,_n,Pn,Rn,Hn,mr){return z1(un,hn,!1,null,_n,Pn,Rn,Hn,mr)},en.createHasPseudoClassSelector=function(un){return{$$typeof:du,value:un}},en.createHydrationContainer=function(un,hn,_n,Pn,Rn,Hn,mr,jr,Kr){return un=z1(_n,Pn,!0,un,Rn,Hn,mr,jr,Kr),un.context=H1(null),_n=un.current,Pn=Wo(),Rn=_h(_n),Hn=Jl(Pn,Rn),Hn.callback=hn!=null?hn:null,Zl(_n,Hn,Rn),un.current.lanes=Rn,Ro(un,Rn,Pn),Nl(un,Pn),un},en.createPortal=function(un,hn,_n){var Pn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:Pn==null?null:""+Pn,children:un,containerInfo:hn,implementation:_n}},en.createRoleSelector=function(un){return{$$typeof:Du,value:un}},en.createTestNameSelector=function(un){return{$$typeof:Ju,value:un}},en.createTextSelector=function(un){return{$$typeof:Au,value:un}},en.deferredUpdates=function(un){var hn=gs,_n=uo.transition;try{return uo.transition=null,gs=16,un()}finally{gs=hn,uo.transition=_n}},en.discreteUpdates=function(un,hn,_n,Pn,Rn){var Hn=gs,mr=uo.transition;try{return uo.transition=null,gs=1,un(hn,_n,Pn,Rn)}finally{gs=Hn,uo.transition=mr,Gs===0&&Fp()}},en.findAllNodes=Np,en.findBoundingRects=function(un,hn){if(!pr)throw Error(sn(363));hn=Np(un,hn),un=[];for(var _n=0;_n<hn.length;_n++)un.push(xr(hn[_n]));for(hn=un.length-1;0<hn;hn--){_n=un[hn];for(var Pn=_n.x,Rn=Pn+_n.width,Hn=_n.y,mr=Hn+_n.height,jr=hn-1;0<=jr;jr--)if(hn!==jr){var Kr=un[jr],us=Kr.x,As=us+Kr.width,Us=Kr.y,_s=Us+Kr.height;if(Pn>=us&&Hn>=Us&&Rn<=As&&mr<=_s){un.splice(hn,1);break}else if(Pn!==us||_n.width!==Kr.width||_s<Hn||Us>mr){if(!(Hn!==Us||_n.height!==Kr.height||As<Pn||us>Rn)){us>Pn&&(Kr.width+=us-Pn,Kr.x=Pn),As<Rn&&(Kr.width=Rn-us),un.splice(hn,1);break}}else{Us>Hn&&(Kr.height+=Us-Hn,Kr.y=Hn),_s<mr&&(Kr.height=mr-Us),un.splice(hn,1);break}}}return un},en.findHostInstance=G1,en.findHostInstanceWithNoPortals=function(un){return un=On(un),un=un!==null?Yn(un):null,un===null?null:un.stateNode},en.findHostInstanceWithWarning=function(un){return G1(un)},en.flushControlled=function(un){var hn=Gs;Gs|=1;var _n=uo.transition,Pn=gs;try{uo.transition=null,gs=1,un()}finally{gs=Pn,uo.transition=_n,Gs=hn,Gs===0&&(Fp(),Kl())}},en.flushPassiveEffects=Im,en.flushSync=hm,en.focusWithin=function(un,hn){if(!pr)throw Error(sn(363));for(un=Nm(un),hn=Rm(un,hn),hn=Array.from(hn),un=0;un<hn.length;){var _n=hn[un++];if(!lr(_n)){if(_n.tag===5&&zr(_n.stateNode))return!0;for(_n=_n.child;_n!==null;)hn.push(_n),_n=_n.sibling}}return!1},en.getCurrentUpdatePriority=function(){return gs},en.getFindAllNodesFailureDescription=function(un,hn){if(!pr)throw Error(sn(363));var _n=0,Pn=[];un=[Nm(un),0];for(var Rn=0;Rn<un.length;){var Hn=un[Rn++],mr=un[Rn++],jr=hn[mr];if((Hn.tag!==5||!lr(Hn))&&(i0(Hn,jr)&&(Pn.push(s0(jr)),mr++,mr>_n&&(_n=mr)),mr<hn.length))for(Hn=Hn.child;Hn!==null;)un.push(Hn,mr),Hn=Hn.sibling}if(_n<hn.length){for(un=[];_n<hn.length;_n++)un.push(s0(hn[_n]));return`findAllNodes was able to match part of the selector:
  `+(Pn.join(" > ")+`

No matching component was found for:
  `)+un.join(" > ")}return null},en.getPublicRootInstance=function(un){if(un=un.current,!un.child)return null;switch(un.child.tag){case 5:return tr(un.child.stateNode);default:return un.child.stateNode}},en.injectIntoDevTools=function(un){if(un={bundleType:un.bundleType,version:un.version,rendererPackageName:un.rendererPackageName,rendererConfig:un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:xv,findFiberByHostInstance:un.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")un=!1;else{var hn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(hn.isDisabled||!hn.supportsFiber)un=!0;else{try{ip=hn.inject(un),Yo=hn}catch{}un=!!hn.checkDCE}}return un},en.isAlreadyRendering=function(){return!1},en.observeVisibleRects=function(un,hn,_n,Pn){if(!pr)throw Error(sn(363));un=Np(un,hn);var Rn=qr(un,_n,Pn).disconnect;return{disconnect:function(){Rn()}}},en.registerMutableSourceForHydration=function(un,hn){var _n=hn._getVersion;_n=_n(hn._source),un.mutableSourceEagerHydrationData==null?un.mutableSourceEagerHydrationData=[hn,_n]:un.mutableSourceEagerHydrationData.push(hn,_n)},en.runWithPriority=function(un,hn){var _n=gs;try{return gs=un,hn()}finally{gs=_n}},en.shouldError=function(){return null},en.shouldSuspend=function(){return!1},en.updateContainer=function(un,hn,_n,Pn){var Rn=hn.current,Hn=Wo(),mr=_h(Rn);return _n=H1(_n),hn.context===null?hn.context=_n:hn.pendingContext=_n,hn=Jl(Hn,mr),hn.payload={element:un},Pn=Pn===void 0?null:Pn,Pn!==null&&(hn.callback=Pn),un=Zl(Rn,hn,mr),un!==null&&(pu(un,Rn,mr,Hn),qo(un,Rn,mr)),mr},en};(function(St){St.exports=reactReconciler_production_min})(reactReconciler);const ReactFiberReconciler=getDefaultExportFromCjs(reactReconciler.exports);var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(St){St.exports=reactReconcilerConstants_production_min})(constants);const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event",DRAGGABLE_WARNING=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Z_INDEX_WARNING=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,EMPTY_PROPS={};function applyNodeProps(St,_e,en=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in _e&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&_e.draggable){var tn=_e.x!==void 0||_e.y!==void 0,nn=_e.onDragEnd||_e.onDragMove;tn&&!nn&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var rn in en)if(!propsToSkip[rn]){var sn=rn.slice(0,2)==="on",an=en[rn]!==_e[rn];if(sn&&an){var on=rn.substr(2).toLowerCase();on.substr(0,7)==="content"&&(on="content"+on.substr(7,1).toUpperCase()+on.substr(8)),St.off(on,en[rn])}var cn=!_e.hasOwnProperty(rn);cn&&St.setAttr(rn,void 0)}var dn=_e._useStrictMode,mn={},pn=!1;const fn={};for(var rn in _e)if(!propsToSkip[rn]){var sn=rn.slice(0,2)==="on",yn=en[rn]!==_e[rn];if(sn&&yn){var on=rn.substr(2).toLowerCase();on.substr(0,7)==="content"&&(on="content"+on.substr(7,1).toUpperCase()+on.substr(8)),_e[rn]&&(fn[on]=_e[rn])}!sn&&(_e[rn]!==en[rn]||dn&&_e[rn]!==St.getAttr(rn))&&(pn=!0,mn[rn]=_e[rn])}pn&&(St.setAttrs(mn),updatePicture(St));for(var on in fn)St.on(on+EVENTS_NAMESPACE,fn[on])}function updatePicture(St){if(!Konva$1.autoDrawEnabled){var _e=St.getLayer()||St.getStage();_e&&_e.batchDraw()}}const NO_CONTEXT={},UPDATE_SIGNAL={};Konva.Node.prototype._applyProps=applyNodeProps;function appendInitialChild(St,_e){if(typeof _e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${_e}`);return}St.add(_e),updatePicture(St)}function createInstance(St,_e,en){let tn=Konva[St];tn||(console.error(`Konva has no node with the type ${St}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${St}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),tn=Konva.Group);const nn={},rn={};for(var sn in _e){var an=sn.slice(0,2)==="on";an?rn[sn]=_e[sn]:nn[sn]=_e[sn]}const on=new tn(nn);return applyNodeProps(on,rn),on}function createTextInstance(St,_e,en){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${St}"`)}function finalizeInitialChildren(St,_e,en){return!1}function getPublicInstance(St){return St}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(St,_e,en,tn){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(St){}function shouldDeprioritizeSubtree(St,_e){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(St,_e){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(St,_e){_e.parent===St?_e.moveToTop():St.add(_e),updatePicture(St)}function appendChildToContainer(St,_e){_e.parent===St?_e.moveToTop():St.add(_e),updatePicture(St)}function insertBefore(St,_e,en){_e._remove(),St.add(_e),_e.setZIndex(en.getZIndex()),updatePicture(St)}function insertInContainerBefore(St,_e,en){insertBefore(St,_e,en)}function removeChild(St,_e){_e.destroy(),_e.off(EVENTS_NAMESPACE),updatePicture(St)}function removeChildFromContainer(St,_e){_e.destroy(),_e.off(EVENTS_NAMESPACE),updatePicture(St)}function commitTextUpdate(St,_e,en){console.error(`Text components are not yet supported in ReactKonva. You text is: "${en}"`)}function commitMount(St,_e,en){}function commitUpdate(St,_e,en,tn,nn){applyNodeProps(St,nn,tn)}function hideInstance(St){St.hide(),updatePicture(St)}function hideTextInstance(St){}function unhideInstance(St,_e){(_e.visible==null||_e.visible)&&St.show()}function unhideTextInstance(St,_e){}function clearContainer(St){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constants.exports.DefaultEventPriority,HostConfig=Object.freeze(Object.defineProperty({__proto__:null,appendInitialChild,createInstance,createTextInstance,finalizeInitialChildren,getPublicInstance,prepareForCommit,preparePortalMount,prepareUpdate,resetAfterCommit,resetTextContent,shouldDeprioritizeSubtree,getRootHostContext,getChildHostContext,scheduleTimeout,cancelTimeout,noTimeout,shouldSetTextContent,isPrimaryRenderer,warnsIfNotActing,supportsMutation,appendChild,appendChildToContainer,insertBefore,insertInContainerBefore,removeChild,removeChildFromContainer,commitTextUpdate,commitMount,commitUpdate,hideInstance,hideTextInstance,unhideInstance,unhideTextInstance,clearContainer,detachDeletedInstance,getCurrentEventPriority,now:scheduler.exports.unstable_now,idlePriority:scheduler.exports.unstable_IdlePriority,run:scheduler.exports.unstable_runWithPriority},Symbol.toStringTag,{value:"Module"}));var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(St,_e,en)=>_e in St?__defProp(St,_e,{enumerable:!0,configurable:!0,writable:!0,value:en}):St[_e]=en,__spreadValues=(St,_e)=>{for(var en in _e||(_e={}))__hasOwnProp.call(_e,en)&&__defNormalProp(St,en,_e[en]);if(__getOwnPropSymbols)for(var en of __getOwnPropSymbols(_e))__propIsEnum.call(_e,en)&&__defNormalProp(St,en,_e[en]);return St},__spreadProps=(St,_e)=>__defProps(St,__getOwnPropDescs(_e));function traverseFiber(St,_e,en){if(!St)return;if(en(St)===!0)return St;let tn=_e?St.return:St.child;for(;tn;){const nn=traverseFiber(tn,_e,en);if(nn)return nn;tn=_e?null:tn.sibling}}function wrapContext(St){try{return Object.defineProperties(St,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return St}}const FiberContext=wrapContext(react.exports.createContext(null));class FiberProvider extends react.exports.Component{render(){return jsx(FiberContext.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner,ReactCurrentDispatcher}=react.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const St=react.exports.useContext(FiberContext);if(!St)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _e=react.exports.useId();return react.exports.useMemo(()=>{var tn;return(tn=ReactCurrentOwner.current)!=null?tn:traverseFiber(St,!1,nn=>{let rn=nn.memoizedState;for(;rn;){if(rn.memoizedState===_e)return!0;rn=rn.next}})},[St,_e])}const contexts=[],values=new WeakMap;function useContextBridge(){var St;const _e=useFiber();contexts.splice(0,contexts.length),traverseFiber(_e,!0,en=>{var tn;const nn=(tn=en.type)==null?void 0:tn._context;nn&&nn!==FiberContext&&contexts.push(wrapContext(nn))});for(const en of contexts){const tn=(St=ReactCurrentDispatcher.current)==null?void 0:St.readContext(en);values.set(en,tn)}return react.exports.useMemo(()=>contexts.reduce((en,tn)=>nn=>react.exports.createElement(en,null,react.exports.createElement(tn.Provider,__spreadProps(__spreadValues({},nn),{value:values.get(tn)}))),en=>jsx(FiberProvider,{...__spreadValues({},en)})),[])}function usePrevious(St){const _e=React$1.useRef();return React$1.useLayoutEffect(()=>{_e.current=St}),_e.current}const StageWrap=St=>{const _e=React$1.useRef(),en=React$1.useRef(),tn=React$1.useRef(),nn=usePrevious(St),rn=useContextBridge(),sn=an=>{const{forwardedRef:on}=St;!on||(typeof on=="function"?on(an):on.current=an)};return React$1.useLayoutEffect(()=>(en.current=new Konva.Stage({width:St.width,height:St.height,container:_e.current}),sn(en.current),tn.current=KonvaRenderer.createContainer(en.current,constants.exports.LegacyRoot,!1,null),KonvaRenderer.updateContainer(jsx(rn,{children:St.children}),tn.current),()=>{!Konva.isBrowser||(sn(null),KonvaRenderer.updateContainer(null,tn.current,null),en.current.destroy())}),[]),React$1.useLayoutEffect(()=>{sn(en.current),applyNodeProps(en.current,St,nn),KonvaRenderer.updateContainer(jsx(rn,{children:St.children}),tn.current,null)}),jsx("div",{ref:_e,accessKey:St.accessKey,className:St.className,role:St.role,style:St.style,tabIndex:St.tabIndex,title:St.title})},Layer="Layer",Line="Line",Image$1="Image",Transformer="Transformer",KonvaRenderer=ReactFiberReconciler(HostConfig);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:React$1.version,rendererPackageName:"react-konva"});const Stage=React$1.forwardRef((St,_e)=>jsx(FiberProvider,{children:jsx(StageWrap,{...St,forwardedRef:_e})}));var React=react.exports,useImage=function St(_e,en,tn){const nn=React.useRef("loading"),rn=React.useRef(),[sn,an]=React.useState(0),on=React.useRef(),cn=React.useRef(),dn=React.useRef();return(on.current!==_e||cn.current!==en||dn.current!==tn)&&(nn.current="loading",rn.current=void 0,on.current=_e,cn.current=en,dn.current=tn),React.useLayoutEffect(function(){if(!_e)return;var mn=document.createElement("img");function pn(){nn.current="loaded",rn.current=mn,an(Math.random())}function fn(){nn.current="failed",rn.current=void 0,an(Math.random())}return mn.addEventListener("load",pn),mn.addEventListener("error",fn),en&&(mn.crossOrigin=en),tn&&(mn.referrerpolicy=tn),mn.src=_e,function(){mn.removeEventListener("load",pn),mn.removeEventListener("error",fn)}},[_e,en,tn]),[rn.current,nn.current]};const TransformableImage=St=>{const{isSelected:_e,sign:en}=St,tn=react.exports.useRef(null),nn=react.exports.useRef(null),[rn,sn]=react.exports.useState({x:void 0,y:void 0,width:void 0,height:void 0}),an=useSignStore(),[on]=useImage(en.url);return react.exports.useEffect(()=>{if(_e){if(!nn.current||!tn.current)return;nn.current.nodes([tn.current]);const mn=nn.current.getLayer();if(!mn)return;mn.batchDraw()}},[_e]),jsxs(Fragment,{children:[jsx(Image$1,{image:on,...rn,ref:tn,draggable:!0,onClick:()=>an.select(en.id),onTap:()=>an.select(en.id),onDragEnd:mn=>{sn({...rn,x:mn.target.x(),y:mn.target.y()})},onTransformEnd:()=>{const mn=tn.current;if(!mn)return;const pn=mn.scaleX(),fn=mn.scaleY();mn.scaleX(1),mn.scaleY(1),sn({...rn,x:mn.x(),y:mn.y(),width:mn.width()*pn,height:mn.height()*fn})}}),_e&&jsx(Transformer,{ref:nn,boundBoxFunc:(mn,pn)=>pn.width<5||pn.height<5?mn:pn})]})},PdfPreview=St=>{const{isFinish:_e}=St,en=useNavigate(),tn=react.exports.useRef(null),nn=react.exports.useRef(null),[rn,sn]=react.exports.useState({width:0,height:0}),an=useBaseFileStore(),on=useSignStore();return react.exports.useEffect(()=>{(async()=>{if(!!nn.current&&an.pdfDocProxy){const dn=await handlePdf.getPage(an.pdfDocProxy,1),mn=await handlePdf.getCanvas(dn,{containerWidth:nn.current.clientWidth-40,containerHeight:window.innerHeight-180,scale:"fullWidth"});if(!mn)return;an.setCanvasEl(mn.el),sn({width:mn.width,height:mn.height})}})()},[]),react.exports.useEffect(()=>{_e&&tn.current&&(an.setFinalData(tn.current.toDataURL()),en("/final"))},[_e]),jsx("div",{ref:nn,className:"overflow-auto py-4",style:{height:window.innerHeight-100+"px"},children:jsx(Stage,{ref:tn,width:rn.width,height:rn.height,className:"flex justify-center",children:jsxs(Layer,{children:[jsx(Image$1,{image:an.canvasEl}),on.usingList.map(cn=>jsx(TransformableImage,{sign:cn,isSelected:on.selectedId===cn.id},cn.id))]})})})},iconPlus="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA0SURBVHgB7ZGxDQBACAL5H+m/cf/FNA6AhcZKL6EihAQAwvuiLuZfJJkQPNFyLY2U/bEQNJnUCCRUv+ucAAAAAElFTkSuQmCC",MotionConfigContext=react.exports.createContext({transformPagePoint:St=>St,isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}const PresenceContext=react.exports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect,LazyContext=react.exports.createContext({strict:!1});function useVisualElement(St,_e,en,tn){const nn=useVisualElementContext(),rn=react.exports.useContext(LazyContext),sn=react.exports.useContext(PresenceContext),an=react.exports.useContext(MotionConfigContext).reducedMotion,on=react.exports.useRef();tn=tn||rn.renderer,!on.current&&tn&&(on.current=tn(St,{visualState:_e,parent:nn,props:en,presenceId:sn?sn.id:void 0,blockInitialAnimation:sn?sn.initial===!1:!1,reducedMotionConfig:an}));const cn=on.current;return useIsomorphicLayoutEffect(()=>{cn&&cn.render()}),react.exports.useEffect(()=>{cn&&cn.animationState&&cn.animationState.animateChanges()}),useIsomorphicLayoutEffect(()=>()=>cn&&cn.notify("Unmount"),[]),cn}function isRefObject(St){return typeof St=="object"&&Object.prototype.hasOwnProperty.call(St,"current")}function useMotionRef(St,_e,en){return react.exports.useCallback(tn=>{tn&&St.mount&&St.mount(tn),_e&&(tn?_e.mount(tn):_e.unmount()),en&&(typeof en=="function"?en(tn):isRefObject(en)&&(en.current=tn))},[_e])}function isVariantLabel(St){return typeof St=="string"||Array.isArray(St)}function isAnimationControls(St){return typeof St=="object"&&typeof St.start=="function"}const variantProps$1=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function isControllingVariants(St){return isAnimationControls(St.animate)||variantProps$1.some(_e=>isVariantLabel(St[_e]))}function isVariantNode(St){return Boolean(isControllingVariants(St)||St.variants)}function getCurrentTreeVariants(St,_e){if(isControllingVariants(St)){const{initial:en,animate:tn}=St;return{initial:en===!1||isVariantLabel(en)?en:void 0,animate:isVariantLabel(tn)?tn:void 0}}return St.inherit!==!1?_e:{}}function useCreateMotionContext(St){const{initial:_e,animate:en}=getCurrentTreeVariants(St,react.exports.useContext(MotionContext));return react.exports.useMemo(()=>({initial:_e,animate:en}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(en)])}function variantLabelsAsDependency(St){return Array.isArray(St)?St.join(" "):St}const createDefinition=St=>({isEnabled:_e=>St.some(en=>!!_e[en])}),featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(St){for(const _e in St)_e==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=St[_e]:featureDefinitions[_e].Component=St[_e]}function useConstant(St){const _e=react.exports.useRef(null);return _e.current===null&&(_e.current=St()),_e.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id++})}const LayoutGroupContext=react.exports.createContext({});class VisualElementHandler extends React$1.Component{getSnapshotBeforeUpdate(){const{visualElement:_e,props:en}=this.props;return _e&&_e.setProps(en),null}componentDidUpdate(){}render(){return this.props.children}}const SwitchLayoutGroupContext=react.exports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:St,createVisualElement:_e,projectionNodeConstructor:en,useRender:tn,useVisualState:nn,Component:rn}){St&&loadFeatures(St);function sn(on,cn){const dn={...react.exports.useContext(MotionConfigContext),...on,layoutId:useLayoutId(on)},{isStatic:mn}=dn;let pn=null;const fn=useCreateMotionContext(on),yn=mn?void 0:useProjectionId(),bn=nn(on,mn);if(!mn&&isBrowser){fn.visualElement=useVisualElement(rn,bn,dn,_e);const wn=react.exports.useContext(LazyContext).strict,vn=react.exports.useContext(SwitchLayoutGroupContext);fn.visualElement&&(pn=fn.visualElement.loadFeatures(dn,wn,St,yn,en||featureDefinitions.projectionNodeConstructor,vn))}return jsxs(VisualElementHandler,{visualElement:fn.visualElement,props:dn,children:[pn,jsx(MotionContext.Provider,{value:fn,children:tn(rn,on,yn,useMotionRef(bn,fn.visualElement,cn),bn,mn,fn.visualElement)})]})}const an=react.exports.forwardRef(sn);return an[motionComponentSymbol]=rn,an}function useLayoutId({layoutId:St}){const _e=react.exports.useContext(LayoutGroupContext).id;return _e&&St!==void 0?_e+"-"+St:St}function createMotionProxy(St){function _e(tn,nn={}){return createMotionComponent(St(tn,nn))}if(typeof Proxy>"u")return _e;const en=new Map;return new Proxy(_e,{get:(tn,nn)=>(en.has(nn)||en.set(nn,_e(nn)),en.get(nn))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(St){return typeof St!="string"||St.includes("-")?!1:!!(lowercaseSVGElements.indexOf(St)>-1||/[A-Z]/.test(St))}const scaleCorrectors={};function addScaleCorrector(St){Object.assign(scaleCorrectors,St)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(St,{layout:_e,layoutId:en}){return transformProps.has(St)||St.startsWith("origin")||(_e||en!==void 0)&&(!!scaleCorrectors[St]||St==="opacity")}const isMotionValue=St=>!!(St!=null&&St.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sortTransformProps=(St,_e)=>transformPropOrder.indexOf(St)-transformPropOrder.indexOf(_e);function buildTransform({transform:St,transformKeys:_e},{enableHardwareAcceleration:en=!0,allowTransformNone:tn=!0},nn,rn){let sn="";_e.sort(sortTransformProps);for(const an of _e)sn+=`${translateAlias[an]||an}(${St[an]}) `;return en&&!St.z&&(sn+="translateZ(0)"),sn=sn.trim(),rn?sn=rn(St,nn?"":sn):tn&&nn&&(sn="none"),sn}function isCSSVariable$1(St){return St.startsWith("--")}const getValueAsType=(St,_e)=>_e&&typeof St=="number"?_e.transform(St):St,clamp$1=(St,_e)=>en=>Math.max(Math.min(en,_e),St),sanitize=St=>St%1?Number(St.toFixed(5)):St,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(St){return typeof St=="string"}const number={test:St=>typeof St=="number",parse:parseFloat,transform:St=>St},alpha=Object.assign(Object.assign({},number),{transform:clamp$1(0,1)}),scale=Object.assign(Object.assign({},number),{default:1}),createUnitType=St=>({test:_e=>isString(_e)&&_e.endsWith(St)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${St}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=Object.assign(Object.assign({},percent),{parse:St=>percent.parse(St)/100,transform:St=>percent.transform(St*100)}),isColorString=(St,_e)=>en=>Boolean(isString(en)&&singleColorRegex.test(en)&&en.startsWith(St)||_e&&Object.prototype.hasOwnProperty.call(en,_e)),splitColor=(St,_e,en)=>tn=>{if(!isString(tn))return tn;const[nn,rn,sn,an]=tn.match(floatRegex);return{[St]:parseFloat(nn),[_e]:parseFloat(rn),[en]:parseFloat(sn),alpha:an!==void 0?parseFloat(an):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:St,saturation:_e,lightness:en,alpha:tn=1})=>"hsla("+Math.round(St)+", "+percent.transform(sanitize(_e))+", "+percent.transform(sanitize(en))+", "+sanitize(alpha.transform(tn))+")"},clampRgbUnit=clamp$1(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:St=>Math.round(clampRgbUnit(St))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:St,green:_e,blue:en,alpha:tn=1})=>"rgba("+rgbUnit.transform(St)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(en)+", "+sanitize(alpha.transform(tn))+")"};function parseHex(St){let _e="",en="",tn="",nn="";return St.length>5?(_e=St.substr(1,2),en=St.substr(3,2),tn=St.substr(5,2),nn=St.substr(7,2)):(_e=St.substr(1,1),en=St.substr(2,1),tn=St.substr(3,1),nn=St.substr(4,1),_e+=_e,en+=en,tn+=tn,nn+=nn),{red:parseInt(_e,16),green:parseInt(en,16),blue:parseInt(tn,16),alpha:nn?parseInt(nn,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:St=>rgba.test(St)||hex.test(St)||hsla.test(St),parse:St=>rgba.test(St)?rgba.parse(St):hsla.test(St)?hsla.parse(St):hex.parse(St),transform:St=>isString(St)?St:St.hasOwnProperty("red")?rgba.transform(St):hsla.transform(St)},colorToken="${c}",numberToken="${n}";function test(St){var _e,en,tn,nn;return isNaN(St)&&isString(St)&&((en=(_e=St.match(floatRegex))===null||_e===void 0?void 0:_e.length)!==null&&en!==void 0?en:0)+((nn=(tn=St.match(colorRegex))===null||tn===void 0?void 0:tn.length)!==null&&nn!==void 0?nn:0)>0}function analyse$1(St){typeof St=="number"&&(St=`${St}`);const _e=[];let en=0;const tn=St.match(colorRegex);tn&&(en=tn.length,St=St.replace(colorRegex,colorToken),_e.push(...tn.map(color.parse)));const nn=St.match(floatRegex);return nn&&(St=St.replace(floatRegex,numberToken),_e.push(...nn.map(number.parse))),{values:_e,numColors:en,tokenised:St}}function parse(St){return analyse$1(St).values}function createTransformer(St){const{values:_e,numColors:en,tokenised:tn}=analyse$1(St),nn=_e.length;return rn=>{let sn=tn;for(let an=0;an<nn;an++)sn=sn.replace(an<en?colorToken:numberToken,an<en?color.transform(rn[an]):sanitize(rn[an]));return sn}}const convertNumbersToZero=St=>typeof St=="number"?0:St;function getAnimatableNone$1(St){const _e=parse(St);return createTransformer(St)(_e.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(St){let[_e,en]=St.slice(0,-1).split("(");if(_e==="drop-shadow")return St;const[tn]=en.match(floatRegex)||[];if(!tn)return St;const nn=en.replace(tn,"");let rn=maxDefaults.has(_e)?1:0;return tn!==en&&(rn*=100),_e+"("+rn+nn+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter=Object.assign(Object.assign({},complex),{getAnimatableNone:St=>{const _e=St.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):St}}),int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(St,_e,en,tn){const{style:nn,vars:rn,transform:sn,transformKeys:an,transformOrigin:on}=St;an.length=0;let cn=!1,dn=!1,mn=!0;for(const pn in _e){const fn=_e[pn];if(isCSSVariable$1(pn)){rn[pn]=fn;continue}const yn=numberValueTypes[pn],bn=getValueAsType(fn,yn);if(transformProps.has(pn)){if(cn=!0,sn[pn]=bn,an.push(pn),!mn)continue;fn!==(yn.default||0)&&(mn=!1)}else pn.startsWith("origin")?(dn=!0,on[pn]=bn):nn[pn]=bn}if(_e.transform||(cn||tn?nn.transform=buildTransform(St,en,mn,tn):nn.transform&&(nn.transform="none")),dn){const{originX:pn="50%",originY:fn="50%",originZ:yn=0}=on;nn.transformOrigin=`${pn} ${fn} ${yn}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function copyRawValuesOnly(St,_e,en){for(const tn in _e)!isMotionValue(_e[tn])&&!isForcedMotionValue(tn,en)&&(St[tn]=_e[tn])}function useInitialMotionValues({transformTemplate:St},_e,en){return react.exports.useMemo(()=>{const tn=createHtmlRenderState();return buildHTMLStyles(tn,_e,{enableHardwareAcceleration:!en},St),Object.assign({},tn.vars,tn.style)},[_e])}function useStyle(St,_e,en){const tn=St.style||{},nn={};return copyRawValuesOnly(nn,tn,St),Object.assign(nn,useInitialMotionValues(St,_e,en)),St.transformValues?St.transformValues(nn):nn}function useHTMLProps(St,_e,en){const tn={},nn=useStyle(St,_e,en);return St.drag&&St.dragListener!==!1&&(tn.draggable=!1,nn.userSelect=nn.WebkitUserSelect=nn.WebkitTouchCallout="none",nn.touchAction=St.drag===!0?"none":`pan-${St.drag==="x"?"y":"x"}`),tn.style=nn,tn}const animationProps=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],tapProps=["whileTap","onTap","onTapStart","onTapCancel"],panProps=["onPan","onPanStart","onPanSessionStart","onPanEnd"],inViewProps=["whileInView","onViewportEnter","onViewportLeave","viewport"],validMotionProps=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...inViewProps,...tapProps,...animationProps,...panProps]);function isValidMotionProp(St){return validMotionProps.has(St)}let shouldForward=St=>!isValidMotionProp(St);function loadExternalIsValidProp(St){!St||(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):St(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(St){}function filterProps(St,_e,en){const tn={};for(const nn in St)(shouldForward(nn)||en===!0&&isValidMotionProp(nn)||!_e&&!isValidMotionProp(nn)||St.draggable&&nn.startsWith("onDrag"))&&(tn[nn]=St[nn]);return tn}function calcOrigin$1(St,_e,en){return typeof St=="string"?St:px.transform(_e+en*St)}function calcSVGTransformOrigin(St,_e,en){const tn=calcOrigin$1(_e,St.x,St.width),nn=calcOrigin$1(en,St.y,St.height);return`${tn} ${nn}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(St,_e,en=1,tn=0,nn=!0){St.pathLength=1;const rn=nn?dashKeys:camelKeys;St[rn.offset]=px.transform(-tn);const sn=px.transform(_e),an=px.transform(en);St[rn.array]=`${sn} ${an}`}function buildSVGAttrs(St,{attrX:_e,attrY:en,originX:tn,originY:nn,pathLength:rn,pathSpacing:sn=1,pathOffset:an=0,...on},cn,dn){buildHTMLStyles(St,on,cn,dn),St.attrs=St.style,St.style={};const{attrs:mn,style:pn,dimensions:fn}=St;mn.transform&&(fn&&(pn.transform=mn.transform),delete mn.transform),fn&&(tn!==void 0||nn!==void 0||pn.transform)&&(pn.transformOrigin=calcSVGTransformOrigin(fn,tn!==void 0?tn:.5,nn!==void 0?nn:.5)),_e!==void 0&&(mn.x=_e),en!==void 0&&(mn.y=en),rn!==void 0&&buildSVGPath(mn,rn,sn,an,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}});function useSVGProps(St,_e){const en=react.exports.useMemo(()=>{const tn=createSvgRenderState();return buildSVGAttrs(tn,_e,{enableHardwareAcceleration:!1},St.transformTemplate),{...tn.attrs,style:{...tn.style}}},[_e]);if(St.style){const tn={};copyRawValuesOnly(tn,St.style,St),en.style={...tn,...en.style}}return en}function createUseRender(St=!1){return(en,tn,nn,rn,{latestValues:sn},an)=>{const cn=(isSVGComponent(en)?useSVGProps:useHTMLProps)(tn,sn,an),mn={...filterProps(tn,typeof en=="string",St),...cn,ref:rn};return nn&&(mn["data-projection-id"]=nn),react.exports.createElement(en,mn)}}const camelToDash=St=>St.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(St,{style:_e,vars:en},tn,nn){Object.assign(St.style,_e,nn&&nn.getProjectionStyles(tn));for(const rn in en)St.style.setProperty(rn,en[rn])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function renderSVG(St,_e,en,tn){renderHTML(St,_e,void 0,tn);for(const nn in _e.attrs)St.setAttribute(camelCaseAttributes.has(nn)?nn:camelToDash(nn),_e.attrs[nn])}function scrapeMotionValuesFromProps$1(St){const{style:_e}=St,en={};for(const tn in _e)(isMotionValue(_e[tn])||isForcedMotionValue(tn,St))&&(en[tn]=_e[tn]);return en}function scrapeMotionValuesFromProps(St){const _e=scrapeMotionValuesFromProps$1(St);for(const en in St)if(isMotionValue(St[en])){const tn=en==="x"||en==="y"?"attr"+en.toUpperCase():en;_e[tn]=St[en]}return _e}function resolveVariantFromProps(St,_e,en,tn={},nn={}){return typeof _e=="function"&&(_e=_e(en!==void 0?en:St.custom,tn,nn)),typeof _e=="string"&&(_e=St.variants&&St.variants[_e]),typeof _e=="function"&&(_e=_e(en!==void 0?en:St.custom,tn,nn)),_e}const isKeyframesTarget=St=>Array.isArray(St),isCustomValue=St=>Boolean(St&&typeof St=="object"&&St.mix&&St.toValue),resolveFinalValueInKeyframes=St=>isKeyframesTarget(St)?St[St.length-1]||0:St;function resolveMotionValue(St){const _e=isMotionValue(St)?St.get():St;return isCustomValue(_e)?_e.toValue():_e}function makeState({scrapeMotionValuesFromProps:St,createRenderState:_e,onMount:en},tn,nn,rn){const sn={latestValues:makeLatestValues(tn,nn,rn,St),renderState:_e()};return en&&(sn.mount=an=>en(tn,an,sn)),sn}const makeUseVisualState=St=>(_e,en)=>{const tn=react.exports.useContext(MotionContext),nn=react.exports.useContext(PresenceContext),rn=()=>makeState(St,_e,tn,nn);return en?rn():useConstant(rn)};function makeLatestValues(St,_e,en,tn){const nn={},rn=tn(St);for(const pn in rn)nn[pn]=resolveMotionValue(rn[pn]);let{initial:sn,animate:an}=St;const on=isControllingVariants(St),cn=isVariantNode(St);_e&&cn&&!on&&St.inherit!==!1&&(sn===void 0&&(sn=_e.initial),an===void 0&&(an=_e.animate));let dn=en?en.initial===!1:!1;dn=dn||sn===!1;const mn=dn?an:sn;return mn&&typeof mn!="boolean"&&!isAnimationControls(mn)&&(Array.isArray(mn)?mn:[mn]).forEach(fn=>{const yn=resolveVariantFromProps(St,fn);if(!yn)return;const{transitionEnd:bn,transition:wn,...vn}=yn;for(const Sn in vn){let xn=vn[Sn];if(Array.isArray(xn)){const En=dn?xn.length-1:0;xn=xn[En]}xn!==null&&(nn[Sn]=xn)}for(const Sn in bn)nn[Sn]=bn[Sn]}),nn}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(St,_e,{renderState:en,latestValues:tn})=>{try{en.dimensions=typeof _e.getBBox=="function"?_e.getBBox():_e.getBoundingClientRect()}catch{en.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(en,tn,{enableHardwareAcceleration:!1},St.transformTemplate),renderSVG(_e,en)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(St,{forwardMotionProps:_e=!1},en,tn,nn){return{...isSVGComponent(St)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:en,useRender:createUseRender(_e),createVisualElement:tn,projectionNodeConstructor:nn,Component:St}}var AnimationType;(function(St){St.Animate="animate",St.Hover="whileHover",St.Tap="whileTap",St.Drag="whileDrag",St.Focus="whileFocus",St.InView="whileInView",St.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(St,_e,en,tn={passive:!0}){return St.addEventListener(_e,en,tn),()=>St.removeEventListener(_e,en)}function useDomEvent(St,_e,en,tn){react.exports.useEffect(()=>{const nn=St.current;if(en&&nn)return addDomEvent(nn,_e,en,tn)},[St,_e,en,tn])}function useFocusGesture({whileFocus:St,visualElement:_e}){const{animationState:en}=_e,tn=()=>{en&&en.setActive(AnimationType.Focus,!0)},nn=()=>{en&&en.setActive(AnimationType.Focus,!1)};useDomEvent(_e,"focus",St?tn:void 0),useDomEvent(_e,"blur",St?nn:void 0)}function isMouseEvent(St){return typeof PointerEvent<"u"&&St instanceof PointerEvent?St.pointerType==="mouse":St instanceof MouseEvent}function isTouchEvent(St){return!!St.touches}function filterPrimaryPointer(St){return _e=>{const en=_e instanceof MouseEvent;(!en||en&&_e.button===0)&&St(_e)}}const defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(St,_e="page"){const tn=St.touches[0]||St.changedTouches[0]||defaultPagePoint;return{x:tn[_e+"X"],y:tn[_e+"Y"]}}function pointFromMouse(St,_e="page"){return{x:St[_e+"X"],y:St[_e+"Y"]}}function extractEventInfo(St,_e="page"){return{point:isTouchEvent(St)?pointFromTouch(St,_e):pointFromMouse(St,_e)}}const wrapHandler=(St,_e=!1)=>{const en=tn=>St(tn,extractEventInfo(tn));return _e?filterPrimaryPointer(en):en},supportsPointerEvents=()=>isBrowser&&window.onpointerdown===null,supportsTouchEvents=()=>isBrowser&&window.ontouchstart===null,supportsMouseEvents=()=>isBrowser&&window.onmousedown===null,mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(St){return supportsPointerEvents()?St:supportsTouchEvents()?touchEventNames[St]:supportsMouseEvents()?mouseEventNames[St]:St}function addPointerEvent(St,_e,en,tn){return addDomEvent(St,getPointerEventName(_e),wrapHandler(en,_e==="pointerdown"),tn)}function usePointerEvent(St,_e,en,tn){return useDomEvent(St,getPointerEventName(_e),en&&wrapHandler(en,_e==="pointerdown"),tn)}function createLock(St){let _e=null;return()=>{const en=()=>{_e=null};return _e===null?(_e=St,en):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(St){let _e=!1;if(St==="y")_e=globalVerticalLock();else if(St==="x")_e=globalHorizontalLock();else{const en=globalHorizontalLock(),tn=globalVerticalLock();en&&tn?_e=()=>{en(),tn()}:(en&&en(),tn&&tn())}return _e}function isDragActive(){const St=getGlobalLock(!0);return St?(St(),!1):!0}function createHoverEvent(St,_e,en){return(tn,nn)=>{!isMouseEvent(tn)||isDragActive()||(St.animationState&&St.animationState.setActive(AnimationType.Hover,_e),en&&en(tn,nn))}}function useHoverGesture({onHoverStart:St,onHoverEnd:_e,whileHover:en,visualElement:tn}){usePointerEvent(tn,"pointerenter",St||en?createHoverEvent(tn,!0,St):void 0,{passive:!St}),usePointerEvent(tn,"pointerleave",_e||en?createHoverEvent(tn,!1,_e):void 0,{passive:!_e})}const isNodeOrChild=(St,_e)=>_e?St===_e?!0:isNodeOrChild(St,_e.parentElement):!1;function useUnmountEffect(St){return react.exports.useEffect(()=>()=>St(),[])}function __rest(St,_e){var en={};for(var tn in St)Object.prototype.hasOwnProperty.call(St,tn)&&_e.indexOf(tn)<0&&(en[tn]=St[tn]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nn=0,tn=Object.getOwnPropertySymbols(St);nn<tn.length;nn++)_e.indexOf(tn[nn])<0&&Object.prototype.propertyIsEnumerable.call(St,tn[nn])&&(en[tn[nn]]=St[tn[nn]]);return en}var warning=function(){},invariant=function(){};const clamp=(St,_e,en)=>Math.min(Math.max(en,St),_e),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:St=800,bounce:_e=.25,velocity:en=0,mass:tn=1}){let nn,rn;warning(St<=maxDuration*1e3);let sn=1-_e;sn=clamp(minDamping,maxDamping,sn),St=clamp(minDuration,maxDuration,St/1e3),sn<1?(nn=cn=>{const dn=cn*sn,mn=dn*St,pn=dn-en,fn=calcAngularFreq(cn,sn),yn=Math.exp(-mn);return safeMin-pn/fn*yn},rn=cn=>{const mn=cn*sn*St,pn=mn*en+en,fn=Math.pow(sn,2)*Math.pow(cn,2)*St,yn=Math.exp(-mn),bn=calcAngularFreq(Math.pow(cn,2),sn);return(-nn(cn)+safeMin>0?-1:1)*((pn-fn)*yn)/bn}):(nn=cn=>{const dn=Math.exp(-cn*St),mn=(cn-en)*St+1;return-safeMin+dn*mn},rn=cn=>{const dn=Math.exp(-cn*St),mn=(en-cn)*(St*St);return dn*mn});const an=5/St,on=approximateRoot(nn,rn,an);if(St=St*1e3,isNaN(on))return{stiffness:100,damping:10,duration:St};{const cn=Math.pow(on,2)*tn;return{stiffness:cn,damping:sn*2*Math.sqrt(tn*cn),duration:St}}}const rootIterations=12;function approximateRoot(St,_e,en){let tn=en;for(let nn=1;nn<rootIterations;nn++)tn=tn-St(tn)/_e(tn);return tn}function calcAngularFreq(St,_e){return St*Math.sqrt(1-_e*_e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(St,_e){return _e.some(en=>St[en]!==void 0)}function getSpringOptions(St){let _e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},St);if(!isSpringType(St,physicsKeys)&&isSpringType(St,durationKeys)){const en=findSpring(St);_e=Object.assign(Object.assign(Object.assign({},_e),en),{velocity:0,mass:1}),_e.isResolvedFromDuration=!0}return _e}function spring(St){var{from:_e=0,to:en=1,restSpeed:tn=2,restDelta:nn}=St,rn=__rest(St,["from","to","restSpeed","restDelta"]);const sn={done:!1,value:_e};let{stiffness:an,damping:on,mass:cn,velocity:dn,duration:mn,isResolvedFromDuration:pn}=getSpringOptions(rn),fn=zero,yn=zero;function bn(){const wn=dn?-(dn/1e3):0,vn=en-_e,Sn=on/(2*Math.sqrt(an*cn)),xn=Math.sqrt(an/cn)/1e3;if(nn===void 0&&(nn=Math.min(Math.abs(en-_e)/100,.4)),Sn<1){const En=calcAngularFreq(xn,Sn);fn=Cn=>{const kn=Math.exp(-Sn*xn*Cn);return en-kn*((wn+Sn*xn*vn)/En*Math.sin(En*Cn)+vn*Math.cos(En*Cn))},yn=Cn=>{const kn=Math.exp(-Sn*xn*Cn);return Sn*xn*kn*(Math.sin(En*Cn)*(wn+Sn*xn*vn)/En+vn*Math.cos(En*Cn))-kn*(Math.cos(En*Cn)*(wn+Sn*xn*vn)-En*vn*Math.sin(En*Cn))}}else if(Sn===1)fn=En=>en-Math.exp(-xn*En)*(vn+(wn+xn*vn)*En);else{const En=xn*Math.sqrt(Sn*Sn-1);fn=Cn=>{const kn=Math.exp(-Sn*xn*Cn),In=Math.min(En*Cn,300);return en-kn*((wn+Sn*xn*vn)*Math.sinh(In)+En*vn*Math.cosh(In))/En}}}return bn(),{next:wn=>{const vn=fn(wn);if(pn)sn.done=wn>=mn;else{const Sn=yn(wn)*1e3,xn=Math.abs(Sn)<=tn,En=Math.abs(en-vn)<=nn;sn.done=xn&&En}return sn.value=sn.done?en:vn,sn},flipTarget:()=>{dn=-dn,[_e,en]=[en,_e],bn()}}}spring.needsInterpolation=(St,_e)=>typeof St=="string"||typeof _e=="string";const zero=St=>0,progress=(St,_e,en)=>{const tn=_e-St;return tn===0?1:(en-St)/tn},mix=(St,_e,en)=>-en*St+en*_e+St;function hueToRgb(St,_e,en){return en<0&&(en+=1),en>1&&(en-=1),en<1/6?St+(_e-St)*6*en:en<1/2?_e:en<2/3?St+(_e-St)*(2/3-en)*6:St}function hslaToRgba({hue:St,saturation:_e,lightness:en,alpha:tn}){St/=360,_e/=100,en/=100;let nn=0,rn=0,sn=0;if(!_e)nn=rn=sn=en;else{const an=en<.5?en*(1+_e):en+_e-en*_e,on=2*en-an;nn=hueToRgb(on,an,St+1/3),rn=hueToRgb(on,an,St),sn=hueToRgb(on,an,St-1/3)}return{red:Math.round(nn*255),green:Math.round(rn*255),blue:Math.round(sn*255),alpha:tn}}const mixLinearColor=(St,_e,en)=>{const tn=St*St,nn=_e*_e;return Math.sqrt(Math.max(0,en*(nn-tn)+tn))},colorTypes=[hex,rgba,hsla],getColorType=St=>colorTypes.find(_e=>_e.test(St)),mixColor=(St,_e)=>{let en=getColorType(St),tn=getColorType(_e),nn=en.parse(St),rn=tn.parse(_e);en===hsla&&(nn=hslaToRgba(nn),en=rgba),tn===hsla&&(rn=hslaToRgba(rn),tn=rgba);const sn=Object.assign({},nn);return an=>{for(const on in sn)on!=="alpha"&&(sn[on]=mixLinearColor(nn[on],rn[on],an));return sn.alpha=mix(nn.alpha,rn.alpha,an),en.transform(sn)}},isNum=St=>typeof St=="number",combineFunctions=(St,_e)=>en=>_e(St(en)),pipe=(...St)=>St.reduce(combineFunctions);function getMixer(St,_e){return isNum(St)?en=>mix(St,_e,en):color.test(St)?mixColor(St,_e):mixComplex(St,_e)}const mixArray=(St,_e)=>{const en=[...St],tn=en.length,nn=St.map((rn,sn)=>getMixer(rn,_e[sn]));return rn=>{for(let sn=0;sn<tn;sn++)en[sn]=nn[sn](rn);return en}},mixObject=(St,_e)=>{const en=Object.assign(Object.assign({},St),_e),tn={};for(const nn in en)St[nn]!==void 0&&_e[nn]!==void 0&&(tn[nn]=getMixer(St[nn],_e[nn]));return nn=>{for(const rn in tn)en[rn]=tn[rn](nn);return en}};function analyse(St){const _e=complex.parse(St),en=_e.length;let tn=0,nn=0,rn=0;for(let sn=0;sn<en;sn++)tn||typeof _e[sn]=="number"?tn++:_e[sn].hue!==void 0?rn++:nn++;return{parsed:_e,numNumbers:tn,numRGB:nn,numHSL:rn}}const mixComplex=(St,_e)=>{const en=complex.createTransformer(_e),tn=analyse(St),nn=analyse(_e);return tn.numHSL===nn.numHSL&&tn.numRGB===nn.numRGB&&tn.numNumbers>=nn.numNumbers?pipe(mixArray(tn.parsed,nn.parsed),en):sn=>`${sn>0?_e:St}`},mixNumber=(St,_e)=>en=>mix(St,_e,en);function detectMixerFactory(St){if(typeof St=="number")return mixNumber;if(typeof St=="string")return color.test(St)?mixColor:mixComplex;if(Array.isArray(St))return mixArray;if(typeof St=="object")return mixObject}function createMixers(St,_e,en){const tn=[],nn=en||detectMixerFactory(St[0]),rn=St.length-1;for(let sn=0;sn<rn;sn++){let an=nn(St[sn],St[sn+1]);if(_e){const on=Array.isArray(_e)?_e[sn]:_e;an=pipe(on,an)}tn.push(an)}return tn}function fastInterpolate([St,_e],[en]){return tn=>en(progress(St,_e,tn))}function slowInterpolate(St,_e){const en=St.length,tn=en-1;return nn=>{let rn=0,sn=!1;if(nn<=St[0]?sn=!0:nn>=St[tn]&&(rn=tn-1,sn=!0),!sn){let on=1;for(;on<en&&!(St[on]>nn||on===tn);on++);rn=on-1}const an=progress(St[rn],St[rn+1],nn);return _e[rn](an)}}function interpolate(St,_e,{clamp:en=!0,ease:tn,mixer:nn}={}){const rn=St.length;invariant(rn===_e.length),invariant(!tn||!Array.isArray(tn)||tn.length===rn-1),St[0]>St[rn-1]&&(St=[].concat(St),_e=[].concat(_e),St.reverse(),_e.reverse());const sn=createMixers(_e,tn,nn),an=rn===2?fastInterpolate(St,sn):slowInterpolate(St,sn);return en?on=>an(clamp(St[0],St[rn-1],on)):an}const reverseEasing=St=>_e=>1-St(1-_e),mirrorEasing=St=>_e=>_e<=.5?St(2*_e)/2:(2-St(2*(1-_e)))/2,createExpoIn=St=>_e=>Math.pow(_e,St),createBackIn=St=>_e=>_e*_e*((St+1)*_e-St),createAnticipate=St=>{const _e=createBackIn(St);return en=>(en*=2)<1?.5*_e(en):.5*(2-Math.pow(2,-10*(en-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=St=>St,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=St=>1-Math.sin(Math.acos(St)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=St=>{if(St===1||St===0)return St;const _e=St*St;return St<BOUNCE_FIRST_THRESHOLD?7.5625*_e:St<BOUNCE_SECOND_THRESHOLD?9.075*_e-9.9*St+3.4:St<BOUNCE_THIRD_THRESHOLD?ca*_e-cb*St+cc:10.8*St*St-20.52*St+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=St=>St<.5?.5*(1-bounceOut(1-St*2)):.5*bounceOut(St*2-1)+.5;function defaultEasing(St,_e){return St.map(()=>_e||easeInOut).splice(0,St.length-1)}function defaultOffset(St){const _e=St.length;return St.map((en,tn)=>tn!==0?tn/(_e-1):0)}function convertOffsetToTimes(St,_e){return St.map(en=>en*_e)}function keyframes$1({from:St=0,to:_e=1,ease:en,offset:tn,duration:nn=300}){const rn={done:!1,value:St},sn=Array.isArray(_e)?_e:[St,_e],an=convertOffsetToTimes(tn&&tn.length===sn.length?tn:defaultOffset(sn),nn);function on(){return interpolate(an,sn,{ease:Array.isArray(en)?en:defaultEasing(sn,en)})}let cn=on();return{next:dn=>(rn.value=cn(dn),rn.done=dn>=nn,rn),flipTarget:()=>{sn.reverse(),cn=on()}}}function decay({velocity:St=0,from:_e=0,power:en=.8,timeConstant:tn=350,restDelta:nn=.5,modifyTarget:rn}){const sn={done:!1,value:_e};let an=en*St;const on=_e+an,cn=rn===void 0?on:rn(on);return cn!==on&&(an=cn-_e),{next:dn=>{const mn=-an*Math.exp(-dn/tn);return sn.done=!(mn>nn||mn<-nn),sn.value=sn.done?cn:cn+mn,sn},flipTarget:()=>{}}}const types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(St){if(Array.isArray(St.to))return keyframes$1;if(types[St.type])return types[St.type];const _e=new Set(Object.keys(St));return _e.has("ease")||_e.has("duration")&&!_e.has("dampingRatio")?keyframes$1:_e.has("dampingRatio")||_e.has("stiffness")||_e.has("mass")||_e.has("damping")||_e.has("restSpeed")||_e.has("restDelta")?spring:keyframes$1}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?St=>window.requestAnimationFrame(St):St=>setTimeout(()=>St(getCurrentTime()),defaultTimestep);function createRenderStep(St){let _e=[],en=[],tn=0,nn=!1,rn=!1;const sn=new WeakSet,an={schedule:(on,cn=!1,dn=!1)=>{const mn=dn&&nn,pn=mn?_e:en;return cn&&sn.add(on),pn.indexOf(on)===-1&&(pn.push(on),mn&&nn&&(tn=_e.length)),on},cancel:on=>{const cn=en.indexOf(on);cn!==-1&&en.splice(cn,1),sn.delete(on)},process:on=>{if(nn){rn=!0;return}if(nn=!0,[_e,en]=[en,_e],en.length=0,tn=_e.length,tn)for(let cn=0;cn<tn;cn++){const dn=_e[cn];dn(on),sn.has(dn)&&(an.schedule(dn),St())}nn=!1,rn&&(rn=!1,an.process(on))}};return an}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((St,_e)=>(St[_e]=createRenderStep(()=>runNextFrame=!0),St),{}),sync=stepsOrder.reduce((St,_e)=>{const en=steps[_e];return St[_e]=(tn,nn=!1,rn=!1)=>(runNextFrame||startLoop(),en.schedule(tn,nn,rn)),St},{}),cancelSync=stepsOrder.reduce((St,_e)=>(St[_e]=steps[_e].cancel,St),{}),flushSync=stepsOrder.reduce((St,_e)=>(St[_e]=()=>steps[_e].process(frame),St),{}),processStep=St=>steps[St].process(frame),processFrame=St=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(St-frame.timestamp,maxElapsed),1),frame.timestamp=St,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function loopElapsed(St,_e,en=0){return St-_e-en}function reverseElapsed(St,_e,en=0,tn=!0){return tn?loopElapsed(_e+-St,_e,en):_e-(St-_e)+en}function hasRepeatDelayElapsed(St,_e,en,tn){return tn?St>=_e+en:St<=-en}const framesync=St=>{const _e=({delta:en})=>St(en);return{start:()=>sync.update(_e,!0),stop:()=>cancelSync.update(_e)}};function animate$1(St){var _e,en,{from:tn,autoplay:nn=!0,driver:rn=framesync,elapsed:sn=0,repeat:an=0,repeatType:on="loop",repeatDelay:cn=0,onPlay:dn,onStop:mn,onComplete:pn,onRepeat:fn,onUpdate:yn}=St,bn=__rest(St,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:wn}=bn,vn,Sn=0,xn=bn.duration,En,Cn=!1,kn=!0,In;const Dn=detectAnimationFromOptions(bn);!((en=(_e=Dn).needsInterpolation)===null||en===void 0)&&en.call(_e,tn,wn)&&(In=interpolate([0,100],[tn,wn],{clamp:!1}),tn=0,wn=100);const Wn=Dn(Object.assign(Object.assign({},bn),{from:tn,to:wn}));function Vn(){Sn++,on==="reverse"?(kn=Sn%2===0,sn=reverseElapsed(sn,xn,cn,kn)):(sn=loopElapsed(sn,xn,cn),on==="mirror"&&Wn.flipTarget()),Cn=!1,fn&&fn()}function On(){vn.stop(),pn&&pn()}function zn(Yn){if(kn||(Yn=-Yn),sn+=Yn,!Cn){const ar=Wn.next(Math.max(0,sn));En=ar.value,In&&(En=In(En)),Cn=kn?ar.done:sn<=0}yn==null||yn(En),Cn&&(Sn===0&&(xn!=null||(xn=sn)),Sn<an?hasRepeatDelayElapsed(sn,xn,cn,kn)&&Vn():On())}function nr(){dn==null||dn(),vn=rn(zn),vn.start()}return nn&&nr(),{stop:()=>{mn==null||mn(),vn.stop()}}}function velocityPerSecond(St,_e){return _e?St*(1e3/_e):0}function inertia({from:St=0,velocity:_e=0,min:en,max:tn,power:nn=.8,timeConstant:rn=750,bounceStiffness:sn=500,bounceDamping:an=10,restDelta:on=1,modifyTarget:cn,driver:dn,onUpdate:mn,onComplete:pn,onStop:fn}){let yn;function bn(xn){return en!==void 0&&xn<en||tn!==void 0&&xn>tn}function wn(xn){return en===void 0?tn:tn===void 0||Math.abs(en-xn)<Math.abs(tn-xn)?en:tn}function vn(xn){yn==null||yn.stop(),yn=animate$1(Object.assign(Object.assign({},xn),{driver:dn,onUpdate:En=>{var Cn;mn==null||mn(En),(Cn=xn.onUpdate)===null||Cn===void 0||Cn.call(xn,En)},onComplete:pn,onStop:fn}))}function Sn(xn){vn(Object.assign({type:"spring",stiffness:sn,damping:an,restDelta:on},xn))}if(bn(St))Sn({from:St,velocity:_e,to:wn(St)});else{let xn=nn*_e+St;typeof cn<"u"&&(xn=cn(xn));const En=wn(xn),Cn=En===en?-1:1;let kn,In;const Dn=Wn=>{kn=In,In=Wn,_e=velocityPerSecond(Wn-kn,getFrameData().delta),(Cn===1&&Wn>En||Cn===-1&&Wn<En)&&Sn({from:Wn,to:En,velocity:_e})};vn({type:"decay",from:St,velocity:_e,timeConstant:rn,power:nn,restDelta:on,modifyTarget:cn,onUpdate:bn(xn)?Dn:void 0})}return{stop:()=>yn==null?void 0:yn.stop()}}const isPoint=St=>St.hasOwnProperty("x")&&St.hasOwnProperty("y"),isPoint3D=St=>isPoint(St)&&St.hasOwnProperty("z"),distance1D=(St,_e)=>Math.abs(St-_e);function distance(St,_e){if(isNum(St)&&isNum(_e))return distance1D(St,_e);if(isPoint(St)&&isPoint(_e)){const en=distance1D(St.x,_e.x),tn=distance1D(St.y,_e.y),nn=isPoint3D(St)&&isPoint3D(_e)?distance1D(St.z,_e.z):0;return Math.sqrt(Math.pow(en,2)+Math.pow(tn,2)+Math.pow(nn,2))}}const a$1=(St,_e)=>1-3*_e+3*St,b$1=(St,_e)=>3*_e-6*St,c$1=St=>3*St,calcBezier=(St,_e,en)=>((a$1(_e,en)*St+b$1(_e,en))*St+c$1(_e))*St,getSlope=(St,_e,en)=>3*a$1(_e,en)*St*St+2*b$1(_e,en)*St+c$1(_e),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(St,_e,en,tn,nn){let rn,sn,an=0;do sn=_e+(en-_e)/2,rn=calcBezier(sn,tn,nn)-St,rn>0?en=sn:_e=sn;while(Math.abs(rn)>subdivisionPrecision&&++an<subdivisionMaxIterations);return sn}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(St,_e,en,tn){for(let nn=0;nn<newtonIterations;++nn){const rn=getSlope(_e,en,tn);if(rn===0)return _e;const sn=calcBezier(_e,en,tn)-St;_e-=sn/rn}return _e}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(St,_e,en,tn){if(St===_e&&en===tn)return linear;const nn=new Float32Array(kSplineTableSize);for(let sn=0;sn<kSplineTableSize;++sn)nn[sn]=calcBezier(sn*kSampleStepSize,St,en);function rn(sn){let an=0,on=1;const cn=kSplineTableSize-1;for(;on!==cn&&nn[on]<=sn;++on)an+=kSampleStepSize;--on;const dn=(sn-nn[on])/(nn[on+1]-nn[on]),mn=an+dn*kSampleStepSize,pn=getSlope(mn,St,en);return pn>=newtonMinSlope?newtonRaphsonIterate(sn,mn,St,en):pn===0?mn:binarySubdivide(sn,an,an+kSampleStepSize,St,en)}return sn=>sn===0||sn===1?sn:calcBezier(rn(sn),_e,tn)}function useTapGesture({onTap:St,onTapStart:_e,onTapCancel:en,whileTap:tn,visualElement:nn}){const rn=St||_e||en||tn,sn=react.exports.useRef(!1),an=react.exports.useRef(null),on={passive:!(_e||St||en||fn)};function cn(){an.current&&an.current(),an.current=null}function dn(){return cn(),sn.current=!1,nn.animationState&&nn.animationState.setActive(AnimationType.Tap,!1),!isDragActive()}function mn(yn,bn){!dn()||(isNodeOrChild(nn.current,yn.target)?St&&St(yn,bn):en&&en(yn,bn))}function pn(yn,bn){!dn()||en&&en(yn,bn)}function fn(yn,bn){cn(),!sn.current&&(sn.current=!0,an.current=pipe(addPointerEvent(window,"pointerup",mn,on),addPointerEvent(window,"pointercancel",pn,on)),nn.animationState&&nn.animationState.setActive(AnimationType.Tap,!0),_e&&_e(yn,bn))}usePointerEvent(nn,"pointerdown",rn?fn:void 0,on),useUnmountEffect(cn)}const defaultEnvironment="production",env=typeof process>"u"||process.env===void 0?defaultEnvironment:"production",warned=new Set;function warnOnce(St,_e,en){St||warned.has(_e)||(console.warn(_e),en&&console.warn(en),warned.add(_e))}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=St=>{const _e=observerCallbacks.get(St.target);_e&&_e(St)},fireAllObserverCallbacks=St=>{St.forEach(fireObserverCallback)};function initIntersectionObserver({root:St,..._e}){const en=St||document;observers.has(en)||observers.set(en,{});const tn=observers.get(en),nn=JSON.stringify(_e);return tn[nn]||(tn[nn]=new IntersectionObserver(fireAllObserverCallbacks,{root:St,..._e})),tn[nn]}function observeIntersection(St,_e,en){const tn=initIntersectionObserver(_e);return observerCallbacks.set(St,en),tn.observe(St),()=>{observerCallbacks.delete(St),tn.unobserve(St)}}function useViewport({visualElement:St,whileInView:_e,onViewportEnter:en,onViewportLeave:tn,viewport:nn={}}){const rn=react.exports.useRef({hasEnteredView:!1,isInView:!1});let sn=Boolean(_e||en||tn);nn.once&&rn.current.hasEnteredView&&(sn=!1),(typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver)(sn,rn.current,St,nn)}const thresholdNames={some:0,all:1};function useIntersectionObserver(St,_e,en,{root:tn,margin:nn,amount:rn="some",once:sn}){react.exports.useEffect(()=>{if(!St||!en.current)return;const an={root:tn==null?void 0:tn.current,rootMargin:nn,threshold:typeof rn=="number"?rn:thresholdNames[rn]},on=cn=>{const{isIntersecting:dn}=cn;if(_e.isInView===dn||(_e.isInView=dn,sn&&!dn&&_e.hasEnteredView))return;dn&&(_e.hasEnteredView=!0),en.animationState&&en.animationState.setActive(AnimationType.InView,dn);const mn=en.getProps(),pn=dn?mn.onViewportEnter:mn.onViewportLeave;pn&&pn(cn)};return observeIntersection(en.current,an,on)},[St,tn,nn,rn])}function useMissingIntersectionObserver(St,_e,en,{fallback:tn=!0}){react.exports.useEffect(()=>{!St||!tn||(env!=="production"&&warnOnce(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{_e.hasEnteredView=!0;const{onViewportEnter:nn}=en.getProps();nn&&nn(null),en.animationState&&en.animationState.setActive(AnimationType.InView,!0)}))},[St])}const makeRenderlessComponent=St=>_e=>(St(_e),null),gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function usePresence(){const St=react.exports.useContext(PresenceContext);if(St===null)return[!0,null];const{isPresent:_e,onExitComplete:en,register:tn}=St,nn=react.exports.useId();return react.exports.useEffect(()=>tn(nn),[]),!_e&&en?[!1,()=>en&&en(nn)]:[!0]}function shallowCompare(St,_e){if(!Array.isArray(_e))return!1;const en=_e.length;if(en!==St.length)return!1;for(let tn=0;tn<en;tn++)if(_e[tn]!==St[tn])return!1;return!0}const secondsToMilliseconds=St=>St*1e3,easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=St=>{if(Array.isArray(St)){invariant(St.length===4);const[_e,en,tn,nn]=St;return cubicBezier(_e,en,tn,nn)}else if(typeof St=="string")return easingLookup[St];return St},isEasingArray=St=>Array.isArray(St)&&typeof St[0]!="number",isAnimatable=(St,_e)=>St==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&complex.test(_e)&&!_e.startsWith("url(")),underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),criticallyDampedSpring=St=>({type:"spring",stiffness:550,damping:St===0?2*Math.sqrt(550):30,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:.3}),keyframes=St=>({type:"keyframes",duration:.8,values:St}),defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=(St,_e)=>{let en;return isKeyframesTarget(_e)?en=keyframes:en=defaultTransitions[St]||defaultTransitions.default,{to:_e,...en(_e)}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=St=>defaultValueTypes[St];function getAnimatableNone(St,_e){var en;let tn=getDefaultValueType(St);return tn!==filter&&(tn=complex),(en=tn.getAnimatableNone)===null||en===void 0?void 0:en.call(tn,_e)}const instantAnimationState={current:!1};function delay(St,_e){const en=performance.now(),tn=({timestamp:nn})=>{const rn=nn-en;rn>=_e&&(cancelSync.read(tn),St(rn-_e))};return sync.read(tn,!0),()=>cancelSync.read(tn)}function isTransitionDefined({when:St,delay:_e,delayChildren:en,staggerChildren:tn,staggerDirection:nn,repeat:rn,repeatType:sn,repeatDelay:an,from:on,...cn}){return!!Object.keys(cn).length}function convertTransitionToAnimationOptions({ease:St,times:_e,yoyo:en,flip:tn,loop:nn,...rn}){const sn={...rn};return _e&&(sn.offset=_e),rn.duration&&(sn.duration=secondsToMilliseconds(rn.duration)),rn.repeatDelay&&(sn.repeatDelay=secondsToMilliseconds(rn.repeatDelay)),St&&(sn.ease=isEasingArray(St)?St.map(easingDefinitionToFunction):easingDefinitionToFunction(St)),rn.type==="tween"&&(sn.type="keyframes"),(en||nn||tn)&&(en?sn.repeatType="reverse":nn?sn.repeatType="loop":tn&&(sn.repeatType="mirror"),sn.repeat=nn||en||tn||rn.repeat),rn.type!=="spring"&&(sn.type="keyframes"),sn}function getDelayFromTransition(St,_e){var en,tn;return(tn=(en=(getValueTransition(St,_e)||{}).delay)!==null&&en!==void 0?en:St.delay)!==null&&tn!==void 0?tn:0}function hydrateKeyframes(St){return Array.isArray(St.to)&&St.to[0]===null&&(St.to=[...St.to],St.to[0]=St.from),St}function getPopmotionAnimationOptions(St,_e,en){return Array.isArray(_e.to)&&St.duration===void 0&&(St.duration=.8),hydrateKeyframes(_e),isTransitionDefined(St)||(St={...St,...getDefaultTransition(en,_e.to)}),{..._e,...convertTransitionToAnimationOptions(St)}}function getAnimation(St,_e,en,tn,nn){const rn=getValueTransition(tn,St)||{};let sn=rn.from!==void 0?rn.from:_e.get();const an=isAnimatable(St,en);sn==="none"&&an&&typeof en=="string"?sn=getAnimatableNone(St,en):isZero(sn)&&typeof en=="string"?sn=getZeroUnit(en):!Array.isArray(en)&&isZero(en)&&typeof sn=="string"&&(en=getZeroUnit(sn));const on=isAnimatable(St,sn);function cn(){const mn={from:sn,to:en,velocity:_e.getVelocity(),onComplete:nn,onUpdate:pn=>_e.set(pn)};return rn.type==="inertia"||rn.type==="decay"?inertia({...mn,...rn}):animate$1({...getPopmotionAnimationOptions(rn,mn,St),onUpdate:pn=>{mn.onUpdate(pn),rn.onUpdate&&rn.onUpdate(pn)},onComplete:()=>{mn.onComplete(),rn.onComplete&&rn.onComplete()}})}function dn(){const mn=resolveFinalValueInKeyframes(en);return _e.set(mn),nn(),rn.onUpdate&&rn.onUpdate(mn),rn.onComplete&&rn.onComplete(),{stop:()=>{}}}return!on||!an||rn.type===!1?dn:cn}function isZero(St){return St===0||typeof St=="string"&&parseFloat(St)===0&&St.indexOf(" ")===-1}function getZeroUnit(St){return typeof St=="number"?0:getAnimatableNone("",St)}function getValueTransition(St,_e){return St[_e]||St.default||St}function startAnimation(St,_e,en,tn={}){return instantAnimationState.current&&(tn={type:!1}),_e.start(nn=>{let rn;const sn=getAnimation(St,_e,en,tn,nn),an=getDelayFromTransition(tn,St),on=()=>rn=sn();let cn;return an?cn=delay(on,secondsToMilliseconds(an)):on(),()=>{cn&&cn(),rn&&rn.stop()}})}const isNumericalString=St=>/^\-?\d*\.?\d+$/.test(St),isZeroValueString=St=>/^0[^.\s]+$/.test(St);function addUniqueItem(St,_e){St.indexOf(_e)===-1&&St.push(_e)}function removeItem(St,_e){const en=St.indexOf(_e);en>-1&&St.splice(en,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,en,tn){const nn=this.subscriptions.length;if(!!nn)if(nn===1)this.subscriptions[0](_e,en,tn);else for(let rn=0;rn<nn;rn++){const sn=this.subscriptions[rn];sn&&sn(_e,en,tn)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=St=>!isNaN(parseFloat(St));class MotionValue{constructor(_e){this.version="7.6.7",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=(en,tn=!0)=>{this.prev=this.current,this.current=en;const{delta:nn,timestamp:rn}=getFrameData();this.lastUpdated!==rn&&(this.timeDelta=nn,this.lastUpdated=rn,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),tn&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:en})=>{en!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=_e,this.canTrackVelocity=isFloat(this.current)}onChange(_e){return this.updateSubscribers.add(_e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(_e){return _e(this.get()),this.renderSubscribers.add(_e)}attach(_e){this.passiveEffect=_e}set(_e,en=!0){!en||!this.passiveEffect?this.updateAndNotify(_e,en):this.passiveEffect(_e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(_e){return this.stop(),new Promise(en=>{this.hasAnimated=!0,this.stopAnimation=_e(en)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function motionValue(St){return new MotionValue(St)}const testValueType=St=>_e=>_e.test(St),auto={test:St=>St==="auto",parse:St=>St},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=St=>dimensionValueTypes.find(testValueType(St)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=St=>valueTypes.find(testValueType(St));function getCurrent(St){const _e={};return St.values.forEach((en,tn)=>_e[tn]=en.get()),_e}function getVelocity$1(St){const _e={};return St.values.forEach((en,tn)=>_e[tn]=en.getVelocity()),_e}function resolveVariant(St,_e,en){const tn=St.getProps();return resolveVariantFromProps(tn,_e,en!==void 0?en:tn.custom,getCurrent(St),getVelocity$1(St))}function setMotionValue(St,_e,en){St.hasValue(_e)?St.getValue(_e).set(en):St.addValue(_e,motionValue(en))}function setTarget(St,_e){const en=resolveVariant(St,_e);let{transitionEnd:tn={},transition:nn={},...rn}=en?St.makeTargetAnimatable(en,!1):{};rn={...rn,...tn};for(const sn in rn){const an=resolveFinalValueInKeyframes(rn[sn]);setMotionValue(St,sn,an)}}function checkTargetForNewValues(St,_e,en){var tn,nn;const rn=Object.keys(_e).filter(an=>!St.hasValue(an)),sn=rn.length;if(!!sn)for(let an=0;an<sn;an++){const on=rn[an],cn=_e[on];let dn=null;Array.isArray(cn)&&(dn=cn[0]),dn===null&&(dn=(nn=(tn=en[on])!==null&&tn!==void 0?tn:St.readValue(on))!==null&&nn!==void 0?nn:_e[on]),dn!=null&&(typeof dn=="string"&&(isNumericalString(dn)||isZeroValueString(dn))?dn=parseFloat(dn):!findValueType(dn)&&complex.test(cn)&&(dn=getAnimatableNone(on,cn)),St.addValue(on,motionValue(dn)),en[on]===void 0&&(en[on]=dn),dn!==null&&St.setBaseTarget(on,dn))}}function getOriginFromTransition(St,_e){return _e?(_e[St]||_e.default||_e).from:void 0}function getOrigin(St,_e,en){var tn;const nn={};for(const rn in St){const sn=getOriginFromTransition(rn,_e);nn[rn]=sn!==void 0?sn:(tn=en.getValue(rn))===null||tn===void 0?void 0:tn.get()}return nn}function isWillChangeMotionValue(St){return Boolean(isMotionValue(St)&&St.add)}function animateVisualElement(St,_e,en={}){St.notify("AnimationStart",_e);let tn;if(Array.isArray(_e)){const nn=_e.map(rn=>animateVariant(St,rn,en));tn=Promise.all(nn)}else if(typeof _e=="string")tn=animateVariant(St,_e,en);else{const nn=typeof _e=="function"?resolveVariant(St,_e,en.custom):_e;tn=animateTarget(St,nn,en)}return tn.then(()=>St.notify("AnimationComplete",_e))}function animateVariant(St,_e,en={}){var tn;const nn=resolveVariant(St,_e,en.custom);let{transition:rn=St.getDefaultTransition()||{}}=nn||{};en.transitionOverride&&(rn=en.transitionOverride);const sn=nn?()=>animateTarget(St,nn,en):()=>Promise.resolve(),an=!((tn=St.variantChildren)===null||tn===void 0)&&tn.size?(cn=0)=>{const{delayChildren:dn=0,staggerChildren:mn,staggerDirection:pn}=rn;return animateChildren(St,_e,dn+cn,mn,pn,en)}:()=>Promise.resolve(),{when:on}=rn;if(on){const[cn,dn]=on==="beforeChildren"?[sn,an]:[an,sn];return cn().then(dn)}else return Promise.all([sn(),an(en.delay)])}function animateTarget(St,_e,{delay:en=0,transitionOverride:tn,type:nn}={}){var rn;let{transition:sn=St.getDefaultTransition(),transitionEnd:an,...on}=St.makeTargetAnimatable(_e);const cn=St.getValue("willChange");tn&&(sn=tn);const dn=[],mn=nn&&((rn=St.animationState)===null||rn===void 0?void 0:rn.getState()[nn]);for(const pn in on){const fn=St.getValue(pn),yn=on[pn];if(!fn||yn===void 0||mn&&shouldBlockAnimation(mn,pn))continue;let bn={delay:en,...sn};St.shouldReduceMotion&&transformProps.has(pn)&&(bn={...bn,type:!1,delay:0});let wn=startAnimation(pn,fn,yn,bn);isWillChangeMotionValue(cn)&&(cn.add(pn),wn=wn.then(()=>cn.remove(pn))),dn.push(wn)}return Promise.all(dn).then(()=>{an&&setTarget(St,an)})}function animateChildren(St,_e,en=0,tn=0,nn=1,rn){const sn=[],an=(St.variantChildren.size-1)*tn,on=nn===1?(cn=0)=>cn*tn:(cn=0)=>an-cn*tn;return Array.from(St.variantChildren).sort(sortByTreeOrder).forEach((cn,dn)=>{sn.push(animateVariant(cn,_e,{...rn,delay:en+on(dn)}).then(()=>cn.notify("AnimationComplete",_e)))}),Promise.all(sn)}function sortByTreeOrder(St,_e){return St.sortNodePosition(_e)}function shouldBlockAnimation({protectedKeys:St,needsAnimating:_e},en){const tn=St.hasOwnProperty(en)&&_e[en]!==!0;return _e[en]=!1,tn}const variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(St){return _e=>Promise.all(_e.map(({animation:en,options:tn})=>animateVisualElement(St,en,tn)))}function createAnimationState(St){let _e=animateList(St);const en=createState();let tn=!0;const nn=(on,cn)=>{const dn=resolveVariant(St,cn);if(dn){const{transition:mn,transitionEnd:pn,...fn}=dn;on={...on,...fn,...pn}}return on};function rn(on){_e=on(St)}function sn(on,cn){var dn;const mn=St.getProps(),pn=St.getVariantContext(!0)||{},fn=[],yn=new Set;let bn={},wn=1/0;for(let Sn=0;Sn<numAnimationTypes;Sn++){const xn=reversePriorityOrder[Sn],En=en[xn],Cn=(dn=mn[xn])!==null&&dn!==void 0?dn:pn[xn],kn=isVariantLabel(Cn),In=xn===cn?En.isActive:null;In===!1&&(wn=Sn);let Dn=Cn===pn[xn]&&Cn!==mn[xn]&&kn;if(Dn&&tn&&St.manuallyAnimateOnMount&&(Dn=!1),En.protectedKeys={...bn},!En.isActive&&In===null||!Cn&&!En.prevProp||isAnimationControls(Cn)||typeof Cn=="boolean")continue;const Wn=checkVariantsDidChange(En.prevProp,Cn);let Vn=Wn||xn===cn&&En.isActive&&!Dn&&kn||Sn>wn&&kn;const On=Array.isArray(Cn)?Cn:[Cn];let zn=On.reduce(nn,{});In===!1&&(zn={});const{prevResolvedValues:nr={}}=En,Yn={...nr,...zn},ar=tr=>{Vn=!0,yn.delete(tr),En.needsAnimating[tr]=!0};for(const tr in Yn){const dr=zn[tr],Jn=nr[tr];bn.hasOwnProperty(tr)||(dr!==Jn?isKeyframesTarget(dr)&&isKeyframesTarget(Jn)?!shallowCompare(dr,Jn)||Wn?ar(tr):En.protectedKeys[tr]=!0:dr!==void 0?ar(tr):yn.add(tr):dr!==void 0&&yn.has(tr)?ar(tr):En.protectedKeys[tr]=!0)}En.prevProp=Cn,En.prevResolvedValues=zn,En.isActive&&(bn={...bn,...zn}),tn&&St.blockInitialAnimation&&(Vn=!1),Vn&&!Dn&&fn.push(...On.map(tr=>({animation:tr,options:{type:xn,...on}})))}if(yn.size){const Sn={};yn.forEach(xn=>{const En=St.getBaseTarget(xn);En!==void 0&&(Sn[xn]=En)}),fn.push({animation:Sn})}let vn=Boolean(fn.length);return tn&&mn.initial===!1&&!St.manuallyAnimateOnMount&&(vn=!1),tn=!1,vn?_e(fn):Promise.resolve()}function an(on,cn,dn){var mn;if(en[on].isActive===cn)return Promise.resolve();(mn=St.variantChildren)===null||mn===void 0||mn.forEach(fn=>{var yn;return(yn=fn.animationState)===null||yn===void 0?void 0:yn.setActive(on,cn)}),en[on].isActive=cn;const pn=sn(dn,on);for(const fn in en)en[fn].protectedKeys={};return pn}return{animateChanges:sn,setActive:an,setAnimateFunction:rn,getState:()=>en}}function checkVariantsDidChange(St,_e){return typeof _e=="string"?_e!==St:Array.isArray(_e)?!shallowCompare(_e,St):!1}function createTypeState(St=!1){return{isActive:St,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{[AnimationType.Animate]:createTypeState(!0),[AnimationType.InView]:createTypeState(),[AnimationType.Hover]:createTypeState(),[AnimationType.Tap]:createTypeState(),[AnimationType.Drag]:createTypeState(),[AnimationType.Focus]:createTypeState(),[AnimationType.Exit]:createTypeState()}}const animations={animation:makeRenderlessComponent(({visualElement:St,animate:_e})=>{St.animationState||(St.animationState=createAnimationState(St)),isAnimationControls(_e)&&react.exports.useEffect(()=>_e.subscribe(St),[_e])}),exit:makeRenderlessComponent(St=>{const{custom:_e,visualElement:en}=St,[tn,nn]=usePresence(),rn=react.exports.useContext(PresenceContext);react.exports.useEffect(()=>{en.isPresent=tn;const sn=en.animationState&&en.animationState.setActive(AnimationType.Exit,!tn,{custom:rn&&rn.custom||_e});sn&&!tn&&sn.then(nn)},[tn])})};class PanSession{constructor(_e,en,{transformPagePoint:tn}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const cn=getPanInfo(this.lastMoveEventInfo,this.history),dn=this.startEvent!==null,mn=distance(cn.offset,{x:0,y:0})>=3;if(!dn&&!mn)return;const{point:pn}=cn,{timestamp:fn}=getFrameData();this.history.push({...pn,timestamp:fn});const{onStart:yn,onMove:bn}=this.handlers;dn||(yn&&yn(this.lastMoveEvent,cn),this.startEvent=this.lastMoveEvent),bn&&bn(this.lastMoveEvent,cn)},this.handlePointerMove=(cn,dn)=>{if(this.lastMoveEvent=cn,this.lastMoveEventInfo=transformPoint(dn,this.transformPagePoint),isMouseEvent(cn)&&cn.buttons===0){this.handlePointerUp(cn,dn);return}sync.update(this.updatePoint,!0)},this.handlePointerUp=(cn,dn)=>{this.end();const{onEnd:mn,onSessionEnd:pn}=this.handlers,fn=getPanInfo(transformPoint(dn,this.transformPagePoint),this.history);this.startEvent&&mn&&mn(cn,fn),pn&&pn(cn,fn)},isTouchEvent(_e)&&_e.touches.length>1)return;this.handlers=en,this.transformPagePoint=tn;const nn=extractEventInfo(_e),rn=transformPoint(nn,this.transformPagePoint),{point:sn}=rn,{timestamp:an}=getFrameData();this.history=[{...sn,timestamp:an}];const{onSessionStart:on}=en;on&&on(_e,getPanInfo(rn,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(St,_e){return _e?{point:_e(St.point)}:St}function subtractPoint(St,_e){return{x:St.x-_e.x,y:St.y-_e.y}}function getPanInfo({point:St},_e){return{point:St,delta:subtractPoint(St,lastDevicePoint(_e)),offset:subtractPoint(St,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint(St){return St[0]}function lastDevicePoint(St){return St[St.length-1]}function getVelocity(St,_e){if(St.length<2)return{x:0,y:0};let en=St.length-1,tn=null;const nn=lastDevicePoint(St);for(;en>=0&&(tn=St[en],!(nn.timestamp-tn.timestamp>secondsToMilliseconds(_e)));)en--;if(!tn)return{x:0,y:0};const rn=(nn.timestamp-tn.timestamp)/1e3;if(rn===0)return{x:0,y:0};const sn={x:(nn.x-tn.x)/rn,y:(nn.y-tn.y)/rn};return sn.x===1/0&&(sn.x=0),sn.y===1/0&&(sn.y=0),sn}function calcLength(St){return St.max-St.min}function isNear(St,_e=0,en=.01){return distance(St,_e)<en}function calcAxisDelta(St,_e,en,tn=.5){St.origin=tn,St.originPoint=mix(_e.min,_e.max,St.origin),St.scale=calcLength(en)/calcLength(_e),(isNear(St.scale,1,1e-4)||isNaN(St.scale))&&(St.scale=1),St.translate=mix(en.min,en.max,St.origin)-St.originPoint,(isNear(St.translate)||isNaN(St.translate))&&(St.translate=0)}function calcBoxDelta(St,_e,en,tn){calcAxisDelta(St.x,_e.x,en.x,tn==null?void 0:tn.originX),calcAxisDelta(St.y,_e.y,en.y,tn==null?void 0:tn.originY)}function calcRelativeAxis(St,_e,en){St.min=en.min+_e.min,St.max=St.min+calcLength(_e)}function calcRelativeBox(St,_e,en){calcRelativeAxis(St.x,_e.x,en.x),calcRelativeAxis(St.y,_e.y,en.y)}function calcRelativeAxisPosition(St,_e,en){St.min=_e.min-en.min,St.max=St.min+calcLength(_e)}function calcRelativePosition(St,_e,en){calcRelativeAxisPosition(St.x,_e.x,en.x),calcRelativeAxisPosition(St.y,_e.y,en.y)}function applyConstraints(St,{min:_e,max:en},tn){return _e!==void 0&&St<_e?St=tn?mix(_e,St,tn.min):Math.max(St,_e):en!==void 0&&St>en&&(St=tn?mix(en,St,tn.max):Math.min(St,en)),St}function calcRelativeAxisConstraints(St,_e,en){return{min:_e!==void 0?St.min+_e:void 0,max:en!==void 0?St.max+en-(St.max-St.min):void 0}}function calcRelativeConstraints(St,{top:_e,left:en,bottom:tn,right:nn}){return{x:calcRelativeAxisConstraints(St.x,en,nn),y:calcRelativeAxisConstraints(St.y,_e,tn)}}function calcViewportAxisConstraints(St,_e){let en=_e.min-St.min,tn=_e.max-St.max;return _e.max-_e.min<St.max-St.min&&([en,tn]=[tn,en]),{min:en,max:tn}}function calcViewportConstraints(St,_e){return{x:calcViewportAxisConstraints(St.x,_e.x),y:calcViewportAxisConstraints(St.y,_e.y)}}function calcOrigin(St,_e){let en=.5;const tn=calcLength(St),nn=calcLength(_e);return nn>tn?en=progress(_e.min,_e.max-tn,St.min):tn>nn&&(en=progress(St.min,St.max-nn,_e.min)),clamp(0,1,en)}function rebaseAxisConstraints(St,_e){const en={};return _e.min!==void 0&&(en.min=_e.min-St.min),_e.max!==void 0&&(en.max=_e.max-St.min),en}const defaultElastic=.35;function resolveDragElastic(St=defaultElastic){return St===!1?St=0:St===!0&&(St=defaultElastic),{x:resolveAxisElastic(St,"left","right"),y:resolveAxisElastic(St,"top","bottom")}}function resolveAxisElastic(St,_e,en){return{min:resolvePointElastic(St,_e),max:resolvePointElastic(St,en)}}function resolvePointElastic(St,_e){var en;return typeof St=="number"?St:(en=St[_e])!==null&&en!==void 0?en:0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(St){return[St("x"),St("y")]}function convertBoundingBoxToBox({top:St,left:_e,right:en,bottom:tn}){return{x:{min:_e,max:en},y:{min:St,max:tn}}}function convertBoxToBoundingBox({x:St,y:_e}){return{top:_e.min,right:St.max,bottom:_e.max,left:St.min}}function transformBoxPoints(St,_e){if(!_e)return St;const en=_e({x:St.left,y:St.top}),tn=_e({x:St.right,y:St.bottom});return{top:en.y,left:en.x,bottom:tn.y,right:tn.x}}function isIdentityScale(St){return St===void 0||St===1}function hasScale({scale:St,scaleX:_e,scaleY:en}){return!isIdentityScale(St)||!isIdentityScale(_e)||!isIdentityScale(en)}function hasTransform(St){return hasScale(St)||has2DTranslate(St)||St.z||St.rotate||St.rotateX||St.rotateY}function has2DTranslate(St){return is2DTranslate(St.x)||is2DTranslate(St.y)}function is2DTranslate(St){return St&&St!=="0%"}function scalePoint(St,_e,en){const tn=St-en,nn=_e*tn;return en+nn}function applyPointDelta(St,_e,en,tn,nn){return nn!==void 0&&(St=scalePoint(St,nn,tn)),scalePoint(St,en,tn)+_e}function applyAxisDelta(St,_e=0,en=1,tn,nn){St.min=applyPointDelta(St.min,_e,en,tn,nn),St.max=applyPointDelta(St.max,_e,en,tn,nn)}function applyBoxDelta(St,{x:_e,y:en}){applyAxisDelta(St.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta(St.y,en.translate,en.scale,en.originPoint)}function applyTreeDeltas(St,_e,en,tn=!1){var nn,rn;const sn=en.length;if(!sn)return;_e.x=_e.y=1;let an,on;for(let cn=0;cn<sn;cn++)an=en[cn],on=an.projectionDelta,((rn=(nn=an.instance)===null||nn===void 0?void 0:nn.style)===null||rn===void 0?void 0:rn.display)!=="contents"&&(tn&&an.options.layoutScroll&&an.scroll&&an!==an.root&&transformBox(St,{x:-an.scroll.x,y:-an.scroll.y}),on&&(_e.x*=on.x.scale,_e.y*=on.y.scale,applyBoxDelta(St,on)),tn&&hasTransform(an.latestValues)&&transformBox(St,an.latestValues))}function translateAxis(St,_e){St.min=St.min+_e,St.max=St.max+_e}function transformAxis(St,_e,[en,tn,nn]){const rn=_e[nn]!==void 0?_e[nn]:.5,sn=mix(St.min,St.max,rn);applyAxisDelta(St,_e[en],_e[tn],sn,_e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(St,_e){transformAxis(St.x,_e,xKeys$1),transformAxis(St.y,_e,yKeys$1)}function measureViewportBox(St,_e){return convertBoundingBoxToBox(transformBoxPoints(St.getBoundingClientRect(),_e))}function measurePageBox(St,_e,en){const tn=measureViewportBox(St,en),{scroll:nn}=_e;return nn&&(translateAxis(tn.x,nn.x),translateAxis(tn.y,nn.y)),tn}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_e}start(_e,{snapToCursor:en=!1}={}){if(this.visualElement.isPresent===!1)return;const tn=an=>{this.stopAnimation(),en&&this.snapToCursor(extractEventInfo(an,"page").point)},nn=(an,on)=>{var cn;const{drag:dn,dragPropagation:mn,onDragStart:pn}=this.getProps();dn&&!mn&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(dn),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(fn=>{var yn,bn;let wn=this.getAxisMotionValue(fn).get()||0;if(percent.test(wn)){const vn=(bn=(yn=this.visualElement.projection)===null||yn===void 0?void 0:yn.layout)===null||bn===void 0?void 0:bn.layoutBox[fn];vn&&(wn=calcLength(vn)*(parseFloat(wn)/100))}this.originPoint[fn]=wn}),pn==null||pn(an,on),(cn=this.visualElement.animationState)===null||cn===void 0||cn.setActive(AnimationType.Drag,!0))},rn=(an,on)=>{const{dragPropagation:cn,dragDirectionLock:dn,onDirectionLock:mn,onDrag:pn}=this.getProps();if(!cn&&!this.openGlobalLock)return;const{offset:fn}=on;if(dn&&this.currentDirection===null){this.currentDirection=getCurrentDirection(fn),this.currentDirection!==null&&(mn==null||mn(this.currentDirection));return}this.updateAxis("x",on.point,fn),this.updateAxis("y",on.point,fn),this.visualElement.render(),pn==null||pn(an,on)},sn=(an,on)=>this.stop(an,on);this.panSession=new PanSession(_e,{onSessionStart:tn,onStart:nn,onMove:rn,onSessionEnd:sn},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(_e,en){const tn=this.isDragging;if(this.cancel(),!tn)return;const{velocity:nn}=en;this.startAnimation(nn);const{onDragEnd:rn}=this.getProps();rn==null||rn(_e,en)}cancel(){var _e,en;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(_e=this.panSession)===null||_e===void 0||_e.end(),this.panSession=void 0;const{dragPropagation:tn}=this.getProps();!tn&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(en=this.visualElement.animationState)===null||en===void 0||en.setActive(AnimationType.Drag,!1)}updateAxis(_e,en,tn){const{drag:nn}=this.getProps();if(!tn||!shouldDrag(_e,nn,this.currentDirection))return;const rn=this.getAxisMotionValue(_e);let sn=this.originPoint[_e]+tn[_e];this.constraints&&this.constraints[_e]&&(sn=applyConstraints(sn,this.constraints[_e],this.elastic[_e])),rn.set(sn)}resolveConstraints(){const{dragConstraints:_e,dragElastic:en}=this.getProps(),{layout:tn}=this.visualElement.projection||{},nn=this.constraints;_e&&isRefObject(_e)?this.constraints||(this.constraints=this.resolveRefConstraints()):_e&&tn?this.constraints=calcRelativeConstraints(tn.layoutBox,_e):this.constraints=!1,this.elastic=resolveDragElastic(en),nn!==this.constraints&&tn&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rn=>{this.getAxisMotionValue(rn)&&(this.constraints[rn]=rebaseAxisConstraints(tn.layoutBox[rn],this.constraints[rn]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:en}=this.getProps();if(!_e||!isRefObject(_e))return!1;const tn=_e.current,{projection:nn}=this.visualElement;if(!nn||!nn.layout)return!1;const rn=measurePageBox(tn,nn.root,this.visualElement.getTransformPagePoint());let sn=calcViewportConstraints(nn.layout.layoutBox,rn);if(en){const an=en(convertBoxToBoundingBox(sn));this.hasMutatedConstraints=!!an,an&&(sn=convertBoundingBoxToBox(an))}return sn}startAnimation(_e){const{drag:en,dragMomentum:tn,dragElastic:nn,dragTransition:rn,dragSnapToOrigin:sn,onDragTransitionEnd:an}=this.getProps(),on=this.constraints||{},cn=eachAxis(dn=>{var mn;if(!shouldDrag(dn,en,this.currentDirection))return;let pn=(mn=on==null?void 0:on[dn])!==null&&mn!==void 0?mn:{};sn&&(pn={min:0,max:0});const fn=nn?200:1e6,yn=nn?40:1e7,bn={type:"inertia",velocity:tn?_e[dn]:0,bounceStiffness:fn,bounceDamping:yn,timeConstant:750,restDelta:1,restSpeed:10,...rn,...pn};return this.startAxisValueAnimation(dn,bn)});return Promise.all(cn).then(an)}startAxisValueAnimation(_e,en){const tn=this.getAxisMotionValue(_e);return startAnimation(_e,tn,0,en)}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}getAxisMotionValue(_e){var en,tn;const nn="_drag"+_e.toUpperCase(),rn=this.visualElement.getProps()[nn];return rn||this.visualElement.getValue(_e,(tn=(en=this.visualElement.getProps().initial)===null||en===void 0?void 0:en[_e])!==null&&tn!==void 0?tn:0)}snapToCursor(_e){eachAxis(en=>{const{drag:tn}=this.getProps();if(!shouldDrag(en,tn,this.currentDirection))return;const{projection:nn}=this.visualElement,rn=this.getAxisMotionValue(en);if(nn&&nn.layout){const{min:sn,max:an}=nn.layout.layoutBox[en];rn.set(_e[en]-mix(sn,an,.5))}})}scalePositionWithinConstraints(){var _e;if(!this.visualElement.current)return;const{drag:en,dragConstraints:tn}=this.getProps(),{projection:nn}=this.visualElement;if(!isRefObject(tn)||!nn||!this.constraints)return;this.stopAnimation();const rn={x:0,y:0};eachAxis(an=>{const on=this.getAxisMotionValue(an);if(on){const cn=on.get();rn[an]=calcOrigin({min:cn,max:cn},this.constraints[an])}});const{transformTemplate:sn}=this.visualElement.getProps();this.visualElement.current.style.transform=sn?sn({},""):"none",(_e=nn.root)===null||_e===void 0||_e.updateScroll(),nn.updateLayout(),this.resolveConstraints(),eachAxis(an=>{if(!shouldDrag(an,en,null))return;const on=this.getAxisMotionValue(an),{min:cn,max:dn}=this.constraints[an];on.set(mix(cn,dn,rn[an]))})}addListeners(){var _e;if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const en=this.visualElement.current,tn=addPointerEvent(en,"pointerdown",cn=>{const{drag:dn,dragListener:mn=!0}=this.getProps();dn&&mn&&this.start(cn)}),nn=()=>{const{dragConstraints:cn}=this.getProps();isRefObject(cn)&&(this.constraints=this.resolveRefConstraints())},{projection:rn}=this.visualElement,sn=rn.addEventListener("measure",nn);rn&&!rn.layout&&((_e=rn.root)===null||_e===void 0||_e.updateScroll(),rn.updateLayout()),nn();const an=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),on=rn.addEventListener("didUpdate",({delta:cn,hasLayoutChanged:dn})=>{this.isDragging&&dn&&(eachAxis(mn=>{const pn=this.getAxisMotionValue(mn);!pn||(this.originPoint[mn]+=cn[mn].translate,pn.set(pn.get()+cn[mn].translate))}),this.visualElement.render())});return()=>{an(),tn(),sn(),on==null||on()}}getProps(){const _e=this.visualElement.getProps(),{drag:en=!1,dragDirectionLock:tn=!1,dragPropagation:nn=!1,dragConstraints:rn=!1,dragElastic:sn=defaultElastic,dragMomentum:an=!0}=_e;return{..._e,drag:en,dragDirectionLock:tn,dragPropagation:nn,dragConstraints:rn,dragElastic:sn,dragMomentum:an}}}function shouldDrag(St,_e,en){return(_e===!0||_e===St)&&(en===null||en===St)}function getCurrentDirection(St,_e=10){let en=null;return Math.abs(St.y)>_e?en="y":Math.abs(St.x)>_e&&(en="x"),en}function useDrag(St){const{dragControls:_e,visualElement:en}=St,tn=useConstant(()=>new VisualElementDragControls(en));react.exports.useEffect(()=>_e&&_e.subscribe(tn),[tn,_e]),react.exports.useEffect(()=>tn.addListeners(),[tn])}function usePanGesture({onPan:St,onPanStart:_e,onPanEnd:en,onPanSessionStart:tn,visualElement:nn}){const rn=St||_e||en||tn,sn=react.exports.useRef(null),{transformPagePoint:an}=react.exports.useContext(MotionConfigContext),on={onSessionStart:tn,onStart:_e,onMove:St,onEnd:(dn,mn)=>{sn.current=null,en&&en(dn,mn)}};react.exports.useEffect(()=>{sn.current!==null&&sn.current.updateHandlers(on)});function cn(dn){sn.current=new PanSession(dn,on,{transformPagePoint:an})}usePointerEvent(nn,"pointerdown",rn&&cn),useUnmountEffect(()=>sn.current&&sn.current.end())}const drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)};function isCSSVariable(St){return typeof St=="string"&&St.startsWith("var(--")}const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(St){const _e=cssVariableRegex.exec(St);if(!_e)return[,];const[,en,tn]=_e;return[en,tn]}function getVariableValue(St,_e,en=1){const[tn,nn]=parseCSSVariable(St);if(!tn)return;const rn=window.getComputedStyle(_e).getPropertyValue(tn);return rn?rn.trim():isCSSVariable(nn)?getVariableValue(nn,_e,en+1):nn}function resolveCSSVariables(St,{..._e},en){const tn=St.current;if(!(tn instanceof Element))return{target:_e,transitionEnd:en};en&&(en={...en}),St.values.forEach(nn=>{const rn=nn.get();if(!isCSSVariable(rn))return;const sn=getVariableValue(rn,tn);sn&&nn.set(sn)});for(const nn in _e){const rn=_e[nn];if(!isCSSVariable(rn))continue;const sn=getVariableValue(rn,tn);!sn||(_e[nn]=sn,en&&en[nn]===void 0&&(en[nn]=rn))}return{target:_e,transitionEnd:en}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=St=>positionalKeys.has(St),hasPositionalKey=St=>Object.keys(St).some(isPositionalKey),setAndResetVelocity=(St,_e)=>{St.set(_e,!1),St.set(_e)},isNumOrPxType=St=>St===number||St===px;var BoundingBoxDimension;(function(St){St.width="width",St.height="height",St.left="left",St.right="right",St.top="top",St.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));const getPosFromMatrix=(St,_e)=>parseFloat(St.split(", ")[_e]),getTranslateFromMatrix=(St,_e)=>(en,{transform:tn})=>{if(tn==="none"||!tn)return 0;const nn=tn.match(/^matrix3d\((.+)\)$/);if(nn)return getPosFromMatrix(nn[1],_e);{const rn=tn.match(/^matrix\((.+)\)$/);return rn?getPosFromMatrix(rn[1],St):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(St=>!transformKeys.has(St));function removeNonTranslationalTransform(St){const _e=[];return nonTranslationalTransformKeys.forEach(en=>{const tn=St.getValue(en);tn!==void 0&&(_e.push([en,tn.get()]),tn.set(en.startsWith("scale")?1:0))}),_e.length&&St.render(),_e}const positionalValues={width:({x:St},{paddingLeft:_e="0",paddingRight:en="0"})=>St.max-St.min-parseFloat(_e)-parseFloat(en),height:({y:St},{paddingTop:_e="0",paddingBottom:en="0"})=>St.max-St.min-parseFloat(_e)-parseFloat(en),top:(St,{top:_e})=>parseFloat(_e),left:(St,{left:_e})=>parseFloat(_e),bottom:({y:St},{top:_e})=>parseFloat(_e)+(St.max-St.min),right:({x:St},{left:_e})=>parseFloat(_e)+(St.max-St.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(St,_e,en)=>{const tn=_e.measureViewportBox(),nn=_e.current,rn=getComputedStyle(nn),{display:sn}=rn,an={};sn==="none"&&_e.setStaticValue("display",St.display||"block"),en.forEach(cn=>{an[cn]=positionalValues[cn](tn,rn)}),_e.render();const on=_e.measureViewportBox();return en.forEach(cn=>{const dn=_e.getValue(cn);setAndResetVelocity(dn,an[cn]),St[cn]=positionalValues[cn](on,rn)}),St},checkAndConvertChangedValueTypes=(St,_e,en={},tn={})=>{_e={..._e},tn={...tn};const nn=Object.keys(_e).filter(isPositionalKey);let rn=[],sn=!1;const an=[];if(nn.forEach(on=>{const cn=St.getValue(on);if(!St.hasValue(on))return;let dn=en[on],mn=findDimensionValueType(dn);const pn=_e[on];let fn;if(isKeyframesTarget(pn)){const yn=pn.length,bn=pn[0]===null?1:0;dn=pn[bn],mn=findDimensionValueType(dn);for(let wn=bn;wn<yn;wn++)fn?invariant(findDimensionValueType(pn[wn])===fn):fn=findDimensionValueType(pn[wn])}else fn=findDimensionValueType(pn);if(mn!==fn)if(isNumOrPxType(mn)&&isNumOrPxType(fn)){const yn=cn.get();typeof yn=="string"&&cn.set(parseFloat(yn)),typeof pn=="string"?_e[on]=parseFloat(pn):Array.isArray(pn)&&fn===px&&(_e[on]=pn.map(parseFloat))}else(mn==null?void 0:mn.transform)&&(fn==null?void 0:fn.transform)&&(dn===0||pn===0)?dn===0?cn.set(fn.transform(dn)):_e[on]=mn.transform(pn):(sn||(rn=removeNonTranslationalTransform(St),sn=!0),an.push(on),tn[on]=tn[on]!==void 0?tn[on]:_e[on],setAndResetVelocity(cn,pn))}),an.length){const on=an.indexOf("height")>=0?window.pageYOffset:null,cn=convertChangedValueTypes(_e,St,an);return rn.length&&rn.forEach(([dn,mn])=>{St.getValue(dn).set(mn)}),St.render(),isBrowser&&on!==null&&window.scrollTo({top:on}),{target:cn,transitionEnd:tn}}else return{target:_e,transitionEnd:tn}};function unitConversion(St,_e,en,tn){return hasPositionalKey(_e)?checkAndConvertChangedValueTypes(St,_e,en,tn):{target:_e,transitionEnd:tn}}const parseDomVariant=(St,_e,en,tn)=>{const nn=resolveCSSVariables(St,_e,tn);return _e=nn.target,tn=nn.transitionEnd,unitConversion(St,_e,en,tn)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const St=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=St.matches;St.addListener(_e),_e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(St,_e,en){const{willChange:tn}=_e;for(const nn in _e){const rn=_e[nn],sn=en[nn];if(isMotionValue(rn))St.addValue(nn,rn),isWillChangeMotionValue(tn)&&tn.add(nn);else if(isMotionValue(sn))St.addValue(nn,motionValue(rn)),isWillChangeMotionValue(tn)&&tn.remove(nn);else if(sn!==rn)if(St.hasValue(nn)){const an=St.getValue(nn);!an.hasAnimated&&an.set(rn)}else{const an=St.getStaticValue(nn);St.addValue(nn,motionValue(an!==void 0?an:rn))}}for(const nn in en)_e[nn]===void 0&&St.removeValue(nn);return _e}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{constructor({parent:_e,props:en,reducedMotionConfig:tn,visualState:nn},rn={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sync.render(this.render,!1,!0);const{latestValues:sn,renderState:an}=nn;this.latestValues=sn,this.baseTarget={...sn},this.initialValues=en.initial?{...sn}:{},this.renderState=an,this.parent=_e,this.props=en,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=tn,this.options=rn,this.isControllingVariants=isControllingVariants(en),this.isVariantNode=isVariantNode(en),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(_e&&_e.current);const{willChange:on,...cn}=this.scrapeMotionValuesFromProps(en);for(const dn in cn){const mn=cn[dn];sn[dn]!==void 0&&isMotionValue(mn)&&(mn.set(sn[dn],!1),isWillChangeMotionValue(on)&&on.add(dn))}}scrapeMotionValuesFromProps(_e){return{}}mount(_e){var en;this.current=_e,this.projection&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(en=this.parent)===null||en===void 0?void 0:en.addVariantChild(this)),this.values.forEach((tn,nn)=>this.bindToMotionValue(nn,tn)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var _e,en,tn;(_e=this.projection)===null||_e===void 0||_e.unmount(),cancelSync.update(this.notifyUpdate),cancelSync.render(this.render),this.valueSubscriptions.forEach(nn=>nn()),(en=this.removeFromVariantTree)===null||en===void 0||en.call(this),(tn=this.parent)===null||tn===void 0||tn.children.delete(this);for(const nn in this.events)this.events[nn].clear();this.current=null}bindToMotionValue(_e,en){const tn=en.onChange(rn=>{this.latestValues[_e]=rn,this.props.onUpdate&&sync.update(this.notifyUpdate,!1,!0)}),nn=en.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(_e,()=>{tn(),nn()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}loadFeatures(_e,en,tn,nn,rn,sn){const an=[];for(let on=0;on<numFeatures;on++){const cn=featureNames[on],{isEnabled:dn,Component:mn}=featureDefinitions[cn];dn(_e)&&mn&&an.push(react.exports.createElement(mn,{key:cn,..._e,visualElement:this}))}if(!this.projection&&rn){this.projection=new rn(nn,this.latestValues,this.parent&&this.parent.projection);const{layoutId:on,layout:cn,drag:dn,dragConstraints:mn,layoutScroll:pn}=_e;this.projection.setOptions({layoutId:on,layout:cn,alwaysMeasureLayout:Boolean(dn)||mn&&isRefObject(mn),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof cn=="string"?cn:"both",initialPromotionConfig:sn,layoutScroll:pn})}return an}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,en){this.latestValues[_e]=en}makeTargetAnimatable(_e,en=!0){return this.makeTargetAnimatableFromInstance(_e,this.props,en)}setProps(_e){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=_e;for(let en=0;en<propEventHandlers.length;en++){const tn=propEventHandlers[en];this.propEventSubscriptions[tn]&&(this.propEventSubscriptions[tn](),delete this.propEventSubscriptions[tn]);const nn=_e["on"+tn];nn&&(this.propEventSubscriptions[tn]=this.on(tn,nn))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_e),this.prevMotionValues)}getProps(){return this.props}getVariant(_e){var en;return(en=this.props.variants)===null||en===void 0?void 0:en[_e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var _e;return this.isVariantNode?this:(_e=this.parent)===null||_e===void 0?void 0:_e.getClosestVariantNode()}getVariantContext(_e=!1){var en,tn;if(_e)return(en=this.parent)===null||en===void 0?void 0:en.getVariantContext();if(!this.isControllingVariants){const rn=((tn=this.parent)===null||tn===void 0?void 0:tn.getVariantContext())||{};return this.props.initial!==void 0&&(rn.initial=this.props.initial),rn}const nn={};for(let rn=0;rn<numVariantProps;rn++){const sn=variantProps[rn],an=this.props[sn];(isVariantLabel(an)||an===!1)&&(nn[sn]=an)}return nn}addVariantChild(_e){var en;const tn=this.getClosestVariantNode();if(tn)return(en=tn.variantChildren)===null||en===void 0||en.add(_e),()=>tn.variantChildren.delete(_e)}addValue(_e,en){this.hasValue(_e)&&this.removeValue(_e),this.values.set(_e,en),this.latestValues[_e]=en.get(),this.bindToMotionValue(_e,en)}removeValue(_e){var en;this.values.delete(_e),(en=this.valueSubscriptions.get(_e))===null||en===void 0||en(),this.valueSubscriptions.delete(_e),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,en){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let tn=this.values.get(_e);return tn===void 0&&en!==void 0&&(tn=motionValue(en),this.addValue(_e,tn)),tn}readValue(_e){return this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:this.readValueFromInstance(this.current,_e,this.options)}setBaseTarget(_e,en){this.baseTarget[_e]=en}getBaseTarget(_e){var en;const{initial:tn}=this.props,nn=typeof tn=="string"||typeof tn=="object"?(en=resolveVariantFromProps(this.props,tn))===null||en===void 0?void 0:en[_e]:void 0;if(tn&&nn!==void 0)return nn;const rn=this.getBaseTargetFromProps(this.props,_e);return rn!==void 0&&!isMotionValue(rn)?rn:this.initialValues[_e]!==void 0&&nn===void 0?void 0:this.baseTarget[_e]}on(_e,en){return this.events[_e]||(this.events[_e]=new SubscriptionManager),this.events[_e].add(en)}notify(_e,...en){var tn;(tn=this.events[_e])===null||tn===void 0||tn.notify(...en)}}const variantProps=["initial",...variantPriorityOrder],numVariantProps=variantProps.length;class DOMVisualElement extends VisualElement{sortInstanceNodePosition(_e,en){return _e.compareDocumentPosition(en)&2?1:-1}getBaseTargetFromProps(_e,en){var tn;return(tn=_e.style)===null||tn===void 0?void 0:tn[en]}removeValueFromRenderState(_e,{vars:en,style:tn}){delete en[_e],delete tn[_e]}makeTargetAnimatableFromInstance({transition:_e,transitionEnd:en,...tn},{transformValues:nn},rn){let sn=getOrigin(tn,_e||{},this);if(nn&&(en&&(en=nn(en)),tn&&(tn=nn(tn)),sn&&(sn=nn(sn))),rn){checkTargetForNewValues(this,tn,sn);const an=parseDomVariant(this,tn,sn,en);en=an.transitionEnd,tn=an.target}return{transition:_e,transitionEnd:en,...tn}}}function getComputedStyle$1(St){return window.getComputedStyle(St)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance(_e,en){if(transformProps.has(en)){const tn=getDefaultValueType(en);return tn&&tn.default||0}else{const tn=getComputedStyle$1(_e),nn=(isCSSVariable$1(en)?tn.getPropertyValue(en):tn[en])||0;return typeof nn=="string"?nn.trim():nn}}measureInstanceViewportBox(_e,{transformPagePoint:en}){return measureViewportBox(_e,en)}build(_e,en,tn,nn){buildHTMLStyles(_e,en,tn,nn.transformTemplate)}scrapeMotionValuesFromProps(_e){return scrapeMotionValuesFromProps$1(_e)}renderInstance(_e,en,tn,nn){renderHTML(_e,en,tn,nn)}}class SVGVisualElement extends DOMVisualElement{getBaseTargetFromProps(_e,en){return _e[en]}readValueFromInstance(_e,en){var tn;return transformProps.has(en)?((tn=getDefaultValueType(en))===null||tn===void 0?void 0:tn.default)||0:(en=camelCaseAttributes.has(en)?en:camelToDash(en),_e.getAttribute(en))}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(_e){return scrapeMotionValuesFromProps(_e)}build(_e,en,tn,nn){buildSVGAttrs(_e,en,tn,nn.transformTemplate)}renderInstance(_e,en,tn,nn){renderSVG(_e,en,tn,nn)}}const createDomVisualElement=(St,_e)=>isSVGComponent(St)?new SVGVisualElement(_e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(_e,{enableHardwareAcceleration:!0});function pixelsToPercent(St,_e){return _e.max===_e.min?0:St/(_e.max-_e.min)*100}const correctBorderRadius={correct:(St,_e)=>{if(!_e.target)return St;if(typeof St=="string")if(px.test(St))St=parseFloat(St);else return St;const en=pixelsToPercent(St,_e.target.x),tn=pixelsToPercent(St,_e.target.y);return`${en}% ${tn}%`}},varToken="_$css",correctBoxShadow={correct:(St,{treeScale:_e,projectionDelta:en})=>{const tn=St,nn=St.includes("var("),rn=[];nn&&(St=St.replace(cssVariableRegex,fn=>(rn.push(fn),varToken)));const sn=complex.parse(St);if(sn.length>5)return tn;const an=complex.createTransformer(St),on=typeof sn[0]!="number"?1:0,cn=en.x.scale*_e.x,dn=en.y.scale*_e.y;sn[0+on]/=cn,sn[1+on]/=dn;const mn=mix(cn,dn,.5);typeof sn[2+on]=="number"&&(sn[2+on]/=mn),typeof sn[3+on]=="number"&&(sn[3+on]/=mn);let pn=an(sn);if(nn){let fn=0;pn=pn.replace(varToken,()=>{const yn=rn[fn];return fn++,yn})}return pn}};class MeasureLayoutWithContext extends React$1.Component{componentDidMount(){const{visualElement:_e,layoutGroup:en,switchLayoutGroup:tn,layoutId:nn}=this.props,{projection:rn}=_e;addScaleCorrector(defaultScaleCorrectors),rn&&(en.group&&en.group.add(rn),tn&&tn.register&&nn&&tn.register(rn),rn.root.didUpdate(),rn.addEventListener("animationComplete",()=>{this.safeToRemove()}),rn.setOptions({...rn.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:en,visualElement:tn,drag:nn,isPresent:rn}=this.props,sn=tn.projection;return sn&&(sn.isPresent=rn,nn||_e.layoutDependency!==en||en===void 0?sn.willUpdate():this.safeToRemove(),_e.isPresent!==rn&&(rn?sn.promote():sn.relegate()||sync.postRender(()=>{var an;!((an=sn.getStack())===null||an===void 0)&&an.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),!_e.currentAnimation&&_e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:_e,layoutGroup:en,switchLayoutGroup:tn}=this.props,{projection:nn}=_e;nn&&(nn.scheduleCheckAfterUnmount(),en!=null&&en.group&&en.group.remove(nn),tn!=null&&tn.deregister&&tn.deregister(nn))}safeToRemove(){const{safeToRemove:_e}=this.props;_e==null||_e()}render(){return null}}function MeasureLayout(St){const[_e,en]=usePresence(),tn=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...St,layoutGroup:tn,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:en})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(St,_e,en={}){const tn=isMotionValue(St)?St:motionValue(St);return startAnimation("",tn,_e,en),{stop:()=>tn.stop(),isAnimating:()=>tn.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=St=>typeof St=="string"?parseFloat(St):St,isPx=St=>typeof St=="number"||px.test(St);function mixValues(St,_e,en,tn,nn,rn){var sn,an,on,cn;nn?(St.opacity=mix(0,(sn=en.opacity)!==null&&sn!==void 0?sn:1,easeCrossfadeIn(tn)),St.opacityExit=mix((an=_e.opacity)!==null&&an!==void 0?an:1,0,easeCrossfadeOut(tn))):rn&&(St.opacity=mix((on=_e.opacity)!==null&&on!==void 0?on:1,(cn=en.opacity)!==null&&cn!==void 0?cn:1,tn));for(let dn=0;dn<numBorders;dn++){const mn=`border${borders[dn]}Radius`;let pn=getRadius(_e,mn),fn=getRadius(en,mn);if(pn===void 0&&fn===void 0)continue;pn||(pn=0),fn||(fn=0),pn===0||fn===0||isPx(pn)===isPx(fn)?(St[mn]=Math.max(mix(asNumber(pn),asNumber(fn),tn),0),(percent.test(fn)||percent.test(pn))&&(St[mn]+="%")):St[mn]=fn}(_e.rotate||en.rotate)&&(St.rotate=mix(_e.rotate||0,en.rotate||0,tn))}function getRadius(St,_e){var en;return(en=St[_e])!==null&&en!==void 0?en:St.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,linear);function compress(St,_e,en){return tn=>tn<St?0:tn>_e?1:en(progress(St,_e,tn))}function copyAxisInto(St,_e){St.min=_e.min,St.max=_e.max}function copyBoxInto(St,_e){copyAxisInto(St.x,_e.x),copyAxisInto(St.y,_e.y)}function removePointDelta(St,_e,en,tn,nn){return St-=_e,St=scalePoint(St,1/en,tn),nn!==void 0&&(St=scalePoint(St,1/nn,tn)),St}function removeAxisDelta(St,_e=0,en=1,tn=.5,nn,rn=St,sn=St){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mix(sn.min,sn.max,_e/100)-sn.min),typeof _e!="number")return;let an=mix(rn.min,rn.max,tn);St===rn&&(an-=_e),St.min=removePointDelta(St.min,_e,en,an,nn),St.max=removePointDelta(St.max,_e,en,an,nn)}function removeAxisTransforms(St,_e,[en,tn,nn],rn,sn){removeAxisDelta(St,_e[en],_e[tn],_e[nn],_e.scale,rn,sn)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(St,_e,en,tn){removeAxisTransforms(St.x,_e,xKeys,en==null?void 0:en.x,tn==null?void 0:tn.x),removeAxisTransforms(St.y,_e,yKeys,en==null?void 0:en.y,tn==null?void 0:tn.y)}function isAxisDeltaZero(St){return St.translate===0&&St.scale===1}function isDeltaZero(St){return isAxisDeltaZero(St.x)&&isAxisDeltaZero(St.y)}function boxEquals(St,_e){return St.x.min===_e.x.min&&St.x.max===_e.x.max&&St.y.min===_e.y.min&&St.y.max===_e.y.max}function aspectRatio(St){return calcLength(St.x)/calcLength(St.y)}function isCloseTo(St,_e,en=.1){return distance(St,_e)<=en}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const en=this.members[this.members.length-1];en&&this.promote(en)}}relegate(_e){const en=this.members.findIndex(nn=>_e===nn);if(en===0)return!1;let tn;for(let nn=en;nn>=0;nn--){const rn=this.members[nn];if(rn.isPresent!==!1){tn=rn;break}}return tn?(this.promote(tn),!0):!1}promote(_e,en){var tn;const nn=this.lead;if(_e!==nn&&(this.prevLead=nn,this.lead=_e,_e.show(),nn)){nn.instance&&nn.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=nn,en&&(_e.resumeFrom.preserveOpacity=!0),nn.snapshot&&(_e.snapshot=nn.snapshot,_e.snapshot.latestValues=nn.animationValues||nn.latestValues,_e.snapshot.isShared=!0),!((tn=_e.root)===null||tn===void 0)&&tn.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:rn}=_e.options;rn===!1&&nn.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{var en,tn,nn,rn,sn;(tn=(en=_e.options).onExitComplete)===null||tn===void 0||tn.call(en),(sn=(nn=_e.resumingFrom)===null||nn===void 0?void 0:(rn=nn.options).onExitComplete)===null||sn===void 0||sn.call(rn)})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const identityProjection="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function buildProjectionTransform(St,_e,en){const tn=St.x.translate/_e.x,nn=St.y.translate/_e.y;let rn=`translate3d(${tn}px, ${nn}px, 0) `;if(rn+=`scale(${1/_e.x}, ${1/_e.y}) `,en){const{rotate:on,rotateX:cn,rotateY:dn}=en;on&&(rn+=`rotate(${on}deg) `),cn&&(rn+=`rotateX(${cn}deg) `),dn&&(rn+=`rotateY(${dn}deg) `)}const sn=St.x.scale*_e.x,an=St.y.scale*_e.y;return rn+=`scale(${sn}, ${an})`,rn===identityProjection?"none":rn}const compareByDepth=(St,_e)=>St.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}const transformAxes=["","X","Y","Z"],animationTarget=1e3;function createProjectionNode({attachResizeListener:St,defaultParent:_e,measureScroll:en,checkIsScrollRoot:tn,resetTransform:nn}){return class{constructor(sn,an={},on=_e==null?void 0:_e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=sn,this.latestValues=an,this.root=on?on.root||on:this,this.path=on?[...on.path,on]:[],this.parent=on,this.depth=on?on.depth+1:0,sn&&this.root.registerPotentialNode(sn,this);for(let cn=0;cn<this.path.length;cn++)this.path[cn].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(sn,an){return this.eventHandlers.has(sn)||this.eventHandlers.set(sn,new SubscriptionManager),this.eventHandlers.get(sn).add(an)}notifyListeners(sn,...an){const on=this.eventHandlers.get(sn);on==null||on.notify(...an)}hasListeners(sn){return this.eventHandlers.has(sn)}registerPotentialNode(sn,an){this.potentialNodes.set(sn,an)}mount(sn,an=!1){var on;if(this.instance)return;this.isSVG=sn instanceof SVGElement&&sn.tagName!=="svg",this.instance=sn;const{layoutId:cn,layout:dn,visualElement:mn}=this.options;if(mn&&!mn.current&&mn.mount(sn),this.root.nodes.add(this),(on=this.parent)===null||on===void 0||on.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),an&&(dn||cn)&&(this.isLayoutDirty=!0),St){let pn;const fn=()=>this.root.updateBlockedByResize=!1;St(sn,()=>{this.root.updateBlockedByResize=!0,pn&&pn(),pn=delay(fn,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}cn&&this.root.registerSharedNode(cn,this),this.options.animate!==!1&&mn&&(cn||dn)&&this.addEventListener("didUpdate",({delta:pn,hasLayoutChanged:fn,hasRelativeTargetChanged:yn,layout:bn})=>{var wn,vn,Sn,xn,En;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Cn=(vn=(wn=this.options.transition)!==null&&wn!==void 0?wn:mn.getDefaultTransition())!==null&&vn!==void 0?vn:defaultLayoutTransition,{onLayoutAnimationStart:kn,onLayoutAnimationComplete:In}=mn.getProps(),Dn=!this.targetLayout||!boxEquals(this.targetLayout,bn)||yn,Wn=!fn&&yn;if(((Sn=this.resumeFrom)===null||Sn===void 0?void 0:Sn.instance)||Wn||fn&&(Dn||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(pn,Wn);const Vn={...getValueTransition(Cn,"layout"),onPlay:kn,onComplete:In};mn.shouldReduceMotion&&(Vn.delay=0,Vn.type=!1),this.startAnimation(Vn)}else!fn&&this.animationProgress===0&&finishAnimation(this),this.isLead()&&((En=(xn=this.options).onExitComplete)===null||En===void 0||En.call(xn));this.targetLayout=bn})}unmount(){var sn,an;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(sn=this.getStack())===null||sn===void 0||sn.remove(this),(an=this.parent)===null||an===void 0||an.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var sn;return this.isAnimationBlocked||((sn=this.parent)===null||sn===void 0?void 0:sn.isTreeAnimationBlocked())||!1}startUpdate(){var sn;this.isUpdateBlocked()||(this.isUpdating=!0,(sn=this.nodes)===null||sn===void 0||sn.forEach(resetRotation))}willUpdate(sn=!0){var an,on,cn;if(this.root.isUpdateBlocked()){(on=(an=this.options).onExitComplete)===null||on===void 0||on.call(an);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let fn=0;fn<this.path.length;fn++){const yn=this.path[fn];yn.shouldResetTransform=!0,yn.updateScroll()}const{layoutId:dn,layout:mn}=this.options;if(dn===void 0&&!mn)return;const pn=(cn=this.options.visualElement)===null||cn===void 0?void 0:cn.getProps().transformTemplate;this.prevTransformTemplateValue=pn==null?void 0:pn(this.latestValues,""),this.updateSnapshot(),sn&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var sn;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let on=0;on<this.path.length;on++)this.path[on].updateScroll();const an=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(sn=this.options.visualElement)===null||sn===void 0||sn.notify("LayoutMeasure",this.layout.layoutBox,an==null?void 0:an.layoutBox)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=tn(this.instance),this.scroll=en(this.instance))}resetTransform(){var sn;if(!nn)return;const an=this.isLayoutDirty||this.shouldResetTransform,on=this.projectionDelta&&!isDeltaZero(this.projectionDelta),cn=(sn=this.options.visualElement)===null||sn===void 0?void 0:sn.getProps().transformTemplate,dn=cn==null?void 0:cn(this.latestValues,""),mn=dn!==this.prevTransformTemplateValue;an&&(on||hasTransform(this.latestValues)||mn)&&(nn(this.instance,dn),this.shouldResetTransform=!1,this.scheduleRender())}measure(sn=!0){const an=this.measurePageBox();let on=this.removeElementScroll(an);return sn&&(on=this.removeTransform(on)),roundBox(on),{measuredBox:an,layoutBox:on,latestValues:{}}}measurePageBox(){const{visualElement:sn}=this.options;if(!sn)return createBox();const an=sn.measureViewportBox(),{scroll:on}=this.root;return on&&(translateAxis(an.x,on.x),translateAxis(an.y,on.y)),an}removeElementScroll(sn){const an=createBox();copyBoxInto(an,sn);for(let on=0;on<this.path.length;on++){const cn=this.path[on],{scroll:dn,options:mn,isScrollRoot:pn}=cn;if(cn!==this.root&&dn&&mn.layoutScroll){if(pn){copyBoxInto(an,sn);const{scroll:fn}=this.root;fn&&(translateAxis(an.x,-fn.x),translateAxis(an.y,-fn.y))}translateAxis(an.x,dn.x),translateAxis(an.y,dn.y)}}return an}applyTransform(sn,an=!1){const on=createBox();copyBoxInto(on,sn);for(let cn=0;cn<this.path.length;cn++){const dn=this.path[cn];!an&&dn.options.layoutScroll&&dn.scroll&&dn!==dn.root&&transformBox(on,{x:-dn.scroll.x,y:-dn.scroll.y}),hasTransform(dn.latestValues)&&transformBox(on,dn.latestValues)}return hasTransform(this.latestValues)&&transformBox(on,this.latestValues),on}removeTransform(sn){var an;const on=createBox();copyBoxInto(on,sn);for(let cn=0;cn<this.path.length;cn++){const dn=this.path[cn];if(!dn.instance||!hasTransform(dn.latestValues))continue;hasScale(dn.latestValues)&&dn.updateSnapshot();const mn=createBox(),pn=dn.measurePageBox();copyBoxInto(mn,pn),removeBoxTransforms(on,dn.latestValues,(an=dn.snapshot)===null||an===void 0?void 0:an.layoutBox,mn)}return hasTransform(this.latestValues)&&removeBoxTransforms(on,this.latestValues),on}setTargetDelta(sn){this.targetDelta=sn,this.root.scheduleUpdateProjection()}setOptions(sn){this.options={...this.options,...sn,crossfade:sn.crossfade!==void 0?sn.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var sn;const{layout:an,layoutId:on}=this.options;if(!(!this.layout||!(an||on))){if(!this.targetDelta&&!this.relativeTarget){const cn=this.getClosestProjectingParent();cn&&cn.layout?(this.relativeParent=cn,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,cn.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((sn=this.relativeParent)===null||sn===void 0?void 0:sn.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const cn=this.getClosestProjectingParent();cn&&Boolean(cn.resumingFrom)===Boolean(this.resumingFrom)&&!cn.options.layoutScroll&&cn.target?(this.relativeParent=cn,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,cn.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var sn;const{layout:an,layoutId:on}=this.options;if(this.isTreeAnimating=Boolean(((sn=this.parent)===null||sn===void 0?void 0:sn.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(an||on))return;const cn=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.layoutBox),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==cn);const{target:dn}=cn;if(!dn)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const mn=this.treeScale.x,pn=this.treeScale.y,fn=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,dn,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==fn||this.treeScale.x!==mn||this.treeScale.y!==pn)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",dn))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(sn=!0){var an,on,cn;(on=(an=this.options).scheduleRender)===null||on===void 0||on.call(an),sn&&((cn=this.getStack())===null||cn===void 0||cn.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(sn,an=!1){var on;const cn=this.snapshot,dn=(cn==null?void 0:cn.latestValues)||{},mn={...this.latestValues},pn=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!an;const fn=createBox(),yn=cn==null?void 0:cn.isShared,bn=(((on=this.getStack())===null||on===void 0?void 0:on.members.length)||0)<=1,wn=Boolean(yn&&!bn&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=vn=>{var Sn;const xn=vn/1e3;mixAxisDelta(pn.x,sn.x,xn),mixAxisDelta(pn.y,sn.y,xn),this.setTargetDelta(pn),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((Sn=this.relativeParent)===null||Sn===void 0?void 0:Sn.layout)&&(calcRelativePosition(fn,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,fn,xn)),yn&&(this.animationValues=mn,mixValues(mn,dn,this.latestValues,xn,wn,bn)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=xn},this.mixTargetDelta(0)}startAnimation(sn){var an,on;this.notifyListeners("animationStart"),(an=this.currentAnimation)===null||an===void 0||an.stop(),this.resumingFrom&&((on=this.resumingFrom.currentAnimation)===null||on===void 0||on.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...sn,onUpdate:cn=>{var dn;this.mixTargetDelta(cn),(dn=sn.onUpdate)===null||dn===void 0||dn.call(sn,cn)},onComplete:()=>{var cn;(cn=sn.onComplete)===null||cn===void 0||cn.call(sn),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var sn;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(sn=this.getStack())===null||sn===void 0||sn.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var sn;this.currentAnimation&&((sn=this.mixTargetDelta)===null||sn===void 0||sn.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const sn=this.getLead();let{targetWithTransforms:an,target:on,layout:cn,latestValues:dn}=sn;if(!(!an||!on||!cn)){if(this!==sn&&this.layout&&cn&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,cn.layoutBox)){on=this.target||createBox();const mn=calcLength(this.layout.layoutBox.x);on.x.min=sn.target.x.min,on.x.max=on.x.min+mn;const pn=calcLength(this.layout.layoutBox.y);on.y.min=sn.target.y.min,on.y.max=on.y.min+pn}copyBoxInto(an,on),transformBox(an,dn),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,an,dn)}}registerSharedNode(sn,an){var on,cn,dn;this.sharedNodes.has(sn)||this.sharedNodes.set(sn,new NodeStack),this.sharedNodes.get(sn).add(an),an.promote({transition:(on=an.options.initialPromotionConfig)===null||on===void 0?void 0:on.transition,preserveFollowOpacity:(dn=(cn=an.options.initialPromotionConfig)===null||cn===void 0?void 0:cn.shouldPreserveFollowOpacity)===null||dn===void 0?void 0:dn.call(cn,an)})}isLead(){const sn=this.getStack();return sn?sn.lead===this:!0}getLead(){var sn;const{layoutId:an}=this.options;return an?((sn=this.getStack())===null||sn===void 0?void 0:sn.lead)||this:this}getPrevLead(){var sn;const{layoutId:an}=this.options;return an?(sn=this.getStack())===null||sn===void 0?void 0:sn.prevLead:void 0}getStack(){const{layoutId:sn}=this.options;if(sn)return this.root.sharedNodes.get(sn)}promote({needsReset:sn,transition:an,preserveFollowOpacity:on}={}){const cn=this.getStack();cn&&cn.promote(this,on),sn&&(this.projectionDelta=void 0,this.needsReset=!0),an&&this.setOptions({transition:an})}relegate(){const sn=this.getStack();return sn?sn.relegate(this):!1}resetRotation(){const{visualElement:sn}=this.options;if(!sn)return;let an=!1;const on={};for(let cn=0;cn<transformAxes.length;cn++){const mn="rotate"+transformAxes[cn];!sn.getStaticValue(mn)||(an=!0,on[mn]=sn.getStaticValue(mn),sn.setStaticValue(mn,0))}if(!!an){sn==null||sn.render();for(const cn in on)sn.setStaticValue(cn,on[cn]);sn.scheduleRender()}}getProjectionStyles(sn={}){var an,on,cn;const dn={};if(!this.instance||this.isSVG)return dn;if(this.isVisible)dn.visibility="";else return{visibility:"hidden"};const mn=(an=this.options.visualElement)===null||an===void 0?void 0:an.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,dn.opacity="",dn.pointerEvents=resolveMotionValue(sn.pointerEvents)||"",dn.transform=mn?mn(this.latestValues,""):"none",dn;const pn=this.getLead();if(!this.projectionDelta||!this.layout||!pn.target){const wn={};return this.options.layoutId&&(wn.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,wn.pointerEvents=resolveMotionValue(sn.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(wn.transform=mn?mn({},""):"none",this.hasProjected=!1),wn}const fn=pn.animationValues||pn.latestValues;this.applyTransformsToTarget(),dn.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,fn),mn&&(dn.transform=mn(fn,dn.transform));const{x:yn,y:bn}=this.projectionDelta;dn.transformOrigin=`${yn.origin*100}% ${bn.origin*100}% 0`,pn.animationValues?dn.opacity=pn===this?(cn=(on=fn.opacity)!==null&&on!==void 0?on:this.latestValues.opacity)!==null&&cn!==void 0?cn:1:this.preserveOpacity?this.latestValues.opacity:fn.opacityExit:dn.opacity=pn===this?fn.opacity!==void 0?fn.opacity:"":fn.opacityExit!==void 0?fn.opacityExit:0;for(const wn in scaleCorrectors){if(fn[wn]===void 0)continue;const{correct:vn,applyTo:Sn}=scaleCorrectors[wn],xn=vn(fn[wn],pn);if(Sn){const En=Sn.length;for(let Cn=0;Cn<En;Cn++)dn[Sn[Cn]]=xn}else dn[wn]=xn}return this.options.layoutId&&(dn.pointerEvents=pn===this?resolveMotionValue(sn.pointerEvents)||"":"none"),dn}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(sn=>{var an;return(an=sn.currentAnimation)===null||an===void 0?void 0:an.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(St){St.updateLayout()}function notifyLayoutUpdate(St){var _e,en,tn;const nn=((_e=St.resumeFrom)===null||_e===void 0?void 0:_e.snapshot)||St.snapshot;if(St.isLead()&&St.layout&&nn&&St.hasListeners("didUpdate")){const{layoutBox:rn,measuredBox:sn}=St.layout,{animationType:an}=St.options;an==="size"?eachAxis(pn=>{const fn=nn.isShared?nn.measuredBox[pn]:nn.layoutBox[pn],yn=calcLength(fn);fn.min=rn[pn].min,fn.max=fn.min+yn}):shouldAnimatePositionOnly(an,nn.layoutBox,rn)&&eachAxis(pn=>{const fn=nn.isShared?nn.measuredBox[pn]:nn.layoutBox[pn],yn=calcLength(rn[pn]);fn.max=fn.min+yn});const on=createDelta();calcBoxDelta(on,rn,nn.layoutBox);const cn=createDelta();nn.isShared?calcBoxDelta(cn,St.applyTransform(sn,!0),nn.measuredBox):calcBoxDelta(cn,rn,nn.layoutBox);const dn=!isDeltaZero(on);let mn=!1;if(!St.resumeFrom){const pn=St.getClosestProjectingParent();if(pn&&!pn.resumeFrom){const{snapshot:fn,layout:yn}=pn;if(fn&&yn){const bn=createBox();calcRelativePosition(bn,nn.layoutBox,fn.layoutBox);const wn=createBox();calcRelativePosition(wn,rn,yn.layoutBox),boxEquals(bn,wn)||(mn=!0)}}}St.notifyListeners("didUpdate",{layout:rn,snapshot:nn,delta:cn,layoutDelta:on,hasLayoutChanged:dn,hasRelativeTargetChanged:mn})}else St.isLead()&&((tn=(en=St.options).onExitComplete)===null||tn===void 0||tn.call(en));St.options.transition=void 0}function clearSnapshot(St){St.clearSnapshot()}function clearMeasurements(St){St.clearMeasurements()}function resetTransformStyle(St){const{visualElement:_e}=St.options;_e!=null&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),St.resetTransform()}function finishAnimation(St){St.finishAnimation(),St.targetDelta=St.relativeTarget=St.target=void 0}function resolveTargetDelta(St){St.resolveTargetDelta()}function calcProjection(St){St.calcProjection()}function resetRotation(St){St.resetRotation()}function removeLeadSnapshots(St){St.removeLeadSnapshot()}function mixAxisDelta(St,_e,en){St.translate=mix(_e.translate,0,en),St.scale=mix(_e.scale,1,en),St.origin=_e.origin,St.originPoint=_e.originPoint}function mixAxis(St,_e,en,tn){St.min=mix(_e.min,en.min,tn),St.max=mix(_e.max,en.max,tn)}function mixBox(St,_e,en,tn){mixAxis(St.x,_e.x,en.x,tn),mixAxis(St.y,_e.y,en.y,tn)}function hasOpacityCrossfade(St){return St.animationValues&&St.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(St,_e){let en=St.root;for(let rn=St.path.length-1;rn>=0;rn--)if(Boolean(St.path[rn].instance)){en=St.path[rn];break}const nn=(en&&en!==St.root?en.instance:document).querySelector(`[data-projection-id="${_e}"]`);nn&&St.mount(nn,!0)}function roundAxis(St){St.min=Math.round(St.min),St.max=Math.round(St.max)}function roundBox(St){roundAxis(St.x),roundAxis(St.y)}function shouldAnimatePositionOnly(St,_e,en){return St==="position"||St==="preserve-aspect"&&!isCloseTo(aspectRatio(_e),aspectRatio(en),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(St,_e)=>addDomEvent(St,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:St=>({x:St.scrollLeft,y:St.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const St=new DocumentProjectionNode(0,{});St.mount(window),St.setOptions({layoutScroll:!0}),rootProjectionNode.current=St}return rootProjectionNode.current},resetTransform:(St,_e)=>{St.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:St=>Boolean(window.getComputedStyle(St).position==="fixed")}),featureBundle={...animations,...gestureAnimations,...drag,...layoutFeatures},motion=createMotionProxy((St,_e)=>createDomMotionConfig(St,_e,featureBundle,createDomVisualElement,HTMLProjectionNode));function useIsMounted(){const St=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>(St.current=!0,()=>{St.current=!1}),[]),St}function useForceUpdate(){const St=useIsMounted(),[_e,en]=react.exports.useState(0),tn=react.exports.useCallback(()=>{St.current&&en(_e+1)},[_e]);return[react.exports.useCallback(()=>sync.postRender(tn),[tn]),_e]}class PopChildMeasure extends react.exports.Component{getSnapshotBeforeUpdate(_e){const en=this.props.childRef.current;if(en&&_e.isPresent&&!this.props.isPresent){const tn=this.props.sizeRef.current;tn.height=en.offsetHeight||0,tn.width=en.offsetWidth||0,tn.top=en.offsetTop,tn.left=en.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:St,isPresent:_e}){const en=react.exports.useId(),tn=react.exports.useRef(null),nn=react.exports.useRef({width:0,height:0,top:0,left:0});return react.exports.useInsertionEffect(()=>{const{width:rn,height:sn,top:an,left:on}=nn.current;if(_e||!tn.current||!rn||!sn)return;tn.current.dataset.motionPopId=en;const cn=document.createElement("style");return document.head.appendChild(cn),cn.sheet&&cn.sheet.insertRule(`
          [data-motion-pop-id="${en}"] {
            position: absolute !important;
            width: ${rn}px !important;
            height: ${sn}px !important;
            top: ${an}px !important;
            left: ${on}px !important;
          }
        `),()=>{document.head.removeChild(cn)}},[_e]),jsx(PopChildMeasure,{isPresent:_e,childRef:tn,sizeRef:nn,children:react.exports.cloneElement(St,{ref:tn})})}const PresenceChild=({children:St,initial:_e,isPresent:en,onExitComplete:tn,custom:nn,presenceAffectsLayout:rn,mode:sn})=>{const an=useConstant(newChildrenMap),on=react.exports.useId(),cn=react.exports.useMemo(()=>({id:on,initial:_e,isPresent:en,custom:nn,onExitComplete:dn=>{an.set(dn,!0);for(const mn of an.values())if(!mn)return;tn&&tn()},register:dn=>(an.set(dn,!1),()=>an.delete(dn))}),rn?void 0:[en]);return react.exports.useMemo(()=>{an.forEach((dn,mn)=>an.set(mn,!1))},[en]),react.exports.useEffect(()=>{!en&&!an.size&&tn&&tn()},[en]),sn==="popLayout"&&(St=jsx(PopChild,{isPresent:en,children:St})),jsx(PresenceContext.Provider,{value:cn,children:St})};function newChildrenMap(){return new Map}const getChildKey=St=>St.key||"";function updateChildLookup(St,_e){St.forEach(en=>{const tn=getChildKey(en);_e.set(tn,en)})}function onlyElements(St){const _e=[];return react.exports.Children.forEach(St,en=>{react.exports.isValidElement(en)&&_e.push(en)}),_e}const AnimatePresence=({children:St,custom:_e,initial:en=!0,onExitComplete:tn,exitBeforeEnter:nn,presenceAffectsLayout:rn=!0,mode:sn="sync"})=>{nn&&(sn="wait",warnOnce(!1,"Replace exitBeforeEnter with mode='wait'"));let[an]=useForceUpdate();const on=react.exports.useContext(LayoutGroupContext).forceRender;on&&(an=on);const cn=useIsMounted(),dn=onlyElements(St);let mn=dn;const pn=new Set,fn=react.exports.useRef(mn),yn=react.exports.useRef(new Map).current,bn=react.exports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{bn.current=!1,updateChildLookup(dn,yn),fn.current=mn}),useUnmountEffect(()=>{bn.current=!0,yn.clear(),pn.clear()}),bn.current)return jsx(Fragment,{children:mn.map(xn=>jsx(PresenceChild,{isPresent:!0,initial:en?void 0:!1,presenceAffectsLayout:rn,mode:sn,children:xn},getChildKey(xn)))});mn=[...mn];const wn=fn.current.map(getChildKey),vn=dn.map(getChildKey),Sn=wn.length;for(let xn=0;xn<Sn;xn++){const En=wn[xn];vn.indexOf(En)===-1&&pn.add(En)}return sn==="wait"&&pn.size&&(mn=[]),pn.forEach(xn=>{if(vn.indexOf(xn)!==-1)return;const En=yn.get(xn);if(!En)return;const Cn=wn.indexOf(xn),kn=()=>{yn.delete(xn),pn.delete(xn);const In=fn.current.findIndex(Dn=>Dn.key===xn);if(fn.current.splice(In,1),!pn.size){if(fn.current=dn,cn.current===!1)return;an(),tn&&tn()}};mn.splice(Cn,0,jsx(PresenceChild,{isPresent:!1,onExitComplete:kn,custom:_e,presenceAffectsLayout:rn,mode:sn,children:En},getChildKey(En)))}),mn=mn.map(xn=>{const En=xn.key;return pn.has(En)?xn:jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:rn,mode:sn,children:xn},getChildKey(xn))}),env!=="production"&&sn==="wait"&&mn.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),jsx(Fragment,{children:pn.size?mn:mn.map(xn=>react.exports.cloneElement(xn))})},iconCancel="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACNSURBVHgBpZLRDYAgDERbJmEUHcU/N3AGN/DPUXAUJhE5hIQEWhNsQoBeH7nQ8rpuNpA5me7lOHZPStS1BoeYm+LuIHxALteeBnS8+LisBFcQNA+GBWEutiWNlVdn5KUHWbOU0w3UgB2YehDC0GD8tzr0OUPt0CDNTRk5EUK8DU/Wodlq5MIlQS2capcHtUya4GUup8cAAAAASUVORK5CYII=",SignArea=St=>{const{width:_e,height:en,onSave:tn}=St,nn=useSignStore(),rn=react.exports.useRef(null),sn=react.exports.useRef(!1),[an,on]=react.exports.useState([]),cn=()=>{if(sn.current=!0,!rn.current)return;const wn=rn.current.getPointerPosition();!wn||on([...an,[wn.x,wn.y]])},dn=()=>{if(!sn.current||!rn.current)return;const wn=rn.current.getPointerPosition();if(!wn)return;let vn=an.at(-1);!vn||(vn=vn.concat([wn.x,wn.y]),an.splice(-1,1,vn),on([...an]))},mn=()=>{sn.current=!1},pn=()=>{sn.current=!1},fn=()=>{an.splice(-1,1),on([...an])},yn=()=>{on([])},bn=()=>{if(!rn.current)return;const wn=rn.current.toDataURL();nn.saveToLocal(wn),yn(),tn()};return jsxs("div",{children:[jsxs("div",{className:"mb-3 flex items-end gap-4 px-2",children:[jsx("h3",{className:"mr-auto",children:"\u8ACB\u5728\u9019\u88E1\u5BEB\u4E0B\u60A8\u7684\u7C3D\u540D"}),jsx("span",{onClick:fn,className:"cursor-pointer select-none text-sm text-primary",children:"\u56DE\u4E0A\u4E00\u6B65"}),jsx("span",{onClick:yn,className:"cursor-pointer select-none text-sm text-primary",children:"\u6E05\u9664"})]}),jsx(Stage,{ref:rn,className:"rounded border border-gray bg-white",width:_e-2,height:en,onMouseLeave:pn,onMouseDown:cn,onMousemove:dn,onMouseup:mn,children:jsx(Layer,{children:an.map((wn,vn)=>jsx(Line,{points:wn,stroke:"#000",strokeWidth:3,tension:.1,lineCap:"round",lineJoin:"round"},vn))})}),jsxs("div",{className:"mt-4 text-center",children:[jsx("p",{className:"mb-2 text-sm text-gray-dark",children:"\u6211\u4E86\u89E3\u9019\u662F\u4E00\u500B\u5177\u6CD5\u5F8B\u6548\u529B\u7684\u672C\u4EBA\u7C3D\u540D"}),jsx("button",{onClick:bn,className:"h-9 w-24 rounded bg-primary px-2 py-1 text-white",children:"\u5132\u5B58"})]})]})},Model=St=>{const{showModel:_e,closeModel:en}=St,tn=react.exports.useRef(null),[nn,rn]=react.exports.useState(0);return react.exports.useEffect(()=>{document.body.style.overflow=_e?"hidden":"",tn.current&&rn(getElementContentSize({element:tn.current,type:"width"}))},[_e]),jsx(AnimatePresence,{children:_e?jsx(motion.div,{className:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-primary-selected bg-opacity-40 backdrop-blur-[1px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:jsxs("div",{ref:tn,className:"w-[500px] rounded-lg bg-white p-3 pb-6 shadow-lg",children:[jsx("div",{className:"mb-6 text-right",children:jsx("button",{onClick:en,children:jsx("img",{src:iconCancel,alt:"cancel"})})}),jsx(SignArea,{width:nn,height:150,onSave:en})]})}):null})},ImageUrl=St=>{const{url:_e,width:en,className:tn}=St,[nn]=useImage(_e);let rn=1;return nn&&(rn=en/nn.naturalWidth),jsx(Stage,{width:en,height:((nn==null?void 0:nn.naturalHeight)||0)*rn,className:tn,children:jsx(Layer,{children:jsx(Image$1,{image:nn,scale:{x:rn,y:rn}})})})},EditPanel=St=>{const{onGoNext:_e}=St,[en,tn]=react.exports.useState(!1),nn=react.exports.useRef(null),[rn,sn]=react.exports.useState({width:0,height:0}),an=useSignStore();return react.exports.useEffect(()=>{!nn.current||sn({width:getElementContentSize({element:nn.current,type:"width"}),height:getElementContentSize({element:nn.current,type:"height"})-48*2-8*2})},[]),jsxs("div",{ref:nn,className:"flex flex-col gap-2 p-6",children:[jsxs("button",{onClick:()=>tn(!0),className:"flex h-12 w-full items-center justify-center gap-4 rounded border border-gray font-semibold transition-colors duration-200 hover:bg-primary-selected",children:[jsx("img",{src:iconPlus,alt:"plus"}),"\u5275\u5EFA\u7C3D\u540D"]}),jsx("div",{className:"scrollbar-hide mb-auto overflow-hidden overflow-y-auto",style:{maxHeight:`${rn.height}px`},children:an.localList.map(on=>jsx("div",{onClick:()=>{an.apply(on)},children:jsx(ImageUrl,{className:"mb-2 cursor-pointer rounded border border-gray-dark transition-colors duration-200 hover:bg-primary-selected",url:on.url,width:rn.width})},on.id))}),jsx("footer",{children:jsx("button",{onClick:_e,className:"h-12 w-full rounded bg-primary font-bold text-white",children:"\u4E0B\u4E00\u6B65"})}),jsx(Model,{closeModel:()=>tn(!1),showModel:en})]})},Edit=()=>{const[St,_e]=react.exports.useState(!1);return jsxs(Fragment,{children:[jsx(Navbar,{}),jsxs("div",{className:"grid grid-cols-[auto_400px]",children:[jsx(PdfPreview,{isFinish:St}),jsx(EditPanel,{onGoNext:()=>{_e(!0)}})]})]})},imageFinal="/thef2e-2022-pdf-signing/assets/finish.22a54951.png",scriptRel="modulepreload",assetsURL=function(St){return"/thef2e-2022-pdf-signing/"+St},seen={},__vitePreload=function St(_e,en,tn){if(!en||en.length===0)return _e();const nn=document.getElementsByTagName("link");return Promise.all(en.map(rn=>{if(rn=assetsURL(rn),rn in seen)return;seen[rn]=!0;const sn=rn.endsWith(".css"),an=sn?'[rel="stylesheet"]':"";if(!!tn)for(let dn=nn.length-1;dn>=0;dn--){const mn=nn[dn];if(mn.href===rn&&(!sn||mn.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${rn}"]${an}`))return;const cn=document.createElement("link");if(cn.rel=sn?"stylesheet":scriptRel,sn||(cn.as="script",cn.crossOrigin=""),cn.href=rn,document.head.appendChild(cn),sn)return new Promise((dn,mn)=>{cn.addEventListener("load",dn),cn.addEventListener("error",()=>mn(new Error(`Unable to preload CSS for ${rn}`)))})})).then(()=>_e())};function _typeof(St){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(St)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(St,_e){for(var en=new u16(31),tn=0;tn<31;++tn)en[tn]=_e+=1<<St[tn-1];for(var nn=new u32(en[30]),tn=1;tn<30;++tn)for(var rn=en[tn];rn<en[tn+1];++rn)nn[rn]=rn-en[tn]<<5|tn;return[en,nn]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(St,_e,en){for(var tn=St.length,nn=0,rn=new u16(_e);nn<tn;++nn)++rn[St[nn]-1];var sn=new u16(_e);for(nn=0;nn<_e;++nn)sn[nn]=sn[nn-1]+rn[nn-1]<<1;var an;if(en){an=new u16(1<<_e);var on=15-_e;for(nn=0;nn<tn;++nn)if(St[nn])for(var cn=nn<<4|St[nn],dn=_e-St[nn],mn=sn[St[nn]-1]++<<dn,pn=mn|(1<<dn)-1;mn<=pn;++mn)an[rev[mn]>>>on]=cn}else for(an=new u16(tn),nn=0;nn<tn;++nn)an[nn]=rev[sn[St[nn]-1]++]>>>15-St[nn];return an},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(St){for(var _e=St[0],en=1;en<St.length;++en)St[en]>_e&&(_e=St[en]);return _e},bits=function(St,_e,en){var tn=_e/8>>0;return(St[tn]|St[tn+1]<<8)>>>(_e&7)&en},bits16=function(St,_e){var en=_e/8>>0;return(St[en]|St[en+1]<<8|St[en+2]<<16)>>>(_e&7)},shft=function(St){return(St/8>>0)+(St&7&&1)},slc=function(St,_e,en){(_e==null||_e<0)&&(_e=0),(en==null||en>St.length)&&(en=St.length);var tn=new(St instanceof u16?u16:St instanceof u32?u32:u8)(en-_e);return tn.set(St.subarray(_e,en)),tn},inflt=function(St,_e,en){var tn=St.length,nn=!_e||en,rn=!en||en.i;en||(en={}),_e||(_e=new u8(tn*3));var sn=function(qn){var er=_e.length;if(qn>er){var sr=new u8(Math.max(er*2,qn));sr.set(_e),_e=sr}},an=en.f||0,on=en.p||0,cn=en.b||0,dn=en.l,mn=en.d,pn=en.m,fn=en.n,yn=tn*8;do{if(!dn){en.f=an=bits(St,on,1);var bn=bits(St,on+1,3);if(on+=3,bn)if(bn==1)dn=flrm,mn=fdrm,pn=9,fn=5;else if(bn==2){var xn=bits(St,on,31)+257,En=bits(St,on+10,15)+4,Cn=xn+bits(St,on+5,31)+1;on+=14;for(var kn=new u8(Cn),In=new u8(19),Dn=0;Dn<En;++Dn)In[clim[Dn]]=bits(St,on+Dn*3,7);on+=En*3;var Wn=max(In),Vn=(1<<Wn)-1;if(!rn&&on+Cn*(Wn+7)>yn)break;for(var On=hMap(In,Wn,1),Dn=0;Dn<Cn;){var zn=On[bits(St,on,Vn)];on+=zn&15;var wn=zn>>>4;if(wn<16)kn[Dn++]=wn;else{var nr=0,Yn=0;for(wn==16?(Yn=3+bits(St,on,3),on+=2,nr=kn[Dn-1]):wn==17?(Yn=3+bits(St,on,7),on+=3):wn==18&&(Yn=11+bits(St,on,127),on+=7);Yn--;)kn[Dn++]=nr}}var ar=kn.subarray(0,xn),tr=kn.subarray(xn);pn=max(ar),fn=max(tr),dn=hMap(ar,pn,1),mn=hMap(tr,fn,1)}else throw"invalid block type";else{var wn=shft(on)+4,vn=St[wn-4]|St[wn-3]<<8,Sn=wn+vn;if(Sn>tn){if(rn)throw"unexpected EOF";break}nn&&sn(cn+vn),_e.set(St.subarray(wn,Sn),cn),en.b=cn+=vn,en.p=on=Sn*8;continue}if(on>yn)throw"unexpected EOF"}nn&&sn(cn+131072);for(var dr=(1<<pn)-1,Jn=(1<<fn)-1,hr=pn+fn+18;rn||on+hr<yn;){var nr=dn[bits16(St,on)&dr],yr=nr>>>4;if(on+=nr&15,on>yn)throw"unexpected EOF";if(!nr)throw"invalid length/literal";if(yr<256)_e[cn++]=yr;else if(yr==256){dn=null;break}else{var Mr=yr-254;if(yr>264){var Dn=yr-257,Mn=fleb[Dn];Mr=bits(St,on,(1<<Mn)-1)+fl[Dn],on+=Mn}var Fn=mn[bits16(St,on)&Jn],Nn=Fn>>>4;if(!Fn)throw"invalid distance";on+=Fn&15;var tr=fd[Nn];if(Nn>3){var Mn=fdeb[Nn];tr+=bits16(St,on)&(1<<Mn)-1,on+=Mn}if(on>yn)throw"unexpected EOF";nn&&sn(cn+131072);for(var Un=cn+Mr;cn<Un;cn+=4)_e[cn]=_e[cn-tr],_e[cn+1]=_e[cn+1-tr],_e[cn+2]=_e[cn+2-tr],_e[cn+3]=_e[cn+3-tr];cn=Un}}en.l=dn,en.p=on,en.b=cn,dn&&(an=1,en.m=pn,en.d=mn,en.n=fn)}while(!an);return cn==_e.length?_e:slc(_e,0,cn)},wbits=function(St,_e,en){en<<=_e&7;var tn=_e/8>>0;St[tn]|=en,St[tn+1]|=en>>>8},wbits16=function(St,_e,en){en<<=_e&7;var tn=_e/8>>0;St[tn]|=en,St[tn+1]|=en>>>8,St[tn+2]|=en>>>16},hTree=function(St,_e){for(var en=[],tn=0;tn<St.length;++tn)St[tn]&&en.push({s:tn,f:St[tn]});var nn=en.length,rn=en.slice();if(!nn)return[new u8(0),0];if(nn==1){var sn=new u8(en[0].s+1);return sn[en[0].s]=1,[sn,1]}en.sort(function(Cn,kn){return Cn.f-kn.f}),en.push({s:-1,f:25001});var an=en[0],on=en[1],cn=0,dn=1,mn=2;for(en[0]={s:-1,f:an.f+on.f,l:an,r:on};dn!=nn-1;)an=en[en[cn].f<en[mn].f?cn++:mn++],on=en[cn!=dn&&en[cn].f<en[mn].f?cn++:mn++],en[dn++]={s:-1,f:an.f+on.f,l:an,r:on};for(var pn=rn[0].s,tn=1;tn<nn;++tn)rn[tn].s>pn&&(pn=rn[tn].s);var fn=new u16(pn+1),yn=ln(en[dn-1],fn,0);if(yn>_e){var tn=0,bn=0,wn=yn-_e,vn=1<<wn;for(rn.sort(function(kn,In){return fn[In.s]-fn[kn.s]||kn.f-In.f});tn<nn;++tn){var Sn=rn[tn].s;if(fn[Sn]>_e)bn+=vn-(1<<yn-fn[Sn]),fn[Sn]=_e;else break}for(bn>>>=wn;bn>0;){var xn=rn[tn].s;fn[xn]<_e?bn-=1<<_e-fn[xn]++-1:++tn}for(;tn>=0&&bn;--tn){var En=rn[tn].s;fn[En]==_e&&(--fn[En],++bn)}yn=_e}return[new u8(fn),yn]},ln=function(St,_e,en){return St.s==-1?Math.max(ln(St.l,_e,en+1),ln(St.r,_e,en+1)):_e[St.s]=en},lc=function(St){for(var _e=St.length;_e&&!St[--_e];);for(var en=new u16(++_e),tn=0,nn=St[0],rn=1,sn=function(on){en[tn++]=on},an=1;an<=_e;++an)if(St[an]==nn&&an!=_e)++rn;else{if(!nn&&rn>2){for(;rn>138;rn-=138)sn(32754);rn>2&&(sn(rn>10?rn-11<<5|28690:rn-3<<5|12305),rn=0)}else if(rn>3){for(sn(nn),--rn;rn>6;rn-=6)sn(8304);rn>2&&(sn(rn-3<<5|8208),rn=0)}for(;rn--;)sn(nn);rn=1,nn=St[an]}return[en.subarray(0,tn),_e]},clen=function(St,_e){for(var en=0,tn=0;tn<_e.length;++tn)en+=St[tn]*_e[tn];return en},wfblk=function(St,_e,en){var tn=en.length,nn=shft(_e+2);St[nn]=tn&255,St[nn+1]=tn>>>8,St[nn+2]=St[nn]^255,St[nn+3]=St[nn+1]^255;for(var rn=0;rn<tn;++rn)St[nn+rn+4]=en[rn];return(nn+4+tn)*8},wblk=function(St,_e,en,tn,nn,rn,sn,an,on,cn,dn){wbits(_e,dn++,en),++nn[256];for(var mn=hTree(nn,15),pn=mn[0],fn=mn[1],yn=hTree(rn,15),bn=yn[0],wn=yn[1],vn=lc(pn),Sn=vn[0],xn=vn[1],En=lc(bn),Cn=En[0],kn=En[1],In=new u16(19),Dn=0;Dn<Sn.length;++Dn)In[Sn[Dn]&31]++;for(var Dn=0;Dn<Cn.length;++Dn)In[Cn[Dn]&31]++;for(var Wn=hTree(In,7),Vn=Wn[0],On=Wn[1],zn=19;zn>4&&!Vn[clim[zn-1]];--zn);var nr=cn+5<<3,Yn=clen(nn,flt)+clen(rn,fdt)+sn,ar=clen(nn,pn)+clen(rn,bn)+sn+14+3*zn+clen(In,Vn)+(2*In[16]+3*In[17]+7*In[18]);if(nr<=Yn&&nr<=ar)return wfblk(_e,dn,St.subarray(on,on+cn));var tr,dr,Jn,hr;if(wbits(_e,dn,1+(ar<Yn)),dn+=2,ar<Yn){tr=hMap(pn,fn,0),dr=pn,Jn=hMap(bn,wn,0),hr=bn;var yr=hMap(Vn,On,0);wbits(_e,dn,xn-257),wbits(_e,dn+5,kn-1),wbits(_e,dn+10,zn-4),dn+=14;for(var Dn=0;Dn<zn;++Dn)wbits(_e,dn+3*Dn,Vn[clim[Dn]]);dn+=3*zn;for(var Mr=[Sn,Cn],Mn=0;Mn<2;++Mn)for(var Fn=Mr[Mn],Dn=0;Dn<Fn.length;++Dn){var Nn=Fn[Dn]&31;wbits(_e,dn,yr[Nn]),dn+=Vn[Nn],Nn>15&&(wbits(_e,dn,Fn[Dn]>>>5&127),dn+=Fn[Dn]>>>12)}}else tr=flm,dr=flt,Jn=fdm,hr=fdt;for(var Dn=0;Dn<an;++Dn)if(tn[Dn]>255){var Nn=tn[Dn]>>>18&31;wbits16(_e,dn,tr[Nn+257]),dn+=dr[Nn+257],Nn>7&&(wbits(_e,dn,tn[Dn]>>>23&31),dn+=fleb[Nn]);var Un=tn[Dn]&31;wbits16(_e,dn,Jn[Un]),dn+=hr[Un],Un>3&&(wbits16(_e,dn,tn[Dn]>>>5&8191),dn+=fdeb[Un])}else wbits16(_e,dn,tr[tn[Dn]]),dn+=dr[tn[Dn]];return wbits16(_e,dn,tr[256]),dn+dr[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(St,_e,en,tn,nn,rn){var sn=St.length,an=new u8(tn+sn+5*(1+Math.floor(sn/7e3))+nn),on=an.subarray(tn,an.length-nn),cn=0;if(!_e||sn<8)for(var dn=0;dn<=sn;dn+=65535){var mn=dn+65535;mn<sn?cn=wfblk(on,cn,St.subarray(dn,mn)):(on[dn]=rn,cn=wfblk(on,cn,St.subarray(dn,sn)))}else{for(var pn=deo[_e-1],fn=pn>>>13,yn=pn&8191,bn=(1<<en)-1,wn=new u16(32768),vn=new u16(bn+1),Sn=Math.ceil(en/3),xn=2*Sn,En=function($n){return(St[$n]^St[$n+1]<<Sn^St[$n+2]<<xn)&bn},Cn=new u32(25e3),kn=new u16(288),In=new u16(32),Dn=0,Wn=0,dn=0,Vn=0,On=0,zn=0;dn<sn;++dn){var nr=En(dn),Yn=dn&32767,ar=vn[nr];if(wn[Yn]=ar,vn[nr]=Yn,On<=dn){var tr=sn-dn;if((Dn>7e3||Vn>24576)&&tr>423){cn=wblk(St,on,0,Cn,kn,In,Wn,Vn,zn,dn-zn,cn),Vn=Dn=Wn=0,zn=dn;for(var dr=0;dr<286;++dr)kn[dr]=0;for(var dr=0;dr<30;++dr)In[dr]=0}var Jn=2,hr=0,yr=yn,Mr=Yn-ar&32767;if(tr>2&&nr==En(dn-Mr))for(var Mn=Math.min(fn,tr)-1,Fn=Math.min(32767,dn),Nn=Math.min(258,tr);Mr<=Fn&&--yr&&Yn!=ar;){if(St[dn+Jn]==St[dn+Jn-Mr]){for(var Un=0;Un<Nn&&St[dn+Un]==St[dn+Un-Mr];++Un);if(Un>Jn){if(Jn=Un,hr=Mr,Un>Mn)break;for(var qn=Math.min(Mr,Un-2),er=0,dr=0;dr<qn;++dr){var sr=dn-Mr+dr+32768&32767,ur=wn[sr],br=sr-ur+32768&32767;br>er&&(er=br,ar=sr)}}}Yn=ar,ar=wn[Yn],Mr+=Yn-ar+32768&32767}if(hr){Cn[Vn++]=268435456|revfl[Jn]<<18|revfd[hr];var kr=revfl[Jn]&31,Er=revfd[hr]&31;Wn+=fleb[kr]+fdeb[Er],++kn[257+kr],++In[Er],On=dn+Jn,++Dn}else Cn[Vn++]=St[dn],++kn[St[dn]]}}cn=wblk(St,on,rn,Cn,kn,In,Wn,Vn,zn,dn-zn,cn),rn||(cn=wfblk(on,cn,et$1))}return slc(an,0,tn+shft(cn)+nn)},adler=function(){var St=1,_e=0;return{p:function(en){for(var tn=St,nn=_e,rn=en.length,sn=0;sn!=rn;){for(var an=Math.min(sn+5552,rn);sn<an;++sn)tn+=en[sn],nn+=tn;tn%=65521,nn%=65521}St=tn,_e=nn},d:function(){return(St>>>8<<16|(_e&255)<<8|_e>>>8)+((St&255)<<23)*2}}},dopt=function(St,_e,en,tn,nn){return dflt(St,_e.level==null?6:_e.level,_e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(St.length)))*1.5):12+_e.mem,en,tn,!nn)},wbytes=function(St,_e,en){for(;en;++_e)St[_e]=en,en>>>=8},zlh=function(St,_e){var en=_e.level,tn=en==0?0:en<6?1:en==9?3:2;St[0]=120,St[1]=tn<<6|(tn?32-2*tn:1)},zlv=function(St){if((St[0]&15)!=8||St[0]>>>4>7||(St[0]<<8|St[1])%31)throw"invalid zlib data";if(St[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(St,_e){_e===void 0&&(_e={});var en=adler();en.p(St);var tn=dopt(St,_e,2,4);return zlh(tn,_e),wbytes(tn,tn.length-4,en.d()),tn}function unzlibSync(St,_e){return inflt((zlv(St),St.subarray(2,-4)),_e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(St){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(St){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(St))}};function o(St,_e,en){var tn=new XMLHttpRequest;tn.open("GET",St),tn.responseType="blob",tn.onload=function(){l(tn.response,_e,en)},tn.onerror=function(){a.error("could not download file")},tn.send()}function s(St){var _e=new XMLHttpRequest;_e.open("HEAD",St,!1);try{_e.send()}catch{}return _e.status>=200&&_e.status<=299}function c(St){try{St.dispatchEvent(new MouseEvent("click"))}catch{var _e=document.createEvent("MouseEvents");_e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),St.dispatchEvent(_e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(St,_e,en){var tn=n.URL||n.webkitURL,nn=document.createElement("a");_e=_e||St.name||"download",nn.download=_e,nn.rel="noopener",typeof St=="string"?(nn.href=St,nn.origin!==location.origin?s(nn.href)?o(St,_e,en):c(nn,nn.target="_blank"):c(nn)):(nn.href=tn.createObjectURL(St),setTimeout(function(){tn.revokeObjectURL(nn.href)},4e4),setTimeout(function(){c(nn)},0))}:"msSaveOrOpenBlob"in navigator?function(St,_e,en){if(_e=_e||St.name||"download",typeof St=="string")if(s(St))o(St,_e,en);else{var tn=document.createElement("a");tn.href=St,tn.target="_blank",setTimeout(function(){c(tn)})}else navigator.msSaveOrOpenBlob(function(nn,rn){return rn===void 0?rn={autoBom:!1}:_typeof(rn)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),rn={autoBom:!rn}),rn.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nn.type)?new Blob([String.fromCharCode(65279),nn],{type:nn.type}):nn}(St,en),_e)}:function(St,_e,en,tn){if((tn=tn||open("","_blank"))&&(tn.document.title=tn.document.body.innerText="downloading..."),typeof St=="string")return o(St,_e,en);var nn=St.type==="application/octet-stream",rn=/constructor/i.test(n.HTMLElement)||n.safari,sn=/CriOS\/[\d]+/.test(navigator.userAgent);if((sn||nn&&rn)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var an=new FileReader;an.onloadend=function(){var dn=an.result;dn=sn?dn:dn.replace(/^data:[^;]*;/,"data:attachment/file;"),tn?tn.location.href=dn:location=dn,tn=null},an.readAsDataURL(St)}else{var on=n.URL||n.webkitURL,cn=on.createObjectURL(St);tn?tn.location=cn:location.href=cn,tn=null,setTimeout(function(){on.revokeObjectURL(cn)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(St){var _e;St=St||"",this.ok=!1,St.charAt(0)=="#"&&(St=St.substr(1,6)),St={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[St=(St=St.replace(/ /g,"")).toLowerCase()]||St;for(var en=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(an){return[parseInt(an[1]),parseInt(an[2]),parseInt(an[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(an){return[parseInt(an[1],16),parseInt(an[2],16),parseInt(an[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(an){return[parseInt(an[1]+an[1],16),parseInt(an[2]+an[2],16),parseInt(an[3]+an[3],16)]}}],tn=0;tn<en.length;tn++){var nn=en[tn].re,rn=en[tn].process,sn=nn.exec(St);sn&&(_e=rn(sn),this.r=_e[0],this.g=_e[1],this.b=_e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var an=this.r.toString(16),on=this.g.toString(16),cn=this.b.toString(16);return an.length==1&&(an="0"+an),on.length==1&&(on="0"+on),cn.length==1&&(cn="0"+cn),"#"+an+on+cn}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(St,_e){var en=St[0],tn=St[1],nn=St[2],rn=St[3];en=g(en,tn,nn,rn,_e[0],7,-680876936),rn=g(rn,en,tn,nn,_e[1],12,-389564586),nn=g(nn,rn,en,tn,_e[2],17,606105819),tn=g(tn,nn,rn,en,_e[3],22,-1044525330),en=g(en,tn,nn,rn,_e[4],7,-176418897),rn=g(rn,en,tn,nn,_e[5],12,1200080426),nn=g(nn,rn,en,tn,_e[6],17,-1473231341),tn=g(tn,nn,rn,en,_e[7],22,-45705983),en=g(en,tn,nn,rn,_e[8],7,1770035416),rn=g(rn,en,tn,nn,_e[9],12,-1958414417),nn=g(nn,rn,en,tn,_e[10],17,-42063),tn=g(tn,nn,rn,en,_e[11],22,-1990404162),en=g(en,tn,nn,rn,_e[12],7,1804603682),rn=g(rn,en,tn,nn,_e[13],12,-40341101),nn=g(nn,rn,en,tn,_e[14],17,-1502002290),en=m(en,tn=g(tn,nn,rn,en,_e[15],22,1236535329),nn,rn,_e[1],5,-165796510),rn=m(rn,en,tn,nn,_e[6],9,-1069501632),nn=m(nn,rn,en,tn,_e[11],14,643717713),tn=m(tn,nn,rn,en,_e[0],20,-373897302),en=m(en,tn,nn,rn,_e[5],5,-701558691),rn=m(rn,en,tn,nn,_e[10],9,38016083),nn=m(nn,rn,en,tn,_e[15],14,-660478335),tn=m(tn,nn,rn,en,_e[4],20,-405537848),en=m(en,tn,nn,rn,_e[9],5,568446438),rn=m(rn,en,tn,nn,_e[14],9,-1019803690),nn=m(nn,rn,en,tn,_e[3],14,-187363961),tn=m(tn,nn,rn,en,_e[8],20,1163531501),en=m(en,tn,nn,rn,_e[13],5,-1444681467),rn=m(rn,en,tn,nn,_e[2],9,-51403784),nn=m(nn,rn,en,tn,_e[7],14,1735328473),en=v(en,tn=m(tn,nn,rn,en,_e[12],20,-1926607734),nn,rn,_e[5],4,-378558),rn=v(rn,en,tn,nn,_e[8],11,-2022574463),nn=v(nn,rn,en,tn,_e[11],16,1839030562),tn=v(tn,nn,rn,en,_e[14],23,-35309556),en=v(en,tn,nn,rn,_e[1],4,-1530992060),rn=v(rn,en,tn,nn,_e[4],11,1272893353),nn=v(nn,rn,en,tn,_e[7],16,-155497632),tn=v(tn,nn,rn,en,_e[10],23,-1094730640),en=v(en,tn,nn,rn,_e[13],4,681279174),rn=v(rn,en,tn,nn,_e[0],11,-358537222),nn=v(nn,rn,en,tn,_e[3],16,-722521979),tn=v(tn,nn,rn,en,_e[6],23,76029189),en=v(en,tn,nn,rn,_e[9],4,-640364487),rn=v(rn,en,tn,nn,_e[12],11,-421815835),nn=v(nn,rn,en,tn,_e[15],16,530742520),en=b(en,tn=v(tn,nn,rn,en,_e[2],23,-995338651),nn,rn,_e[0],6,-198630844),rn=b(rn,en,tn,nn,_e[7],10,1126891415),nn=b(nn,rn,en,tn,_e[14],15,-1416354905),tn=b(tn,nn,rn,en,_e[5],21,-57434055),en=b(en,tn,nn,rn,_e[12],6,1700485571),rn=b(rn,en,tn,nn,_e[3],10,-1894986606),nn=b(nn,rn,en,tn,_e[10],15,-1051523),tn=b(tn,nn,rn,en,_e[1],21,-2054922799),en=b(en,tn,nn,rn,_e[8],6,1873313359),rn=b(rn,en,tn,nn,_e[15],10,-30611744),nn=b(nn,rn,en,tn,_e[6],15,-1560198380),tn=b(tn,nn,rn,en,_e[13],21,1309151649),en=b(en,tn,nn,rn,_e[4],6,-145523070),rn=b(rn,en,tn,nn,_e[11],10,-1120210379),nn=b(nn,rn,en,tn,_e[2],15,718787259),tn=b(tn,nn,rn,en,_e[9],21,-343485551),St[0]=_(en,St[0]),St[1]=_(tn,St[1]),St[2]=_(nn,St[2]),St[3]=_(rn,St[3])}function p(St,_e,en,tn,nn,rn){return _e=_(_(_e,St),_(tn,rn)),_(_e<<nn|_e>>>32-nn,en)}function g(St,_e,en,tn,nn,rn,sn){return p(_e&en|~_e&tn,St,_e,nn,rn,sn)}function m(St,_e,en,tn,nn,rn,sn){return p(_e&tn|en&~tn,St,_e,nn,rn,sn)}function v(St,_e,en,tn,nn,rn,sn){return p(_e^en^tn,St,_e,nn,rn,sn)}function b(St,_e,en,tn,nn,rn,sn){return p(en^(_e|~tn),St,_e,nn,rn,sn)}function y(St){var _e,en=St.length,tn=[1732584193,-271733879,-1732584194,271733878];for(_e=64;_e<=St.length;_e+=64)d(tn,w(St.substring(_e-64,_e)));St=St.substring(_e-64);var nn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(_e=0;_e<St.length;_e++)nn[_e>>2]|=St.charCodeAt(_e)<<(_e%4<<3);if(nn[_e>>2]|=128<<(_e%4<<3),_e>55)for(d(tn,nn),_e=0;_e<16;_e++)nn[_e]=0;return nn[14]=8*en,d(tn,nn),tn}function w(St){var _e,en=[];for(_e=0;_e<64;_e+=4)en[_e>>2]=St.charCodeAt(_e)+(St.charCodeAt(_e+1)<<8)+(St.charCodeAt(_e+2)<<16)+(St.charCodeAt(_e+3)<<24);return en}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(St){for(var _e="",en=0;en<4;en++)_e+=N[St>>8*en+4&15]+N[St>>8*en&15];return _e}function A(St){return String.fromCharCode((255&St)>>0,(65280&St)>>8,(16711680&St)>>16,(4278190080&St)>>24)}function x(St){return y(St).map(A).join("")}var S=function(St){for(var _e=0;_e<St.length;_e++)St[_e]=L(St[_e]);return St.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(St,_e){if(S){var en=(65535&St)+(65535&_e);return(St>>16)+(_e>>16)+(en>>16)<<16|65535&en}return St+_e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(St,_e){var en,tn,nn,rn;if(St!==en){for(var sn=(nn=St,rn=1+(256/St.length>>0),new Array(rn+1).join(nn)),an=[],on=0;on<256;on++)an[on]=on;var cn=0;for(on=0;on<256;on++){var dn=an[on];cn=(cn+dn+sn.charCodeAt(on))%256,an[on]=an[cn],an[cn]=dn}en=St,tn=an}else an=tn;var mn=_e.length,pn=0,fn=0,yn="";for(on=0;on<mn;on++)fn=(fn+(dn=an[pn=(pn+1)%256]))%256,an[pn]=an[fn],an[fn]=dn,sn=an[(an[pn]+an[fn])%256],yn+=String.fromCharCode(_e.charCodeAt(on)^sn);return yn}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(St,_e,en,tn){this.v=1,this.r=2;var nn=192;St.forEach(function(an){if(k.perm!==void 0)throw new Error("Invalid permission: "+an);nn+=k[an]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var rn=(_e+this.padding).substr(0,32),sn=(en+this.padding).substr(0,32);this.O=this.processOwnerPassword(rn,sn),this.P=-(1+(255^nn)),this.encryptionKey=x(rn+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(tn)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(St){if(/[^\u0000-\u00ff]/.test(St))throw new Error("Invalid PDF Name Object: "+St+", Only accept ASCII characters.");for(var _e="",en=St.length,tn=0;tn<en;tn++){var nn=St.charCodeAt(tn);nn<33||nn===35||nn===37||nn===40||nn===41||nn===47||nn===60||nn===62||nn===91||nn===93||nn===123||nn===125||nn>126?_e+="#"+("0"+nn.toString(16)).slice(-2):_e+=St[tn]}return _e}function C(St){if(_typeof(St)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var _e={};this.subscribe=function(en,tn,nn){if(nn=nn||!1,typeof en!="string"||typeof tn!="function"||typeof nn!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");_e.hasOwnProperty(en)||(_e[en]={});var rn=Math.random().toString(35);return _e[en][rn]=[tn,!!nn],rn},this.unsubscribe=function(en){for(var tn in _e)if(_e[tn][en])return delete _e[tn][en],Object.keys(_e[tn]).length===0&&delete _e[tn],!0;return!1},this.publish=function(en){if(_e.hasOwnProperty(en)){var tn=Array.prototype.slice.call(arguments,1),nn=[];for(var rn in _e[en]){var sn=_e[en][rn];try{sn[0].apply(St,tn)}catch(an){n.console&&a.error("jsPDF PubSub Error",an.message,an)}sn[1]&&nn.push(rn)}nn.length&&nn.forEach(this.unsubscribe)}},this.getTopics=function(){return _e}}function j(St){if(!(this instanceof j))return new j(St);var _e="opacity,stroke-opacity".split(",");for(var en in St)St.hasOwnProperty(en)&&_e.indexOf(en)>=0&&(this[en]=St[en]);this.id="",this.objectNumber=-1}function O(St,_e){this.gState=St,this.matrix=_e,this.id="",this.objectNumber=-1}function B(St,_e,en,tn,nn){if(!(this instanceof B))return new B(St,_e,en,tn,nn);this.type=St==="axial"?2:3,this.coords=_e,this.colors=en,O.call(this,tn,nn)}function M(St,_e,en,tn,nn){if(!(this instanceof M))return new M(St,_e,en,tn,nn);this.boundingBox=St,this.xStep=_e,this.yStep=en,this.stream="",this.cloneIndex=0,O.call(this,tn,nn)}function E(St){var _e,en=typeof arguments[0]=="string"?arguments[0]:"p",tn=arguments[1],nn=arguments[2],rn=arguments[3],sn=[],an=1,on=16,cn="S",dn=null;_typeof(St=St||{})==="object"&&(en=St.orientation,tn=St.unit||tn,nn=St.format||nn,rn=St.compress||St.compressPdf||rn,(dn=St.encryption||null)!==null&&(dn.userPassword=dn.userPassword||"",dn.ownerPassword=dn.ownerPassword||"",dn.userPermissions=dn.userPermissions||[]),an=typeof St.userUnit=="number"?Math.abs(St.userUnit):1,St.precision!==void 0&&(_e=St.precision),St.floatPrecision!==void 0&&(on=St.floatPrecision),cn=St.defaultPathOperation||"S"),sn=St.filters||(rn===!0?["FlateEncode"]:sn),tn=tn||"mm",en=(""+(en||"P")).toLowerCase();var mn=St.putOnlyUsedFonts||!1,pn={},fn={internal:{},__private__:{}};fn.__private__.PubSub=C;var yn="1.3",bn=fn.__private__.getPdfVersion=function(){return yn};fn.__private__.setPdfVersion=function(Tn){yn=Tn};var wn={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};fn.__private__.getPageFormats=function(){return wn};var vn=fn.__private__.getPageFormat=function(Tn){return wn[Tn]};nn=nn||"a4";var Sn={COMPAT:"compat",ADVANCED:"advanced"},xn=Sn.COMPAT;function En(){this.saveGraphicsState(),jn(new ws(Xr,0,0,-Xr,0,Ru()*Xr).toString()+" cm"),this.setFontSize(this.getFontSize()/Xr),cn="n",xn=Sn.ADVANCED}function Cn(){this.restoreGraphicsState(),cn="S",xn=Sn.COMPAT}var kn=fn.__private__.combineFontStyleAndFontWeight=function(Tn,Qn){if(Tn=="bold"&&Qn=="normal"||Tn=="bold"&&Qn==400||Tn=="normal"&&Qn=="italic"||Tn=="bold"&&Qn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qn&&(Tn=Qn==400||Qn==="normal"?Tn==="italic"?"italic":"normal":Qn!=700&&Qn!=="bold"||Tn!=="normal"?(Qn==700?"bold":Qn)+""+Tn:"bold"),Tn};fn.advancedAPI=function(Tn){var Qn=xn===Sn.COMPAT;return Qn&&En.call(this),typeof Tn!="function"||(Tn(this),Qn&&Cn.call(this)),this},fn.compatAPI=function(Tn){var Qn=xn===Sn.ADVANCED;return Qn&&Cn.call(this),typeof Tn!="function"||(Tn(this),Qn&&En.call(this)),this},fn.isAdvancedAPI=function(){return xn===Sn.ADVANCED};var In,Dn=function(Tn){if(xn!==Sn.ADVANCED)throw new Error(Tn+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Wn=fn.roundToPrecision=fn.__private__.roundToPrecision=function(Tn,Qn){var wr=_e||Qn;if(isNaN(Tn)||isNaN(wr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Tn.toFixed(wr).replace(/0+$/,"")};In=fn.hpf=fn.__private__.hpf=typeof on=="number"?function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(Tn,on)}:on==="smart"?function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(Tn,Tn>-1&&Tn<1?16:5)}:function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(Tn,16)};var Vn=fn.f2=fn.__private__.f2=function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.f2");return Wn(Tn,2)},On=fn.__private__.f3=function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.f3");return Wn(Tn,3)},zn=fn.scale=fn.__private__.scale=function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.scale");return xn===Sn.COMPAT?Tn*Xr:xn===Sn.ADVANCED?Tn:void 0},nr=function(Tn){return xn===Sn.COMPAT?Ru()-Tn:xn===Sn.ADVANCED?Tn:void 0},Yn=function(Tn){return zn(nr(Tn))};fn.__private__.setPrecision=fn.setPrecision=function(Tn){typeof parseInt(Tn,10)=="number"&&(_e=parseInt(Tn,10))};var ar,tr="00000000000000000000000000000000",dr=fn.__private__.getFileId=function(){return tr},Jn=fn.__private__.setFileId=function(Tn){return tr=Tn!==void 0&&/^[a-fA-F0-9]{32}$/.test(Tn)?Tn.toUpperCase():tr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),dn!==null&&(Ro=new I(dn.userPermissions,dn.userPassword,dn.ownerPassword,tr)),tr};fn.setFileId=function(Tn){return Jn(Tn),this},fn.getFileId=function(){return dr()};var hr=fn.__private__.convertDateToPDFDate=function(Tn){var Qn=Tn.getTimezoneOffset(),wr=Qn<0?"+":"-",Nr=Math.floor(Math.abs(Qn/60)),Vr=Math.abs(Qn%60),Qr=[wr,Nn(Nr),"'",Nn(Vr),"'"].join("");return["D:",Tn.getFullYear(),Nn(Tn.getMonth()+1),Nn(Tn.getDate()),Nn(Tn.getHours()),Nn(Tn.getMinutes()),Nn(Tn.getSeconds()),Qr].join("")},yr=fn.__private__.convertPDFDateToDate=function(Tn){var Qn=parseInt(Tn.substr(2,4),10),wr=parseInt(Tn.substr(6,2),10)-1,Nr=parseInt(Tn.substr(8,2),10),Vr=parseInt(Tn.substr(10,2),10),Qr=parseInt(Tn.substr(12,2),10),os=parseInt(Tn.substr(14,2),10);return new Date(Qn,wr,Nr,Vr,Qr,os,0)},Mr=fn.__private__.setCreationDate=function(Tn){var Qn;if(Tn===void 0&&(Tn=new Date),Tn instanceof Date)Qn=hr(Tn);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Tn))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qn=Tn}return ar=Qn},Mn=fn.__private__.getCreationDate=function(Tn){var Qn=ar;return Tn==="jsDate"&&(Qn=yr(ar)),Qn};fn.setCreationDate=function(Tn){return Mr(Tn),this},fn.getCreationDate=function(Tn){return Mn(Tn)};var Fn,Nn=fn.__private__.padd2=function(Tn){return("0"+parseInt(Tn)).slice(-2)},Un=fn.__private__.padd2Hex=function(Tn){return("00"+(Tn=Tn.toString())).substr(Tn.length)},qn=0,er=[],sr=[],ur=0,br=[],kr=[],Er=!1,Pr=sr,$n=function(){qn=0,ur=0,sr=[],er=[],br=[],Lo=Zs(),No=Zs()};fn.__private__.setCustomOutputDestination=function(Tn){Er=!0,Pr=Tn};var Gn=function(Tn){Er||(Pr=Tn)};fn.__private__.resetCustomOutputDestination=function(){Er=!1,Pr=sr};var jn=fn.__private__.out=function(Tn){return Tn=Tn.toString(),ur+=Tn.length+1,Pr.push(Tn),Pr},fr=fn.__private__.write=function(Tn){return jn(arguments.length===1?Tn.toString():Array.prototype.join.call(arguments," "))},Xn=fn.__private__.getArrayBuffer=function(Tn){for(var Qn=Tn.length,wr=new ArrayBuffer(Qn),Nr=new Uint8Array(wr);Qn--;)Nr[Qn]=Tn.charCodeAt(Qn);return wr},Zn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];fn.__private__.getStandardFonts=function(){return Zn};var pr=St.fontSize||16;fn.__private__.setFontSize=fn.setFontSize=function(Tn){return pr=xn===Sn.ADVANCED?Tn/Xr:Tn,this};var Tr,xr=fn.__private__.getFontSize=fn.getFontSize=function(){return xn===Sn.COMPAT?pr:pr*Xr},Ur=St.R2L||!1;fn.__private__.setR2L=fn.setR2L=function(Tn){return Ur=Tn,this},fn.__private__.getR2L=fn.getR2L=function(){return Ur};var lr,Rr=fn.__private__.setZoomMode=function(Tn){var Qn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Tn))Tr=Tn;else if(isNaN(Tn)){if(Qn.indexOf(Tn)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Tn+'" is not recognized.');Tr=Tn}else Tr=parseInt(Tn,10)};fn.__private__.getZoomMode=function(){return Tr};var zr,qr=fn.__private__.setPageMode=function(Tn){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Tn)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Tn+'" is not recognized.');lr=Tn};fn.__private__.getPageMode=function(){return lr};var Ar=fn.__private__.setLayoutMode=function(Tn){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Tn)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Tn+'" is not recognized.');zr=Tn};fn.__private__.getLayoutMode=function(){return zr},fn.__private__.setDisplayMode=fn.setDisplayMode=function(Tn,Qn,wr){return Rr(Tn),Ar(Qn),qr(wr),this};var Hr={title:"",subject:"",author:"",keywords:"",creator:""};fn.__private__.getDocumentProperty=function(Tn){if(Object.keys(Hr).indexOf(Tn)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Hr[Tn]},fn.__private__.getDocumentProperties=function(){return Hr},fn.__private__.setDocumentProperties=fn.setProperties=fn.setDocumentProperties=function(Tn){for(var Qn in Hr)Hr.hasOwnProperty(Qn)&&Tn[Qn]&&(Hr[Qn]=Tn[Qn]);return this},fn.__private__.setDocumentProperty=function(Tn,Qn){if(Object.keys(Hr).indexOf(Tn)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Hr[Tn]=Qn};var ns,Xr,Cs,ms,ys,ks={},Rs={},_r=[],gr={},Cr={},_i={},cs={},xs=null,ls=0,as=[],vs=new C(fn),Os=St.hotfixes||[],Ls={},zs={},Fs=[],ws=function Tn(Qn,wr,Nr,Vr,Qr,os){if(!(this instanceof Tn))return new Tn(Qn,wr,Nr,Vr,Qr,os);isNaN(Qn)&&(Qn=1),isNaN(wr)&&(wr=0),isNaN(Nr)&&(Nr=0),isNaN(Vr)&&(Vr=1),isNaN(Qr)&&(Qr=0),isNaN(os)&&(os=0),this._matrix=[Qn,wr,Nr,Vr,Qr,os]};Object.defineProperty(ws.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Tn){this._matrix[0]=Tn}}),Object.defineProperty(ws.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Tn){this._matrix[1]=Tn}}),Object.defineProperty(ws.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Tn){this._matrix[2]=Tn}}),Object.defineProperty(ws.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Tn){this._matrix[3]=Tn}}),Object.defineProperty(ws.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Tn){this._matrix[4]=Tn}}),Object.defineProperty(ws.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Tn){this._matrix[5]=Tn}}),Object.defineProperty(ws.prototype,"a",{get:function(){return this._matrix[0]},set:function(Tn){this._matrix[0]=Tn}}),Object.defineProperty(ws.prototype,"b",{get:function(){return this._matrix[1]},set:function(Tn){this._matrix[1]=Tn}}),Object.defineProperty(ws.prototype,"c",{get:function(){return this._matrix[2]},set:function(Tn){this._matrix[2]=Tn}}),Object.defineProperty(ws.prototype,"d",{get:function(){return this._matrix[3]},set:function(Tn){this._matrix[3]=Tn}}),Object.defineProperty(ws.prototype,"e",{get:function(){return this._matrix[4]},set:function(Tn){this._matrix[4]=Tn}}),Object.defineProperty(ws.prototype,"f",{get:function(){return this._matrix[5]},set:function(Tn){this._matrix[5]=Tn}}),Object.defineProperty(ws.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ws.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ws.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ws.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ws.prototype.join=function(Tn){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(In).join(Tn)},ws.prototype.multiply=function(Tn){var Qn=Tn.sx*this.sx+Tn.shy*this.shx,wr=Tn.sx*this.shy+Tn.shy*this.sy,Nr=Tn.shx*this.sx+Tn.sy*this.shx,Vr=Tn.shx*this.shy+Tn.sy*this.sy,Qr=Tn.tx*this.sx+Tn.ty*this.shx+this.tx,os=Tn.tx*this.shy+Tn.ty*this.sy+this.ty;return new ws(Qn,wr,Nr,Vr,Qr,os)},ws.prototype.decompose=function(){var Tn=this.sx,Qn=this.shy,wr=this.shx,Nr=this.sy,Vr=this.tx,Qr=this.ty,os=Math.sqrt(Tn*Tn+Qn*Qn),hs=(Tn/=os)*wr+(Qn/=os)*Nr;wr-=Tn*hs,Nr-=Qn*hs;var Ps=Math.sqrt(wr*wr+Nr*Nr);return hs/=Ps,Tn*(Nr/=Ps)<Qn*(wr/=Ps)&&(Tn=-Tn,Qn=-Qn,hs=-hs,os=-os),{scale:new ws(os,0,0,Ps,0,0),translate:new ws(1,0,0,1,Vr,Qr),rotate:new ws(Tn,Qn,-Qn,Tn,0,0),skew:new ws(1,0,hs,1,0,0)}},ws.prototype.toString=function(Tn){return this.join(" ")},ws.prototype.inversed=function(){var Tn=this.sx,Qn=this.shy,wr=this.shx,Nr=this.sy,Vr=this.tx,Qr=this.ty,os=1/(Tn*Nr-Qn*wr),hs=Nr*os,Ps=-Qn*os,Ds=-wr*os,Is=Tn*os;return new ws(hs,Ps,Ds,Is,-hs*Vr-Ds*Qr,-Ps*Vr-Is*Qr)},ws.prototype.applyToPoint=function(Tn){var Qn=Tn.x*this.sx+Tn.y*this.shx+this.tx,wr=Tn.x*this.shy+Tn.y*this.sy+this.ty;return new Bo(Qn,wr)},ws.prototype.applyToRectangle=function(Tn){var Qn=this.applyToPoint(Tn),wr=this.applyToPoint(new Bo(Tn.x+Tn.w,Tn.y+Tn.h));return new Qo(Qn.x,Qn.y,wr.x-Qn.x,wr.y-Qn.y)},ws.prototype.clone=function(){var Tn=this.sx,Qn=this.shy,wr=this.shx,Nr=this.sy,Vr=this.tx,Qr=this.ty;return new ws(Tn,Qn,wr,Nr,Vr,Qr)},fn.Matrix=ws;var Bs=fn.matrixMult=function(Tn,Qn){return Qn.multiply(Tn)},oo=new ws(1,0,0,1,0,0);fn.unitMatrix=fn.identityMatrix=oo;var Js=function(Tn,Qn){if(!Cr[Tn]){var wr=(Qn instanceof B?"Sh":"P")+(Object.keys(gr).length+1).toString(10);Qn.id=wr,Cr[Tn]=wr,gr[wr]=Qn,vs.publish("addPattern",Qn)}};fn.ShadingPattern=B,fn.TilingPattern=M,fn.addShadingPattern=function(Tn,Qn){return Dn("addShadingPattern()"),Js(Tn,Qn),this},fn.beginTilingPattern=function(Tn){Dn("beginTilingPattern()"),ap(Tn.boundingBox[0],Tn.boundingBox[1],Tn.boundingBox[2]-Tn.boundingBox[0],Tn.boundingBox[3]-Tn.boundingBox[1],Tn.matrix)},fn.endTilingPattern=function(Tn,Qn){Dn("endTilingPattern()"),Qn.stream=kr[Fn].join(`
`),Js(Tn,Qn),vs.publish("endTilingPattern",Qn),Fs.pop().restore()};var Vs=fn.__private__.newObject=function(){var Tn=Zs();return fo(Tn,!0),Tn},Zs=fn.__private__.newObjectDeferred=function(){return qn++,er[qn]=function(){return ur},qn},fo=function(Tn,Qn){return Qn=typeof Qn=="boolean"&&Qn,er[Tn]=ur,Qn&&jn(Tn+" 0 obj"),Tn},ro=fn.__private__.newAdditionalObject=function(){var Tn={objId:Zs(),content:""};return br.push(Tn),Tn},Lo=Zs(),No=Zs(),zo=fn.__private__.decodeColorString=function(Tn){var Qn=Tn.split(" ");if(Qn.length!==2||Qn[1]!=="g"&&Qn[1]!=="G")Qn.length===5&&(Qn[4]==="k"||Qn[4]==="K")&&(Qn=[(1-Qn[0])*(1-Qn[3]),(1-Qn[1])*(1-Qn[3]),(1-Qn[2])*(1-Qn[3]),"r"]);else{var wr=parseFloat(Qn[0]);Qn=[wr,wr,wr,"r"]}for(var Nr="#",Vr=0;Vr<3;Vr++)Nr+=("0"+Math.floor(255*parseFloat(Qn[Vr])).toString(16)).slice(-2);return Nr},Rl=fn.__private__.encodeColorString=function(Tn){var Qn;typeof Tn=="string"&&(Tn={ch1:Tn});var wr=Tn.ch1,Nr=Tn.ch2,Vr=Tn.ch3,Qr=Tn.ch4,os=Tn.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof wr=="string"&&wr.charAt(0)!=="#"){var hs=new f(wr);if(hs.ok)wr=hs.toHex();else if(!/^\d*\.?\d*$/.test(wr))throw new Error('Invalid color "'+wr+'" passed to jsPDF.encodeColorString.')}if(typeof wr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(wr)&&(wr="#"+wr[1]+wr[1]+wr[2]+wr[2]+wr[3]+wr[3]),typeof wr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(wr)){var Ps=parseInt(wr.substr(1),16);wr=Ps>>16&255,Nr=Ps>>8&255,Vr=255&Ps}if(Nr===void 0||Qr===void 0&&wr===Nr&&Nr===Vr)if(typeof wr=="string")Qn=wr+" "+os[0];else switch(Tn.precision){case 2:Qn=Vn(wr/255)+" "+os[0];break;case 3:default:Qn=On(wr/255)+" "+os[0]}else if(Qr===void 0||_typeof(Qr)==="object"){if(Qr&&!isNaN(Qr.a)&&Qr.a===0)return Qn=["1.","1.","1.",os[1]].join(" ");if(typeof wr=="string")Qn=[wr,Nr,Vr,os[1]].join(" ");else switch(Tn.precision){case 2:Qn=[Vn(wr/255),Vn(Nr/255),Vn(Vr/255),os[1]].join(" ");break;default:case 3:Qn=[On(wr/255),On(Nr/255),On(Vr/255),os[1]].join(" ")}}else if(typeof wr=="string")Qn=[wr,Nr,Vr,Qr,os[2]].join(" ");else switch(Tn.precision){case 2:Qn=[Vn(wr),Vn(Nr),Vn(Vr),Vn(Qr),os[2]].join(" ");break;case 3:default:Qn=[On(wr),On(Nr),On(Vr),On(Qr),os[2]].join(" ")}return Qn},Eu=fn.__private__.getFilters=function(){return sn},ou=fn.__private__.putStream=function(Tn){var Qn=(Tn=Tn||{}).data||"",wr=Tn.filters||Eu(),Nr=Tn.alreadyAppliedFilters||[],Vr=Tn.addLength1||!1,Qr=Qn.length,os=Tn.objectId,hs=function(Uo){return Uo};if(dn!==null&&os===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");dn!==null&&(hs=Ro.encryptor(os,0));var Ps={};wr===!0&&(wr=["FlateEncode"]);var Ds=Tn.additionalKeyValues||[],Is=(Ps=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Qn,wr):{data:Qn,reverseChain:[]}).reverseChain+(Array.isArray(Nr)?Nr.join(" "):Nr.toString());if(Ps.data.length!==0&&(Ds.push({key:"Length",value:Ps.data.length}),Vr===!0&&Ds.push({key:"Length1",value:Qr})),Is.length!=0)if(Is.split("/").length-1==1)Ds.push({key:"Filter",value:Is});else{Ds.push({key:"Filter",value:"["+Is+"]"});for(var Ys=0;Ys<Ds.length;Ys+=1)if(Ds[Ys].key==="DecodeParms"){for(var co=[],go=0;go<Ps.reverseChain.split("/").length-1;go+=1)co.push("null");co.push(Ds[Ys].value),Ds[Ys].value="["+co.join(" ")+"]"}}jn("<<");for(var wo=0;wo<Ds.length;wo++)jn("/"+Ds[wo].key+" "+Ds[wo].value);jn(">>"),Ps.data.length!==0&&(jn("stream"),jn(hs(Ps.data)),jn("endstream"))},Pu=fn.__private__.putPage=function(Tn){var Qn=Tn.number,wr=Tn.data,Nr=Tn.objId,Vr=Tn.contentsObjId;fo(Nr,!0),jn("<</Type /Page"),jn("/Parent "+Tn.rootDictionaryObjId+" 0 R"),jn("/Resources "+Tn.resourceDictionaryObjId+" 0 R"),jn("/MediaBox ["+parseFloat(In(Tn.mediaBox.bottomLeftX))+" "+parseFloat(In(Tn.mediaBox.bottomLeftY))+" "+In(Tn.mediaBox.topRightX)+" "+In(Tn.mediaBox.topRightY)+"]"),Tn.cropBox!==null&&jn("/CropBox ["+In(Tn.cropBox.bottomLeftX)+" "+In(Tn.cropBox.bottomLeftY)+" "+In(Tn.cropBox.topRightX)+" "+In(Tn.cropBox.topRightY)+"]"),Tn.bleedBox!==null&&jn("/BleedBox ["+In(Tn.bleedBox.bottomLeftX)+" "+In(Tn.bleedBox.bottomLeftY)+" "+In(Tn.bleedBox.topRightX)+" "+In(Tn.bleedBox.topRightY)+"]"),Tn.trimBox!==null&&jn("/TrimBox ["+In(Tn.trimBox.bottomLeftX)+" "+In(Tn.trimBox.bottomLeftY)+" "+In(Tn.trimBox.topRightX)+" "+In(Tn.trimBox.topRightY)+"]"),Tn.artBox!==null&&jn("/ArtBox ["+In(Tn.artBox.bottomLeftX)+" "+In(Tn.artBox.bottomLeftY)+" "+In(Tn.artBox.topRightX)+" "+In(Tn.artBox.topRightY)+"]"),typeof Tn.userUnit=="number"&&Tn.userUnit!==1&&jn("/UserUnit "+Tn.userUnit),vs.publish("putPage",{objId:Nr,pageContext:as[Qn],pageNumber:Qn,page:wr}),jn("/Contents "+Vr+" 0 R"),jn(">>"),jn("endobj");var Qr=wr.join(`
`);return xn===Sn.ADVANCED&&(Qr+=`
Q`),fo(Vr,!0),ou({data:Qr,filters:Eu(),objectId:Vr}),jn("endobj"),Nr},mp=fn.__private__.putPages=function(){var Tn,Qn,wr=[];for(Tn=1;Tn<=ls;Tn++)as[Tn].objId=Zs(),as[Tn].contentsObjId=Zs();for(Tn=1;Tn<=ls;Tn++)wr.push(Pu({number:Tn,data:kr[Tn],objId:as[Tn].objId,contentsObjId:as[Tn].contentsObjId,mediaBox:as[Tn].mediaBox,cropBox:as[Tn].cropBox,bleedBox:as[Tn].bleedBox,trimBox:as[Tn].trimBox,artBox:as[Tn].artBox,userUnit:as[Tn].userUnit,rootDictionaryObjId:Lo,resourceDictionaryObjId:No}));fo(Lo,!0),jn("<</Type /Pages");var Nr="/Kids [";for(Qn=0;Qn<ls;Qn++)Nr+=wr[Qn]+" 0 R ";jn(Nr+"]"),jn("/Count "+ls),jn(">>"),jn("endobj"),vs.publish("postPutPages")},Ip=function(Tn){vs.publish("putFont",{font:Tn,out:jn,newObject:Vs,putStream:ou}),Tn.isAlreadyPutted!==!0&&(Tn.objectNumber=Vs(),jn("<<"),jn("/Type /Font"),jn("/BaseFont /"+F(Tn.postScriptName)),jn("/Subtype /Type1"),typeof Tn.encoding=="string"&&jn("/Encoding /"+Tn.encoding),jn("/FirstChar 32"),jn("/LastChar 255"),jn(">>"),jn("endobj"))},jp=function(){for(var Tn in ks)ks.hasOwnProperty(Tn)&&(mn===!1||mn===!0&&pn.hasOwnProperty(Tn))&&Ip(ks[Tn])},Bp=function(Tn){Tn.objectNumber=Vs();var Qn=[];Qn.push({key:"Type",value:"/XObject"}),Qn.push({key:"Subtype",value:"/Form"}),Qn.push({key:"BBox",value:"["+[In(Tn.x),In(Tn.y),In(Tn.x+Tn.width),In(Tn.y+Tn.height)].join(" ")+"]"}),Qn.push({key:"Matrix",value:"["+Tn.matrix.toString()+"]"});var wr=Tn.pages[1].join(`
`);ou({data:wr,additionalKeyValues:Qn,objectId:Tn.objectNumber}),jn("endobj")},Up=function(){for(var Tn in Ls)Ls.hasOwnProperty(Tn)&&Bp(Ls[Tn])},Bm=function(Tn,Qn){var wr,Nr=[],Vr=1/(Qn-1);for(wr=0;wr<1;wr+=Vr)Nr.push(wr);if(Nr.push(1),Tn[0].offset!=0){var Qr={offset:0,color:Tn[0].color};Tn.unshift(Qr)}if(Tn[Tn.length-1].offset!=1){var os={offset:1,color:Tn[Tn.length-1].color};Tn.push(os)}for(var hs="",Ps=0,Ds=0;Ds<Nr.length;Ds++){for(wr=Nr[Ds];wr>Tn[Ps+1].offset;)Ps++;var Is=Tn[Ps].offset,Ys=(wr-Is)/(Tn[Ps+1].offset-Is),co=Tn[Ps].color,go=Tn[Ps+1].color;hs+=Un(Math.round((1-Ys)*co[0]+Ys*go[0]).toString(16))+Un(Math.round((1-Ys)*co[1]+Ys*go[1]).toString(16))+Un(Math.round((1-Ys)*co[2]+Ys*go[2]).toString(16))}return hs.trim()},p0=function(Tn,Qn){Qn||(Qn=21);var wr=Vs(),Nr=Bm(Tn.colors,Qn),Vr=[];Vr.push({key:"FunctionType",value:"0"}),Vr.push({key:"Domain",value:"[0.0 1.0]"}),Vr.push({key:"Size",value:"["+Qn+"]"}),Vr.push({key:"BitsPerSample",value:"8"}),Vr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ou({data:Nr,additionalKeyValues:Vr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:wr}),jn("endobj"),Tn.objectNumber=Vs(),jn("<< /ShadingType "+Tn.type),jn("/ColorSpace /DeviceRGB");var Qr="/Coords ["+In(parseFloat(Tn.coords[0]))+" "+In(parseFloat(Tn.coords[1]))+" ";Tn.type===2?Qr+=In(parseFloat(Tn.coords[2]))+" "+In(parseFloat(Tn.coords[3])):Qr+=In(parseFloat(Tn.coords[2]))+" "+In(parseFloat(Tn.coords[3]))+" "+In(parseFloat(Tn.coords[4]))+" "+In(parseFloat(Tn.coords[5])),jn(Qr+="]"),Tn.matrix&&jn("/Matrix ["+Tn.matrix.toString()+"]"),jn("/Function "+wr+" 0 R"),jn("/Extend [true true]"),jn(">>"),jn("endobj")},pm=function(Tn,Qn){var wr=Zs(),Nr=Vs();Qn.push({resourcesOid:wr,objectOid:Nr}),Tn.objectNumber=Nr;var Vr=[];Vr.push({key:"Type",value:"/Pattern"}),Vr.push({key:"PatternType",value:"1"}),Vr.push({key:"PaintType",value:"1"}),Vr.push({key:"TilingType",value:"1"}),Vr.push({key:"BBox",value:"["+Tn.boundingBox.map(In).join(" ")+"]"}),Vr.push({key:"XStep",value:In(Tn.xStep)}),Vr.push({key:"YStep",value:In(Tn.yStep)}),Vr.push({key:"Resources",value:wr+" 0 R"}),Tn.matrix&&Vr.push({key:"Matrix",value:"["+Tn.matrix.toString()+"]"}),ou({data:Tn.stream,additionalKeyValues:Vr,objectId:Tn.objectNumber}),jn("endobj")},Tu=function(Tn){var Qn;for(Qn in gr)gr.hasOwnProperty(Qn)&&(gr[Qn]instanceof B?p0(gr[Qn]):gr[Qn]instanceof M&&pm(gr[Qn],Tn))},$p=function(Tn){for(var Qn in Tn.objectNumber=Vs(),jn("<<"),Tn)switch(Qn){case"opacity":jn("/ca "+Vn(Tn[Qn]));break;case"stroke-opacity":jn("/CA "+Vn(Tn[Qn]))}jn(">>"),jn("endobj")},gm=function(){var Tn;for(Tn in _i)_i.hasOwnProperty(Tn)&&$p(_i[Tn])},mm=function(){for(var Tn in jn("/XObject <<"),Ls)Ls.hasOwnProperty(Tn)&&Ls[Tn].objectNumber>=0&&jn("/"+Tn+" "+Ls[Tn].objectNumber+" 0 R");vs.publish("putXobjectDict"),jn(">>")},vm=function(){Ro.oid=Vs(),jn("<<"),jn("/Filter /Standard"),jn("/V "+Ro.v),jn("/R "+Ro.r),jn("/U <"+Ro.toHexString(Ro.U)+">"),jn("/O <"+Ro.toHexString(Ro.O)+">"),jn("/P "+Ro.P),jn(">>"),jn("endobj")},zu=function(){for(var Tn in jn("/Font <<"),ks)ks.hasOwnProperty(Tn)&&(mn===!1||mn===!0&&pn.hasOwnProperty(Tn))&&jn("/"+Tn+" "+ks[Tn].objectNumber+" 0 R");jn(">>")},ku=function(){if(Object.keys(gr).length>0){for(var Tn in jn("/Shading <<"),gr)gr.hasOwnProperty(Tn)&&gr[Tn]instanceof B&&gr[Tn].objectNumber>=0&&jn("/"+Tn+" "+gr[Tn].objectNumber+" 0 R");vs.publish("putShadingPatternDict"),jn(">>")}},na=function(Tn){if(Object.keys(gr).length>0){for(var Qn in jn("/Pattern <<"),gr)gr.hasOwnProperty(Qn)&&gr[Qn]instanceof fn.TilingPattern&&gr[Qn].objectNumber>=0&&gr[Qn].objectNumber<Tn&&jn("/"+Qn+" "+gr[Qn].objectNumber+" 0 R");vs.publish("putTilingPatternDict"),jn(">>")}},io=function(){if(Object.keys(_i).length>0){var Tn;for(Tn in jn("/ExtGState <<"),_i)_i.hasOwnProperty(Tn)&&_i[Tn].objectNumber>=0&&jn("/"+Tn+" "+_i[Tn].objectNumber+" 0 R");vs.publish("putGStateDict"),jn(">>")}},so=function(Tn){fo(Tn.resourcesOid,!0),jn("<<"),jn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zu(),ku(),na(Tn.objectOid),io(),mm(),jn(">>"),jn("endobj")},Oo=function(){var Tn=[];jp(),gm(),Up(),Tu(Tn),vs.publish("putResources"),Tn.forEach(so),so({resourcesOid:No,objectOid:Number.MAX_SAFE_INTEGER}),vs.publish("postPutResources")},Ho=function(){vs.publish("putAdditionalObjects");for(var Tn=0;Tn<br.length;Tn++){var Qn=br[Tn];fo(Qn.objId,!0),jn(Qn.content),jn("endobj")}vs.publish("postPutAdditionalObjects")},Lu=function(Tn){Rs[Tn.fontName]=Rs[Tn.fontName]||{},Rs[Tn.fontName][Tn.fontStyle]=Tn.id},Nu=function(Tn,Qn,wr,Nr,Vr){var Qr={id:"F"+(Object.keys(ks).length+1).toString(10),postScriptName:Tn,fontName:Qn,fontStyle:wr,encoding:Nr,isStandardFont:Vr||!1,metadata:{}};return vs.publish("addFont",{font:Qr,instance:this}),ks[Qr.id]=Qr,Lu(Qr),Qr.id},Ko=function(Tn){for(var Qn=0,wr=Zn.length;Qn<wr;Qn++){var Nr=Nu.call(this,Tn[Qn][0],Tn[Qn][1],Tn[Qn][2],Zn[Qn][3],!0);mn===!1&&(pn[Nr]=!0);var Vr=Tn[Qn][0].split("-");Lu({id:Nr,fontName:Vr[0],fontStyle:Vr[1]||""})}vs.publish("addFonts",{fonts:ks,dictionary:Rs})},Fl=function(Tn){return Tn.foo=function(){try{return Tn.apply(this,arguments)}catch(Nr){var Qn=Nr.stack||"";~Qn.indexOf(" at ")&&(Qn=Qn.split(" at ")[1]);var wr="Error in function "+Qn.split(`
`)[0].split("<")[0]+": "+Nr.message;if(!n.console)throw new Error(wr);n.console.error(wr,Nr),n.alert&&alert(wr)}},Tn.foo.bar=Tn,Tn.foo},vp=function(Tn,Qn){var wr,Nr,Vr,Qr,os,hs,Ps,Ds,Is;if(Vr=(Qn=Qn||{}).sourceEncoding||"Unicode",os=Qn.outputEncoding,(Qn.autoencode||os)&&ks[ns].metadata&&ks[ns].metadata[Vr]&&ks[ns].metadata[Vr].encoding&&(Qr=ks[ns].metadata[Vr].encoding,!os&&ks[ns].encoding&&(os=ks[ns].encoding),!os&&Qr.codePages&&(os=Qr.codePages[0]),typeof os=="string"&&(os=Qr[os]),os)){for(Ps=!1,hs=[],wr=0,Nr=Tn.length;wr<Nr;wr++)(Ds=os[Tn.charCodeAt(wr)])?hs.push(String.fromCharCode(Ds)):hs.push(Tn[wr]),hs[wr].charCodeAt(0)>>8&&(Ps=!0);Tn=hs.join("")}for(wr=Tn.length;Ps===void 0&&wr!==0;)Tn.charCodeAt(wr-1)>>8&&(Ps=!0),wr--;if(!Ps)return Tn;for(hs=Qn.noBOM?[]:[254,255],wr=0,Nr=Tn.length;wr<Nr;wr++){if((Is=(Ds=Tn.charCodeAt(wr))>>8)>>8)throw new Error("Character at position "+wr+" of string '"+Tn+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hs.push(Is),hs.push(Ds-(Is<<8))}return String.fromCharCode.apply(void 0,hs)},xl=fn.__private__.pdfEscape=fn.pdfEscape=function(Tn,Qn){return vp(Tn,Qn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tp=fn.__private__.beginPage=function(Tn){kr[++ls]=[],as[ls]={objId:0,contentsObjId:0,userUnit:Number(an),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Tn[0]),topRightY:Number(Tn[1])}},Um(ls),Gn(kr[Fn])},ym=function(Tn,Qn){var wr,Nr,Vr;switch(en=Qn||en,typeof Tn=="string"&&(wr=vn(Tn.toLowerCase()),Array.isArray(wr)&&(Nr=wr[0],Vr=wr[1])),Array.isArray(Tn)&&(Nr=Tn[0]*Xr,Vr=Tn[1]*Xr),isNaN(Nr)&&(Nr=nn[0],Vr=nn[1]),(Nr>14400||Vr>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Nr=Math.min(14400,Nr),Vr=Math.min(14400,Vr)),nn=[Nr,Vr],en.substr(0,1)){case"l":Vr>Nr&&(nn=[Vr,Nr]);break;case"p":Nr>Vr&&(nn=[Vr,Nr])}tp(nn),qp(Wl),jn(_o),Kp!==0&&jn(Kp+" J"),wp!==0&&jn(wp+" j"),vs.publish("addPage",{pageNumber:ls})},Gl=function(Tn){Tn>0&&Tn<=ls&&(kr.splice(Tn,1),as.splice(Tn,1),ls--,Fn>ls&&(Fn=ls),this.setPage(Fn))},Um=function(Tn){Tn>0&&Tn<=ls&&(Fn=Tn)},g0=fn.__private__.getNumberOfPages=fn.getNumberOfPages=function(){return kr.length-1},$m=function(Tn,Qn,wr){var Nr,Vr=void 0;return wr=wr||{},Tn=Tn!==void 0?Tn:ks[ns].fontName,Qn=Qn!==void 0?Qn:ks[ns].fontStyle,Nr=Tn.toLowerCase(),Rs[Nr]!==void 0&&Rs[Nr][Qn]!==void 0?Vr=Rs[Nr][Qn]:Rs[Tn]!==void 0&&Rs[Tn][Qn]!==void 0?Vr=Rs[Tn][Qn]:wr.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Tn+"', '"+Qn+"'. Refer to getFontList() for available fonts."),Vr||wr.noFallback||(Vr=Rs.times[Qn])==null&&(Vr=Rs.times.normal),Vr},Vp=fn.__private__.putInfo=function(){var Tn=Vs(),Qn=function(Nr){return Nr};for(var wr in dn!==null&&(Qn=Ro.encryptor(Tn,0)),jn("<<"),jn("/Producer ("+xl(Qn("jsPDF "+E.version))+")"),Hr)Hr.hasOwnProperty(wr)&&Hr[wr]&&jn("/"+wr.substr(0,1).toUpperCase()+wr.substr(1)+" ("+xl(Qn(Hr[wr]))+")");jn("/CreationDate ("+xl(Qn(ar))+")"),jn(">>"),jn("endobj")},np=fn.__private__.putCatalog=function(Tn){var Qn=(Tn=Tn||{}).rootDictionaryObjId||Lo;switch(Vs(),jn("<<"),jn("/Type /Catalog"),jn("/Pages "+Qn+" 0 R"),Tr||(Tr="fullwidth"),Tr){case"fullwidth":jn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":jn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":jn("/OpenAction [3 0 R /Fit]");break;case"original":jn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var wr=""+Tr;wr.substr(wr.length-1)==="%"&&(Tr=parseInt(Tr)/100),typeof Tr=="number"&&jn("/OpenAction [3 0 R /XYZ null null "+Vn(Tr)+"]")}switch(zr||(zr="continuous"),zr){case"continuous":jn("/PageLayout /OneColumn");break;case"single":jn("/PageLayout /SinglePage");break;case"two":case"twoleft":jn("/PageLayout /TwoColumnLeft");break;case"tworight":jn("/PageLayout /TwoColumnRight")}lr&&jn("/PageMode /"+lr),vs.publish("putCatalog"),jn(">>"),jn("endobj")},yp=fn.__private__.putTrailer=function(){jn("trailer"),jn("<<"),jn("/Size "+(qn+1)),jn("/Root "+qn+" 0 R"),jn("/Info "+(qn-1)+" 0 R"),dn!==null&&jn("/Encrypt "+Ro.oid+" 0 R"),jn("/ID [ <"+tr+"> <"+tr+"> ]"),jn(">>")},zp=fn.__private__.putHeader=function(){jn("%PDF-"+yn),jn("%\xBA\xDF\xAC\xE0")},m0=fn.__private__.putXRef=function(){var Tn="0000000000";jn("xref"),jn("0 "+(qn+1)),jn("0000000000 65535 f ");for(var Qn=1;Qn<=qn;Qn++)typeof er[Qn]=="function"?jn((Tn+er[Qn]()).slice(-10)+" 00000 n "):er[Qn]!==void 0?jn((Tn+er[Qn]).slice(-10)+" 00000 n "):jn("0000000000 00000 n ")},Hu=fn.__private__.buildDocument=function(){$n(),Gn(sr),vs.publish("buildDocument"),zp(),mp(),Ho(),Oo(),dn!==null&&vm(),Vp(),np();var Tn=ur;return m0(),yp(),jn("startxref"),jn(""+Tn),jn("%%EOF"),Gn(kr[Fn]),sr.join(`
`)},rp=fn.__private__.getBlob=function(Tn){return new Blob([Xn(Tn)],{type:"application/pdf"})},Sp=fn.output=fn.__private__.output=Fl(function(Tn,Qn){switch(typeof(Qn=Qn||{})=="string"?Qn={filename:Qn}:Qn.filename=Qn.filename||"generated.pdf",Tn){case void 0:return Hu();case"save":fn.save(Qn.filename);break;case"arraybuffer":return Xn(Hu());case"blob":return rp(Hu());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(rp(Hu()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var wr="",Nr=Hu();try{wr=h(Nr)}catch{wr=h(unescape(encodeURIComponent(Nr)))}return"data:application/pdf;filename="+Qn.filename+";base64,"+wr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Vr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qn.pdfObjectUrl&&(Vr=Qn.pdfObjectUrl,Qr="");var os='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Vr+'"'+Qr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qn)+");<\/script></body></html>",hs=n.open();return hs!==null&&hs.document.write(os),hs}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Ps='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qn.filename+'" width="500px" height="400px" /></body></html>',Ds=n.open();if(Ds!==null){Ds.document.write(Ps);var Is=this;Ds.document.documentElement.querySelector("#pdfViewer").onload=function(){Ds.document.title=Qn.filename,Ds.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Is.output("bloburl"))}}return Ds}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ys='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qn)+'"></iframe></body></html>',co=n.open();if(co!==null&&(co.document.write(Ys),co.document.title=Qn.filename),co||typeof safari>"u")return co;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Qn);default:return null}}),Hp=function(Tn){return Array.isArray(Os)===!0&&Os.indexOf(Tn)>-1};switch(tn){case"pt":Xr=1;break;case"mm":Xr=72/25.4;break;case"cm":Xr=72/2.54;break;case"in":Xr=72;break;case"px":Xr=Hp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xr=12;break;case"ex":Xr=6;break;default:if(typeof tn!="number")throw new Error("Invalid unit: "+tn);Xr=tn}var Ro=null;Mr(),Jn();var v0=function(Tn){return dn!==null?Ro.encryptor(Tn,0):function(Qn){return Qn}},Gp=fn.__private__.getPageInfo=fn.getPageInfo=function(Tn){if(isNaN(Tn)||Tn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:as[Tn].objId,pageNumber:Tn,pageContext:as[Tn]}},gs=fn.__private__.getPageInfoByObjId=function(Tn){if(isNaN(Tn)||Tn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qn in as)if(as[Qn].objId===Tn)break;return Gp(Qn)},Vm=fn.__private__.getCurrentPageInfo=fn.getCurrentPageInfo=function(){return{objId:as[Fn].objId,pageNumber:Fn,pageContext:as[Fn]}};fn.addPage=function(){return ym.apply(this,arguments),this},fn.setPage=function(){return Um.apply(this,arguments),Gn.call(this,kr[Fn]),this},fn.insertPage=function(Tn){return this.addPage(),this.movePage(Fn,Tn),this},fn.movePage=function(Tn,Qn){var wr,Nr;if(Tn>Qn){wr=kr[Tn],Nr=as[Tn];for(var Vr=Tn;Vr>Qn;Vr--)kr[Vr]=kr[Vr-1],as[Vr]=as[Vr-1];kr[Qn]=wr,as[Qn]=Nr,this.setPage(Qn)}else if(Tn<Qn){wr=kr[Tn],Nr=as[Tn];for(var Qr=Tn;Qr<Qn;Qr++)kr[Qr]=kr[Qr+1],as[Qr]=as[Qr+1];kr[Qn]=wr,as[Qn]=Nr,this.setPage(Qn)}return this},fn.deletePage=function(){return Gl.apply(this,arguments),this},fn.__private__.text=fn.text=function(Tn,Qn,wr,Nr,Vr){var Qr,os,hs,Ps,Ds,Is,Ys,co,go,wo=(Nr=Nr||{}).scope||this;if(typeof Tn=="number"&&typeof Qn=="number"&&(typeof wr=="string"||Array.isArray(wr))){var Uo=wr;wr=Qn,Qn=Tn,Tn=Uo}if(arguments[3]instanceof ws?(Dn("The transform parameter of text() with a Matrix value"),go=Vr):(hs=arguments[4],Ps=arguments[5],_typeof(Ys=arguments[3])==="object"&&Ys!==null||(typeof hs=="string"&&(Ps=hs,hs=null),typeof Ys=="string"&&(Ps=Ys,Ys=null),typeof Ys=="number"&&(hs=Ys,Ys=null),Nr={flags:Ys,angle:hs,align:Ps})),isNaN(Qn)||isNaN(wr)||Tn==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Tn.length===0)return wo;var mo="",bo=!1,Io=typeof Nr.lineHeightFactor=="number"?Nr.lineHeightFactor:Go,Su=wo.internal.scaleFactor;function bm(Ms){return Ms=Ms.split("	").join(Array(Nr.TabLen||9).join(" ")),xl(Ms,Ys)}function Ol(Ms){for(var js,qs=Ms.concat(),xo=[],nu=qs.length;nu--;)typeof(js=qs.shift())=="string"?xo.push(js):Array.isArray(Ms)&&(js.length===1||js[1]===void 0&&js[2]===void 0)?xo.push(js[0]):xo.push([js[0],js[1],js[2]]);return xo}function lu(Ms,js){var qs;if(typeof Ms=="string")qs=js(Ms)[0];else if(Array.isArray(Ms)){for(var xo,nu,hu=Ms.concat(),tm=[],jo=hu.length;jo--;)typeof(xo=hu.shift())=="string"?tm.push(js(xo)[0]):Array.isArray(xo)&&typeof xo[0]=="string"&&(nu=js(xo[0],xo[1],xo[2]),tm.push([nu[0],nu[1],nu[2]]));qs=tm}return qs}var lp=!1,Qp=!0;if(typeof Tn=="string")lp=!0;else if(Array.isArray(Tn)){var Jl=Tn.concat();os=[];for(var Zl,qo=Jl.length;qo--;)(typeof(Zl=Jl.shift())!="string"||Array.isArray(Zl)&&typeof Zl[0]!="string")&&(Qp=!1);lp=Qp}if(lp===!1)throw new Error('Type of text must be string or Array. "'+Tn+'" is not recognized.');typeof Tn=="string"&&(Tn=Tn.match(/[\r?\n]/)?Tn.split(/\r\n|\r|\n/g):[Tn]);var Ap=pr/wo.internal.scaleFactor,Wu=Ap*(Io-1);switch(Nr.baseline){case"bottom":wr-=Wu;break;case"top":wr+=Ap-Wu;break;case"hanging":wr+=Ap-2*Wu;break;case"middle":wr+=Ap/2-Wu}if((Is=Nr.maxWidth||0)>0&&(typeof Tn=="string"?Tn=wo.splitTextToSize(Tn,Is):Object.prototype.toString.call(Tn)==="[object Array]"&&(Tn=Tn.reduce(function(Ms,js){return Ms.concat(wo.splitTextToSize(js,Is))},[]))),Qr={text:Tn,x:Qn,y:wr,options:Nr,mutex:{pdfEscape:xl,activeFontKey:ns,fonts:ks,activeFontSize:pr}},vs.publish("preProcessText",Qr),Tn=Qr.text,hs=(Nr=Qr.options).angle,!(go instanceof ws)&&hs&&typeof hs=="number"){hs*=Math.PI/180,Nr.rotationDirection===0&&(hs=-hs),xn===Sn.ADVANCED&&(hs=-hs);var Cp=Math.cos(hs),Jp=Math.sin(hs);go=new ws(Cp,Jp,-Jp,Cp,0,0)}else hs&&hs instanceof ws&&(go=hs);xn!==Sn.ADVANCED||go||(go=oo),(Ds=Nr.charSpace||Dl)!==void 0&&(mo+=In(zn(Ds))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(co=Nr.horizontalScale)!==void 0&&(mo+=In(100*co)+` Tz
`),Nr.lang;var Jo=-1,Zp=Nr.renderingMode!==void 0?Nr.renderingMode:Nr.stroke,_g=wo.internal.getCurrentPageInfo().pageContext;switch(Zp){case 0:case!1:case"fill":Jo=0;break;case 1:case!0:case"stroke":Jo=1;break;case 2:case"fillThenStroke":Jo=2;break;case 3:case"invisible":Jo=3;break;case 4:case"fillAndAddForClipping":Jo=4;break;case 5:case"strokeAndAddPathForClipping":Jo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jo=6;break;case 7:case"addToPathForClipping":Jo=7}var xm=_g.usedRenderingMode!==void 0?_g.usedRenderingMode:-1;Jo!==-1?mo+=Jo+` Tr
`:xm!==-1&&(mo+=`0 Tr
`),Jo!==-1&&(_g.usedRenderingMode=Jo),Ps=Nr.align||"left";var uu,Ep=pr*Io,Pp=wo.internal.pageSize.getWidth(),em=ks[ns];Ds=Nr.charSpace||Dl,Is=Nr.maxWidth||0,Ys=Object.assign({autoencode:!0,noBOM:!0},Nr.flags);var Ku=[];if(Object.prototype.toString.call(Tn)==="[object Array]"){var eu;os=Ol(Tn),Ps!=="left"&&(uu=os.map(function(Ms){return wo.getStringUnitWidth(Ms,{font:em,charSpace:Ds,fontSize:pr,doKerning:!1})*pr/Su}));var Zo,Yu=0;if(Ps==="right"){Qn-=uu[0],Tn=[],qo=os.length;for(var Il=0;Il<qo;Il++)Il===0?(Zo=Ml(Qn),eu=Yl(wr)):(Zo=zn(Yu-uu[Il]),eu=-Ep),Tn.push([os[Il],Zo,eu]),Yu=uu[Il]}else if(Ps==="center"){Qn-=uu[0]/2,Tn=[],qo=os.length;for(var Fo=0;Fo<qo;Fo++)Fo===0?(Zo=Ml(Qn),eu=Yl(wr)):(Zo=zn((Yu-uu[Fo])/2),eu=-Ep),Tn.push([os[Fo],Zo,eu]),Yu=uu[Fo]}else if(Ps==="left"){Tn=[],qo=os.length;for(var Fu=0;Fu<qo;Fu++)Tn.push(os[Fu])}else{if(Ps!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Tn=[],qo=os.length,Is=Is!==0?Is:Pp;for(var yl=0;yl<qo;yl++)eu=yl===0?Yl(wr):-Ep,Zo=yl===0?Ml(Qn):0,yl<qo-1?Ku.push(In(zn((Is-uu[yl])/(os[yl].split(" ").length-1)))):Ku.push(0),Tn.push([os[yl],Zo,eu])}}var Al=typeof Nr.R2L=="boolean"?Nr.R2L:Ur;Al===!0&&(Tn=lu(Tn,function(Ms,js,qs){return[Ms.split("").reverse().join(""),js,qs]})),Qr={text:Tn,x:Qn,y:wr,options:Nr,mutex:{pdfEscape:xl,activeFontKey:ns,fonts:ks,activeFontSize:pr}},vs.publish("postProcessText",Qr),Tn=Qr.text,bo=Qr.mutex.isHex||!1;var Tp=ks[ns].encoding;Tp!=="WinAnsiEncoding"&&Tp!=="StandardEncoding"||(Tn=lu(Tn,function(Ms,js,qs){return[bm(Ms),js,qs]})),os=Ol(Tn),Tn=[];for(var tu,cu,_u,to=0,Xu=1,Qu=Array.isArray(os[0])?Xu:to,Mu="",up=function(Ms,js,qs){var xo="";return qs instanceof ws?(qs=typeof Nr.angle=="number"?Bs(qs,new ws(1,0,0,1,Ms,js)):Bs(new ws(1,0,0,1,Ms,js),qs),xn===Sn.ADVANCED&&(qs=Bs(new ws(1,0,0,-1,0,0),qs)),xo=qs.join(" ")+` Tm
`):xo=In(Ms)+" "+In(js)+` Td
`,xo},Bl=0;Bl<os.length;Bl++){switch(Mu="",Qu){case Xu:_u=(bo?"<":"(")+os[Bl][0]+(bo?">":")"),tu=parseFloat(os[Bl][1]),cu=parseFloat(os[Bl][2]);break;case to:_u=(bo?"<":"(")+os[Bl]+(bo?">":")"),tu=Ml(Qn),cu=Yl(wr)}Ku!==void 0&&Ku[Bl]!==void 0&&(Mu=Ku[Bl]+` Tw
`),Bl===0?Tn.push(Mu+up(tu,cu,go)+_u):Qu===to?Tn.push(Mu+_u):Qu===Xu&&Tn.push(Mu+up(tu,cu,go)+_u)}Tn=Qu===to?Tn.join(` Tj
T* `):Tn.join(` Tj
`),Tn+=` Tj
`;var Cl=`BT
/`;return Cl+=ns+" "+pr+` Tf
`,Cl+=In(pr*Io)+` TL
`,Cl+=Xl+`
`,Cl+=mo,Cl+=Tn,jn(Cl+="ET"),pn[ns]=!0,wo};var Sm=fn.__private__.clip=fn.clip=function(Tn){return jn(Tn==="evenodd"?"W*":"W"),this};fn.clipEvenOdd=function(){return Sm("evenodd")},fn.__private__.discardPath=fn.discardPath=function(){return jn("n"),this};var mu=fn.__private__.isValidStyle=function(Tn){var Qn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Tn)!==-1&&(Qn=!0),Qn};fn.__private__.setDefaultPathOperation=fn.setDefaultPathOperation=function(Tn){return mu(Tn)&&(cn=Tn),this};var zm=fn.__private__.getStyle=fn.getStyle=function(Tn){var Qn=cn;switch(Tn){case"D":case"S":Qn="S";break;case"F":Qn="f";break;case"FD":case"DF":Qn="B";break;case"f":case"f*":case"B":case"B*":Qn=Tn}return Qn},Hm=fn.close=function(){return jn("h"),this};fn.stroke=function(){return jn("S"),this},fn.fill=function(Tn){return po("f",Tn),this},fn.fillEvenOdd=function(Tn){return po("f*",Tn),this},fn.fillStroke=function(Tn){return po("B",Tn),this},fn.fillStrokeEvenOdd=function(Tn){return po("B*",Tn),this};var po=function(Tn,Qn){_typeof(Qn)==="object"?_m(Qn,Tn):jn(Tn)},_p=function(Tn){Tn===null||xn===Sn.ADVANCED&&Tn===void 0||(Tn=zm(Tn),jn(Tn))};function y0(Tn,Qn,wr,Nr,Vr){var Qr=new M(Qn||this.boundingBox,wr||this.xStep,Nr||this.yStep,this.gState,Vr||this.matrix);Qr.stream=this.stream;var os=Tn+"$$"+this.cloneIndex+++"$$";return Js(os,Qr),Qr}var _m=function(Tn,Qn){var wr=Cr[Tn.key],Nr=gr[wr];if(Nr instanceof B)jn("q"),jn(S0(Qn)),Nr.gState&&fn.setGState(Nr.gState),jn(Tn.matrix.toString()+" cm"),jn("/"+wr+" sh"),jn("Q");else if(Nr instanceof M){var Vr=new ws(1,0,0,-1,0,Ru());Tn.matrix&&(Vr=Vr.multiply(Tn.matrix||oo),wr=y0.call(Nr,Tn.key,Tn.boundingBox,Tn.xStep,Tn.yStep,Vr).id),jn("q"),jn("/Pattern cs"),jn("/"+wr+" scn"),Nr.gState&&fn.setGState(Nr.gState),jn(Qn),jn("Q")}},S0=function(Tn){switch(Tn){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ip=fn.moveTo=function(Tn,Qn){return jn(In(zn(Tn))+" "+In(Yn(Qn))+" m"),this},Yo=fn.lineTo=function(Tn,Qn){return jn(In(zn(Tn))+" "+In(Yn(Qn))+" l"),this},sp=fn.curveTo=function(Tn,Qn,wr,Nr,Vr,Qr){return jn([In(zn(Tn)),In(Yn(Qn)),In(zn(wr)),In(Yn(Nr)),In(zn(Vr)),In(Yn(Qr)),"c"].join(" ")),this};fn.__private__.line=fn.line=function(Tn,Qn,wr,Nr,Vr){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||isNaN(Nr)||!mu(Vr))throw new Error("Invalid arguments passed to jsPDF.line");return xn===Sn.COMPAT?this.lines([[wr-Tn,Nr-Qn]],Tn,Qn,[1,1],Vr||"S"):this.lines([[wr-Tn,Nr-Qn]],Tn,Qn,[1,1]).stroke()},fn.__private__.lines=fn.lines=function(Tn,Qn,wr,Nr,Vr,Qr){var os,hs,Ps,Ds,Is,Ys,co,go,wo,Uo,mo,bo;if(typeof Tn=="number"&&(bo=wr,wr=Qn,Qn=Tn,Tn=bo),Nr=Nr||[1,1],Qr=Qr||!1,isNaN(Qn)||isNaN(wr)||!Array.isArray(Tn)||!Array.isArray(Nr)||!mu(Vr)||typeof Qr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ip(Qn,wr),os=Nr[0],hs=Nr[1],Ds=Tn.length,Uo=Qn,mo=wr,Ps=0;Ps<Ds;Ps++)(Is=Tn[Ps]).length===2?(Uo=Is[0]*os+Uo,mo=Is[1]*hs+mo,Yo(Uo,mo)):(Ys=Is[0]*os+Uo,co=Is[1]*hs+mo,go=Is[2]*os+Uo,wo=Is[3]*hs+mo,Uo=Is[4]*os+Uo,mo=Is[5]*hs+mo,sp(Ys,co,go,wo,Uo,mo));return Qr&&Hm(),_p(Vr),this},fn.path=function(Tn){for(var Qn=0;Qn<Tn.length;Qn++){var wr=Tn[Qn],Nr=wr.c;switch(wr.op){case"m":ip(Nr[0],Nr[1]);break;case"l":Yo(Nr[0],Nr[1]);break;case"c":sp.apply(this,Nr);break;case"h":Hm()}}return this},fn.__private__.rect=fn.rect=function(Tn,Qn,wr,Nr,Vr){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||isNaN(Nr)||!mu(Vr))throw new Error("Invalid arguments passed to jsPDF.rect");return xn===Sn.COMPAT&&(Nr=-Nr),jn([In(zn(Tn)),In(Yn(Qn)),In(zn(wr)),In(zn(Nr)),"re"].join(" ")),_p(Vr),this},fn.__private__.triangle=fn.triangle=function(Tn,Qn,wr,Nr,Vr,Qr,os){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||isNaN(Nr)||isNaN(Vr)||isNaN(Qr)||!mu(os))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[wr-Tn,Nr-Qn],[Vr-wr,Qr-Nr],[Tn-Vr,Qn-Qr]],Tn,Qn,[1,1],os,!0),this},fn.__private__.roundedRect=fn.roundedRect=function(Tn,Qn,wr,Nr,Vr,Qr,os){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||isNaN(Nr)||isNaN(Vr)||isNaN(Qr)||!mu(os))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var hs=4/3*(Math.SQRT2-1);return Vr=Math.min(Vr,.5*wr),Qr=Math.min(Qr,.5*Nr),this.lines([[wr-2*Vr,0],[Vr*hs,0,Vr,Qr-Qr*hs,Vr,Qr],[0,Nr-2*Qr],[0,Qr*hs,-Vr*hs,Qr,-Vr,Qr],[2*Vr-wr,0],[-Vr*hs,0,-Vr,-Qr*hs,-Vr,-Qr],[0,2*Qr-Nr],[0,-Qr*hs,Vr*hs,-Qr,Vr,-Qr]],Tn+Vr,Qn,[1,1],os,!0),this},fn.__private__.ellipse=fn.ellipse=function(Tn,Qn,wr,Nr,Vr){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||isNaN(Nr)||!mu(Vr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qr=4/3*(Math.SQRT2-1)*wr,os=4/3*(Math.SQRT2-1)*Nr;return ip(Tn+wr,Qn),sp(Tn+wr,Qn-os,Tn+Qr,Qn-Nr,Tn,Qn-Nr),sp(Tn-Qr,Qn-Nr,Tn-wr,Qn-os,Tn-wr,Qn),sp(Tn-wr,Qn+os,Tn-Qr,Qn+Nr,Tn,Qn+Nr),sp(Tn+Qr,Qn+Nr,Tn+wr,Qn+os,Tn+wr,Qn),_p(Vr),this},fn.__private__.circle=fn.circle=function(Tn,Qn,wr,Nr){if(isNaN(Tn)||isNaN(Qn)||isNaN(wr)||!mu(Nr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Tn,Qn,wr,wr,Nr)},fn.setFont=function(Tn,Qn,wr){return wr&&(Qn=kn(Qn,wr)),ns=$m(Tn,Qn,{disableWarning:!1}),this};var _0=fn.__private__.getFont=fn.getFont=function(){return ks[$m.apply(fn,arguments)]};fn.__private__.getFontList=fn.getFontList=function(){var Tn,Qn,wr={};for(Tn in Rs)if(Rs.hasOwnProperty(Tn))for(Qn in wr[Tn]=[],Rs[Tn])Rs[Tn].hasOwnProperty(Qn)&&wr[Tn].push(Qn);return wr},fn.addFont=function(Tn,Qn,wr,Nr,Vr){var Qr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qr.indexOf(arguments[3])!==-1?Vr=arguments[3]:arguments[3]&&Qr.indexOf(arguments[3])==-1&&(wr=kn(wr,Nr)),Vr=Vr||"Identity-H",Nu.call(this,Tn,Qn,wr,Vr)};var Go,Wl=St.lineWidth||.200025,Gu=fn.__private__.getLineWidth=fn.getLineWidth=function(){return Wl},qp=fn.__private__.setLineWidth=fn.setLineWidth=function(Tn){return Wl=Tn,jn(In(zn(Tn))+" w"),this};fn.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Tn,Qn){if(Tn=Tn||[],Qn=Qn||0,isNaN(Qn)||!Array.isArray(Tn))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Tn=Tn.map(function(wr){return In(zn(wr))}).join(" "),Qn=In(zn(Qn)),jn("["+Tn+"] "+Qn+" d"),this};var wm=fn.__private__.getLineHeight=fn.getLineHeight=function(){return pr*Go};fn.__private__.getLineHeight=fn.getLineHeight=function(){return pr*Go};var Gm=fn.__private__.setLineHeightFactor=fn.setLineHeightFactor=function(Tn){return typeof(Tn=Tn||1.15)=="number"&&(Go=Tn),this},Kl=fn.__private__.getLineHeightFactor=fn.getLineHeightFactor=function(){return Go};Gm(St.lineHeight);var Ml=fn.__private__.getHorizontalCoordinate=function(Tn){return zn(Tn)},Yl=fn.__private__.getVerticalCoordinate=function(Tn){return xn===Sn.ADVANCED?Tn:as[Fn].mediaBox.topRightY-as[Fn].mediaBox.bottomLeftY-zn(Tn)},Wp=fn.__private__.getHorizontalCoordinateString=fn.getHorizontalCoordinateString=function(Tn){return In(Ml(Tn))},vu=fn.__private__.getVerticalCoordinateString=fn.getVerticalCoordinateString=function(Tn){return In(Yl(Tn))},_o=St.strokeColor||"0 G";fn.__private__.getStrokeColor=fn.getDrawColor=function(){return zo(_o)},fn.__private__.setStrokeColor=fn.setDrawColor=function(Tn,Qn,wr,Nr){return _o=Rl({ch1:Tn,ch2:Qn,ch3:wr,ch4:Nr,pdfColorType:"draw",precision:2}),jn(_o),this};var Xo=St.fillColor||"0 g";fn.__private__.getFillColor=fn.getFillColor=function(){return zo(Xo)},fn.__private__.setFillColor=fn.setFillColor=function(Tn,Qn,wr,Nr){return Xo=Rl({ch1:Tn,ch2:Qn,ch3:wr,ch4:Nr,pdfColorType:"fill",precision:2}),jn(Xo),this};var Xl=St.textColor||"0 g",yu=fn.__private__.getTextColor=fn.getTextColor=function(){return zo(Xl)};fn.__private__.setTextColor=fn.setTextColor=function(Tn,Qn,wr,Nr){return Xl=Rl({ch1:Tn,ch2:Qn,ch3:wr,ch4:Nr,pdfColorType:"text",precision:3}),this};var Dl=St.charSpace,qu=fn.__private__.getCharSpace=fn.getCharSpace=function(){return parseFloat(Dl||0)};fn.__private__.setCharSpace=fn.setCharSpace=function(Tn){if(isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dl=Tn,this};var Kp=0;fn.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},fn.__private__.setLineCap=fn.setLineCap=function(Tn){var Qn=fn.CapJoinStyles[Tn];if(Qn===void 0)throw new Error("Line cap style of '"+Tn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kp=Qn,jn(Qn+" J"),this};var wp=0;fn.__private__.setLineJoin=fn.setLineJoin=function(Tn){var Qn=fn.CapJoinStyles[Tn];if(Qn===void 0)throw new Error("Line join style of '"+Tn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wp=Qn,jn(Qn+" j"),this},fn.__private__.setLineMiterLimit=fn.__private__.setMiterLimit=fn.setLineMiterLimit=fn.setMiterLimit=function(Tn){if(Tn=Tn||0,isNaN(Tn))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return jn(In(zn(Tn))+" M"),this},fn.GState=j,fn.setGState=function(Tn){(Tn=typeof Tn=="string"?_i[cs[Tn]]:Yp(null,Tn)).equals(xs)||(jn("/"+Tn.id+" gs"),xs=Tn)};var Yp=function(Tn,Qn){if(!Tn||!cs[Tn]){var wr=!1;for(var Nr in _i)if(_i.hasOwnProperty(Nr)&&_i[Nr].equals(Qn)){wr=!0;break}if(wr)Qn=_i[Nr];else{var Vr="GS"+(Object.keys(_i).length+1).toString(10);_i[Vr]=Qn,Qn.id=Vr}return Tn&&(cs[Tn]=Qn.id),vs.publish("addGState",Qn),Qn}};fn.addGState=function(Tn,Qn){return Yp(Tn,Qn),this},fn.saveGraphicsState=function(){return jn("q"),_r.push({key:ns,size:pr,color:Xl}),this},fn.restoreGraphicsState=function(){jn("Q");var Tn=_r.pop();return ns=Tn.key,pr=Tn.size,Xl=Tn.color,xs=null,this},fn.setCurrentTransformationMatrix=function(Tn){return jn(Tn.toString()+" cm"),this},fn.comment=function(Tn){return jn("#"+Tn),this};var Bo=function(Tn,Qn){var wr=Tn||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return wr},set:function(Qr){isNaN(Qr)||(wr=parseFloat(Qr))}});var Nr=Qn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Nr},set:function(Qr){isNaN(Qr)||(Nr=parseFloat(Qr))}});var Vr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Vr},set:function(Qr){Vr=Qr.toString()}}),this},Qo=function(Tn,Qn,wr,Nr){Bo.call(this,Tn,Qn),this.type="rect";var Vr=wr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Vr},set:function(os){isNaN(os)||(Vr=parseFloat(os))}});var Qr=Nr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qr},set:function(os){isNaN(os)||(Qr=parseFloat(os))}}),this},ao=function(){this.page=ls,this.currentPage=Fn,this.pages=kr.slice(0),this.pagesContext=as.slice(0),this.x=Cs,this.y=ms,this.matrix=ys,this.width=op(Fn),this.height=Ru(Fn),this.outputDestination=Pr,this.id="",this.objectNumber=-1};ao.prototype.restore=function(){ls=this.page,Fn=this.currentPage,as=this.pagesContext,kr=this.pages,Cs=this.x,ms=this.y,ys=this.matrix,xp(Fn,this.width),Xp(Fn,this.height),Pr=this.outputDestination};var ap=function(Tn,Qn,wr,Nr,Vr){Fs.push(new ao),ls=Fn=0,kr=[],Cs=Tn,ms=Qn,ys=Vr,tp([wr,Nr])},Ql=function(Tn){if(zs[Tn])Fs.pop().restore();else{var Qn=new ao,wr="Xo"+(Object.keys(Ls).length+1).toString(10);Qn.id=wr,zs[Tn]=wr,Ls[wr]=Qn,vs.publish("addFormObject",Qn),Fs.pop().restore()}};for(var bp in fn.beginFormObject=function(Tn,Qn,wr,Nr,Vr){return ap(Tn,Qn,wr,Nr,Vr),this},fn.endFormObject=function(Tn){return Ql(Tn),this},fn.doFormObject=function(Tn,Qn){var wr=Ls[zs[Tn]];return jn("q"),jn(Qn.toString()+" cm"),jn("/"+wr.id+" Do"),jn("Q"),this},fn.getFormObject=function(Tn){var Qn=Ls[zs[Tn]];return{x:Qn.x,y:Qn.y,width:Qn.width,height:Qn.height,matrix:Qn.matrix}},fn.save=function(Tn,Qn){return Tn=Tn||"generated.pdf",(Qn=Qn||{}).returnPromise=Qn.returnPromise||!1,Qn.returnPromise===!1?(l(rp(Hu()),Tn),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(wr,Nr){try{var Vr=l(rp(Hu()),Tn);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),wr(Vr)}catch(Qr){Nr(Qr.message)}})},E.API)E.API.hasOwnProperty(bp)&&(bp==="events"&&E.API.events.length?function(Tn,Qn){var wr,Nr,Vr;for(Vr=Qn.length-1;Vr!==-1;Vr--)wr=Qn[Vr][0],Nr=Qn[Vr][1],Tn.subscribe.apply(Tn,[wr].concat(typeof Nr=="function"?[Nr]:Nr))}(vs,E.API.events):fn[bp]=E.API[bp]);var op=fn.getPageWidth=function(Tn){return(as[Tn=Tn||Fn].mediaBox.topRightX-as[Tn].mediaBox.bottomLeftX)/Xr},xp=fn.setPageWidth=function(Tn,Qn){as[Tn].mediaBox.topRightX=Qn*Xr+as[Tn].mediaBox.bottomLeftX},Ru=fn.getPageHeight=function(Tn){return(as[Tn=Tn||Fn].mediaBox.topRightY-as[Tn].mediaBox.bottomLeftY)/Xr},Xp=fn.setPageHeight=function(Tn,Qn){as[Tn].mediaBox.topRightY=Qn*Xr+as[Tn].mediaBox.bottomLeftY};return fn.internal={pdfEscape:xl,getStyle:zm,getFont:_0,getFontSize:xr,getCharSpace:qu,getTextColor:yu,getLineHeight:wm,getLineHeightFactor:Kl,getLineWidth:Gu,write:fr,getHorizontalCoordinate:Ml,getVerticalCoordinate:Yl,getCoordinateString:Wp,getVerticalCoordinateString:vu,collections:{},newObject:Vs,newAdditionalObject:ro,newObjectDeferred:Zs,newObjectDeferredBegin:fo,getFilters:Eu,putStream:ou,events:vs,scaleFactor:Xr,pageSize:{getWidth:function(){return op(Fn)},setWidth:function(Tn){xp(Fn,Tn)},getHeight:function(){return Ru(Fn)},setHeight:function(Tn){Xp(Fn,Tn)}},encryptionOptions:dn,encryption:Ro,getEncryptor:v0,output:Sp,getNumberOfPages:g0,pages:kr,out:jn,f2:Vn,f3:On,getPageInfo:Gp,getPageInfoByObjId:gs,getCurrentPageInfo:Vm,getPDFVersion:bn,Point:Bo,Rectangle:Qo,Matrix:ws,hasHotfix:Hp},Object.defineProperty(fn.internal.pageSize,"width",{get:function(){return op(Fn)},set:function(Tn){xp(Fn,Tn)},enumerable:!0,configurable:!0}),Object.defineProperty(fn.internal.pageSize,"height",{get:function(){return Ru(Fn)},set:function(Tn){Xp(Fn,Tn)},enumerable:!0,configurable:!0}),Ko.call(fn,Zn),ns="F1",ym(nn,en),vs.publish("initialized"),fn}I.prototype.lsbFirstWord=function(St){return String.fromCharCode(St>>0&255,St>>8&255,St>>16&255,St>>24&255)},I.prototype.toHexString=function(St){return St.split("").map(function(_e){return("0"+(255&_e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(St){for(var _e=[],en=0;en<St.length;en+=2)_e.push(String.fromCharCode(parseInt(St.substr(en,2),16)));return _e.join("")},I.prototype.processOwnerPassword=function(St,_e){return P(x(_e).substr(0,5),St)},I.prototype.encryptor=function(St,_e){var en=x(this.encryptionKey+String.fromCharCode(255&St,St>>8&255,St>>16&255,255&_e,_e>>8&255)).substr(0,10);return function(tn){return P(en,tn)}},j.prototype.equals=function(St){var _e,en="id,objectNumber,equals";if(!St||_typeof(St)!==_typeof(this))return!1;var tn=0;for(_e in this)if(!(en.indexOf(_e)>=0)){if(this.hasOwnProperty(_e)&&!St.hasOwnProperty(_e)||this[_e]!==St[_e])return!1;tn++}for(_e in St)St.hasOwnProperty(_e)&&en.indexOf(_e)<0&&tn--;return tn===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(St){return St.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(St){return St.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(St){return St.toFixed(2)},z=function(St){return St.toFixed(5)};q.__acroform__={};var H=function(St,_e){St.prototype=Object.create(_e.prototype),St.prototype.constructor=St},W=function(St){return St*D},V=function(St){var _e=new ut,en=At.internal.getHeight(St)||0,tn=At.internal.getWidth(St)||0;return _e.BBox=[0,0,Number(U(tn)),Number(U(en))],_e},G=q.__acroform__.setBit=function(St,_e){if(St=St||0,_e=_e||0,isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return St|=1<<_e},Y=q.__acroform__.clearBit=function(St,_e){if(St=St||0,_e=_e||0,isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return St&=~(1<<_e)},J=q.__acroform__.getBit=function(St,_e){if(isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(St&1<<_e)==0?0:1},X=q.__acroform__.getBitForPdf=function(St,_e){if(isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(St,_e-1)},K=q.__acroform__.setBitForPdf=function(St,_e){if(isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(St,_e-1)},Z=q.__acroform__.clearBitForPdf=function(St,_e){if(isNaN(St)||isNaN(_e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(St,_e-1)},$=q.__acroform__.calculateCoordinates=function(St,_e){var en=_e.internal.getHorizontalCoordinate,tn=_e.internal.getVerticalCoordinate,nn=St[0],rn=St[1],sn=St[2],an=St[3],on={};return on.lowerLeft_X=en(nn)||0,on.lowerLeft_Y=tn(rn+an)||0,on.upperRight_X=en(nn+sn)||0,on.upperRight_Y=tn(rn)||0,[Number(U(on.lowerLeft_X)),Number(U(on.lowerLeft_Y)),Number(U(on.upperRight_X)),Number(U(on.upperRight_Y))]},Q=function(St){if(St.appearanceStreamContent)return St.appearanceStreamContent;if(St.V||St.DV){var _e=[],en=St._V||St.DV,tn=tt(St,en),nn=St.scope.internal.getFont(St.fontName,St.fontStyle).id;_e.push("/Tx BMC"),_e.push("q"),_e.push("BT"),_e.push(St.scope.__private__.encodeColorString(St.color)),_e.push("/"+nn+" "+U(tn.fontSize)+" Tf"),_e.push("1 0 0 1 0 0 Tm"),_e.push(tn.text),_e.push("ET"),_e.push("Q"),_e.push("EMC");var rn=V(St);return rn.scope=St.scope,rn.stream=_e.join(`
`),rn}},tt=function(St,_e){var en=St.fontSize===0?St.maxFontSize:St.fontSize,tn={text:"",fontSize:""},nn=(_e=(_e=_e.substr(0,1)=="("?_e.substr(1):_e).substr(_e.length-1)==")"?_e.substr(0,_e.length-1):_e).split(" ");nn=St.multiline?nn.map(function(On){return On.split(`
`)}):nn.map(function(On){return[On]});var rn=en,sn=At.internal.getHeight(St)||0;sn=sn<0?-sn:sn;var an=At.internal.getWidth(St)||0;an=an<0?-an:an;var on=function(On,zn,nr){if(On+1<nn.length){var Yn=zn+" "+nn[On+1][0];return et(Yn,St,nr).width<=an-4}return!1};rn++;e:for(;rn>0;){_e="",rn--;var cn,dn,mn=et("3",St,rn).height,pn=St.multiline?sn-rn:(sn-mn)/2,fn=pn+=2,yn=0,bn=0,wn=0;if(rn<=0){_e=`(...) Tj
`,_e+="% Width of Text: "+et(_e,St,rn=12).width+", FieldWidth:"+an+`
`;break}for(var vn="",Sn=0,xn=0;xn<nn.length;xn++)if(nn.hasOwnProperty(xn)){var En=!1;if(nn[xn].length!==1&&wn!==nn[xn].length-1){if((mn+2)*(Sn+2)+2>sn)continue e;vn+=nn[xn][wn],En=!0,bn=xn,xn--}else{vn=(vn+=nn[xn][wn]+" ").substr(vn.length-1)==" "?vn.substr(0,vn.length-1):vn;var Cn=parseInt(xn),kn=on(Cn,vn,rn),In=xn>=nn.length-1;if(kn&&!In){vn+=" ",wn=0;continue}if(kn||In){if(In)bn=Cn;else if(St.multiline&&(mn+2)*(Sn+2)+2>sn)continue e}else{if(!St.multiline||(mn+2)*(Sn+2)+2>sn)continue e;bn=Cn}}for(var Dn="",Wn=yn;Wn<=bn;Wn++){var Vn=nn[Wn];if(St.multiline){if(Wn===bn){Dn+=Vn[wn]+" ",wn=(wn+1)%Vn.length;continue}if(Wn===yn){Dn+=Vn[Vn.length-1]+" ";continue}}Dn+=Vn[0]+" "}switch(Dn=Dn.substr(Dn.length-1)==" "?Dn.substr(0,Dn.length-1):Dn,dn=et(Dn,St,rn).width,St.textAlign){case"right":cn=an-dn-2;break;case"center":cn=(an-dn)/2;break;case"left":default:cn=2}_e+=U(cn)+" "+U(fn)+` Td
`,_e+="("+R(Dn)+`) Tj
`,_e+=-U(cn)+` 0 Td
`,fn=-(rn+2),dn=0,yn=En?bn:bn+1,Sn++,vn=""}break}return tn.text=_e,tn.fontSize=rn,tn},et=function(St,_e,en){var tn=_e.scope.internal.getFont(_e.fontName,_e.fontStyle),nn=_e.scope.getStringUnitWidth(St,{font:tn,fontSize:parseFloat(en),charSpace:0})*parseFloat(en);return{height:_e.scope.getStringUnitWidth("3",{font:tn,fontSize:parseFloat(en),charSpace:0})*parseFloat(en)*1.5,width:nn}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(St,_e){var en={type:"reference",object:St};_e.internal.getPageInfo(St.page).pageContext.annotations.find(function(tn){return tn.type===en.type&&tn.object===en.object})===void 0&&_e.internal.getPageInfo(St.page).pageContext.annotations.push(en)},it=function(St,_e){for(var en in St)if(St.hasOwnProperty(en)){var tn=en,nn=St[en];_e.internal.newObjectDeferredBegin(nn.objId,!0),_typeof(nn)==="object"&&typeof nn.putStream=="function"&&nn.putStream(),delete St[tn]}},at=function(St,_e){if(_e.scope=St,St.internal!==void 0&&(St.internal.acroformPlugin===void 0||St.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,St.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),St.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=St.internal.scaleFactor,St.internal.acroformPlugin.acroFormDictionaryRoot=new ht,St.internal.acroformPlugin.acroFormDictionaryRoot.scope=St,St.internal.acroformPlugin.acroFormDictionaryRoot._eventID=St.internal.events.subscribe("postPutResources",function(){(function(en){en.internal.events.unsubscribe(en.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete en.internal.acroformPlugin.acroFormDictionaryRoot._eventID,en.internal.acroformPlugin.printedOut=!0})(St)}),St.internal.events.subscribe("buildDocument",function(){(function(en){en.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var tn=en.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nn in tn)if(tn.hasOwnProperty(nn)){var rn=tn[nn];rn.objId=void 0,rn.hasAnnotation&&nt(rn,en)}})(St)}),St.internal.events.subscribe("putCatalog",function(){(function(en){if(en.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");en.internal.write("/AcroForm "+en.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(St)}),St.internal.events.subscribe("postPutPages",function(en){(function(tn,nn){var rn=!tn;for(var sn in tn||(nn.internal.newObjectDeferredBegin(nn.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),nn.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),tn=tn||nn.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(tn.hasOwnProperty(sn)){var an=tn[sn],on=[],cn=an.Rect;if(an.Rect&&(an.Rect=$(an.Rect,nn)),nn.internal.newObjectDeferredBegin(an.objId,!0),an.DA=At.createDefaultAppearanceStream(an),_typeof(an)==="object"&&typeof an.getKeyValueListForStream=="function"&&(on=an.getKeyValueListForStream()),an.Rect=cn,an.hasAppearanceStream&&!an.appearanceStreamContent){var dn=Q(an);on.push({key:"AP",value:"<</N "+dn+">>"}),nn.internal.acroformPlugin.xForms.push(dn)}if(an.appearanceStreamContent){var mn="";for(var pn in an.appearanceStreamContent)if(an.appearanceStreamContent.hasOwnProperty(pn)){var fn=an.appearanceStreamContent[pn];if(mn+="/"+pn+" ",mn+="<<",Object.keys(fn).length>=1||Array.isArray(fn)){for(var sn in fn)if(fn.hasOwnProperty(sn)){var yn=fn[sn];typeof yn=="function"&&(yn=yn.call(nn,an)),mn+="/"+sn+" "+yn+" ",nn.internal.acroformPlugin.xForms.indexOf(yn)>=0||nn.internal.acroformPlugin.xForms.push(yn)}}else typeof(yn=fn)=="function"&&(yn=yn.call(nn,an)),mn+="/"+sn+" "+yn,nn.internal.acroformPlugin.xForms.indexOf(yn)>=0||nn.internal.acroformPlugin.xForms.push(yn);mn+=">>"}on.push({key:"AP",value:`<<
`+mn+">>"})}nn.internal.putStream({additionalKeyValues:on,objectId:an.objId}),nn.internal.out("endobj")}rn&&it(nn.internal.acroformPlugin.xForms,nn)})(en,St)}),St.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(St,_e,en){var tn=function(sn){return sn};if(Array.isArray(St)){for(var nn="[",rn=0;rn<St.length;rn++)switch(rn!==0&&(nn+=" "),_typeof(St[rn])){case"boolean":case"number":case"object":nn+=St[rn].toString();break;case"string":St[rn].substr(0,1)!=="/"?(_e!==void 0&&en&&(tn=en.internal.getEncryptor(_e)),nn+="("+R(tn(St[rn].toString()))+")"):nn+=St[rn].toString()}return nn+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(St,_e,en){var tn=function(nn){return nn};return _e!==void 0&&en&&(tn=en.internal.getEncryptor(_e)),(St=St||"").toString(),St="("+R(tn(St))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(St){this._objId=St}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var St=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:St,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var St=[],_e=Object.getOwnPropertyNames(this).filter(function(rn){return rn!="content"&&rn!="appearanceStreamContent"&&rn!="scope"&&rn!="objId"&&rn.substring(0,1)!="_"});for(var en in _e)if(Object.getOwnPropertyDescriptor(this,_e[en]).configurable===!1){var tn=_e[en],nn=this[tn];nn&&(Array.isArray(nn)?St.push({key:tn,value:ot(nn,this.objId,this.scope)}):nn instanceof ct?(nn.scope=this.scope,St.push({key:tn,value:nn.objId+" 0 R"})):typeof nn!="function"&&St.push({key:tn,value:nn}))}return St};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var St,_e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return _e},set:function(en){_e=en}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(en){St=en.trim()},get:function(){return St||null}})};H(ut,ct);var ht=function(){ct.call(this);var St,_e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _e.length>0?_e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return _e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(St){var en=function(tn){return tn};return this.scope&&(en=this.scope.internal.getEncryptor(this.objId)),"("+R(en(St))+")"}},set:function(en){St=en}})};H(ht,ct);var lt=function St(){ct.call(this);var _e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(vn){if(isNaN(vn))throw new Error('Invalid value "'+vn+'" for attribute F supplied.');_e=vn}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(_e,3))},set:function(vn){Boolean(vn)===!0?this.F=K(_e,3):this.F=Z(_e,3)}});var en=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return en},set:function(vn){if(isNaN(vn))throw new Error('Invalid value "'+vn+'" for attribute Ff supplied.');en=vn}});var tn=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(tn.length!==0)return tn},set:function(vn){tn=vn!==void 0?vn:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!tn||isNaN(tn[0])?0:tn[0]},set:function(vn){tn[0]=vn}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!tn||isNaN(tn[1])?0:tn[1]},set:function(vn){tn[1]=vn}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!tn||isNaN(tn[2])?0:tn[2]},set:function(vn){tn[2]=vn}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!tn||isNaN(tn[3])?0:tn[3]},set:function(vn){tn[3]=vn}});var nn="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return nn},set:function(vn){switch(vn){case"/Btn":case"/Tx":case"/Ch":case"/Sig":nn=vn;break;default:throw new Error('Invalid value "'+vn+'" for attribute FT supplied.')}}});var rn=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!rn||rn.length<1){if(this instanceof yt)return;rn="FieldObject"+St.FieldNum++}var vn=function(Sn){return Sn};return this.scope&&(vn=this.scope.internal.getEncryptor(this.objId)),"("+R(vn(rn))+")"},set:function(vn){rn=vn.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return rn},set:function(vn){rn=vn}});var sn="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return sn},set:function(vn){sn=vn}});var an="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return an},set:function(vn){an=vn}});var on=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return on},set:function(vn){on=vn}});var cn=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return cn===void 0?50/D:cn},set:function(vn){cn=vn}});var dn="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return dn},set:function(vn){dn=vn}});var mn="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!mn||this instanceof yt||this instanceof Nt))return st(mn,this.objId,this.scope)},set:function(vn){vn=vn.toString(),mn=vn}});var pn=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(pn)return this instanceof mt?pn:st(pn,this.objId,this.scope)},set:function(vn){vn=vn.toString(),pn=this instanceof mt?vn:vn.substr(0,1)==="("?T(vn.substr(1,vn.length-2)):T(vn)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(pn.substr(1,pn.length-1)):pn},set:function(vn){vn=vn.toString(),pn=this instanceof mt?"/"+vn:vn}});var fn=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(fn)return fn},set:function(vn){this.V=vn}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(fn)return this instanceof mt?fn:st(fn,this.objId,this.scope)},set:function(vn){vn=vn.toString(),fn=this instanceof mt?vn:vn.substr(0,1)==="("?T(vn.substr(1,vn.length-2)):T(vn)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(fn.substr(1,fn.length-1)):fn},set:function(vn){vn=vn.toString(),fn=this instanceof mt?"/"+vn:vn}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var yn,bn=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return bn},set:function(vn){vn=Boolean(vn),bn=vn}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(yn)return yn},set:function(vn){yn=vn}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(vn){Boolean(vn)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(vn){Boolean(vn)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(vn){Boolean(vn)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var wn=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(wn!==null)return wn},set:function(vn){if([0,1,2].indexOf(vn)===-1)throw new Error('Invalid value "'+vn+'" for attribute Q supplied.');wn=vn}}),Object.defineProperty(this,"textAlign",{get:function(){var vn;switch(wn){case 0:default:vn="left";break;case 1:vn="center";break;case 2:vn="right"}return vn},configurable:!0,enumerable:!0,set:function(vn){switch(vn){case"right":case 2:wn=2;break;case"center":case 1:wn=1;break;case"left":case 0:default:wn=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var St=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return St},set:function(en){St=en}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return St},set:function(en){St=en}});var _e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(_e,this.objId,this.scope)},set:function(en){var tn,nn;nn=[],typeof(tn=en)=="string"&&(nn=function(rn,sn,an){an||(an=1);for(var on,cn=[];on=sn.exec(rn);)cn.push(on[an]);return cn}(tn,/\((.*?)\)/g)),_e=nn}}),this.getOptions=function(){return _e},this.setOptions=function(en){_e=en,this.sort&&_e.sort()},this.addOption=function(en){en=(en=en||"").toString(),_e.push(en),this.sort&&_e.sort()},this.removeOption=function(en,tn){for(tn=tn||!1,en=(en=en||"").toString();_e.indexOf(en)!==-1&&(_e.splice(_e.indexOf(en),1),tn!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(en){this.combo===!0&&(Boolean(en)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(en){Boolean(en)===!0?(this.Ff=K(this.Ff,20),_e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(en){Boolean(en)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var en=function(rn){return rn};if(this.scope&&(en=this.scope.internal.getEncryptor(this.objId)),Object.keys(_e).length!==0){var tn,nn=[];for(tn in nn.push("<<"),_e)nn.push("/"+tn+" ("+R(en(_e[tn]))+")");return nn.push(">>"),nn.join(`
`)}},set:function(en){_typeof(en)==="object"&&(_e=en)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(en){typeof en=="string"&&(_e.CA=en)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return St},set:function(en){St=en}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return St.substr(1,St.length-1)},set:function(en){St="/"+en}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var St=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return St},set:function(_e){St=_e!==void 0?_e:[]}})};H(bt,mt);var yt=function(){var St,_e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return St},set:function(nn){St=nn}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return _e},set:function(nn){_e=nn}});var en,tn={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var nn=function(an){return an};this.scope&&(nn=this.scope.internal.getEncryptor(this.objId));var rn,sn=[];for(rn in sn.push("<<"),tn)sn.push("/"+rn+" ("+R(nn(tn[rn]))+")");return sn.push(">>"),sn.join(`
`)},set:function(nn){_typeof(nn)==="object"&&(tn=nn)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return tn.CA||""},set:function(nn){typeof nn=="string"&&(tn.CA=nn)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return en},set:function(nn){en=nn}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return en.substr(1,en.length-1)},set:function(nn){en="/"+nn}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(St){if(!("createAppearanceStream"in St)||!("getCA"in St))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var _e in this.Kids)if(this.Kids.hasOwnProperty(_e)){var en=this.Kids[_e];en.appearanceStreamContent=St.createAppearanceStream(en.optionName),en.caption=St.getCA()}},bt.prototype.createOption=function(St){var _e=new yt;return _e.Parent=this,_e.optionName=St,this.Kids.push(_e),xt.call(this.scope,_e),_e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return St},set:function(_e){St=_e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return St},set:function(_e){Number.isInteger(_e)&&(St=_e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=[],tn=St.scope.internal.getFont(St.fontName,St.fontStyle).id,nn=St.scope.__private__.encodeColorString(St.color),rn=tt(St,St.caption);return en.push("0.749023 g"),en.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),en.push("f"),en.push("BMC"),en.push("q"),en.push("0 0 1 rg"),en.push("/"+tn+" "+U(rn.fontSize)+" Tf "+nn),en.push("BT"),en.push(rn.text),en.push("ET"),en.push("Q"),en.push("EMC"),_e.stream=en.join(`
`),_e},YesNormal:function(St){var _e=V(St);_e.scope=St.scope;var en=St.scope.internal.getFont(St.fontName,St.fontStyle).id,tn=St.scope.__private__.encodeColorString(St.color),nn=[],rn=At.internal.getHeight(St),sn=At.internal.getWidth(St),an=tt(St,St.caption);return nn.push("1 g"),nn.push("0 0 "+U(sn)+" "+U(rn)+" re"),nn.push("f"),nn.push("q"),nn.push("0 0 1 rg"),nn.push("0 0 "+U(sn-1)+" "+U(rn-1)+" re"),nn.push("W"),nn.push("n"),nn.push("0 g"),nn.push("BT"),nn.push("/"+en+" "+U(an.fontSize)+" Tf "+tn),nn.push(an.text),nn.push("ET"),nn.push("Q"),_e.stream=nn.join(`
`),_e},OffPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=[];return en.push("0.749023 g"),en.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),en.push("f"),_e.stream=en.join(`
`),_e}},RadioButton:{Circle:{createAppearanceStream:function(St){var _e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return _e.N[St]=At.RadioButton.Circle.YesNormal,_e.D[St]=At.RadioButton.Circle.YesPushDown,_e},getCA:function(){return"l"},YesNormal:function(St){var _e=V(St);_e.scope=St.scope;var en=[],tn=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;tn=Number((.9*tn).toFixed(5));var nn=At.internal.Bezier_C,rn=Number((tn*nn).toFixed(5));return en.push("q"),en.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),en.push(tn+" 0 m"),en.push(tn+" "+rn+" "+rn+" "+tn+" 0 "+tn+" c"),en.push("-"+rn+" "+tn+" -"+tn+" "+rn+" -"+tn+" 0 c"),en.push("-"+tn+" -"+rn+" -"+rn+" -"+tn+" 0 -"+tn+" c"),en.push(rn+" -"+tn+" "+tn+" -"+rn+" "+tn+" 0 c"),en.push("f"),en.push("Q"),_e.stream=en.join(`
`),_e},YesPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=[],tn=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;tn=Number((.9*tn).toFixed(5));var nn=Number((2*tn).toFixed(5)),rn=Number((nn*At.internal.Bezier_C).toFixed(5)),sn=Number((tn*At.internal.Bezier_C).toFixed(5));return en.push("0.749023 g"),en.push("q"),en.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),en.push(nn+" 0 m"),en.push(nn+" "+rn+" "+rn+" "+nn+" 0 "+nn+" c"),en.push("-"+rn+" "+nn+" -"+nn+" "+rn+" -"+nn+" 0 c"),en.push("-"+nn+" -"+rn+" -"+rn+" -"+nn+" 0 -"+nn+" c"),en.push(rn+" -"+nn+" "+nn+" -"+rn+" "+nn+" 0 c"),en.push("f"),en.push("Q"),en.push("0 g"),en.push("q"),en.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),en.push(tn+" 0 m"),en.push(tn+" "+sn+" "+sn+" "+tn+" 0 "+tn+" c"),en.push("-"+sn+" "+tn+" -"+tn+" "+sn+" -"+tn+" 0 c"),en.push("-"+tn+" -"+sn+" -"+sn+" -"+tn+" 0 -"+tn+" c"),en.push(sn+" -"+tn+" "+tn+" -"+sn+" "+tn+" 0 c"),en.push("f"),en.push("Q"),_e.stream=en.join(`
`),_e},OffPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=[],tn=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;tn=Number((.9*tn).toFixed(5));var nn=Number((2*tn).toFixed(5)),rn=Number((nn*At.internal.Bezier_C).toFixed(5));return en.push("0.749023 g"),en.push("q"),en.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),en.push(nn+" 0 m"),en.push(nn+" "+rn+" "+rn+" "+nn+" 0 "+nn+" c"),en.push("-"+rn+" "+nn+" -"+nn+" "+rn+" -"+nn+" 0 c"),en.push("-"+nn+" -"+rn+" -"+rn+" -"+nn+" 0 -"+nn+" c"),en.push(rn+" -"+nn+" "+nn+" -"+rn+" "+nn+" 0 c"),en.push("f"),en.push("Q"),_e.stream=en.join(`
`),_e}},Cross:{createAppearanceStream:function(St){var _e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return _e.N[St]=At.RadioButton.Cross.YesNormal,_e.D[St]=At.RadioButton.Cross.YesPushDown,_e},getCA:function(){return"8"},YesNormal:function(St){var _e=V(St);_e.scope=St.scope;var en=[],tn=At.internal.calculateCross(St);return en.push("q"),en.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),en.push("W"),en.push("n"),en.push(U(tn.x1.x)+" "+U(tn.x1.y)+" m"),en.push(U(tn.x2.x)+" "+U(tn.x2.y)+" l"),en.push(U(tn.x4.x)+" "+U(tn.x4.y)+" m"),en.push(U(tn.x3.x)+" "+U(tn.x3.y)+" l"),en.push("s"),en.push("Q"),_e.stream=en.join(`
`),_e},YesPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=At.internal.calculateCross(St),tn=[];return tn.push("0.749023 g"),tn.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),tn.push("f"),tn.push("q"),tn.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),tn.push("W"),tn.push("n"),tn.push(U(en.x1.x)+" "+U(en.x1.y)+" m"),tn.push(U(en.x2.x)+" "+U(en.x2.y)+" l"),tn.push(U(en.x4.x)+" "+U(en.x4.y)+" m"),tn.push(U(en.x3.x)+" "+U(en.x3.y)+" l"),tn.push("s"),tn.push("Q"),_e.stream=tn.join(`
`),_e},OffPushDown:function(St){var _e=V(St);_e.scope=St.scope;var en=[];return en.push("0.749023 g"),en.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),en.push("f"),_e.stream=en.join(`
`),_e}}},createDefaultAppearanceStream:function(St){var _e=St.scope.internal.getFont(St.fontName,St.fontStyle).id,en=St.scope.__private__.encodeColorString(St.color);return"/"+_e+" "+St.fontSize+" Tf "+en}};At.internal={Bezier_C:.551915024494,calculateCross:function(St){var _e=At.internal.getWidth(St),en=At.internal.getHeight(St),tn=Math.min(_e,en);return{x1:{x:(_e-tn)/2,y:(en-tn)/2+tn},x2:{x:(_e-tn)/2+tn,y:(en-tn)/2},x3:{x:(_e-tn)/2,y:(en-tn)/2},x4:{x:(_e-tn)/2+tn,y:(en-tn)/2+tn}}}},At.internal.getWidth=function(St){var _e=0;return _typeof(St)==="object"&&(_e=W(St.Rect[2])),_e},At.internal.getHeight=function(St){var _e=0;return _typeof(St)==="object"&&(_e=W(St.Rect[3])),_e};var xt=q.addField=function(St){if(at(this,St),!(St instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var _e;return(_e=St).scope.internal.acroformPlugin.printedOut&&(_e.scope.internal.acroformPlugin.printedOut=!1,_e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),_e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(_e),St.page=St.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(St){return St.reduce(function(_e,en,tn){return _e[en]=tn,_e},{})}(function(St){St.__addimage__={};var _e="UNKNOWN",en={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},tn=St.__addimage__.getImageFileTypeByImageData=function(On,zn){var nr,Yn,ar,tr,dr,Jn=_e;if((zn=zn||_e)==="RGBA"||On.data!==void 0&&On.data instanceof Uint8ClampedArray&&"height"in On&&"width"in On)return"RGBA";if(kn(On))for(dr in en)for(ar=en[dr],nr=0;nr<ar.length;nr+=1){for(tr=!0,Yn=0;Yn<ar[nr].length;Yn+=1)if(ar[nr][Yn]!==void 0&&ar[nr][Yn]!==On[Yn]){tr=!1;break}if(tr===!0){Jn=dr;break}}else for(dr in en)for(ar=en[dr],nr=0;nr<ar.length;nr+=1){for(tr=!0,Yn=0;Yn<ar[nr].length;Yn+=1)if(ar[nr][Yn]!==void 0&&ar[nr][Yn]!==On.charCodeAt(Yn)){tr=!1;break}if(tr===!0){Jn=dr;break}}return Jn===_e&&zn!==_e&&(Jn=zn),Jn},nn=function On(zn){for(var nr=this.internal.write,Yn=this.internal.putStream,ar=(0,this.internal.getFilters)();ar.indexOf("FlateEncode")!==-1;)ar.splice(ar.indexOf("FlateEncode"),1);zn.objectId=this.internal.newObject();var tr=[];if(tr.push({key:"Type",value:"/XObject"}),tr.push({key:"Subtype",value:"/Image"}),tr.push({key:"Width",value:zn.width}),tr.push({key:"Height",value:zn.height}),zn.colorSpace===wn.INDEXED?tr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(zn.palette.length/3-1)+" "+("sMask"in zn&&zn.sMask!==void 0?zn.objectId+2:zn.objectId+1)+" 0 R]"}):(tr.push({key:"ColorSpace",value:"/"+zn.colorSpace}),zn.colorSpace===wn.DEVICE_CMYK&&tr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),tr.push({key:"BitsPerComponent",value:zn.bitsPerComponent}),"decodeParameters"in zn&&zn.decodeParameters!==void 0&&tr.push({key:"DecodeParms",value:"<<"+zn.decodeParameters+">>"}),"transparency"in zn&&Array.isArray(zn.transparency)){for(var dr="",Jn=0,hr=zn.transparency.length;Jn<hr;Jn++)dr+=zn.transparency[Jn]+" "+zn.transparency[Jn]+" ";tr.push({key:"Mask",value:"["+dr+"]"})}zn.sMask!==void 0&&tr.push({key:"SMask",value:zn.objectId+1+" 0 R"});var yr=zn.filter!==void 0?["/"+zn.filter]:void 0;if(Yn({data:zn.data,additionalKeyValues:tr,alreadyAppliedFilters:yr,objectId:zn.objectId}),nr("endobj"),"sMask"in zn&&zn.sMask!==void 0){var Mr="/Predictor "+zn.predictor+" /Colors 1 /BitsPerComponent "+zn.bitsPerComponent+" /Columns "+zn.width,Mn={width:zn.width,height:zn.height,colorSpace:"DeviceGray",bitsPerComponent:zn.bitsPerComponent,decodeParameters:Mr,data:zn.sMask};"filter"in zn&&(Mn.filter=zn.filter),On.call(this,Mn)}if(zn.colorSpace===wn.INDEXED){var Fn=this.internal.newObject();Yn({data:Dn(new Uint8Array(zn.palette)),objectId:Fn}),nr("endobj")}},rn=function(){var On=this.internal.collections.addImage_images;for(var zn in On)nn.call(this,On[zn])},sn=function(){var On,zn=this.internal.collections.addImage_images,nr=this.internal.write;for(var Yn in zn)nr("/I"+(On=zn[Yn]).index,On.objectId,"0","R")},an=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",rn),this.internal.events.subscribe("putXobjectDict",sn))},on=function(){var On=this.internal.collections.addImage_images;return an.call(this),On},cn=function(){return Object.keys(this.internal.collections.addImage_images).length},dn=function(On){return typeof St["process"+On.toUpperCase()]=="function"},mn=function(On){return _typeof(On)==="object"&&On.nodeType===1},pn=function(On,zn){if(On.nodeName==="IMG"&&On.hasAttribute("src")){var nr=""+On.getAttribute("src");if(nr.indexOf("data:image/")===0)return u(unescape(nr).split("base64,").pop());var Yn=St.loadFile(nr,!0);if(Yn!==void 0)return Yn}if(On.nodeName==="CANVAS"){if(On.width===0||On.height===0)throw new Error("Given canvas must have data. Canvas width: "+On.width+", height: "+On.height);var ar;switch(zn){case"PNG":ar="image/png";break;case"WEBP":ar="image/webp";break;case"JPEG":case"JPG":default:ar="image/jpeg"}return u(On.toDataURL(ar,1).split("base64,").pop())}},fn=function(On){var zn=this.internal.collections.addImage_images;if(zn){for(var nr in zn)if(On===zn[nr].alias)return zn[nr]}},yn=function(On,zn,nr){return On||zn||(On=-96,zn=-96),On<0&&(On=-1*nr.width*72/On/this.internal.scaleFactor),zn<0&&(zn=-1*nr.height*72/zn/this.internal.scaleFactor),On===0&&(On=zn*nr.width/nr.height),zn===0&&(zn=On*nr.height/nr.width),[On,zn]},bn=function(On,zn,nr,Yn,ar,tr){var dr=yn.call(this,nr,Yn,ar),Jn=this.internal.getCoordinateString,hr=this.internal.getVerticalCoordinateString,yr=on.call(this);if(nr=dr[0],Yn=dr[1],yr[ar.index]=ar,tr){tr*=Math.PI/180;var Mr=Math.cos(tr),Mn=Math.sin(tr),Fn=function(Un){return Un.toFixed(4)},Nn=[Fn(Mr),Fn(Mn),Fn(-1*Mn),Fn(Mr),0,0,"cm"]}this.internal.write("q"),tr?(this.internal.write([1,"0","0",1,Jn(On),hr(zn+Yn),"cm"].join(" ")),this.internal.write(Nn.join(" ")),this.internal.write([Jn(nr),"0","0",Jn(Yn),"0","0","cm"].join(" "))):this.internal.write([Jn(nr),"0","0",Jn(Yn),Jn(On),hr(zn+Yn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ar.index+" Do"),this.internal.write("Q")},wn=St.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};St.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var vn=St.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Sn=St.__addimage__.sHashCode=function(On){var zn,nr,Yn=0;if(typeof On=="string")for(nr=On.length,zn=0;zn<nr;zn++)Yn=(Yn<<5)-Yn+On.charCodeAt(zn),Yn|=0;else if(kn(On))for(nr=On.byteLength/2,zn=0;zn<nr;zn++)Yn=(Yn<<5)-Yn+On[zn],Yn|=0;return Yn},xn=St.__addimage__.validateStringAsBase64=function(On){(On=On||"").toString().trim();var zn=!0;return On.length===0&&(zn=!1),On.length%4!=0&&(zn=!1),/^[A-Za-z0-9+/]+$/.test(On.substr(0,On.length-2))===!1&&(zn=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(On.substr(-2))===!1&&(zn=!1),zn},En=St.__addimage__.extractImageFromDataUrl=function(On){var zn=(On=On||"").split("base64,"),nr=null;if(zn.length===2){var Yn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(zn[0]);Array.isArray(Yn)&&(nr={mimeType:Yn[1],charset:Yn[2],data:zn[1]})}return nr},Cn=St.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};St.__addimage__.isArrayBuffer=function(On){return Cn()&&On instanceof ArrayBuffer};var kn=St.__addimage__.isArrayBufferView=function(On){return Cn()&&typeof Uint32Array<"u"&&(On instanceof Int8Array||On instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&On instanceof Uint8ClampedArray||On instanceof Int16Array||On instanceof Uint16Array||On instanceof Int32Array||On instanceof Uint32Array||On instanceof Float32Array||On instanceof Float64Array)},In=St.__addimage__.binaryStringToUint8Array=function(On){for(var zn=On.length,nr=new Uint8Array(zn),Yn=0;Yn<zn;Yn++)nr[Yn]=On.charCodeAt(Yn);return nr},Dn=St.__addimage__.arrayBufferToBinaryString=function(On){for(var zn="",nr=kn(On)?On:new Uint8Array(On),Yn=0;Yn<nr.length;Yn+=8192)zn+=String.fromCharCode.apply(null,nr.subarray(Yn,Yn+8192));return zn};St.addImage=function(){var On,zn,nr,Yn,ar,tr,dr,Jn,hr;if(typeof arguments[1]=="number"?(zn=_e,nr=arguments[1],Yn=arguments[2],ar=arguments[3],tr=arguments[4],dr=arguments[5],Jn=arguments[6],hr=arguments[7]):(zn=arguments[1],nr=arguments[2],Yn=arguments[3],ar=arguments[4],tr=arguments[5],dr=arguments[6],Jn=arguments[7],hr=arguments[8]),_typeof(On=arguments[0])==="object"&&!mn(On)&&"imageData"in On){var yr=On;On=yr.imageData,zn=yr.format||zn||_e,nr=yr.x||nr||0,Yn=yr.y||Yn||0,ar=yr.w||yr.width||ar,tr=yr.h||yr.height||tr,dr=yr.alias||dr,Jn=yr.compression||Jn,hr=yr.rotation||yr.angle||hr}var Mr=this.internal.getFilters();if(Jn===void 0&&Mr.indexOf("FlateEncode")!==-1&&(Jn="SLOW"),isNaN(nr)||isNaN(Yn))throw new Error("Invalid coordinates passed to jsPDF.addImage");an.call(this);var Mn=Wn.call(this,On,zn,dr,Jn);return bn.call(this,nr,Yn,ar,tr,Mn,hr),this};var Wn=function(On,zn,nr,Yn){var ar,tr,dr;if(typeof On=="string"&&tn(On)===_e){On=unescape(On);var Jn=Vn(On,!1);(Jn!==""||(Jn=St.loadFile(On,!0))!==void 0)&&(On=Jn)}if(mn(On)&&(On=pn(On,zn)),zn=tn(On,zn),!dn(zn))throw new Error("addImage does not support files of type '"+zn+"', please ensure that a plugin for '"+zn+"' support is added.");if(((dr=nr)==null||dr.length===0)&&(nr=function(hr){return typeof hr=="string"||kn(hr)?Sn(hr):kn(hr.data)?Sn(hr.data):null}(On)),(ar=fn.call(this,nr))||(Cn()&&(On instanceof Uint8Array||zn==="RGBA"||(tr=On,On=In(On))),ar=this["process"+zn.toUpperCase()](On,cn.call(this),nr,function(hr){return hr&&typeof hr=="string"&&(hr=hr.toUpperCase()),hr in St.image_compression?hr:vn.NONE}(Yn),tr)),!ar)throw new Error("An unknown error occurred whilst processing the image.");return ar},Vn=St.__addimage__.convertBase64ToBinaryString=function(On,zn){var nr;zn=typeof zn!="boolean"||zn;var Yn,ar="";if(typeof On=="string"){Yn=(nr=En(On))!==null?nr.data:On;try{ar=u(Yn)}catch(tr){if(zn)throw xn(Yn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+tr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ar};St.getImageProperties=function(On){var zn,nr,Yn="";if(mn(On)&&(On=pn(On)),typeof On=="string"&&tn(On)===_e&&((Yn=Vn(On,!1))===""&&(Yn=St.loadFile(On)||""),On=Yn),nr=tn(On),!dn(nr))throw new Error("addImage does not support files of type '"+nr+"', please ensure that a plugin for '"+nr+"' support is added.");if(!Cn()||On instanceof Uint8Array||(On=In(On)),!(zn=this["process"+nr.toUpperCase()](On)))throw new Error("An unknown error occurred whilst processing the image");return zn.fileType=nr,zn}})(E.API),function(St){var _e=function(en){if(en!==void 0&&en!="")return!0};E.API.events.push(["addPage",function(en){this.internal.getPageInfo(en.pageNumber).pageContext.annotations=[]}]),St.events.push(["putPage",function(en){for(var tn,nn,rn,sn=this.internal.getCoordinateString,an=this.internal.getVerticalCoordinateString,on=this.internal.getPageInfoByObjId(en.objId),cn=en.pageContext.annotations,dn=!1,mn=0;mn<cn.length&&!dn;mn++)switch((tn=cn[mn]).type){case"link":(_e(tn.options.url)||_e(tn.options.pageNumber))&&(dn=!0);break;case"reference":case"text":case"freetext":dn=!0}if(dn!=0){this.internal.write("/Annots [");for(var pn=0;pn<cn.length;pn++){tn=cn[pn];var fn=this.internal.pdfEscape,yn=this.internal.getEncryptor(en.objId);switch(tn.type){case"reference":this.internal.write(" "+tn.object.objId+" 0 R ");break;case"text":var bn=this.internal.newAdditionalObject(),wn=this.internal.newAdditionalObject(),vn=this.internal.getEncryptor(bn.objId),Sn=tn.title||"Note";rn="<</Type /Annot /Subtype /Text "+(nn="/Rect ["+sn(tn.bounds.x)+" "+an(tn.bounds.y+tn.bounds.h)+" "+sn(tn.bounds.x+tn.bounds.w)+" "+an(tn.bounds.y)+"] ")+"/Contents ("+fn(vn(tn.contents))+")",rn+=" /Popup "+wn.objId+" 0 R",rn+=" /P "+on.objId+" 0 R",rn+=" /T ("+fn(vn(Sn))+") >>",bn.content=rn;var xn=bn.objId+" 0 R";rn="<</Type /Annot /Subtype /Popup "+(nn="/Rect ["+sn(tn.bounds.x+30)+" "+an(tn.bounds.y+tn.bounds.h)+" "+sn(tn.bounds.x+tn.bounds.w+30)+" "+an(tn.bounds.y)+"] ")+" /Parent "+xn,tn.open&&(rn+=" /Open true"),rn+=" >>",wn.content=rn,this.internal.write(bn.objId,"0 R",wn.objId,"0 R");break;case"freetext":nn="/Rect ["+sn(tn.bounds.x)+" "+an(tn.bounds.y)+" "+sn(tn.bounds.x+tn.bounds.w)+" "+an(tn.bounds.y+tn.bounds.h)+"] ";var En=tn.color||"#000000";rn="<</Type /Annot /Subtype /FreeText "+nn+"/Contents ("+fn(yn(tn.contents))+")",rn+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+En+")",rn+=" /Border [0 0 0]",rn+=" >>",this.internal.write(rn);break;case"link":if(tn.options.name){var Cn=this.annotations._nameMap[tn.options.name];tn.options.pageNumber=Cn.page,tn.options.top=Cn.y}else tn.options.top||(tn.options.top=0);if(nn="/Rect ["+tn.finalBounds.x+" "+tn.finalBounds.y+" "+tn.finalBounds.w+" "+tn.finalBounds.h+"] ",rn="",tn.options.url)rn="<</Type /Annot /Subtype /Link "+nn+"/Border [0 0 0] /A <</S /URI /URI ("+fn(yn(tn.options.url))+") >>";else if(tn.options.pageNumber)switch(rn="<</Type /Annot /Subtype /Link "+nn+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(tn.options.pageNumber).objId+" 0 R",tn.options.magFactor=tn.options.magFactor||"XYZ",tn.options.magFactor){case"Fit":rn+=" /Fit]";break;case"FitH":rn+=" /FitH "+tn.options.top+"]";break;case"FitV":tn.options.left=tn.options.left||0,rn+=" /FitV "+tn.options.left+"]";break;case"XYZ":default:var kn=an(tn.options.top);tn.options.left=tn.options.left||0,tn.options.zoom===void 0&&(tn.options.zoom=0),rn+=" /XYZ "+tn.options.left+" "+kn+" "+tn.options.zoom+"]"}rn!=""&&(rn+=" >>",this.internal.write(rn))}}this.internal.write("]")}}]),St.createAnnotation=function(en){var tn=this.internal.getCurrentPageInfo();switch(en.type){case"link":this.link(en.bounds.x,en.bounds.y,en.bounds.w,en.bounds.h,en);break;case"text":case"freetext":tn.pageContext.annotations.push(en)}},St.link=function(en,tn,nn,rn,sn){var an=this.internal.getCurrentPageInfo(),on=this.internal.getCoordinateString,cn=this.internal.getVerticalCoordinateString;an.pageContext.annotations.push({finalBounds:{x:on(en),y:cn(tn),w:on(en+nn),h:cn(tn+rn)},options:sn,type:"link"})},St.textWithLink=function(en,tn,nn,rn){var sn,an,on=this.getTextWidth(en),cn=this.internal.getLineHeight()/this.internal.scaleFactor;if(rn.maxWidth!==void 0){an=rn.maxWidth;var dn=this.splitTextToSize(en,an).length;sn=Math.ceil(cn*dn)}else an=on,sn=cn;return this.text(en,tn,nn,rn),nn+=.2*cn,rn.align==="center"&&(tn-=on/2),rn.align==="right"&&(tn-=on),this.link(tn,nn-cn,an,sn,rn),on},St.getTextWidth=function(en){var tn=this.internal.getFontSize();return this.getStringUnitWidth(en)*tn/this.internal.scaleFactor}}(E.API),function(St){var _e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},en={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},tn={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},nn=[1570,1571,1573,1575];St.__arabicParser__={};var rn=St.__arabicParser__.isInArabicSubstitutionA=function(bn){return _e[bn.charCodeAt(0)]!==void 0},sn=St.__arabicParser__.isArabicLetter=function(bn){return typeof bn=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(bn)},an=St.__arabicParser__.isArabicEndLetter=function(bn){return sn(bn)&&rn(bn)&&_e[bn.charCodeAt(0)].length<=2},on=St.__arabicParser__.isArabicAlfLetter=function(bn){return sn(bn)&&nn.indexOf(bn.charCodeAt(0))>=0};St.__arabicParser__.arabicLetterHasIsolatedForm=function(bn){return sn(bn)&&rn(bn)&&_e[bn.charCodeAt(0)].length>=1};var cn=St.__arabicParser__.arabicLetterHasFinalForm=function(bn){return sn(bn)&&rn(bn)&&_e[bn.charCodeAt(0)].length>=2};St.__arabicParser__.arabicLetterHasInitialForm=function(bn){return sn(bn)&&rn(bn)&&_e[bn.charCodeAt(0)].length>=3};var dn=St.__arabicParser__.arabicLetterHasMedialForm=function(bn){return sn(bn)&&rn(bn)&&_e[bn.charCodeAt(0)].length==4},mn=St.__arabicParser__.resolveLigatures=function(bn){var wn=0,vn=en,Sn="",xn=0;for(wn=0;wn<bn.length;wn+=1)vn[bn.charCodeAt(wn)]!==void 0?(xn++,typeof(vn=vn[bn.charCodeAt(wn)])=="number"&&(Sn+=String.fromCharCode(vn),vn=en,xn=0),wn===bn.length-1&&(vn=en,Sn+=bn.charAt(wn-(xn-1)),wn-=xn-1,xn=0)):(vn=en,Sn+=bn.charAt(wn-xn),wn-=xn,xn=0);return Sn};St.__arabicParser__.isArabicDiacritic=function(bn){return bn!==void 0&&tn[bn.charCodeAt(0)]!==void 0};var pn=St.__arabicParser__.getCorrectForm=function(bn,wn,vn){return sn(bn)?rn(bn)===!1?-1:!cn(bn)||!sn(wn)&&!sn(vn)||!sn(vn)&&an(wn)||an(bn)&&!sn(wn)||an(bn)&&on(wn)||an(bn)&&an(wn)?0:dn(bn)&&sn(wn)&&!an(wn)&&sn(vn)&&cn(vn)?3:an(bn)||!sn(vn)?1:2:-1},fn=function(bn){var wn=0,vn=0,Sn=0,xn="",En="",Cn="",kn=(bn=bn||"").split("\\s+"),In=[];for(wn=0;wn<kn.length;wn+=1){for(In.push(""),vn=0;vn<kn[wn].length;vn+=1)xn=kn[wn][vn],En=kn[wn][vn-1],Cn=kn[wn][vn+1],sn(xn)?(Sn=pn(xn,En,Cn),In[wn]+=Sn!==-1?String.fromCharCode(_e[xn.charCodeAt(0)][Sn]):xn):In[wn]+=xn;In[wn]=mn(In[wn])}return In.join(" ")},yn=St.__arabicParser__.processArabic=St.processArabic=function(){var bn,wn=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,vn=[];if(Array.isArray(wn)){var Sn=0;for(vn=[],Sn=0;Sn<wn.length;Sn+=1)Array.isArray(wn[Sn])?vn.push([fn(wn[Sn][0]),wn[Sn][1],wn[Sn][2]]):vn.push([fn(wn[Sn])]);bn=vn}else bn=fn(wn);return typeof arguments[0]=="string"?bn:(arguments[0].text=bn,arguments[0])};St.events.push(["preProcessText",yn])}(E.API),E.API.autoPrint=function(St){var _e;switch((St=St||{}).variant=St.variant||"non-conform",St.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){_e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+_e+" 0 R")})}return this},function(St){var _e=function(){var en=void 0;Object.defineProperty(this,"pdf",{get:function(){return en},set:function(an){en=an}});var tn=150;Object.defineProperty(this,"width",{get:function(){return tn},set:function(an){tn=isNaN(an)||Number.isInteger(an)===!1||an<0?150:an,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=tn+1)}});var nn=300;Object.defineProperty(this,"height",{get:function(){return nn},set:function(an){nn=isNaN(an)||Number.isInteger(an)===!1||an<0?300:an,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nn+1)}});var rn=[];Object.defineProperty(this,"childNodes",{get:function(){return rn},set:function(an){rn=an}});var sn={};Object.defineProperty(this,"style",{get:function(){return sn},set:function(an){sn=an}}),Object.defineProperty(this,"parentNode",{})};_e.prototype.getContext=function(en,tn){var nn;if((en=en||"2d")!=="2d")return null;for(nn in tn)this.pdf.context2d.hasOwnProperty(nn)&&(this.pdf.context2d[nn]=tn[nn]);return this.pdf.context2d._canvas=this,this.pdf.context2d},_e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},St.events.push(["initialized",function(){this.canvas=new _e,this.canvas.pdf=this}])}(E.API),function(St){var _e={left:0,top:0,bottom:0,right:0},en=!1,tn=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},_e),this.internal.__cell__.margins.width=this.getPageWidth(),nn.call(this))},nn=function(){this.internal.__cell__.lastCell=new rn,this.internal.__cell__.pages=1},rn=function(){var on=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return on},set:function(bn){on=bn}});var cn=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return cn},set:function(bn){cn=bn}});var dn=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return dn},set:function(bn){dn=bn}});var mn=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return mn},set:function(bn){mn=bn}});var pn=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return pn},set:function(bn){pn=bn}});var fn=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return fn},set:function(bn){fn=bn}});var yn=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return yn},set:function(bn){yn=bn}}),this};rn.prototype.clone=function(){return new rn(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},rn.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},St.setHeaderFunction=function(on){return tn.call(this),this.internal.__cell__.headerFunction=typeof on=="function"?on:void 0,this},St.getTextDimensions=function(on,cn){tn.call(this);var dn=(cn=cn||{}).fontSize||this.getFontSize(),mn=cn.font||this.getFont(),pn=cn.scaleFactor||this.internal.scaleFactor,fn=0,yn=0,bn=0,wn=this;if(!Array.isArray(on)&&typeof on!="string"){if(typeof on!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");on=String(on)}var vn=cn.maxWidth;vn>0?typeof on=="string"?on=this.splitTextToSize(on,vn):Object.prototype.toString.call(on)==="[object Array]"&&(on=on.reduce(function(xn,En){return xn.concat(wn.splitTextToSize(En,vn))},[])):on=Array.isArray(on)?on:[on];for(var Sn=0;Sn<on.length;Sn++)fn<(bn=this.getStringUnitWidth(on[Sn],{font:mn})*dn)&&(fn=bn);return fn!==0&&(yn=on.length),{w:fn/=pn,h:Math.max((yn*dn*this.getLineHeightFactor()-dn*(this.getLineHeightFactor()-1))/pn,0)}},St.cellAddPage=function(){tn.call(this),this.addPage();var on=this.internal.__cell__.margins||_e;return this.internal.__cell__.lastCell=new rn(on.left,on.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var sn=St.cell=function(){var on;on=arguments[0]instanceof rn?arguments[0]:new rn(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),tn.call(this);var cn=this.internal.__cell__.lastCell,dn=this.internal.__cell__.padding,mn=this.internal.__cell__.margins||_e,pn=this.internal.__cell__.tableHeaderRow,fn=this.internal.__cell__.printHeaders;return cn.lineNumber!==void 0&&(cn.lineNumber===on.lineNumber?(on.x=(cn.x||0)+(cn.width||0),on.y=cn.y||0):cn.y+cn.height+on.height+mn.bottom>this.getPageHeight()?(this.cellAddPage(),on.y=mn.top,fn&&pn&&(this.printHeaderRow(on.lineNumber,!0),on.y+=pn[0].height)):on.y=cn.y+cn.height||on.y),on.text[0]!==void 0&&(this.rect(on.x,on.y,on.width,on.height,en===!0?"FD":void 0),on.align==="right"?this.text(on.text,on.x+on.width-dn,on.y+dn,{align:"right",baseline:"top"}):on.align==="center"?this.text(on.text,on.x+on.width/2,on.y+dn,{align:"center",baseline:"top",maxWidth:on.width-dn-dn}):this.text(on.text,on.x+dn,on.y+dn,{align:"left",baseline:"top",maxWidth:on.width-dn-dn})),this.internal.__cell__.lastCell=on,this};St.table=function(on,cn,dn,mn,pn){if(tn.call(this),!dn)throw new Error("No data for PDF table.");var fn,yn,bn,wn,vn=[],Sn=[],xn=[],En={},Cn={},kn=[],In=[],Dn=(pn=pn||{}).autoSize||!1,Wn=pn.printHeaders!==!1,Vn=pn.css&&pn.css["font-size"]!==void 0?16*pn.css["font-size"]:pn.fontSize||12,On=pn.margins||Object.assign({width:this.getPageWidth()},_e),zn=typeof pn.padding=="number"?pn.padding:3,nr=pn.headerBackgroundColor||"#c8c8c8",Yn=pn.headerTextColor||"#000";if(nn.call(this),this.internal.__cell__.printHeaders=Wn,this.internal.__cell__.margins=On,this.internal.__cell__.table_font_size=Vn,this.internal.__cell__.padding=zn,this.internal.__cell__.headerBackgroundColor=nr,this.internal.__cell__.headerTextColor=Yn,this.setFontSize(Vn),mn==null)Sn=vn=Object.keys(dn[0]),xn=vn.map(function(){return"left"});else if(Array.isArray(mn)&&_typeof(mn[0])==="object")for(vn=mn.map(function(yr){return yr.name}),Sn=mn.map(function(yr){return yr.prompt||yr.name||""}),xn=mn.map(function(yr){return yr.align||"left"}),fn=0;fn<mn.length;fn+=1)Cn[mn[fn].name]=mn[fn].width*(19.049976/25.4);else Array.isArray(mn)&&typeof mn[0]=="string"&&(Sn=vn=mn,xn=vn.map(function(){return"left"}));if(Dn||Array.isArray(mn)&&typeof mn[0]=="string")for(fn=0;fn<vn.length;fn+=1){for(En[wn=vn[fn]]=dn.map(function(yr){return yr[wn]}),this.setFont(void 0,"bold"),kn.push(this.getTextDimensions(Sn[fn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),yn=En[wn],this.setFont(void 0,"normal"),bn=0;bn<yn.length;bn+=1)kn.push(this.getTextDimensions(yn[bn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Cn[wn]=Math.max.apply(null,kn)+zn+zn,kn=[]}if(Wn){var ar={};for(fn=0;fn<vn.length;fn+=1)ar[vn[fn]]={},ar[vn[fn]].text=Sn[fn],ar[vn[fn]].align=xn[fn];var tr=an.call(this,ar,Cn);In=vn.map(function(yr){return new rn(on,cn,Cn[yr],tr,ar[yr].text,void 0,ar[yr].align)}),this.setTableHeaderRow(In),this.printHeaderRow(1,!1)}var dr=mn.reduce(function(yr,Mr){return yr[Mr.name]=Mr.align,yr},{});for(fn=0;fn<dn.length;fn+=1){"rowStart"in pn&&pn.rowStart instanceof Function&&pn.rowStart({row:fn,data:dn[fn]},this);var Jn=an.call(this,dn[fn],Cn);for(bn=0;bn<vn.length;bn+=1){var hr=dn[fn][vn[bn]];"cellStart"in pn&&pn.cellStart instanceof Function&&pn.cellStart({row:fn,col:bn,data:hr},this),sn.call(this,new rn(on,cn,Cn[vn[bn]],Jn,hr,fn+2,dr[vn[bn]]))}}return this.internal.__cell__.table_x=on,this.internal.__cell__.table_y=cn,this};var an=function(on,cn){var dn=this.internal.__cell__.padding,mn=this.internal.__cell__.table_font_size,pn=this.internal.scaleFactor;return Object.keys(on).map(function(fn){var yn=on[fn];return this.splitTextToSize(yn.hasOwnProperty("text")?yn.text:yn,cn[fn]-dn-dn)},this).map(function(fn){return this.getLineHeightFactor()*fn.length*mn/pn+dn+dn},this).reduce(function(fn,yn){return Math.max(fn,yn)},0)};St.setTableHeaderRow=function(on){tn.call(this),this.internal.__cell__.tableHeaderRow=on},St.printHeaderRow=function(on,cn){if(tn.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var dn;if(en=!0,typeof this.internal.__cell__.headerFunction=="function"){var mn=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new rn(mn[0],mn[1],mn[2],mn[3],void 0,-1)}this.setFont(void 0,"bold");for(var pn=[],fn=0;fn<this.internal.__cell__.tableHeaderRow.length;fn+=1){dn=this.internal.__cell__.tableHeaderRow[fn].clone(),cn&&(dn.y=this.internal.__cell__.margins.top||0,pn.push(dn)),dn.lineNumber=on;var yn=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),sn.call(this,dn),this.setTextColor(yn)}pn.length>0&&this.setTableHeaderRow(pn),this.setFont(void 0,"normal"),en=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(St){var _e=St.family.replace(/"|'/g,"").toLowerCase(),en=function(rn){return Pt[rn=rn||"normal"]?rn:"normal"}(St.style),tn=function(rn){if(!rn)return 400;if(typeof rn=="number")return rn>=100&&rn<=900&&rn%100==0?rn:400;if(/^\d00$/.test(rn))return parseInt(rn);switch(rn){case"bold":return 700;case"normal":default:return 400}}(St.weight),nn=function(rn){return typeof It[rn=rn||"normal"]=="number"?rn:"normal"}(St.stretch);return{family:_e,style:en,weight:tn,stretch:nn,src:St.src||[],ref:St.ref||{name:_e,style:[nn,en,tn].join(" ")}}}function Ot(St,_e,en,tn){var nn;for(nn=en;nn>=0&&nn<_e.length;nn+=tn)if(St[_e[nn]])return St[_e[nn]];for(nn=en;nn>=0&&nn<_e.length;nn-=tn)if(St[_e[nn]])return St[_e[nn]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(St){return[St.stretch,St.style,St.weight,St.family].join(" ")}function qt(St,_e,en){for(var tn=(en=en||{}).defaultFontFamily||"times",nn=Object.assign({},Bt,en.genericFontFamilies||{}),rn=null,sn=null,an=0;an<_e.length;++an)if(nn[(rn=jt(_e[an])).family]&&(rn.family=nn[rn.family]),St.hasOwnProperty(rn.family)){sn=St[rn.family];break}if(!(sn=sn||St[tn]))throw new Error("Could not find a font-family for the rule '"+Et(rn)+"' and default family '"+tn+"'.");if(sn=function(on,cn){if(cn[on])return cn[on];var dn=It[on],mn=dn<=It.normal?-1:1,pn=Ot(cn,kt,dn,mn);if(!pn)throw new Error("Could not find a matching font-stretch value for "+on);return pn}(rn.stretch,sn),sn=function(on,cn){if(cn[on])return cn[on];for(var dn=Pt[on],mn=0;mn<dn.length;++mn)if(cn[dn[mn]])return cn[dn[mn]];throw new Error("Could not find a matching font-style for "+on)}(rn.style,sn),!(sn=function(on,cn){if(cn[on])return cn[on];if(on===400&&cn[500])return cn[500];if(on===500&&cn[400])return cn[400];var dn=Ct[on],mn=Ot(cn,Ft,dn,on<400?-1:1);if(!mn)throw new Error("Could not find a matching font-weight for value "+on);return mn}(rn.weight,sn)))throw new Error("Failed to resolve a font for the rule '"+Et(rn)+"'.");return sn}function Dt(St){return St.trimLeft()}function Rt(St,_e){for(var en=0;en<St.length;){if(St.charAt(en)===_e)return[St.substring(0,en),St.substring(en+1)];en+=1}return null}function Tt(St){var _e=St.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return _e===null?null:[_e[0],St.substring(_e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(St){var _e,en,tn,nn,rn,sn,an,on,cn,dn=function(Mn){return Mn=Mn||{},this.isStrokeTransparent=Mn.isStrokeTransparent||!1,this.strokeOpacity=Mn.strokeOpacity||1,this.strokeStyle=Mn.strokeStyle||"#000000",this.fillStyle=Mn.fillStyle||"#000000",this.isFillTransparent=Mn.isFillTransparent||!1,this.fillOpacity=Mn.fillOpacity||1,this.font=Mn.font||"10px sans-serif",this.textBaseline=Mn.textBaseline||"alphabetic",this.textAlign=Mn.textAlign||"left",this.lineWidth=Mn.lineWidth||1,this.lineJoin=Mn.lineJoin||"miter",this.lineCap=Mn.lineCap||"butt",this.path=Mn.path||[],this.transform=Mn.transform!==void 0?Mn.transform.clone():new on,this.globalCompositeOperation=Mn.globalCompositeOperation||"normal",this.globalAlpha=Mn.globalAlpha||1,this.clip_path=Mn.clip_path||[],this.currentPoint=Mn.currentPoint||new sn,this.miterLimit=Mn.miterLimit||10,this.lastPoint=Mn.lastPoint||new sn,this.lineDashOffset=Mn.lineDashOffset||0,this.lineDash=Mn.lineDash||[],this.margin=Mn.margin||[0,0,0,0],this.prevPageLastElemOffset=Mn.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Mn.ignoreClearRect!="boolean"||Mn.ignoreClearRect,this};St.events.push(["initialized",function(){this.context2d=new mn(this),_e=this.internal.f2,en=this.internal.getCoordinateString,tn=this.internal.getVerticalCoordinateString,nn=this.internal.getHorizontalCoordinate,rn=this.internal.getVerticalCoordinate,sn=this.internal.Point,an=this.internal.Rectangle,on=this.internal.Matrix,cn=new dn}]);var mn=function(Mn){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Fn=Mn;Object.defineProperty(this,"pdf",{get:function(){return Fn}});var Nn=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Nn},set:function(Gn){Nn=Boolean(Gn)}});var Un=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Un},set:function(Gn){Un=Boolean(Gn)}});var qn=0;Object.defineProperty(this,"posX",{get:function(){return qn},set:function(Gn){isNaN(Gn)||(qn=Gn)}});var er=0;Object.defineProperty(this,"posY",{get:function(){return er},set:function(Gn){isNaN(Gn)||(er=Gn)}}),Object.defineProperty(this,"margin",{get:function(){return cn.margin},set:function(Gn){var jn;typeof Gn=="number"?jn=[Gn,Gn,Gn,Gn]:((jn=new Array(4))[0]=Gn[0],jn[1]=Gn.length>=2?Gn[1]:jn[0],jn[2]=Gn.length>=3?Gn[2]:jn[0],jn[3]=Gn.length>=4?Gn[3]:jn[1]),cn.margin=jn}});var sr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return sr},set:function(Gn){sr=Gn}});var ur=0;Object.defineProperty(this,"lastBreak",{get:function(){return ur},set:function(Gn){ur=Gn}});var br=[];Object.defineProperty(this,"pageBreaks",{get:function(){return br},set:function(Gn){br=Gn}}),Object.defineProperty(this,"ctx",{get:function(){return cn},set:function(Gn){Gn instanceof dn&&(cn=Gn)}}),Object.defineProperty(this,"path",{get:function(){return cn.path},set:function(Gn){cn.path=Gn}});var kr=[];Object.defineProperty(this,"ctxStack",{get:function(){return kr},set:function(Gn){kr=Gn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Gn){var jn;jn=pn(Gn),this.ctx.fillStyle=jn.style,this.ctx.isFillTransparent=jn.a===0,this.ctx.fillOpacity=jn.a,this.pdf.setFillColor(jn.r,jn.g,jn.b,{a:jn.a}),this.pdf.setTextColor(jn.r,jn.g,jn.b,{a:jn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Gn){var jn=pn(Gn);this.ctx.strokeStyle=jn.style,this.ctx.isStrokeTransparent=jn.a===0,this.ctx.strokeOpacity=jn.a,jn.a===0?this.pdf.setDrawColor(255,255,255):(jn.a,this.pdf.setDrawColor(jn.r,jn.g,jn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Gn){["butt","round","square"].indexOf(Gn)!==-1&&(this.ctx.lineCap=Gn,this.pdf.setLineCap(Gn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Gn){isNaN(Gn)||(this.ctx.lineWidth=Gn,this.pdf.setLineWidth(Gn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Gn){["bevel","round","miter"].indexOf(Gn)!==-1&&(this.ctx.lineJoin=Gn,this.pdf.setLineJoin(Gn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Gn){isNaN(Gn)||(this.ctx.miterLimit=Gn,this.pdf.setMiterLimit(Gn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Gn){this.ctx.textBaseline=Gn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Gn){["right","end","center","left","start"].indexOf(Gn)!==-1&&(this.ctx.textAlign=Gn)}});var Er=null;function Pr(Gn,jn){if(Er===null){var fr=function(Xn){var Zn=[];return Object.keys(Xn).forEach(function(pr){Xn[pr].forEach(function(Tr){var xr=null;switch(Tr){case"bold":xr={family:pr,weight:"bold"};break;case"italic":xr={family:pr,style:"italic"};break;case"bolditalic":xr={family:pr,weight:"bold",style:"italic"};break;case"":case"normal":xr={family:pr}}xr!==null&&(xr.ref={name:pr,style:Tr},Zn.push(xr))})}),Zn}(Gn.getFontList());Er=function(Xn){for(var Zn={},pr=0;pr<Xn.length;++pr){var Tr=jt(Xn[pr]),xr=Tr.family,Ur=Tr.stretch,lr=Tr.style,Rr=Tr.weight;Zn[xr]=Zn[xr]||{},Zn[xr][Ur]=Zn[xr][Ur]||{},Zn[xr][Ur][lr]=Zn[xr][Ur][lr]||{},Zn[xr][Ur][lr][Rr]=Tr}return Zn}(fr.concat(jn))}return Er}var $n=null;Object.defineProperty(this,"fontFaces",{get:function(){return $n},set:function(Gn){Er=null,$n=Gn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Gn){var jn;if(this.ctx.font=Gn,(jn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Gn))!==null){var fr=jn[1],Xn=(jn[2],jn[3]),Zn=jn[4],pr=(jn[5],jn[6]),Tr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Zn)[2];Zn=Math.floor(Tr==="px"?parseFloat(Zn)*this.pdf.internal.scaleFactor:Tr==="em"?parseFloat(Zn)*this.pdf.getFontSize():parseFloat(Zn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Zn);var xr=function(Hr){var ns,Xr,Cs=[],ms=Hr.trim();if(ms==="")return Wt;if(ms in Mt)return[Mt[ms]];for(;ms!=="";){switch(Xr=null,ns=(ms=Dt(ms)).charAt(0)){case'"':case"'":Xr=Rt(ms.substring(1),ns);break;default:Xr=Tt(ms)}if(Xr===null||(Cs.push(Xr[0]),(ms=Dt(Xr[1]))!==""&&ms.charAt(0)!==","))return Wt;ms=ms.replace(/^,/,"")}return Cs}(pr);if(this.fontFaces){var Ur=qt(Pr(this.pdf,this.fontFaces),xr.map(function(Hr){return{family:Hr,stretch:"normal",weight:Xn,style:fr}}));this.pdf.setFont(Ur.ref.name,Ur.ref.style)}else{var lr="";(Xn==="bold"||parseInt(Xn,10)>=700||fr==="bold")&&(lr="bold"),fr==="italic"&&(lr+="italic"),lr.length===0&&(lr="normal");for(var Rr="",zr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qr=0;qr<xr.length;qr++){if(this.pdf.internal.getFont(xr[qr],lr,{noFallback:!0,disableWarning:!0})!==void 0){Rr=xr[qr];break}if(lr==="bolditalic"&&this.pdf.internal.getFont(xr[qr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rr=xr[qr],lr="bold";else if(this.pdf.internal.getFont(xr[qr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rr=xr[qr],lr="normal";break}}if(Rr===""){for(var Ar=0;Ar<xr.length;Ar++)if(zr[xr[Ar]]){Rr=zr[xr[Ar]];break}}Rr=Rr===""?"Times":Rr,this.pdf.setFont(Rr,lr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Gn){this.ctx.globalCompositeOperation=Gn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Gn){this.ctx.globalAlpha=Gn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Gn){this.ctx.lineDashOffset=Gn,Mr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Gn){this.ctx.lineDash=Gn,Mr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Gn){this.ctx.ignoreClearRect=Boolean(Gn)}})};mn.prototype.setLineDash=function(Mn){this.lineDash=Mn},mn.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},mn.prototype.fill=function(){En.call(this,"fill",!1)},mn.prototype.stroke=function(){En.call(this,"stroke",!1)},mn.prototype.beginPath=function(){this.path=[{type:"begin"}]},mn.prototype.moveTo=function(Mn,Fn){if(isNaN(Mn)||isNaN(Fn))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Nn=this.ctx.transform.applyToPoint(new sn(Mn,Fn));this.path.push({type:"mt",x:Nn.x,y:Nn.y}),this.ctx.lastPoint=new sn(Mn,Fn)},mn.prototype.closePath=function(){var Mn=new sn(0,0),Fn=0;for(Fn=this.path.length-1;Fn!==-1;Fn--)if(this.path[Fn].type==="begin"&&_typeof(this.path[Fn+1])==="object"&&typeof this.path[Fn+1].x=="number"){Mn=new sn(this.path[Fn+1].x,this.path[Fn+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new sn(Mn.x,Mn.y)},mn.prototype.lineTo=function(Mn,Fn){if(isNaN(Mn)||isNaN(Fn))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Nn=this.ctx.transform.applyToPoint(new sn(Mn,Fn));this.path.push({type:"lt",x:Nn.x,y:Nn.y}),this.ctx.lastPoint=new sn(Nn.x,Nn.y)},mn.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),En.call(this,null,!0)},mn.prototype.quadraticCurveTo=function(Mn,Fn,Nn,Un){if(isNaN(Nn)||isNaN(Un)||isNaN(Mn)||isNaN(Fn))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var qn=this.ctx.transform.applyToPoint(new sn(Nn,Un)),er=this.ctx.transform.applyToPoint(new sn(Mn,Fn));this.path.push({type:"qct",x1:er.x,y1:er.y,x:qn.x,y:qn.y}),this.ctx.lastPoint=new sn(qn.x,qn.y)},mn.prototype.bezierCurveTo=function(Mn,Fn,Nn,Un,qn,er){if(isNaN(qn)||isNaN(er)||isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var sr=this.ctx.transform.applyToPoint(new sn(qn,er)),ur=this.ctx.transform.applyToPoint(new sn(Mn,Fn)),br=this.ctx.transform.applyToPoint(new sn(Nn,Un));this.path.push({type:"bct",x1:ur.x,y1:ur.y,x2:br.x,y2:br.y,x:sr.x,y:sr.y}),this.ctx.lastPoint=new sn(sr.x,sr.y)},mn.prototype.arc=function(Mn,Fn,Nn,Un,qn,er){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un)||isNaN(qn))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(er=Boolean(er),!this.ctx.transform.isIdentity){var sr=this.ctx.transform.applyToPoint(new sn(Mn,Fn));Mn=sr.x,Fn=sr.y;var ur=this.ctx.transform.applyToPoint(new sn(0,Nn)),br=this.ctx.transform.applyToPoint(new sn(0,0));Nn=Math.sqrt(Math.pow(ur.x-br.x,2)+Math.pow(ur.y-br.y,2))}Math.abs(qn-Un)>=2*Math.PI&&(Un=0,qn=2*Math.PI),this.path.push({type:"arc",x:Mn,y:Fn,radius:Nn,startAngle:Un,endAngle:qn,counterclockwise:er})},mn.prototype.arcTo=function(Mn,Fn,Nn,Un,qn){throw new Error("arcTo not implemented.")},mn.prototype.rect=function(Mn,Fn,Nn,Un){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Mn,Fn),this.lineTo(Mn+Nn,Fn),this.lineTo(Mn+Nn,Fn+Un),this.lineTo(Mn,Fn+Un),this.lineTo(Mn,Fn),this.lineTo(Mn+Nn,Fn),this.lineTo(Mn,Fn)},mn.prototype.fillRect=function(Mn,Fn,Nn,Un){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!fn.call(this)){var qn={};this.lineCap!=="butt"&&(qn.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(qn.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Mn,Fn,Nn,Un),this.fill(),qn.hasOwnProperty("lineCap")&&(this.lineCap=qn.lineCap),qn.hasOwnProperty("lineJoin")&&(this.lineJoin=qn.lineJoin)}},mn.prototype.strokeRect=function(Mn,Fn,Nn,Un){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");yn.call(this)||(this.beginPath(),this.rect(Mn,Fn,Nn,Un),this.stroke())},mn.prototype.clearRect=function(Mn,Fn,Nn,Un){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Mn,Fn,Nn,Un))},mn.prototype.save=function(Mn){Mn=typeof Mn!="boolean"||Mn;for(var Fn=this.pdf.internal.getCurrentPageInfo().pageNumber,Nn=0;Nn<this.pdf.internal.getNumberOfPages();Nn++)this.pdf.setPage(Nn+1),this.pdf.internal.out("q");if(this.pdf.setPage(Fn),Mn){this.ctx.fontSize=this.pdf.internal.getFontSize();var Un=new dn(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Un}},mn.prototype.restore=function(Mn){Mn=typeof Mn!="boolean"||Mn;for(var Fn=this.pdf.internal.getCurrentPageInfo().pageNumber,Nn=0;Nn<this.pdf.internal.getNumberOfPages();Nn++)this.pdf.setPage(Nn+1),this.pdf.internal.out("Q");this.pdf.setPage(Fn),Mn&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},mn.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var pn=function(Mn){var Fn,Nn,Un,qn;if(Mn.isCanvasGradient===!0&&(Mn=Mn.getColor()),!Mn)return{r:0,g:0,b:0,a:0,style:Mn};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Mn))Fn=0,Nn=0,Un=0,qn=0;else{var er=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Mn);if(er!==null)Fn=parseInt(er[1]),Nn=parseInt(er[2]),Un=parseInt(er[3]),qn=1;else if((er=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Mn))!==null)Fn=parseInt(er[1]),Nn=parseInt(er[2]),Un=parseInt(er[3]),qn=parseFloat(er[4]);else{if(qn=1,typeof Mn=="string"&&Mn.charAt(0)!=="#"){var sr=new f(Mn);Mn=sr.ok?sr.toHex():"#000000"}Mn.length===4?(Fn=Mn.substring(1,2),Fn+=Fn,Nn=Mn.substring(2,3),Nn+=Nn,Un=Mn.substring(3,4),Un+=Un):(Fn=Mn.substring(1,3),Nn=Mn.substring(3,5),Un=Mn.substring(5,7)),Fn=parseInt(Fn,16),Nn=parseInt(Nn,16),Un=parseInt(Un,16)}}return{r:Fn,g:Nn,b:Un,a:qn,style:Mn}},fn=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},yn=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};mn.prototype.fillText=function(Mn,Fn,Nn,Un){if(isNaN(Fn)||isNaN(Nn)||typeof Mn!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Un=isNaN(Un)?void 0:Un,!fn.call(this)){var qn=Jn(this.ctx.transform.rotation),er=this.ctx.transform.scaleX;zn.call(this,{text:Mn,x:Fn,y:Nn,scale:er,angle:qn,align:this.textAlign,maxWidth:Un})}},mn.prototype.strokeText=function(Mn,Fn,Nn,Un){if(isNaN(Fn)||isNaN(Nn)||typeof Mn!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!yn.call(this)){Un=isNaN(Un)?void 0:Un;var qn=Jn(this.ctx.transform.rotation),er=this.ctx.transform.scaleX;zn.call(this,{text:Mn,x:Fn,y:Nn,scale:er,renderingMode:"stroke",angle:qn,align:this.textAlign,maxWidth:Un})}},mn.prototype.measureText=function(Mn){if(typeof Mn!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Fn=this.pdf,Nn=this.pdf.internal.scaleFactor,Un=Fn.internal.getFontSize(),qn=Fn.getStringUnitWidth(Mn)*Un/Fn.internal.scaleFactor,er=function(sr){var ur=(sr=sr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ur}}),this};return new er({width:qn*=Math.round(96*Nn/72*1e4)/1e4})},mn.prototype.scale=function(Mn,Fn){if(isNaN(Mn)||isNaN(Fn))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Nn=new on(Mn,0,0,Fn,0,0);this.ctx.transform=this.ctx.transform.multiply(Nn)},mn.prototype.rotate=function(Mn){if(isNaN(Mn))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Fn=new on(Math.cos(Mn),Math.sin(Mn),-Math.sin(Mn),Math.cos(Mn),0,0);this.ctx.transform=this.ctx.transform.multiply(Fn)},mn.prototype.translate=function(Mn,Fn){if(isNaN(Mn)||isNaN(Fn))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Nn=new on(1,0,0,1,Mn,Fn);this.ctx.transform=this.ctx.transform.multiply(Nn)},mn.prototype.transform=function(Mn,Fn,Nn,Un,qn,er){if(isNaN(Mn)||isNaN(Fn)||isNaN(Nn)||isNaN(Un)||isNaN(qn)||isNaN(er))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var sr=new on(Mn,Fn,Nn,Un,qn,er);this.ctx.transform=this.ctx.transform.multiply(sr)},mn.prototype.setTransform=function(Mn,Fn,Nn,Un,qn,er){Mn=isNaN(Mn)?1:Mn,Fn=isNaN(Fn)?0:Fn,Nn=isNaN(Nn)?0:Nn,Un=isNaN(Un)?1:Un,qn=isNaN(qn)?0:qn,er=isNaN(er)?0:er,this.ctx.transform=new on(Mn,Fn,Nn,Un,qn,er)};var bn=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};mn.prototype.drawImage=function(Mn,Fn,Nn,Un,qn,er,sr,ur,br){var kr=this.pdf.getImageProperties(Mn),Er=1,Pr=1,$n=1,Gn=1;Un!==void 0&&ur!==void 0&&($n=ur/Un,Gn=br/qn,Er=kr.width/Un*ur/Un,Pr=kr.height/qn*br/qn),er===void 0&&(er=Fn,sr=Nn,Fn=0,Nn=0),Un!==void 0&&ur===void 0&&(ur=Un,br=qn),Un===void 0&&ur===void 0&&(ur=kr.width,br=kr.height);for(var jn,fr=this.ctx.transform.decompose(),Xn=Jn(fr.rotate.shx),Zn=new on,pr=(Zn=(Zn=(Zn=Zn.multiply(fr.translate)).multiply(fr.skew)).multiply(fr.scale)).applyToRectangle(new an(er-Fn*$n,sr-Nn*Gn,Un*Er,qn*Pr)),Tr=wn.call(this,pr),xr=[],Ur=0;Ur<Tr.length;Ur+=1)xr.indexOf(Tr[Ur])===-1&&xr.push(Tr[Ur]);if(xn(xr),this.autoPaging)for(var lr=xr[0],Rr=xr[xr.length-1],zr=lr;zr<Rr+1;zr++){this.pdf.setPage(zr);var qr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ar=zr===1?this.posY+this.margin[0]:this.margin[0],Hr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ns=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xr=zr===1?0:Hr+(zr-2)*ns;if(this.ctx.clip_path.length!==0){var Cs=this.path;jn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sn(jn,this.posX+this.margin[3],-Xr+Ar+this.ctx.prevPageLastElemOffset),Cn.call(this,"fill",!0),this.path=Cs}var ms=JSON.parse(JSON.stringify(pr));ms=Sn([ms],this.posX+this.margin[3],-Xr+Ar+this.ctx.prevPageLastElemOffset)[0];var ys=(zr>lr||zr<Rr)&&bn.call(this);ys&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qr,ns,null).clip().discardPath()),this.pdf.addImage(Mn,"JPEG",ms.x,ms.y,ms.w,ms.h,null,null,Xn),ys&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Mn,"JPEG",pr.x,pr.y,pr.w,pr.h,null,null,Xn)};var wn=function(Mn,Fn,Nn){var Un=[];Fn=Fn||this.pdf.internal.pageSize.width,Nn=Nn||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var qn=this.posY+this.ctx.prevPageLastElemOffset;switch(Mn.type){default:case"mt":case"lt":Un.push(Math.floor((Mn.y+qn)/Nn)+1);break;case"arc":Un.push(Math.floor((Mn.y+qn-Mn.radius)/Nn)+1),Un.push(Math.floor((Mn.y+qn+Mn.radius)/Nn)+1);break;case"qct":var er=hr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Mn.x1,Mn.y1,Mn.x,Mn.y);Un.push(Math.floor((er.y+qn)/Nn)+1),Un.push(Math.floor((er.y+er.h+qn)/Nn)+1);break;case"bct":var sr=yr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Mn.x1,Mn.y1,Mn.x2,Mn.y2,Mn.x,Mn.y);Un.push(Math.floor((sr.y+qn)/Nn)+1),Un.push(Math.floor((sr.y+sr.h+qn)/Nn)+1);break;case"rect":Un.push(Math.floor((Mn.y+qn)/Nn)+1),Un.push(Math.floor((Mn.y+Mn.h+qn)/Nn)+1)}for(var ur=0;ur<Un.length;ur+=1)for(;this.pdf.internal.getNumberOfPages()<Un[ur];)vn.call(this);return Un},vn=function(){var Mn=this.fillStyle,Fn=this.strokeStyle,Nn=this.font,Un=this.lineCap,qn=this.lineWidth,er=this.lineJoin;this.pdf.addPage(),this.fillStyle=Mn,this.strokeStyle=Fn,this.font=Nn,this.lineCap=Un,this.lineWidth=qn,this.lineJoin=er},Sn=function(Mn,Fn,Nn){for(var Un=0;Un<Mn.length;Un++)switch(Mn[Un].type){case"bct":Mn[Un].x2+=Fn,Mn[Un].y2+=Nn;case"qct":Mn[Un].x1+=Fn,Mn[Un].y1+=Nn;case"mt":case"lt":case"arc":default:Mn[Un].x+=Fn,Mn[Un].y+=Nn}return Mn},xn=function(Mn){return Mn.sort(function(Fn,Nn){return Fn-Nn})},En=function(Mn,Fn){for(var Nn,Un,qn=this.fillStyle,er=this.strokeStyle,sr=this.lineCap,ur=this.lineWidth,br=Math.abs(ur*this.ctx.transform.scaleX),kr=this.lineJoin,Er=JSON.parse(JSON.stringify(this.path)),Pr=JSON.parse(JSON.stringify(this.path)),$n=[],Gn=0;Gn<Pr.length;Gn++)if(Pr[Gn].x!==void 0)for(var jn=wn.call(this,Pr[Gn]),fr=0;fr<jn.length;fr+=1)$n.indexOf(jn[fr])===-1&&$n.push(jn[fr]);for(var Xn=0;Xn<$n.length;Xn++)for(;this.pdf.internal.getNumberOfPages()<$n[Xn];)vn.call(this);if(xn($n),this.autoPaging)for(var Zn=$n[0],pr=$n[$n.length-1],Tr=Zn;Tr<pr+1;Tr++){this.pdf.setPage(Tr),this.fillStyle=qn,this.strokeStyle=er,this.lineCap=sr,this.lineWidth=br,this.lineJoin=kr;var xr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ur=Tr===1?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zr=Tr===1?0:lr+(Tr-2)*Rr;if(this.ctx.clip_path.length!==0){var qr=this.path;Nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sn(Nn,this.posX+this.margin[3],-zr+Ur+this.ctx.prevPageLastElemOffset),Cn.call(this,Mn,!0),this.path=qr}if(Un=JSON.parse(JSON.stringify(Er)),this.path=Sn(Un,this.posX+this.margin[3],-zr+Ur+this.ctx.prevPageLastElemOffset),Fn===!1||Tr===0){var Ar=(Tr>Zn||Tr<pr)&&bn.call(this);Ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xr,Rr,null).clip().discardPath()),Cn.call(this,Mn,Fn),Ar&&this.pdf.restoreGraphicsState()}this.lineWidth=ur}else this.lineWidth=br,Cn.call(this,Mn,Fn),this.lineWidth=ur;this.path=Er},Cn=function(Mn,Fn){if((Mn!=="stroke"||Fn||!yn.call(this))&&(Mn==="stroke"||Fn||!fn.call(this))){for(var Nn,Un,qn=[],er=this.path,sr=0;sr<er.length;sr++){var ur=er[sr];switch(ur.type){case"begin":qn.push({begin:!0});break;case"close":qn.push({close:!0});break;case"mt":qn.push({start:ur,deltas:[],abs:[]});break;case"lt":var br=qn.length;if(er[sr-1]&&!isNaN(er[sr-1].x)&&(Nn=[ur.x-er[sr-1].x,ur.y-er[sr-1].y],br>0)){for(;br>=0;br--)if(qn[br-1].close!==!0&&qn[br-1].begin!==!0){qn[br-1].deltas.push(Nn),qn[br-1].abs.push(ur);break}}break;case"bct":Nn=[ur.x1-er[sr-1].x,ur.y1-er[sr-1].y,ur.x2-er[sr-1].x,ur.y2-er[sr-1].y,ur.x-er[sr-1].x,ur.y-er[sr-1].y],qn[qn.length-1].deltas.push(Nn);break;case"qct":var kr=er[sr-1].x+2/3*(ur.x1-er[sr-1].x),Er=er[sr-1].y+2/3*(ur.y1-er[sr-1].y),Pr=ur.x+2/3*(ur.x1-ur.x),$n=ur.y+2/3*(ur.y1-ur.y),Gn=ur.x,jn=ur.y;Nn=[kr-er[sr-1].x,Er-er[sr-1].y,Pr-er[sr-1].x,$n-er[sr-1].y,Gn-er[sr-1].x,jn-er[sr-1].y],qn[qn.length-1].deltas.push(Nn);break;case"arc":qn.push({deltas:[],abs:[],arc:!0}),Array.isArray(qn[qn.length-1].abs)&&qn[qn.length-1].abs.push(ur)}}Un=Fn?null:Mn==="stroke"?"stroke":"fill";for(var fr=!1,Xn=0;Xn<qn.length;Xn++)if(qn[Xn].arc)for(var Zn=qn[Xn].abs,pr=0;pr<Zn.length;pr++){var Tr=Zn[pr];Tr.type==="arc"?Dn.call(this,Tr.x,Tr.y,Tr.radius,Tr.startAngle,Tr.endAngle,Tr.counterclockwise,void 0,Fn,!fr):nr.call(this,Tr.x,Tr.y),fr=!0}else if(qn[Xn].close===!0)this.pdf.internal.out("h"),fr=!1;else if(qn[Xn].begin!==!0){var xr=qn[Xn].start.x,Ur=qn[Xn].start.y;Yn.call(this,qn[Xn].deltas,xr,Ur),fr=!0}Un&&Wn.call(this,Un),Fn&&Vn.call(this)}},kn=function(Mn){var Fn=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Nn=Fn*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Mn-Nn;case"top":return Mn+Fn-Nn;case"hanging":return Mn+Fn-2*Nn;case"middle":return Mn+Fn/2-Nn;case"ideographic":return Mn;case"alphabetic":default:return Mn}},In=function(Mn){return Mn+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};mn.prototype.createLinearGradient=function(){var Mn=function(){};return Mn.colorStops=[],Mn.addColorStop=function(Fn,Nn){this.colorStops.push([Fn,Nn])},Mn.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Mn.isCanvasGradient=!0,Mn},mn.prototype.createPattern=function(){return this.createLinearGradient()},mn.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Dn=function(Mn,Fn,Nn,Un,qn,er,sr,ur,br){for(var kr=tr.call(this,Nn,Un,qn,er),Er=0;Er<kr.length;Er++){var Pr=kr[Er];Er===0&&(br?On.call(this,Pr.x1+Mn,Pr.y1+Fn):nr.call(this,Pr.x1+Mn,Pr.y1+Fn)),ar.call(this,Mn,Fn,Pr.x2,Pr.y2,Pr.x3,Pr.y3,Pr.x4,Pr.y4)}ur?Vn.call(this):Wn.call(this,sr)},Wn=function(Mn){switch(Mn){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Vn=function(){this.pdf.clip(),this.pdf.discardPath()},On=function(Mn,Fn){this.pdf.internal.out(en(Mn)+" "+tn(Fn)+" m")},zn=function(Mn){var Fn;switch(Mn.align){case"right":case"end":Fn="right";break;case"center":Fn="center";break;case"left":case"start":default:Fn="left"}var Nn=this.pdf.getTextDimensions(Mn.text),Un=kn.call(this,Mn.y),qn=In.call(this,Un)-Nn.h,er=this.ctx.transform.applyToPoint(new sn(Mn.x,Un)),sr=this.ctx.transform.decompose(),ur=new on;ur=(ur=(ur=ur.multiply(sr.translate)).multiply(sr.skew)).multiply(sr.scale);for(var br,kr,Er,Pr=this.ctx.transform.applyToRectangle(new an(Mn.x,Un,Nn.w,Nn.h)),$n=ur.applyToRectangle(new an(Mn.x,qn,Nn.w,Nn.h)),Gn=wn.call(this,$n),jn=[],fr=0;fr<Gn.length;fr+=1)jn.indexOf(Gn[fr])===-1&&jn.push(Gn[fr]);if(xn(jn),this.autoPaging)for(var Xn=jn[0],Zn=jn[jn.length-1],pr=Xn;pr<Zn+1;pr++){this.pdf.setPage(pr);var Tr=pr===1?this.posY+this.margin[0]:this.margin[0],xr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ur=this.pdf.internal.pageSize.height-this.margin[2],lr=Ur-this.margin[0],Rr=this.pdf.internal.pageSize.width-this.margin[1],zr=Rr-this.margin[3],qr=pr===1?0:xr+(pr-2)*lr;if(this.ctx.clip_path.length!==0){var Ar=this.path;br=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sn(br,this.posX+this.margin[3],-1*qr+Tr),Cn.call(this,"fill",!0),this.path=Ar}var Hr=Sn([JSON.parse(JSON.stringify($n))],this.posX+this.margin[3],-qr+Tr+this.ctx.prevPageLastElemOffset)[0];Mn.scale>=.01&&(kr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(kr*Mn.scale),Er=this.lineWidth,this.lineWidth=Er*Mn.scale);var ns=this.autoPaging!=="text";if(ns||Hr.y+Hr.h<=Ur){if(ns||Hr.y>=Tr&&Hr.x<=Rr){var Xr=ns?Mn.text:this.pdf.splitTextToSize(Mn.text,Mn.maxWidth||Rr-Hr.x)[0],Cs=Sn([JSON.parse(JSON.stringify(Pr))],this.posX+this.margin[3],-qr+Tr+this.ctx.prevPageLastElemOffset)[0],ms=ns&&(pr>Xn||pr<Zn)&&bn.call(this);ms&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zr,lr,null).clip().discardPath()),this.pdf.text(Xr,Cs.x,Cs.y,{angle:Mn.angle,align:Fn,renderingMode:Mn.renderingMode}),ms&&this.pdf.restoreGraphicsState()}}else Hr.y<Ur&&(this.ctx.prevPageLastElemOffset+=Ur-Hr.y);Mn.scale>=.01&&(this.pdf.setFontSize(kr),this.lineWidth=Er)}else Mn.scale>=.01&&(kr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(kr*Mn.scale),Er=this.lineWidth,this.lineWidth=Er*Mn.scale),this.pdf.text(Mn.text,er.x+this.posX,er.y+this.posY,{angle:Mn.angle,align:Fn,renderingMode:Mn.renderingMode,maxWidth:Mn.maxWidth}),Mn.scale>=.01&&(this.pdf.setFontSize(kr),this.lineWidth=Er)},nr=function(Mn,Fn,Nn,Un){Nn=Nn||0,Un=Un||0,this.pdf.internal.out(en(Mn+Nn)+" "+tn(Fn+Un)+" l")},Yn=function(Mn,Fn,Nn){return this.pdf.lines(Mn,Fn,Nn,null,null)},ar=function(Mn,Fn,Nn,Un,qn,er,sr,ur){this.pdf.internal.out([_e(nn(Nn+Mn)),_e(rn(Un+Fn)),_e(nn(qn+Mn)),_e(rn(er+Fn)),_e(nn(sr+Mn)),_e(rn(ur+Fn)),"c"].join(" "))},tr=function(Mn,Fn,Nn,Un){for(var qn=2*Math.PI,er=Math.PI/2;Fn>Nn;)Fn-=qn;var sr=Math.abs(Nn-Fn);sr<qn&&Un&&(sr=qn-sr);for(var ur=[],br=Un?-1:1,kr=Fn;sr>1e-5;){var Er=kr+br*Math.min(sr,er);ur.push(dr.call(this,Mn,kr,Er)),sr-=Math.abs(Er-kr),kr=Er}return ur},dr=function(Mn,Fn,Nn){var Un=(Nn-Fn)/2,qn=Mn*Math.cos(Un),er=Mn*Math.sin(Un),sr=qn,ur=-er,br=sr*sr+ur*ur,kr=br+sr*qn+ur*er,Er=4/3*(Math.sqrt(2*br*kr)-kr)/(sr*er-ur*qn),Pr=sr-Er*ur,$n=ur+Er*sr,Gn=Pr,jn=-$n,fr=Un+Fn,Xn=Math.cos(fr),Zn=Math.sin(fr);return{x1:Mn*Math.cos(Fn),y1:Mn*Math.sin(Fn),x2:Pr*Xn-$n*Zn,y2:Pr*Zn+$n*Xn,x3:Gn*Xn-jn*Zn,y3:Gn*Zn+jn*Xn,x4:Mn*Math.cos(Nn),y4:Mn*Math.sin(Nn)}},Jn=function(Mn){return 180*Mn/Math.PI},hr=function(Mn,Fn,Nn,Un,qn,er){var sr=Mn+.5*(Nn-Mn),ur=Fn+.5*(Un-Fn),br=qn+.5*(Nn-qn),kr=er+.5*(Un-er),Er=Math.min(Mn,qn,sr,br),Pr=Math.max(Mn,qn,sr,br),$n=Math.min(Fn,er,ur,kr),Gn=Math.max(Fn,er,ur,kr);return new an(Er,$n,Pr-Er,Gn-$n)},yr=function(Mn,Fn,Nn,Un,qn,er,sr,ur){var br,kr,Er,Pr,$n,Gn,jn,fr,Xn,Zn,pr,Tr,xr,Ur,lr=Nn-Mn,Rr=Un-Fn,zr=qn-Nn,qr=er-Un,Ar=sr-qn,Hr=ur-er;for(kr=0;kr<41;kr++)Xn=(jn=(Er=Mn+(br=kr/40)*lr)+br*(($n=Nn+br*zr)-Er))+br*($n+br*(qn+br*Ar-$n)-jn),Zn=(fr=(Pr=Fn+br*Rr)+br*((Gn=Un+br*qr)-Pr))+br*(Gn+br*(er+br*Hr-Gn)-fr),kr==0?(pr=Xn,Tr=Zn,xr=Xn,Ur=Zn):(pr=Math.min(pr,Xn),Tr=Math.min(Tr,Zn),xr=Math.max(xr,Xn),Ur=Math.max(Ur,Zn));return new an(Math.round(pr),Math.round(Tr),Math.round(xr-pr),Math.round(Ur-Tr))},Mr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Mn,Fn,Nn=(Mn=this.ctx.lineDash,Fn=this.ctx.lineDashOffset,JSON.stringify({lineDash:Mn,lineDashOffset:Fn}));this.prevLineDash!==Nn&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Nn)}}})(E.API),function(St){var _e=function(rn){var sn,an,on,cn,dn,mn,pn,fn,yn,bn;for(/[^\x00-\xFF]/.test(rn),an=[],on=0,cn=(rn+=sn="\0\0\0\0".slice(rn.length%4||4)).length;cn>on;on+=4)(dn=(rn.charCodeAt(on)<<24)+(rn.charCodeAt(on+1)<<16)+(rn.charCodeAt(on+2)<<8)+rn.charCodeAt(on+3))!==0?(mn=(dn=((dn=((dn=((dn=(dn-(bn=dn%85))/85)-(yn=dn%85))/85)-(fn=dn%85))/85)-(pn=dn%85))/85)%85,an.push(mn+33,pn+33,fn+33,yn+33,bn+33)):an.push(122);return function(wn,vn){for(var Sn=vn;Sn>0;Sn--)wn.pop()}(an,sn.length),String.fromCharCode.apply(String,an)+"~>"},en=function(rn){var sn,an,on,cn,dn,mn=String,pn="length",fn=255,yn="charCodeAt",bn="slice",wn="replace";for(rn[bn](-2),rn=rn[bn](0,-2)[wn](/\s/g,"")[wn]("z","!!!!!"),on=[],cn=0,dn=(rn+=sn="uuuuu"[bn](rn[pn]%5||5))[pn];dn>cn;cn+=5)an=52200625*(rn[yn](cn)-33)+614125*(rn[yn](cn+1)-33)+7225*(rn[yn](cn+2)-33)+85*(rn[yn](cn+3)-33)+(rn[yn](cn+4)-33),on.push(fn&an>>24,fn&an>>16,fn&an>>8,fn&an);return function(vn,Sn){for(var xn=Sn;xn>0;xn--)vn.pop()}(on,sn[pn]),mn.fromCharCode.apply(mn,on)},tn=function(rn){var sn=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((rn=rn.replace(/\s/g,"")).indexOf(">")!==-1&&(rn=rn.substr(0,rn.indexOf(">"))),rn.length%2&&(rn+="0"),sn.test(rn)===!1)return"";for(var an="",on=0;on<rn.length;on+=2)an+=String.fromCharCode("0x"+(rn[on]+rn[on+1]));return an},nn=function(rn){for(var sn=new Uint8Array(rn.length),an=rn.length;an--;)sn[an]=rn.charCodeAt(an);return rn=(sn=zlibSync(sn)).reduce(function(on,cn){return on+String.fromCharCode(cn)},"")};St.processDataByFilters=function(rn,sn){var an=0,on=rn||"",cn=[];for(typeof(sn=sn||[])=="string"&&(sn=[sn]),an=0;an<sn.length;an+=1)switch(sn[an]){case"ASCII85Decode":case"/ASCII85Decode":on=en(on),cn.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":on=_e(on),cn.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":on=tn(on),cn.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":on=on.split("").map(function(dn){return("0"+dn.charCodeAt().toString(16)).slice(-2)}).join("")+">",cn.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":on=nn(on),cn.push("/FlateDecode");break;default:throw new Error('The filter: "'+sn[an]+'" is not implemented')}return{data:on,reverseChain:cn.reverse().join(" ")}}}(E.API),function(St){St.loadFile=function(_e,en,tn){return function(nn,rn,sn){rn=rn!==!1,sn=typeof sn=="function"?sn:function(){};var an=void 0;try{an=function(on,cn,dn){var mn=new XMLHttpRequest,pn=0,fn=function(yn){var bn=yn.length,wn=[],vn=String.fromCharCode;for(pn=0;pn<bn;pn+=1)wn.push(vn(255&yn.charCodeAt(pn)));return wn.join("")};if(mn.open("GET",on,!cn),mn.overrideMimeType("text/plain; charset=x-user-defined"),cn===!1&&(mn.onload=function(){mn.status===200?dn(fn(this.responseText)):dn(void 0)}),mn.send(null),cn&&mn.status===200)return fn(mn.responseText)}(nn,rn,sn)}catch{}return an}(_e,en,tn)},St.loadImageFile=St.loadFile}(E.API),function(St){function _e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.dabe8ffd.js"),[])).catch(function(sn){return Promise.reject(new Error("Could not load html2canvas: "+sn))}).then(function(sn){return sn.default?sn.default:sn})}function en(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.3f0ae9f3.js"),[])).catch(function(sn){return Promise.reject(new Error("Could not load dompurify: "+sn))}).then(function(sn){return sn.default?sn.default:sn})}var tn=function(sn){var an=_typeof(sn);return an==="undefined"?"undefined":an==="string"||sn instanceof String?"string":an==="number"||sn instanceof Number?"number":an==="function"||sn instanceof Function?"function":sn&&sn.constructor===Array?"array":sn&&sn.nodeType===1?"element":an==="object"?"object":"unknown"},nn=function(sn,an){var on=document.createElement(sn);for(var cn in an.className&&(on.className=an.className),an.innerHTML&&an.dompurify&&(on.innerHTML=an.dompurify.sanitize(an.innerHTML)),an.style)on.style[cn]=an.style[cn];return on},rn=function sn(an){var on=Object.assign(sn.convert(Promise.resolve()),JSON.parse(JSON.stringify(sn.template))),cn=sn.convert(Promise.resolve(),on);return cn=(cn=cn.setProgress(1,sn,1,[sn])).set(an)};(rn.prototype=Object.create(Promise.prototype)).constructor=rn,rn.convert=function(sn,an){return sn.__proto__=an||rn.prototype,sn},rn.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},rn.prototype.from=function(sn,an){return this.then(function(){switch(an=an||function(on){switch(tn(on)){case"string":return"string";case"element":return on.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(sn)){case"string":return this.then(en).then(function(on){return this.set({src:nn("div",{innerHTML:sn,dompurify:on})})});case"element":return this.set({src:sn});case"canvas":return this.set({canvas:sn});case"img":return this.set({img:sn});default:return this.error("Unknown source type.")}})},rn.prototype.to=function(sn){switch(sn){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},rn.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var sn={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},an=function on(cn,dn){for(var mn=cn.nodeType===3?document.createTextNode(cn.nodeValue):cn.cloneNode(!1),pn=cn.firstChild;pn;pn=pn.nextSibling)dn!==!0&&pn.nodeType===1&&pn.nodeName==="SCRIPT"||mn.appendChild(on(pn,dn));return cn.nodeType===1&&(cn.nodeName==="CANVAS"?(mn.width=cn.width,mn.height=cn.height,mn.getContext("2d").drawImage(cn,0,0)):cn.nodeName!=="TEXTAREA"&&cn.nodeName!=="SELECT"||(mn.value=cn.value),mn.addEventListener("load",function(){mn.scrollTop=cn.scrollTop,mn.scrollLeft=cn.scrollLeft},!0)),mn}(this.prop.src,this.opt.html2canvas.javascriptEnabled);an.tagName==="BODY"&&(sn.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nn("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nn("div",{className:"html2pdf__container",style:sn}),this.prop.container.appendChild(an),this.prop.container.firstChild.appendChild(nn("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},rn.prototype.toCanvas=function(){var sn=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sn).then(_e).then(function(an){var on=Object.assign({},this.opt.html2canvas);return delete on.onrendered,an(this.prop.container,on)}).then(function(an){(this.opt.html2canvas.onrendered||function(){})(an),this.prop.canvas=an,document.body.removeChild(this.prop.overlay)})},rn.prototype.toContext2d=function(){var sn=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sn).then(_e).then(function(an){var on=this.opt.jsPDF,cn=this.opt.fontFaces,dn=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,mn=Object.assign({async:!0,allowTaint:!0,scale:dn,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete mn.onrendered,on.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,on.context2d.posX=this.opt.x,on.context2d.posY=this.opt.y,on.context2d.margin=this.opt.margin,on.context2d.fontFaces=cn,cn)for(var pn=0;pn<cn.length;++pn){var fn=cn[pn],yn=fn.src.find(function(bn){return bn.format==="truetype"});yn&&on.addFont(yn.url,fn.ref.name,fn.ref.style)}return mn.windowHeight=mn.windowHeight||0,mn.windowHeight=mn.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):mn.windowHeight,on.context2d.save(!0),an(this.prop.container,mn)}).then(function(an){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(an),this.prop.canvas=an,document.body.removeChild(this.prop.overlay)})},rn.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var sn=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=sn})},rn.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},rn.prototype.output=function(sn,an,on){return(on=on||"pdf").toLowerCase()==="img"||on.toLowerCase()==="image"?this.outputImg(sn,an):this.outputPdf(sn,an)},rn.prototype.outputPdf=function(sn,an){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(sn,an)})},rn.prototype.outputImg=function(sn){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(sn){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+sn+'" is not supported.'}})},rn.prototype.save=function(sn){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(sn?{filename:sn}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},rn.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},rn.prototype.set=function(sn){if(tn(sn)!=="object")return this;var an=Object.keys(sn||{}).map(function(on){if(on in rn.template.prop)return function(){this.prop[on]=sn[on]};switch(on){case"margin":return this.setMargin.bind(this,sn.margin);case"jsPDF":return function(){return this.opt.jsPDF=sn.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,sn.pageSize);default:return function(){this.opt[on]=sn[on]}}},this);return this.then(function(){return this.thenList(an)})},rn.prototype.get=function(sn,an){return this.then(function(){var on=sn in rn.template.prop?this.prop[sn]:this.opt[sn];return an?an(on):on})},rn.prototype.setMargin=function(sn){return this.then(function(){switch(tn(sn)){case"number":sn=[sn,sn,sn,sn];case"array":if(sn.length===2&&(sn=[sn[0],sn[1],sn[0],sn[1]]),sn.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=sn}).then(this.setPageSize)},rn.prototype.setPageSize=function(sn){function an(on,cn){return Math.floor(on*cn/72*96)}return this.then(function(){(sn=sn||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(sn.inner={width:sn.width-this.opt.margin[1]-this.opt.margin[3],height:sn.height-this.opt.margin[0]-this.opt.margin[2]},sn.inner.px={width:an(sn.inner.width,sn.k),height:an(sn.inner.height,sn.k)},sn.inner.ratio=sn.inner.height/sn.inner.width),this.prop.pageSize=sn})},rn.prototype.setProgress=function(sn,an,on,cn){return sn!=null&&(this.progress.val=sn),an!=null&&(this.progress.state=an),on!=null&&(this.progress.n=on),cn!=null&&(this.progress.stack=cn),this.progress.ratio=this.progress.val/this.progress.state,this},rn.prototype.updateProgress=function(sn,an,on,cn){return this.setProgress(sn?this.progress.val+sn:null,an||null,on?this.progress.n+on:null,cn?this.progress.stack.concat(cn):null)},rn.prototype.then=function(sn,an){var on=this;return this.thenCore(sn,an,function(cn,dn){return on.updateProgress(null,null,1,[cn]),Promise.prototype.then.call(this,function(mn){return on.updateProgress(null,cn),mn}).then(cn,dn).then(function(mn){return on.updateProgress(1),mn})})},rn.prototype.thenCore=function(sn,an,on){on=on||Promise.prototype.then,sn&&(sn=sn.bind(this)),an&&(an=an.bind(this));var cn=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:rn.convert(Object.assign({},this),Promise.prototype),dn=on.call(cn,sn,an);return rn.convert(dn,this.__proto__)},rn.prototype.thenExternal=function(sn,an){return Promise.prototype.then.call(this,sn,an)},rn.prototype.thenList=function(sn){var an=this;return sn.forEach(function(on){an=an.thenCore(on)}),an},rn.prototype.catch=function(sn){sn&&(sn=sn.bind(this));var an=Promise.prototype.catch.call(this,sn);return rn.convert(an,this)},rn.prototype.catchExternal=function(sn){return Promise.prototype.catch.call(this,sn)},rn.prototype.error=function(sn){return this.then(function(){throw new Error(sn)})},rn.prototype.using=rn.prototype.set,rn.prototype.saveAs=rn.prototype.save,rn.prototype.export=rn.prototype.output,rn.prototype.run=rn.prototype.then,E.getPageSize=function(sn,an,on){if(_typeof(sn)==="object"){var cn=sn;sn=cn.orientation,an=cn.unit||an,on=cn.format||on}an=an||"mm",on=on||"a4",sn=(""+(sn||"P")).toLowerCase();var dn,mn=(""+on).toLowerCase(),pn={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(an){case"pt":dn=1;break;case"mm":dn=72/25.4;break;case"cm":dn=72/2.54;break;case"in":dn=72;break;case"px":dn=.75;break;case"pc":case"em":dn=12;break;case"ex":dn=6;break;default:throw"Invalid unit: "+an}var fn,yn=0,bn=0;if(pn.hasOwnProperty(mn))yn=pn[mn][1]/dn,bn=pn[mn][0]/dn;else try{yn=on[1],bn=on[0]}catch{throw new Error("Invalid format: "+on)}if(sn==="p"||sn==="portrait")sn="p",bn>yn&&(fn=bn,bn=yn,yn=fn);else{if(sn!=="l"&&sn!=="landscape")throw"Invalid orientation: "+sn;sn="l",yn>bn&&(fn=bn,bn=yn,yn=fn)}return{width:bn,height:yn,unit:an,k:dn,orientation:sn}},St.html=function(sn,an){(an=an||{}).callback=an.callback||function(){},an.html2canvas=an.html2canvas||{},an.html2canvas.canvas=an.html2canvas.canvas||this.canvas,an.jsPDF=an.jsPDF||this,an.fontFaces=an.fontFaces?an.fontFaces.map(jt):null;var on=new rn(an);return an.worker?on:on.from(sn).doCallback()}}(E.API),E.API.addJS=function(St){return Ht=St,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(St){var _e;St.events.push(["postPutResources",function(){var en=this,tn=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var nn=en.outline.render().split(/\r\n/),rn=0;rn<nn.length;rn++){var sn=nn[rn],an=tn.exec(sn);if(an!=null){var on=an[1];en.internal.newObjectDeferredBegin(on,!1)}en.internal.write(sn)}if(this.outline.createNamedDestinations){var cn=this.internal.pages.length,dn=[];for(rn=0;rn<cn;rn++){var mn=en.internal.newObject();dn.push(mn);var pn=en.internal.getPageInfo(rn+1);en.internal.write("<< /D["+pn.objId+" 0 R /XYZ null null null]>> endobj")}var fn=en.internal.newObject();for(en.internal.write("<< /Names [ "),rn=0;rn<dn.length;rn++)en.internal.write("(page_"+(rn+1)+")"+dn[rn]+" 0 R");en.internal.write(" ] >>","endobj"),_e=en.internal.newObject(),en.internal.write("<< /Dests "+fn+" 0 R"),en.internal.write(">>","endobj")}}]),St.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+_e+" 0 R"))}]),St.events.push(["initialized",function(){var en=this;en.outline={createNamedDestinations:!1,root:{children:[]}},en.outline.add=function(tn,nn,rn){var sn={title:nn,options:rn,children:[]};return tn==null&&(tn=this.root),tn.children.push(sn),sn},en.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=en,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},en.outline.genIds_r=function(tn){tn.id=en.internal.newObjectDeferred();for(var nn=0;nn<tn.children.length;nn++)this.genIds_r(tn.children[nn])},en.outline.renderRoot=function(tn){this.objStart(tn),this.line("/Type /Outlines"),tn.children.length>0&&(this.line("/First "+this.makeRef(tn.children[0])),this.line("/Last "+this.makeRef(tn.children[tn.children.length-1]))),this.line("/Count "+this.count_r({count:0},tn)),this.objEnd()},en.outline.renderItems=function(tn){for(var nn=this.ctx.pdf.internal.getVerticalCoordinateString,rn=0;rn<tn.children.length;rn++){var sn=tn.children[rn];this.objStart(sn),this.line("/Title "+this.makeString(sn.title)),this.line("/Parent "+this.makeRef(tn)),rn>0&&this.line("/Prev "+this.makeRef(tn.children[rn-1])),rn<tn.children.length-1&&this.line("/Next "+this.makeRef(tn.children[rn+1])),sn.children.length>0&&(this.line("/First "+this.makeRef(sn.children[0])),this.line("/Last "+this.makeRef(sn.children[sn.children.length-1])));var an=this.count=this.count_r({count:0},sn);if(an>0&&this.line("/Count "+an),sn.options&&sn.options.pageNumber){var on=en.internal.getPageInfo(sn.options.pageNumber);this.line("/Dest ["+on.objId+" 0 R /XYZ 0 "+nn(0)+" 0]")}this.objEnd()}for(var cn=0;cn<tn.children.length;cn++)this.renderItems(tn.children[cn])},en.outline.line=function(tn){this.ctx.val+=tn+`\r
`},en.outline.makeRef=function(tn){return tn.id+" 0 R"},en.outline.makeString=function(tn){return"("+en.internal.pdfEscape(tn)+")"},en.outline.objStart=function(tn){this.ctx.val+=`\r
`+tn.id+` 0 obj\r
<<\r
`},en.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},en.outline.count_r=function(tn,nn){for(var rn=0;rn<nn.children.length;rn++)tn.count++,this.count_r(tn,nn.children[rn]);return tn.count}}])}(E.API),function(St){var _e=[192,193,194,195,196,197,198,199];St.processJPEG=function(en,tn,nn,rn,sn,an){var on,cn=this.decode.DCT_DECODE,dn=null;if(typeof en=="string"||this.__addimage__.isArrayBuffer(en)||this.__addimage__.isArrayBufferView(en)){switch(en=sn||en,en=this.__addimage__.isArrayBuffer(en)?new Uint8Array(en):en,(on=function(mn){for(var pn,fn=256*mn.charCodeAt(4)+mn.charCodeAt(5),yn=mn.length,bn={width:0,height:0,numcomponents:1},wn=4;wn<yn;wn+=2){if(wn+=fn,_e.indexOf(mn.charCodeAt(wn+1))!==-1){pn=256*mn.charCodeAt(wn+5)+mn.charCodeAt(wn+6),bn={width:256*mn.charCodeAt(wn+7)+mn.charCodeAt(wn+8),height:pn,numcomponents:mn.charCodeAt(wn+9)};break}fn=256*mn.charCodeAt(wn+2)+mn.charCodeAt(wn+3)}return bn}(en=this.__addimage__.isArrayBufferView(en)?this.__addimage__.arrayBufferToBinaryString(en):en)).numcomponents){case 1:an=this.color_spaces.DEVICE_GRAY;break;case 4:an=this.color_spaces.DEVICE_CMYK;break;case 3:an=this.color_spaces.DEVICE_RGB}dn={data:en,width:on.width,height:on.height,colorSpace:an,bitsPerComponent:8,filter:cn,index:tn,alias:nn}}return dn}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var St,_e,en;function tn(rn){var sn,an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn,Sn,xn;for(this.data=rn,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},mn=null;;){switch(sn=this.readUInt32(),yn=function(){var En,Cn;for(Cn=[],En=0;En<4;++En)Cn.push(String.fromCharCode(this.data[this.pos++]));return Cn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(sn);break;case"fcTL":mn&&this.animation.frames.push(mn),this.pos+=4,mn={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},dn=this.readUInt16(),cn=this.readUInt16()||100,mn.delay=1e3*dn/cn,mn.disposeOp=this.data[this.pos++],mn.blendOp=this.data[this.pos++],mn.data=[];break;case"IDAT":case"fdAT":for(yn==="fdAT"&&(this.pos+=4,sn-=4),rn=(mn!=null?mn.data:void 0)||this.imgData,vn=0;0<=sn?vn<sn:vn>sn;0<=sn?++vn:--vn)rn.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(on=this.palette.length/3,this.transparency.indexed=this.read(sn),this.transparency.indexed.length>on)throw new Error("More transparent colors than palette size");if((bn=on-this.transparency.indexed.length)>0)for(Sn=0;0<=bn?Sn<bn:Sn>bn;0<=bn?++Sn:--Sn)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(sn)[0];break;case 2:this.transparency.rgb=this.read(sn)}break;case"tEXt":pn=(wn=this.read(sn)).indexOf(0),fn=String.fromCharCode.apply(String,wn.slice(0,pn)),this.text[fn]=String.fromCharCode.apply(String,wn.slice(pn+1));break;case"IEND":return mn&&this.animation.frames.push(mn),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(xn=this.colorType)===4||xn===6,an=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*an,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=sn}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}tn.prototype.read=function(rn){var sn,an;for(an=[],sn=0;0<=rn?sn<rn:sn>rn;0<=rn?++sn:--sn)an.push(this.data[this.pos++]);return an},tn.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},tn.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},tn.prototype.decodePixels=function(rn){var sn=this.pixelBitlength/8,an=new Uint8Array(this.width*this.height*sn),on=0,cn=this;if(rn==null&&(rn=this.imgData),rn.length===0)return new Uint8Array(0);function dn(mn,pn,fn,yn){var bn,wn,vn,Sn,xn,En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar,tr,dr,Jn,hr,yr=Math.ceil((cn.width-mn)/fn),Mr=Math.ceil((cn.height-pn)/yn),Mn=cn.width==yr&&cn.height==Mr;for(zn=sn*yr,Vn=Mn?an:new Uint8Array(zn*Mr),En=rn.length,On=0,wn=0;On<Mr&&on<En;){switch(rn[on++]){case 0:for(Sn=ar=0;ar<zn;Sn=ar+=1)Vn[wn++]=rn[on++];break;case 1:for(Sn=tr=0;tr<zn;Sn=tr+=1)bn=rn[on++],xn=Sn<sn?0:Vn[wn-sn],Vn[wn++]=(bn+xn)%256;break;case 2:for(Sn=dr=0;dr<zn;Sn=dr+=1)bn=rn[on++],vn=(Sn-Sn%sn)/sn,nr=On&&Vn[(On-1)*zn+vn*sn+Sn%sn],Vn[wn++]=(nr+bn)%256;break;case 3:for(Sn=Jn=0;Jn<zn;Sn=Jn+=1)bn=rn[on++],vn=(Sn-Sn%sn)/sn,xn=Sn<sn?0:Vn[wn-sn],nr=On&&Vn[(On-1)*zn+vn*sn+Sn%sn],Vn[wn++]=(bn+Math.floor((xn+nr)/2))%256;break;case 4:for(Sn=hr=0;hr<zn;Sn=hr+=1)bn=rn[on++],vn=(Sn-Sn%sn)/sn,xn=Sn<sn?0:Vn[wn-sn],On===0?nr=Yn=0:(nr=Vn[(On-1)*zn+vn*sn+Sn%sn],Yn=vn&&Vn[(On-1)*zn+(vn-1)*sn+Sn%sn]),Cn=xn+nr-Yn,kn=Math.abs(Cn-xn),Dn=Math.abs(Cn-nr),Wn=Math.abs(Cn-Yn),In=kn<=Dn&&kn<=Wn?xn:Dn<=Wn?nr:Yn,Vn[wn++]=(bn+In)%256;break;default:throw new Error("Invalid filter algorithm: "+rn[on-1])}if(!Mn){var Fn=((pn+On*yn)*cn.width+mn)*sn,Nn=On*zn;for(Sn=0;Sn<yr;Sn+=1){for(var Un=0;Un<sn;Un+=1)an[Fn++]=Vn[Nn++];Fn+=(fn-1)*sn}}On++}}return rn=unzlibSync(rn),cn.interlaceMethod==1?(dn(0,0,8,8),dn(4,0,8,8),dn(0,4,4,8),dn(2,0,4,4),dn(0,2,2,4),dn(1,0,2,2),dn(0,1,1,2)):dn(0,0,1,1),an},tn.prototype.decodePalette=function(){var rn,sn,an,on,cn,dn,mn,pn,fn;for(an=this.palette,dn=this.transparency.indexed||[],cn=new Uint8Array((dn.length||0)+an.length),on=0,rn=0,sn=mn=0,pn=an.length;mn<pn;sn=mn+=3)cn[on++]=an[sn],cn[on++]=an[sn+1],cn[on++]=an[sn+2],cn[on++]=(fn=dn[rn++])!=null?fn:255;return cn},tn.prototype.copyToImageData=function(rn,sn){var an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn;if(on=this.colors,bn=null,an=this.hasAlphaChannel,this.palette.length&&(bn=(vn=this._decodedPalette)!=null?vn:this._decodedPalette=this.decodePalette(),on=4,an=!0),yn=(cn=rn.data||rn).length,mn=bn||sn,dn=pn=0,on===1)for(;dn<yn;)fn=bn?4*sn[dn/4]:pn,wn=mn[fn++],cn[dn++]=wn,cn[dn++]=wn,cn[dn++]=wn,cn[dn++]=an?mn[fn++]:255,pn=fn;else for(;dn<yn;)fn=bn?4*sn[dn/4]:pn,cn[dn++]=mn[fn++],cn[dn++]=mn[fn++],cn[dn++]=mn[fn++],cn[dn++]=an?mn[fn++]:255,pn=fn},tn.prototype.decode=function(){var rn;return rn=new Uint8Array(this.width*this.height*4),this.copyToImageData(rn,this.decodePixels()),rn};var nn=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{_e=n.document.createElement("canvas"),en=_e.getContext("2d")}catch{return!1}return!0}return!1};return nn(),St=function(rn){var sn;if(nn()===!0)return en.width=rn.width,en.height=rn.height,en.clearRect(0,0,rn.width,rn.height),en.putImageData(rn,0,0),(sn=new Image).src=_e.toDataURL(),sn;throw new Error("This method requires a Browser with Canvas-capability.")},tn.prototype.decodeFrames=function(rn){var sn,an,on,cn,dn,mn,pn,fn;if(this.animation){for(fn=[],an=dn=0,mn=(pn=this.animation.frames).length;dn<mn;an=++dn)sn=pn[an],on=rn.createImageData(sn.width,sn.height),cn=this.decodePixels(new Uint8Array(sn.data)),this.copyToImageData(on,cn),sn.imageData=on,fn.push(sn.image=St(on));return fn}},tn.prototype.renderFrame=function(rn,sn){var an,on,cn;return an=(on=this.animation.frames)[sn],cn=on[sn-1],sn===0&&rn.clearRect(0,0,this.width,this.height),(cn!=null?cn.disposeOp:void 0)===1?rn.clearRect(cn.xOffset,cn.yOffset,cn.width,cn.height):(cn!=null?cn.disposeOp:void 0)===2&&rn.putImageData(cn.imageData,cn.xOffset,cn.yOffset),an.blendOp===0&&rn.clearRect(an.xOffset,an.yOffset,an.width,an.height),rn.drawImage(an.image,an.xOffset,an.yOffset)},tn.prototype.animate=function(rn){var sn,an,on,cn,dn,mn,pn=this;return an=0,mn=this.animation,cn=mn.numFrames,on=mn.frames,dn=mn.numPlays,(sn=function(){var fn,yn;if(fn=an++%cn,yn=on[fn],pn.renderFrame(rn,fn),cn>1&&an/cn<dn)return pn.animation._timeout=setTimeout(sn,yn.delay)})()},tn.prototype.stopAnimation=function(){var rn;return clearTimeout((rn=this.animation)!=null?rn._timeout:void 0)},tn.prototype.render=function(rn){var sn,an;return rn._png&&rn._png.stopAnimation(),rn._png=this,rn.width=this.width,rn.height=this.height,sn=rn.getContext("2d"),this.animation?(this.decodeFrames(sn),this.animate(sn)):(an=sn.createImageData(this.width,this.height),this.copyToImageData(an,this.decodePixels()),sn.putImageData(an,0,0))},tn}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(St){var _e=0;if(St[_e++]!==71||St[_e++]!==73||St[_e++]!==70||St[_e++]!==56||(St[_e++]+1&253)!=56||St[_e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var en=St[_e++]|St[_e++]<<8,tn=St[_e++]|St[_e++]<<8,nn=St[_e++],rn=nn>>7,sn=1<<(7&nn)+1;St[_e++],St[_e++];var an=null,on=null;rn&&(an=_e,on=sn,_e+=3*sn);var cn=!0,dn=[],mn=0,pn=null,fn=0,yn=null;for(this.width=en,this.height=tn;cn&&_e<St.length;)switch(St[_e++]){case 33:switch(St[_e++]){case 255:if(St[_e]!==11||St[_e+1]==78&&St[_e+2]==69&&St[_e+3]==84&&St[_e+4]==83&&St[_e+5]==67&&St[_e+6]==65&&St[_e+7]==80&&St[_e+8]==69&&St[_e+9]==50&&St[_e+10]==46&&St[_e+11]==48&&St[_e+12]==3&&St[_e+13]==1&&St[_e+16]==0)_e+=14,yn=St[_e++]|St[_e++]<<8,_e++;else for(_e+=12;;){if(!((On=St[_e++])>=0))throw Error("Invalid block size");if(On===0)break;_e+=On}break;case 249:if(St[_e++]!==4||St[_e+4]!==0)throw new Error("Invalid graphics extension block.");var bn=St[_e++];mn=St[_e++]|St[_e++]<<8,pn=St[_e++],(1&bn)==0&&(pn=null),fn=bn>>2&7,_e++;break;case 254:for(;;){if(!((On=St[_e++])>=0))throw Error("Invalid block size");if(On===0)break;_e+=On}break;default:throw new Error("Unknown graphic control label: 0x"+St[_e-1].toString(16))}break;case 44:var wn=St[_e++]|St[_e++]<<8,vn=St[_e++]|St[_e++]<<8,Sn=St[_e++]|St[_e++]<<8,xn=St[_e++]|St[_e++]<<8,En=St[_e++],Cn=En>>6&1,kn=1<<(7&En)+1,In=an,Dn=on,Wn=!1;En>>7&&(Wn=!0,In=_e,Dn=kn,_e+=3*kn);var Vn=_e;for(_e++;;){var On;if(!((On=St[_e++])>=0))throw Error("Invalid block size");if(On===0)break;_e+=On}dn.push({x:wn,y:vn,width:Sn,height:xn,has_local_palette:Wn,palette_offset:In,palette_size:Dn,data_offset:Vn,data_length:_e-Vn,transparent_index:pn,interlaced:!!Cn,delay:mn,disposal:fn});break;case 59:cn=!1;break;default:throw new Error("Unknown gif block: 0x"+St[_e-1].toString(16))}this.numFrames=function(){return dn.length},this.loopCount=function(){return yn},this.frameInfo=function(zn){if(zn<0||zn>=dn.length)throw new Error("Frame index out of range.");return dn[zn]},this.decodeAndBlitFrameBGRA=function(zn,nr){var Yn=this.frameInfo(zn),ar=Yn.width*Yn.height,tr=new Uint8Array(ar);$t(St,Yn.data_offset,tr,ar);var dr=Yn.palette_offset,Jn=Yn.transparent_index;Jn===null&&(Jn=256);var hr=Yn.width,yr=en-hr,Mr=hr,Mn=4*(Yn.y*en+Yn.x),Fn=4*((Yn.y+Yn.height)*en+Yn.x),Nn=Mn,Un=4*yr;Yn.interlaced===!0&&(Un+=4*en*7);for(var qn=8,er=0,sr=tr.length;er<sr;++er){var ur=tr[er];if(Mr===0&&(Mr=hr,(Nn+=Un)>=Fn&&(Un=4*yr+4*en*(qn-1),Nn=Mn+(hr+yr)*(qn<<1),qn>>=1)),ur===Jn)Nn+=4;else{var br=St[dr+3*ur],kr=St[dr+3*ur+1],Er=St[dr+3*ur+2];nr[Nn++]=Er,nr[Nn++]=kr,nr[Nn++]=br,nr[Nn++]=255}--Mr}},this.decodeAndBlitFrameRGBA=function(zn,nr){var Yn=this.frameInfo(zn),ar=Yn.width*Yn.height,tr=new Uint8Array(ar);$t(St,Yn.data_offset,tr,ar);var dr=Yn.palette_offset,Jn=Yn.transparent_index;Jn===null&&(Jn=256);var hr=Yn.width,yr=en-hr,Mr=hr,Mn=4*(Yn.y*en+Yn.x),Fn=4*((Yn.y+Yn.height)*en+Yn.x),Nn=Mn,Un=4*yr;Yn.interlaced===!0&&(Un+=4*en*7);for(var qn=8,er=0,sr=tr.length;er<sr;++er){var ur=tr[er];if(Mr===0&&(Mr=hr,(Nn+=Un)>=Fn&&(Un=4*yr+4*en*(qn-1),Nn=Mn+(hr+yr)*(qn<<1),qn>>=1)),ur===Jn)Nn+=4;else{var br=St[dr+3*ur],kr=St[dr+3*ur+1],Er=St[dr+3*ur+2];nr[Nn++]=br,nr[Nn++]=kr,nr[Nn++]=Er,nr[Nn++]=255}--Mr}}}function $t(St,_e,en,tn){for(var nn=St[_e++],rn=1<<nn,sn=rn+1,an=sn+1,on=nn+1,cn=(1<<on)-1,dn=0,mn=0,pn=0,fn=St[_e++],yn=new Int32Array(4096),bn=null;;){for(;dn<16&&fn!==0;)mn|=St[_e++]<<dn,dn+=8,fn===1?fn=St[_e++]:--fn;if(dn<on)break;var wn=mn&cn;if(mn>>=on,dn-=on,wn!==rn){if(wn===sn)break;for(var vn=wn<an?wn:bn,Sn=0,xn=vn;xn>rn;)xn=yn[xn]>>8,++Sn;var En=xn;if(pn+Sn+(vn!==wn?1:0)>tn)return void a.log("Warning, gif stream longer than expected.");en[pn++]=En;var Cn=pn+=Sn;for(vn!==wn&&(en[pn++]=En),xn=vn;Sn--;)xn=yn[xn],en[--Cn]=255&xn,xn>>=8;bn!==null&&an<4096&&(yn[an++]=bn<<8|En,an>=cn+1&&on<12&&(++on,cn=cn<<1|1)),bn=wn}else an=sn+1,cn=(1<<(on=nn+1))-1,bn=null}return pn!==tn&&a.log("Warning, gif stream shorter than expected."),en}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(St){var _e,en,tn,nn,rn,sn=Math.floor,an=new Array(64),on=new Array(64),cn=new Array(64),dn=new Array(64),mn=new Array(65535),pn=new Array(65535),fn=new Array(64),yn=new Array(64),bn=[],wn=0,vn=7,Sn=new Array(64),xn=new Array(64),En=new Array(64),Cn=new Array(256),kn=new Array(2048),In=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Dn=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Wn=[0,1,2,3,4,5,6,7,8,9,10,11],Vn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],On=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],zn=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],nr=[0,1,2,3,4,5,6,7,8,9,10,11],Yn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ar=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function tr(Mn,Fn){for(var Nn=0,Un=0,qn=new Array,er=1;er<=16;er++){for(var sr=1;sr<=Mn[er];sr++)qn[Fn[Un]]=[],qn[Fn[Un]][0]=Nn,qn[Fn[Un]][1]=er,Un++,Nn++;Nn*=2}return qn}function dr(Mn){for(var Fn=Mn[0],Nn=Mn[1]-1;Nn>=0;)Fn&1<<Nn&&(wn|=1<<vn),Nn--,--vn<0&&(wn==255?(Jn(255),Jn(0)):Jn(wn),vn=7,wn=0)}function Jn(Mn){bn.push(Mn)}function hr(Mn){Jn(Mn>>8&255),Jn(255&Mn)}function yr(Mn,Fn,Nn,Un,qn){for(var er,sr=qn[0],ur=qn[240],br=function(Zn,pr){var Tr,xr,Ur,lr,Rr,zr,qr,Ar,Hr,ns,Xr=0;for(Hr=0;Hr<8;++Hr){Tr=Zn[Xr],xr=Zn[Xr+1],Ur=Zn[Xr+2],lr=Zn[Xr+3],Rr=Zn[Xr+4],zr=Zn[Xr+5],qr=Zn[Xr+6];var Cs=Tr+(Ar=Zn[Xr+7]),ms=Tr-Ar,ys=xr+qr,ks=xr-qr,Rs=Ur+zr,_r=Ur-zr,gr=lr+Rr,Cr=lr-Rr,_i=Cs+gr,cs=Cs-gr,xs=ys+Rs,ls=ys-Rs;Zn[Xr]=_i+xs,Zn[Xr+4]=_i-xs;var as=.707106781*(ls+cs);Zn[Xr+2]=cs+as,Zn[Xr+6]=cs-as;var vs=.382683433*((_i=Cr+_r)-(ls=ks+ms)),Os=.5411961*_i+vs,Ls=1.306562965*ls+vs,zs=.707106781*(xs=_r+ks),Fs=ms+zs,ws=ms-zs;Zn[Xr+5]=ws+Os,Zn[Xr+3]=ws-Os,Zn[Xr+1]=Fs+Ls,Zn[Xr+7]=Fs-Ls,Xr+=8}for(Xr=0,Hr=0;Hr<8;++Hr){Tr=Zn[Xr],xr=Zn[Xr+8],Ur=Zn[Xr+16],lr=Zn[Xr+24],Rr=Zn[Xr+32],zr=Zn[Xr+40],qr=Zn[Xr+48];var Bs=Tr+(Ar=Zn[Xr+56]),oo=Tr-Ar,Js=xr+qr,Vs=xr-qr,Zs=Ur+zr,fo=Ur-zr,ro=lr+Rr,Lo=lr-Rr,No=Bs+ro,zo=Bs-ro,Rl=Js+Zs,Eu=Js-Zs;Zn[Xr]=No+Rl,Zn[Xr+32]=No-Rl;var ou=.707106781*(Eu+zo);Zn[Xr+16]=zo+ou,Zn[Xr+48]=zo-ou;var Pu=.382683433*((No=Lo+fo)-(Eu=Vs+oo)),mp=.5411961*No+Pu,Ip=1.306562965*Eu+Pu,jp=.707106781*(Rl=fo+Vs),Bp=oo+jp,Up=oo-jp;Zn[Xr+40]=Up+mp,Zn[Xr+24]=Up-mp,Zn[Xr+8]=Bp+Ip,Zn[Xr+56]=Bp-Ip,Xr++}for(Hr=0;Hr<64;++Hr)ns=Zn[Hr]*pr[Hr],fn[Hr]=ns>0?ns+.5|0:ns-.5|0;return fn}(Mn,Fn),kr=0;kr<64;++kr)yn[In[kr]]=br[kr];var Er=yn[0]-Nn;Nn=yn[0],Er==0?dr(Un[0]):(dr(Un[pn[er=32767+Er]]),dr(mn[er]));for(var Pr=63;Pr>0&&yn[Pr]==0;)Pr--;if(Pr==0)return dr(sr),Nn;for(var $n,Gn=1;Gn<=Pr;){for(var jn=Gn;yn[Gn]==0&&Gn<=Pr;)++Gn;var fr=Gn-jn;if(fr>=16){$n=fr>>4;for(var Xn=1;Xn<=$n;++Xn)dr(ur);fr&=15}er=32767+yn[Gn],dr(qn[(fr<<4)+pn[er]]),dr(mn[er]),Gn++}return Pr!=63&&dr(sr),Nn}function Mr(Mn){Mn=Math.min(Math.max(Mn,1),100),rn!=Mn&&(function(Fn){for(var Nn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Un=0;Un<64;Un++){var qn=sn((Nn[Un]*Fn+50)/100);qn=Math.min(Math.max(qn,1),255),an[In[Un]]=qn}for(var er=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],sr=0;sr<64;sr++){var ur=sn((er[sr]*Fn+50)/100);ur=Math.min(Math.max(ur,1),255),on[In[sr]]=ur}for(var br=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],kr=0,Er=0;Er<8;Er++)for(var Pr=0;Pr<8;Pr++)cn[kr]=1/(an[In[kr]]*br[Er]*br[Pr]*8),dn[kr]=1/(on[In[kr]]*br[Er]*br[Pr]*8),kr++}(Mn<50?Math.floor(5e3/Mn):Math.floor(200-2*Mn)),rn=Mn)}this.encode=function(Mn,Fn){Fn&&Mr(Fn),bn=new Array,wn=0,vn=7,hr(65496),hr(65504),hr(16),Jn(74),Jn(70),Jn(73),Jn(70),Jn(0),Jn(1),Jn(1),Jn(0),hr(1),hr(1),Jn(0),Jn(0),function(){hr(65499),hr(132),Jn(0);for(var xr=0;xr<64;xr++)Jn(an[xr]);Jn(1);for(var Ur=0;Ur<64;Ur++)Jn(on[Ur])}(),function(xr,Ur){hr(65472),hr(17),Jn(8),hr(Ur),hr(xr),Jn(3),Jn(1),Jn(17),Jn(0),Jn(2),Jn(17),Jn(1),Jn(3),Jn(17),Jn(1)}(Mn.width,Mn.height),function(){hr(65476),hr(418),Jn(0);for(var xr=0;xr<16;xr++)Jn(Dn[xr+1]);for(var Ur=0;Ur<=11;Ur++)Jn(Wn[Ur]);Jn(16);for(var lr=0;lr<16;lr++)Jn(Vn[lr+1]);for(var Rr=0;Rr<=161;Rr++)Jn(On[Rr]);Jn(1);for(var zr=0;zr<16;zr++)Jn(zn[zr+1]);for(var qr=0;qr<=11;qr++)Jn(nr[qr]);Jn(17);for(var Ar=0;Ar<16;Ar++)Jn(Yn[Ar+1]);for(var Hr=0;Hr<=161;Hr++)Jn(ar[Hr])}(),hr(65498),hr(12),Jn(3),Jn(1),Jn(0),Jn(2),Jn(17),Jn(3),Jn(17),Jn(0),Jn(63),Jn(0);var Nn=0,Un=0,qn=0;wn=0,vn=7,this.encode.displayName="_encode_";for(var er,sr,ur,br,kr,Er,Pr,$n,Gn,jn=Mn.data,fr=Mn.width,Xn=Mn.height,Zn=4*fr,pr=0;pr<Xn;){for(er=0;er<Zn;){for(kr=Zn*pr+er,Pr=-1,$n=0,Gn=0;Gn<64;Gn++)Er=kr+($n=Gn>>3)*Zn+(Pr=4*(7&Gn)),pr+$n>=Xn&&(Er-=Zn*(pr+1+$n-Xn)),er+Pr>=Zn&&(Er-=er+Pr-Zn+4),sr=jn[Er++],ur=jn[Er++],br=jn[Er++],Sn[Gn]=(kn[sr]+kn[ur+256>>0]+kn[br+512>>0]>>16)-128,xn[Gn]=(kn[sr+768>>0]+kn[ur+1024>>0]+kn[br+1280>>0]>>16)-128,En[Gn]=(kn[sr+1280>>0]+kn[ur+1536>>0]+kn[br+1792>>0]>>16)-128;Nn=yr(Sn,cn,Nn,_e,tn),Un=yr(xn,dn,Un,en,nn),qn=yr(En,dn,qn,en,nn),er+=32}pr+=8}if(vn>=0){var Tr=[];Tr[1]=vn+1,Tr[0]=(1<<vn+1)-1,dr(Tr)}return hr(65497),new Uint8Array(bn)},St=St||50,function(){for(var Mn=String.fromCharCode,Fn=0;Fn<256;Fn++)Cn[Fn]=Mn(Fn)}(),_e=tr(Dn,Wn),en=tr(zn,nr),tn=tr(Vn,On),nn=tr(Yn,ar),function(){for(var Mn=1,Fn=2,Nn=1;Nn<=15;Nn++){for(var Un=Mn;Un<Fn;Un++)pn[32767+Un]=Nn,mn[32767+Un]=[],mn[32767+Un][1]=Nn,mn[32767+Un][0]=Un;for(var qn=-(Fn-1);qn<=-Mn;qn++)pn[32767+qn]=Nn,mn[32767+qn]=[],mn[32767+qn][1]=Nn,mn[32767+qn][0]=Fn-1+qn;Mn<<=1,Fn<<=1}}(),function(){for(var Mn=0;Mn<256;Mn++)kn[Mn]=19595*Mn,kn[Mn+256>>0]=38470*Mn,kn[Mn+512>>0]=7471*Mn+32768,kn[Mn+768>>0]=-11059*Mn,kn[Mn+1024>>0]=-21709*Mn,kn[Mn+1280>>0]=32768*Mn+8421375,kn[Mn+1536>>0]=-27439*Mn,kn[Mn+1792>>0]=-5329*Mn}(),Mr(St)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(St,_e){if(this.pos=0,this.buffer=St,this.datav=new DataView(St.buffer),this.is_with_alpha=!!_e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(St){function _e(Dn){if(!Dn)throw Error("assert :P")}function en(Dn,Wn,Vn){for(var On=0;4>On;On++)if(Dn[Wn+On]!=Vn.charCodeAt(On))return!0;return!1}function tn(Dn,Wn,Vn,On,zn){for(var nr=0;nr<zn;nr++)Dn[Wn+nr]=Vn[On+nr]}function nn(Dn,Wn,Vn,On){for(var zn=0;zn<On;zn++)Dn[Wn+zn]=Vn}function rn(Dn){return new Int32Array(Dn)}function sn(Dn,Wn){for(var Vn=[],On=0;On<Dn;On++)Vn.push(new Wn);return Vn}function an(Dn,Wn){var Vn=[];return function On(zn,nr,Yn){for(var ar=Yn[nr],tr=0;tr<ar&&(zn.push(Yn.length>nr+1?[]:new Wn),!(Yn.length<nr+1));tr++)On(zn[tr],nr+1,Yn)}(Vn,0,Dn),Vn}var on=function(){var Dn=this;function Wn(gn,An){for(var Ln=1<<An-1>>>0;gn&Ln;)Ln>>>=1;return Ln?(gn&Ln-1)+Ln:gn}function Vn(gn,An,Ln,Bn,Kn){_e(!(Bn%Ln));do gn[An+(Bn-=Ln)]=Kn;while(0<Bn)}function On(gn,An,Ln,Bn,Kn){if(_e(2328>=Kn),512>=Kn)var rr=rn(512);else if((rr=rn(Kn))==null)return 0;return function(ir,or,cr,Sr,Fr,Gr){var Br,Or,ts=or,Yr=1<<cr,Lr=rn(16),Dr=rn(16);for(_e(Fr!=0),_e(Sr!=null),_e(ir!=null),_e(0<cr),Or=0;Or<Fr;++Or){if(15<Sr[Or])return 0;++Lr[Sr[Or]]}if(Lr[0]==Fr)return 0;for(Dr[1]=0,Br=1;15>Br;++Br){if(Lr[Br]>1<<Br)return 0;Dr[Br+1]=Dr[Br]+Lr[Br]}for(Or=0;Or<Fr;++Or)Br=Sr[Or],0<Sr[Or]&&(Gr[Dr[Br]++]=Or);if(Dr[15]==1)return(Sr=new zn).g=0,Sr.value=Gr[0],Vn(ir,ts,1,Yr,Sr),Yr;var Ir,rs=-1,es=Yr-1,Ss=0,ds=1,Ts=1,fs=1<<cr;for(Or=0,Br=1,Fr=2;Br<=cr;++Br,Fr<<=1){if(ds+=Ts<<=1,0>(Ts-=Lr[Br]))return 0;for(;0<Lr[Br];--Lr[Br])(Sr=new zn).g=Br,Sr.value=Gr[Or++],Vn(ir,ts+Ss,Fr,fs,Sr),Ss=Wn(Ss,Br)}for(Br=cr+1,Fr=2;15>=Br;++Br,Fr<<=1){if(ds+=Ts<<=1,0>(Ts-=Lr[Br]))return 0;for(;0<Lr[Br];--Lr[Br]){if(Sr=new zn,(Ss&es)!=rs){for(ts+=fs,Ir=1<<(rs=Br)-cr;15>rs&&!(0>=(Ir-=Lr[rs]));)++rs,Ir<<=1;Yr+=fs=1<<(Ir=rs-cr),ir[or+(rs=Ss&es)].g=Ir+cr,ir[or+rs].value=ts-or-rs}Sr.g=Br-cr,Sr.value=Gr[Or++],Vn(ir,ts+(Ss>>cr),Fr,fs,Sr),Ss=Wn(Ss,Br)}}return ds!=2*Dr[15]-1?0:Yr}(gn,An,Ln,Bn,Kn,rr)}function zn(){this.value=this.g=0}function nr(){this.value=this.g=0}function Yn(){this.G=sn(5,zn),this.H=rn(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=sn(qo,nr)}function ar(gn,An,Ln,Bn){_e(gn!=null),_e(An!=null),_e(2147483648>Bn),gn.Ca=254,gn.I=0,gn.b=-8,gn.Ka=0,gn.oa=An,gn.pa=Ln,gn.Jd=An,gn.Yc=Ln+Bn,gn.Zc=4<=Bn?Ln+Bn-4+1:Ln,er(gn)}function tr(gn,An){for(var Ln=0;0<An--;)Ln|=ur(gn,128)<<An;return Ln}function dr(gn,An){var Ln=tr(gn,An);return sr(gn)?-Ln:Ln}function Jn(gn,An,Ln,Bn){var Kn,rr=0;for(_e(gn!=null),_e(An!=null),_e(4294967288>Bn),gn.Sb=Bn,gn.Ra=0,gn.u=0,gn.h=0,4<Bn&&(Bn=4),Kn=0;Kn<Bn;++Kn)rr+=An[Ln+Kn]<<8*Kn;gn.Ra=rr,gn.bb=Bn,gn.oa=An,gn.pa=Ln}function hr(gn){for(;8<=gn.u&&gn.bb<gn.Sb;)gn.Ra>>>=8,gn.Ra+=gn.oa[gn.pa+gn.bb]<<Cp-8>>>0,++gn.bb,gn.u-=8;Nn(gn)&&(gn.h=1,gn.u=0)}function yr(gn,An){if(_e(0<=An),!gn.h&&An<=Wu){var Ln=Fn(gn)&Ap[An];return gn.u+=An,hr(gn),Ln}return gn.h=1,gn.u=0}function Mr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Mn(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Fn(gn){return gn.Ra>>>(gn.u&Cp-1)>>>0}function Nn(gn){return _e(gn.bb<=gn.Sb),gn.h||gn.bb==gn.Sb&&gn.u>Cp}function Un(gn,An){gn.u=An,gn.h=Nn(gn)}function qn(gn){gn.u>=Jp&&(_e(gn.u>=Jp),hr(gn))}function er(gn){_e(gn!=null&&gn.oa!=null),gn.pa<gn.Zc?(gn.I=(gn.oa[gn.pa++]|gn.I<<8)>>>0,gn.b+=8):(_e(gn!=null&&gn.oa!=null),gn.pa<gn.Yc?(gn.b+=8,gn.I=gn.oa[gn.pa++]|gn.I<<8):gn.Ka?gn.b=0:(gn.I<<=8,gn.b+=8,gn.Ka=1))}function sr(gn){return tr(gn,1)}function ur(gn,An){var Ln=gn.Ca;0>gn.b&&er(gn);var Bn=gn.b,Kn=Ln*An>>>8,rr=(gn.I>>>Bn>Kn)+0;for(rr?(Ln-=Kn,gn.I-=Kn+1<<Bn>>>0):Ln=Kn+1,Bn=Ln,Kn=0;256<=Bn;)Kn+=8,Bn>>=8;return Bn=7^Kn+Jo[Bn],gn.b-=Bn,gn.Ca=(Ln<<Bn)-1,rr}function br(gn,An,Ln){gn[An+0]=Ln>>24&255,gn[An+1]=Ln>>16&255,gn[An+2]=Ln>>8&255,gn[An+3]=Ln>>0&255}function kr(gn,An){return gn[An+0]<<0|gn[An+1]<<8}function Er(gn,An){return kr(gn,An)|gn[An+2]<<16}function Pr(gn,An){return kr(gn,An)|kr(gn,An+2)<<16}function $n(gn,An){var Ln=1<<An;return _e(gn!=null),_e(0<An),gn.X=rn(Ln),gn.X==null?0:(gn.Mb=32-An,gn.Xa=An,1)}function Gn(gn,An){_e(gn!=null),_e(An!=null),_e(gn.Xa==An.Xa),tn(An.X,0,gn.X,0,1<<An.Xa)}function jn(){this.X=[],this.Xa=this.Mb=0}function fr(gn,An,Ln,Bn){_e(Ln!=null),_e(Bn!=null);var Kn=Ln[0],rr=Bn[0];return Kn==0&&(Kn=(gn*rr+An/2)/An),rr==0&&(rr=(An*Kn+gn/2)/gn),0>=Kn||0>=rr?0:(Ln[0]=Kn,Bn[0]=rr,1)}function Xn(gn,An){return gn+(1<<An)-1>>>An}function Zn(gn,An){return((4278255360&gn)+(4278255360&An)>>>0&4278255360)+((16711935&gn)+(16711935&An)>>>0&16711935)>>>0}function pr(gn,An){Dn[An]=function(Ln,Bn,Kn,rr,ir,or,cr){var Sr;for(Sr=0;Sr<ir;++Sr){var Fr=Dn[gn](or[cr+Sr-1],Kn,rr+Sr);or[cr+Sr]=Zn(Ln[Bn+Sr],Fr)}}}function Tr(){this.ud=this.hd=this.jd=0}function xr(gn,An){return((4278124286&(gn^An))>>>1)+(gn&An)>>>0}function Ur(gn){return 0<=gn&&256>gn?gn:0>gn?0:255<gn?255:void 0}function lr(gn,An){return Ur(gn+(gn-An+.5>>1))}function Rr(gn,An,Ln){return Math.abs(An-Ln)-Math.abs(gn-Ln)}function zr(gn,An,Ln,Bn,Kn,rr,ir){for(Bn=rr[ir-1],Ln=0;Ln<Kn;++Ln)rr[ir+Ln]=Bn=Zn(gn[An+Ln],Bn)}function qr(gn,An,Ln,Bn,Kn){var rr;for(rr=0;rr<Ln;++rr){var ir=gn[An+rr],or=ir>>8&255,cr=16711935&(cr=(cr=16711935&ir)+((or<<16)+or));Bn[Kn+rr]=(4278255360&ir)+cr>>>0}}function Ar(gn,An){An.jd=gn>>0&255,An.hd=gn>>8&255,An.ud=gn>>16&255}function Hr(gn,An,Ln,Bn,Kn,rr){var ir;for(ir=0;ir<Bn;++ir){var or=An[Ln+ir],cr=or>>>8,Sr=or,Fr=255&(Fr=(Fr=or>>>16)+((gn.jd<<24>>24)*(cr<<24>>24)>>>5));Sr=255&(Sr=(Sr=Sr+((gn.hd<<24>>24)*(cr<<24>>24)>>>5))+((gn.ud<<24>>24)*(Fr<<24>>24)>>>5)),Kn[rr+ir]=(4278255360&or)+(Fr<<16)+Sr}}function ns(gn,An,Ln,Bn,Kn){Dn[An]=function(rr,ir,or,cr,Sr,Fr,Gr,Br,Or){for(cr=Gr;cr<Br;++cr)for(Gr=0;Gr<Or;++Gr)Sr[Fr++]=Kn(or[Bn(rr[ir++])])},Dn[gn]=function(rr,ir,or,cr,Sr,Fr,Gr){var Br=8>>rr.b,Or=rr.Ea,ts=rr.K[0],Yr=rr.w;if(8>Br)for(rr=(1<<rr.b)-1,Yr=(1<<Br)-1;ir<or;++ir){var Lr,Dr=0;for(Lr=0;Lr<Or;++Lr)Lr&rr||(Dr=Bn(cr[Sr++])),Fr[Gr++]=Kn(ts[Dr&Yr]),Dr>>=Br}else Dn["VP8LMapColor"+Ln](cr,Sr,ts,Yr,Fr,Gr,ir,or,Or)}}function Xr(gn,An,Ln,Bn,Kn){for(Ln=An+Ln;An<Ln;){var rr=gn[An++];Bn[Kn++]=rr>>16&255,Bn[Kn++]=rr>>8&255,Bn[Kn++]=rr>>0&255}}function Cs(gn,An,Ln,Bn,Kn){for(Ln=An+Ln;An<Ln;){var rr=gn[An++];Bn[Kn++]=rr>>16&255,Bn[Kn++]=rr>>8&255,Bn[Kn++]=rr>>0&255,Bn[Kn++]=rr>>24&255}}function ms(gn,An,Ln,Bn,Kn){for(Ln=An+Ln;An<Ln;){var rr=(ir=gn[An++])>>16&240|ir>>12&15,ir=ir>>0&240|ir>>28&15;Bn[Kn++]=rr,Bn[Kn++]=ir}}function ys(gn,An,Ln,Bn,Kn){for(Ln=An+Ln;An<Ln;){var rr=(ir=gn[An++])>>16&248|ir>>13&7,ir=ir>>5&224|ir>>3&31;Bn[Kn++]=rr,Bn[Kn++]=ir}}function ks(gn,An,Ln,Bn,Kn){for(Ln=An+Ln;An<Ln;){var rr=gn[An++];Bn[Kn++]=rr>>0&255,Bn[Kn++]=rr>>8&255,Bn[Kn++]=rr>>16&255}}function Rs(gn,An,Ln,Bn,Kn,rr){if(rr==0)for(Ln=An+Ln;An<Ln;)br(Bn,((rr=gn[An++])[0]>>24|rr[1]>>8&65280|rr[2]<<8&16711680|rr[3]<<24)>>>0),Kn+=32;else tn(Bn,Kn,gn,An,Ln)}function _r(gn,An){Dn[An][0]=Dn[gn+"0"],Dn[An][1]=Dn[gn+"1"],Dn[An][2]=Dn[gn+"2"],Dn[An][3]=Dn[gn+"3"],Dn[An][4]=Dn[gn+"4"],Dn[An][5]=Dn[gn+"5"],Dn[An][6]=Dn[gn+"6"],Dn[An][7]=Dn[gn+"7"],Dn[An][8]=Dn[gn+"8"],Dn[An][9]=Dn[gn+"9"],Dn[An][10]=Dn[gn+"10"],Dn[An][11]=Dn[gn+"11"],Dn[An][12]=Dn[gn+"12"],Dn[An][13]=Dn[gn+"13"],Dn[An][14]=Dn[gn+"0"],Dn[An][15]=Dn[gn+"0"]}function gr(gn){return gn==Xm||gn==sm||gn==kp||gn==Qm}function Cr(){this.eb=[],this.size=this.A=this.fb=0}function _i(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cr,this.f.kb=new _i,this.sd=null}function xs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ls(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function as(gn){return alert("todo:WebPSamplerProcessPlane"),gn.T}function vs(gn,An){var Ln=gn.T,Bn=An.ba.f.RGBA,Kn=Bn.eb,rr=Bn.fb+gn.ka*Bn.A,ir=su[An.ba.S],or=gn.y,cr=gn.O,Sr=gn.f,Fr=gn.N,Gr=gn.ea,Br=gn.W,Or=An.cc,ts=An.dc,Yr=An.Mc,Lr=An.Nc,Dr=gn.ka,Ir=gn.ka+gn.T,rs=gn.U,es=rs+1>>1;for(Dr==0?ir(or,cr,null,null,Sr,Fr,Gr,Br,Sr,Fr,Gr,Br,Kn,rr,null,null,rs):(ir(An.ec,An.fc,or,cr,Or,ts,Yr,Lr,Sr,Fr,Gr,Br,Kn,rr-Bn.A,Kn,rr,rs),++Ln);Dr+2<Ir;Dr+=2)Or=Sr,ts=Fr,Yr=Gr,Lr=Br,Fr+=gn.Rc,Br+=gn.Rc,rr+=2*Bn.A,ir(or,(cr+=2*gn.fa)-gn.fa,or,cr,Or,ts,Yr,Lr,Sr,Fr,Gr,Br,Kn,rr-Bn.A,Kn,rr,rs);return cr+=gn.fa,gn.j+Ir<gn.o?(tn(An.ec,An.fc,or,cr,rs),tn(An.cc,An.dc,Sr,Fr,es),tn(An.Mc,An.Nc,Gr,Br,es),Ln--):1&Ir||ir(or,cr,null,null,Sr,Fr,Gr,Br,Sr,Fr,Gr,Br,Kn,rr+Bn.A,null,null,rs),Ln}function Os(gn,An,Ln){var Bn=gn.F,Kn=[gn.J];if(Bn!=null){var rr=gn.U,ir=An.ba.S,or=ir==Tm||ir==kp;An=An.ba.f.RGBA;var cr=[0],Sr=gn.ka;cr[0]=gn.T,gn.Kb&&(Sr==0?--cr[0]:(--Sr,Kn[0]-=gn.width),gn.j+gn.ka+gn.T==gn.o&&(cr[0]=gn.o-gn.j-Sr));var Fr=An.eb;Sr=An.fb+Sr*An.A,gn=jo(Bn,Kn[0],gn.width,rr,cr,Fr,Sr+(or?0:3),An.A),_e(Ln==cr),gn&&gr(ir)&&hu(Fr,Sr,or,rr,cr,An.A)}return 0}function Ls(gn){var An=gn.ma,Ln=An.ba.S,Bn=11>Ln,Kn=Ln==Em||Ln==Pm||Ln==Tm||Ln==Ym||Ln==12||gr(Ln);if(An.memory=null,An.Ib=null,An.Jb=null,An.Nd=null,!Qp(An.Oa,gn,Kn?11:12))return 0;if(Kn&&gr(Ln)&&os(),gn.da)alert("todo:use_scaling");else{if(Bn){if(An.Ib=as,gn.Kb){if(Ln=gn.U+1>>1,An.memory=rn(gn.U+2*Ln),An.memory==null)return 0;An.ec=An.memory,An.fc=0,An.cc=An.ec,An.dc=An.fc+gn.U,An.Mc=An.cc,An.Nc=An.dc+Ln,An.Ib=vs,os()}}else alert("todo:EmitYUV");Kn&&(An.Jb=Os,Bn&&Vr())}if(Bn&&!R0){for(gn=0;256>gn;++gn)F0[gn]=89858*(gn-128)+Lm>>km,M0[gn]=-22014*(gn-128)+Lm,J0[gn]=-45773*(gn-128),Q0[gn]=113618*(gn-128)+Lm>>km;for(gn=om;gn<t0;++gn)An=76283*(gn-16)+Lm>>km,D0[gn-om]=Io(An,255),Z0[gn-om]=Io(An+8>>4,15);R0=1}return 1}function zs(gn){var An=gn.ma,Ln=gn.U,Bn=gn.T;return _e(!(1&gn.ka)),0>=Ln||0>=Bn?0:(Ln=An.Ib(gn,An),An.Jb!=null&&An.Jb(gn,An,Ln),An.Dc+=Ln,1)}function Fs(gn){gn.ma.memory=null}function ws(gn,An,Ln,Bn){return yr(gn,8)!=47?0:(An[0]=yr(gn,14)+1,Ln[0]=yr(gn,14)+1,Bn[0]=yr(gn,1),yr(gn,3)!=0?0:!gn.h)}function Bs(gn,An){if(4>gn)return gn+1;var Ln=gn-2>>1;return(2+(1&gn)<<Ln)+yr(An,Ln)+1}function oo(gn,An){return 120<An?An-120:1<=(Ln=((Ln=A0[An-1])>>4)*gn+(8-(15&Ln)))?Ln:1;var Ln}function Js(gn,An,Ln){var Bn=Fn(Ln),Kn=gn[An+=255&Bn].g-8;return 0<Kn&&(Un(Ln,Ln.u+8),Bn=Fn(Ln),An+=gn[An].value,An+=Bn&(1<<Kn)-1),Un(Ln,Ln.u+gn[An].g),gn[An].value}function Vs(gn,An,Ln){return Ln.g+=gn.g,Ln.value+=gn.value<<An>>>0,_e(8>=Ln.g),gn.g}function Zs(gn,An,Ln){var Bn=gn.xc;return _e((An=Bn==0?0:gn.vc[gn.md*(Ln>>Bn)+(An>>Bn)])<gn.Wb),gn.Ya[An]}function fo(gn,An,Ln,Bn){var Kn=gn.ab,rr=gn.c*An,ir=gn.C;An=ir+An;var or=Ln,cr=Bn;for(Bn=gn.Ta,Ln=gn.Ua;0<Kn--;){var Sr=gn.gc[Kn],Fr=ir,Gr=An,Br=or,Or=cr,ts=(cr=Bn,or=Ln,Sr.Ea);switch(_e(Fr<Gr),_e(Gr<=Sr.nc),Sr.hc){case 2:xm(Br,Or,(Gr-Fr)*ts,cr,or);break;case 0:var Yr=Fr,Lr=Gr,Dr=cr,Ir=or,rs=(fs=Sr).Ea;Yr==0&&(Zp(Br,Or,null,null,1,Dr,Ir),zr(Br,Or+1,0,0,rs-1,Dr,Ir+1),Or+=rs,Ir+=rs,++Yr);for(var es=1<<fs.b,Ss=es-1,ds=Xn(rs,fs.b),Ts=fs.K,fs=fs.w+(Yr>>fs.b)*ds;Yr<Lr;){var Qs=Ts,ga=fs,Xs=1;for(_g(Br,Or,Dr,Ir-rs,1,Dr,Ir);Xs<rs;){var Ks=(Xs&~Ss)+es;Ks>rs&&(Ks=rs),(0,Ku[Qs[ga++]>>8&15])(Br,Or+ +Xs,Dr,Ir+Xs-rs,Ks-Xs,Dr,Ir+Xs),Xs=Ks}Or+=rs,Ir+=rs,++Yr&Ss||(fs+=ds)}Gr!=Sr.nc&&tn(cr,or-ts,cr,or+(Gr-Fr-1)*ts,ts);break;case 1:for(ts=Br,Lr=Or,rs=(Br=Sr.Ea)-(Ir=Br&~(Dr=(Or=1<<Sr.b)-1)),Yr=Xn(Br,Sr.b),es=Sr.K,Sr=Sr.w+(Fr>>Sr.b)*Yr;Fr<Gr;){for(Ss=es,ds=Sr,Ts=new Tr,fs=Lr+Ir,Qs=Lr+Br;Lr<fs;)Ar(Ss[ds++],Ts),eu(Ts,ts,Lr,Or,cr,or),Lr+=Or,or+=Or;Lr<Qs&&(Ar(Ss[ds++],Ts),eu(Ts,ts,Lr,rs,cr,or),Lr+=rs,or+=rs),++Fr&Dr||(Sr+=Yr)}break;case 3:if(Br==cr&&Or==or&&0<Sr.b){for(Lr=cr,Br=ts=or+(Gr-Fr)*ts-(Ir=(Gr-Fr)*Xn(Sr.Ea,Sr.b)),Or=cr,Dr=or,Yr=[],Ir=(rs=Ir)-1;0<=Ir;--Ir)Yr[Ir]=Or[Dr+Ir];for(Ir=rs-1;0<=Ir;--Ir)Lr[Br+Ir]=Yr[Ir];uu(Sr,Fr,Gr,cr,ts,cr,or)}else uu(Sr,Fr,Gr,Br,Or,cr,or)}or=Bn,cr=Ln}cr!=Ln&&tn(Bn,Ln,or,cr,rr)}function ro(gn,An){var Ln=gn.V,Bn=gn.Ba+gn.c*gn.C,Kn=An-gn.C;if(_e(An<=gn.l.o),_e(16>=Kn),0<Kn){var rr=gn.l,ir=gn.Ta,or=gn.Ua,cr=rr.width;if(fo(gn,Kn,Ln,Bn),Kn=or=[or],_e((Ln=gn.C)<(Bn=An)),_e(rr.v<rr.va),Bn>rr.o&&(Bn=rr.o),Ln<rr.j){var Sr=rr.j-Ln;Ln=rr.j,Kn[0]+=Sr*cr}if(Ln>=Bn?Ln=0:(Kn[0]+=4*rr.v,rr.ka=Ln-rr.j,rr.U=rr.va-rr.v,rr.T=Bn-Ln,Ln=1),Ln){if(or=or[0],11>(Ln=gn.ca).S){var Fr=Ln.f.RGBA,Gr=(Bn=Ln.S,Kn=rr.U,rr=rr.T,Sr=Fr.eb,Fr.A),Br=rr;for(Fr=Fr.fb+gn.Ma*Fr.A;0<Br--;){var Or=ir,ts=or,Yr=Kn,Lr=Sr,Dr=Fr;switch(Bn){case Cm:Zo(Or,ts,Yr,Lr,Dr);break;case Em:Yu(Or,ts,Yr,Lr,Dr);break;case Xm:Yu(Or,ts,Yr,Lr,Dr),hu(Lr,Dr,0,Yr,1,0);break;case w0:Fu(Or,ts,Yr,Lr,Dr);break;case Pm:Rs(Or,ts,Yr,Lr,Dr,1);break;case sm:Rs(Or,ts,Yr,Lr,Dr,1),hu(Lr,Dr,0,Yr,1,0);break;case Tm:Rs(Or,ts,Yr,Lr,Dr,0);break;case kp:Rs(Or,ts,Yr,Lr,Dr,0),hu(Lr,Dr,1,Yr,1,0);break;case Ym:Il(Or,ts,Yr,Lr,Dr);break;case Qm:Il(Or,ts,Yr,Lr,Dr),tm(Lr,Dr,Yr,1,0);break;case im:Fo(Or,ts,Yr,Lr,Dr);break;default:_e(0)}or+=cr,Fr+=Gr}gn.Ma+=rr}else alert("todo:EmitRescaledRowsYUVA");_e(gn.Ma<=Ln.height)}}gn.C=An,_e(gn.C<=gn.i)}function Lo(gn){var An;if(0<gn.ua)return 0;for(An=0;An<gn.Wb;++An){var Ln=gn.Ya[An].G,Bn=gn.Ya[An].H;if(0<Ln[1][Bn[1]+0].g||0<Ln[2][Bn[2]+0].g||0<Ln[3][Bn[3]+0].g)return 0}return 1}function No(gn,An,Ln,Bn,Kn,rr){if(gn.Z!=0){var ir=gn.qd,or=gn.rd;for(_e(hp[gn.Z]!=null);An<Ln;++An)hp[gn.Z](ir,or,Bn,Kn,Bn,Kn,rr),ir=Bn,or=Kn,Kn+=rr;gn.qd=ir,gn.rd=or}}function zo(gn,An){var Ln=gn.l.ma,Bn=Ln.Z==0||Ln.Z==1?gn.l.j:gn.C;if(Bn=gn.C<Bn?Bn:gn.C,_e(An<=gn.l.o),An>Bn){var Kn=gn.l.width,rr=Ln.ca,ir=Ln.tb+Kn*Bn,or=gn.V,cr=gn.Ba+gn.c*Bn,Sr=gn.gc;_e(gn.ab==1),_e(Sr[0].hc==3),Pp(Sr[0],Bn,An,or,cr,rr,ir),No(Ln,Bn,An,rr,ir,Kn)}gn.C=gn.Ma=An}function Rl(gn,An,Ln,Bn,Kn,rr,ir){var or=gn.$/Bn,cr=gn.$%Bn,Sr=gn.m,Fr=gn.s,Gr=Ln+gn.$,Br=Gr;Kn=Ln+Bn*Kn;var Or=Ln+Bn*rr,ts=280+Fr.ua,Yr=gn.Pb?or:16777216,Lr=0<Fr.ua?Fr.Wa:null,Dr=Fr.wc,Ir=Gr<Or?Zs(Fr,cr,or):null;_e(gn.C<rr),_e(Or<=Kn);var rs=!1;e:for(;;){for(;rs||Gr<Or;){var es=0;if(or>=Yr){var Ss=Gr-Ln;_e((Yr=gn).Pb),Yr.wd=Yr.m,Yr.xd=Ss,0<Yr.s.ua&&Gn(Yr.s.Wa,Yr.s.vb),Yr=or+G0}if(cr&Dr||(Ir=Zs(Fr,cr,or)),_e(Ir!=null),Ir.Qb&&(An[Gr]=Ir.qb,rs=!0),!rs)if(qn(Sr),Ir.jc){es=Sr,Ss=An;var ds=Gr,Ts=Ir.pd[Fn(es)&qo-1];_e(Ir.jc),256>Ts.g?(Un(es,es.u+Ts.g),Ss[ds]=Ts.value,es=0):(Un(es,es.u+Ts.g-256),_e(256<=Ts.value),es=Ts.value),es==0&&(rs=!0)}else es=Js(Ir.G[0],Ir.H[0],Sr);if(Sr.h)break;if(rs||256>es){if(!rs)if(Ir.nd)An[Gr]=(Ir.qb|es<<8)>>>0;else{if(qn(Sr),rs=Js(Ir.G[1],Ir.H[1],Sr),qn(Sr),Ss=Js(Ir.G[2],Ir.H[2],Sr),ds=Js(Ir.G[3],Ir.H[3],Sr),Sr.h)break;An[Gr]=(ds<<24|rs<<16|es<<8|Ss)>>>0}if(rs=!1,++Gr,++cr>=Bn&&(cr=0,++or,ir!=null&&or<=rr&&!(or%16)&&ir(gn,or),Lr!=null))for(;Br<Gr;)es=An[Br++],Lr.X[(506832829*es&4294967295)>>>Lr.Mb]=es}else if(280>es){if(es=Bs(es-256,Sr),Ss=Js(Ir.G[4],Ir.H[4],Sr),qn(Sr),Ss=oo(Bn,Ss=Bs(Ss,Sr)),Sr.h)break;if(Gr-Ln<Ss||Kn-Gr<es)break e;for(ds=0;ds<es;++ds)An[Gr+ds]=An[Gr+ds-Ss];for(Gr+=es,cr+=es;cr>=Bn;)cr-=Bn,++or,ir!=null&&or<=rr&&!(or%16)&&ir(gn,or);if(_e(Gr<=Kn),cr&Dr&&(Ir=Zs(Fr,cr,or)),Lr!=null)for(;Br<Gr;)es=An[Br++],Lr.X[(506832829*es&4294967295)>>>Lr.Mb]=es}else{if(!(es<ts))break e;for(rs=es-280,_e(Lr!=null);Br<Gr;)es=An[Br++],Lr.X[(506832829*es&4294967295)>>>Lr.Mb]=es;es=Gr,_e(!(rs>>>(Ss=Lr).Xa)),An[es]=Ss.X[rs],rs=!0}rs||_e(Sr.h==Nn(Sr))}if(gn.Pb&&Sr.h&&Gr<Kn)_e(gn.m.h),gn.a=5,gn.m=gn.wd,gn.$=gn.xd,0<gn.s.ua&&Gn(gn.s.vb,gn.s.Wa);else{if(Sr.h)break e;ir!=null&&ir(gn,or>rr?rr:or),gn.a=0,gn.$=Gr-Ln}return 1}return gn.a=3,0}function Eu(gn){_e(gn!=null),gn.vc=null,gn.yc=null,gn.Ya=null;var An=gn.Wa;An!=null&&(An.X=null),gn.vb=null,_e(gn!=null)}function ou(){var gn=new Ql;return gn==null?null:(gn.a=0,gn.xb=e0,_r("Predictor","VP8LPredictors"),_r("Predictor","VP8LPredictors_C"),_r("PredictorAdd","VP8LPredictorsAdd"),_r("PredictorAdd","VP8LPredictorsAdd_C"),xm=qr,eu=Hr,Zo=Xr,Yu=Cs,Il=ms,Fo=ys,Fu=ks,Dn.VP8LMapColor32b=Ep,Dn.VP8LMapColor8b=em,gn)}function Pu(gn,An,Ln,Bn,Kn){var rr=1,ir=[gn],or=[An],cr=Bn.m,Sr=Bn.s,Fr=null,Gr=0;e:for(;;){if(Ln)for(;rr&&yr(cr,1);){var Br=ir,Or=or,ts=Bn,Yr=1,Lr=ts.m,Dr=ts.gc[ts.ab],Ir=yr(Lr,2);if(ts.Oc&1<<Ir)rr=0;else{switch(ts.Oc|=1<<Ir,Dr.hc=Ir,Dr.Ea=Br[0],Dr.nc=Or[0],Dr.K=[null],++ts.ab,_e(4>=ts.ab),Ir){case 0:case 1:Dr.b=yr(Lr,3)+2,Yr=Pu(Xn(Dr.Ea,Dr.b),Xn(Dr.nc,Dr.b),0,ts,Dr.K),Dr.K=Dr.K[0];break;case 3:var rs,es=yr(Lr,8)+1,Ss=16<es?0:4<es?1:2<es?2:3;if(Br[0]=Xn(Dr.Ea,Ss),Dr.b=Ss,rs=Yr=Pu(es,1,0,ts,Dr.K)){var ds,Ts=es,fs=Dr,Qs=1<<(8>>fs.b),ga=rn(Qs);if(ga==null)rs=0;else{var Xs=fs.K[0],Ks=fs.w;for(ga[0]=fs.K[0][0],ds=1;ds<1*Ts;++ds)ga[ds]=Zn(Xs[Ks+ds],ga[ds-1]);for(;ds<4*Qs;++ds)ga[ds]=0;fs.K[0]=null,fs.K[0]=ga,rs=1}}Yr=rs;break;case 2:break;default:_e(0)}rr=Yr}}if(ir=ir[0],or=or[0],rr&&yr(cr,1)&&!(rr=1<=(Gr=yr(cr,4))&&11>=Gr)){Bn.a=3;break e}var no;if(no=rr)t:{var ba,Es,xa,vo=Bn,Ao=ir,Tl=or,Hs=Gr,Vl=Ln,Co=vo.m,$o=vo.s,Vo=[null],Sl=1,au=0,xu=H0[Hs];n:for(;;){if(Vl&&yr(Co,1)){var Po=yr(Co,3)+2,du=Xn(Ao,Po),Du=Xn(Tl,Po),Ju=du*Du;if(!Pu(du,Du,0,vo,Vo))break n;for(Vo=Vo[0],$o.xc=Po,ba=0;ba<Ju;++ba){var Au=Vo[ba]>>8&65535;Vo[ba]=Au,Au>=Sl&&(Sl=Au+1)}}if(Co.h)break n;for(Es=0;5>Es;++Es){var lo=x0[Es];!Es&&0<Hs&&(lo+=1<<Hs),au<lo&&(au=lo)}var Nm=sn(Sl*xu,zn),i0=Sl,s0=sn(i0,Yn);if(s0==null)var Rm=null;else _e(65536>=i0),Rm=s0;var Np=rn(au);if(Rm==null||Np==null||Nm==null){vo.a=1;break n}var a0=Nm;for(ba=xa=0;ba<Sl;++ba){var zl=Rm[ba],dp=zl.G,uo=zl.H,Gs=0,To=1,ko=0;for(Es=0;5>Es;++Es){lo=x0[Es],dp[Es]=a0,uo[Es]=xa,!Es&&0<Hs&&(lo+=1<<Hs);i:{var Mo,Ll=lo,Zu=vo,yo=Np,Fm=a0,Rp=xa,lm=0,Ou=Zu.m,Mm=yr(Ou,1);if(nn(yo,0,0,Ll),Mm){var Hl=yr(Ou,1)+1,O0=yr(Ou,1),o0=yr(Ou,O0==0?1:8);yo[o0]=1,Hl==2&&(yo[o0=yr(Ou,8)]=1);var fu=1}else{var Fp=rn(19),Dm=yr(Ou,4)+4;if(19<Dm){Zu.a=3;var um=0;break i}for(Mo=0;Mo<Dm;++Mo)Fp[z0[Mo]]=yr(Ou,3);var Iu=void 0,fp=void 0,_c=Zu,l0=Fp,pp=Ll,u0=yo,cm=0,Cu=_c.m,Wo=8,_h=sn(128,zn);r:for(;On(_h,0,7,l0,19);){if(yr(Cu,1)){var pu=2+2*yr(Cu,3);if((Iu=2+yr(Cu,pu))>pp)break r}else Iu=pp;for(fp=0;fp<pp&&Iu--;){qn(Cu);var Nl=_h[0+(127&Fn(Cu))];Un(Cu,Cu.u+Nl.g);var Mp=Nl.value;if(16>Mp)u0[fp++]=Mp,Mp!=0&&(Wo=Mp);else{var I0=Mp==16,c0=Mp-16,g1=$0[c0],_d=yr(Cu,b0[c0])+g1;if(fp+_d>pp)break r;for(var t1=I0?Wo:0;0<_d--;)u0[fp++]=t1}}cm=1;break r}cm||(_c.a=3),fu=cm}(fu=fu&&!Ou.h)&&(lm=On(Fm,Rp,8,yo,Ll)),fu&&lm!=0?um=lm:(Zu.a=3,um=0)}if(um==0)break n;if(To&&V0[Es]==1&&(To=a0[xa].g==0),Gs+=a0[xa].g,xa+=um,3>=Es){var hm,Om=Np[0];for(hm=1;hm<lo;++hm)Np[hm]>Om&&(Om=Np[hm]);ko+=Om}}if(zl.nd=To,zl.Qb=0,To&&(zl.qb=(dp[3][uo[3]+0].value<<24|dp[1][uo[1]+0].value<<16|dp[2][uo[2]+0].value)>>>0,Gs==0&&256>dp[0][uo[0]+0].value&&(zl.Qb=1,zl.qb+=dp[0][uo[0]+0].value<<8)),zl.jc=!zl.Qb&&6>ko,zl.jc){var ju,Bu=zl;for(ju=0;ju<qo;++ju){var _f=ju,Uu=Bu.pd[_f],Dp=Bu.G[0][Bu.H[0]+_f];256<=Dp.value?(Uu.g=Dp.g+256,Uu.value=Dp.value):(Uu.g=0,Uu.value=0,_f>>=Vs(Dp,8,Uu),_f>>=Vs(Bu.G[1][Bu.H[1]+_f],16,Uu),_f>>=Vs(Bu.G[2][Bu.H[2]+_f],0,Uu),Vs(Bu.G[3][Bu.H[3]+_f],24,Uu))}}}$o.vc=Vo,$o.Wb=Sl,$o.Ya=Rm,$o.yc=Nm,no=1;break t}no=0}if(!(rr=no)){Bn.a=3;break e}if(0<Gr){if(Sr.ua=1<<Gr,!$n(Sr.Wa,Gr)){Bn.a=1,rr=0;break e}}else Sr.ua=0;var j0=Bn,n1=ir,r1=or,h0=j0.s,ep=h0.xc;if(j0.c=n1,j0.i=r1,h0.md=Xn(n1,ep),h0.wc=ep==0?-1:(1<<ep)-1,Ln){Bn.xb=P0;break e}if((Fr=rn(ir*or))==null){Bn.a=1,rr=0;break e}rr=(rr=Rl(Bn,Fr,0,ir,or,or,null))&&!cr.h;break e}return rr?(Kn!=null?Kn[0]=Fr:(_e(Fr==null),_e(Ln)),Bn.$=0,Ln||Eu(Sr)):Eu(Sr),rr}function mp(gn,An){var Ln=gn.c*gn.i,Bn=Ln+An+16*An;return _e(gn.c<=An),gn.V=rn(Bn),gn.V==null?(gn.Ta=null,gn.Ua=0,gn.a=1,0):(gn.Ta=gn.V,gn.Ua=gn.Ba+Ln+An,1)}function Ip(gn,An){var Ln=gn.C,Bn=An-Ln,Kn=gn.V,rr=gn.Ba+gn.c*Ln;for(_e(An<=gn.l.o);0<Bn;){var ir=16<Bn?16:Bn,or=gn.l.ma,cr=gn.l.width,Sr=cr*ir,Fr=or.ca,Gr=or.tb+cr*Ln,Br=gn.Ta,Or=gn.Ua;fo(gn,ir,Kn,rr),qm(Br,Or,Fr,Gr,Sr),No(or,Ln,Ln+ir,Fr,Gr,cr),Bn-=ir,Kn+=ir*gn.c,Ln+=ir}_e(Ln==An),gn.C=gn.Ma=An}function jp(){this.ub=this.yd=this.td=this.Rb=0}function Bp(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Up(){this.Fb=this.Bb=this.Cb=0,this.Zb=rn(4),this.Lb=rn(4)}function Bm(){this.Yb=function(){var gn=[];return function An(Ln,Bn,Kn){for(var rr=Kn[Bn],ir=0;ir<rr&&(Ln.push(Kn.length>Bn+1?[]:0),!(Kn.length<Bn+1));ir++)An(Ln[ir],Bn+1,Kn)}(gn,0,[3,11]),gn}()}function p0(){this.jb=rn(3),this.Wc=an([4,8],Bm),this.Xc=an([4,17],Bm)}function pm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new rn(4),this.od=new rn(4)}function Tu(){this.ld=this.La=this.dd=this.tc=0}function $p(){this.Na=this.la=0}function gm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mm(){this.ad=rn(384),this.Za=0,this.Ob=rn(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tu),this.Y=0,this.ya=Array(new mm),this.aa=0,this.l=new na}function zu(){this.y=rn(16),this.f=rn(8),this.ea=rn(8)}function ku(){this.cb=this.a=0,this.sc="",this.m=new Mr,this.Od=new jp,this.Kc=new Bp,this.ed=new pm,this.Qa=new Up,this.Ic=this.$c=this.Aa=0,this.D=new vm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=sn(8,Mr),this.ia=0,this.pb=sn(4,gm),this.Pa=new p0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zu),this.Hd=0,this.rb=Array(new $p),this.sb=0,this.wa=Array(new Tu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mm),this.L=this.aa=0,this.gd=an([4,2],Tu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function io(){var gn=new ku;return gn!=null&&(gn.a=0,gn.sc="OK",gn.cb=0,gn.Xb=0,am||(am=Lu)),gn}function so(gn,An,Ln){return gn.a==0&&(gn.a=An,gn.sc=Ln,gn.cb=0),0}function Oo(gn,An,Ln){return 3<=Ln&&gn[An+0]==157&&gn[An+1]==1&&gn[An+2]==42}function Ho(gn,An){if(gn==null)return 0;if(gn.a=0,gn.sc="OK",An==null)return so(gn,2,"null VP8Io passed to VP8GetHeaders()");var Ln=An.data,Bn=An.w,Kn=An.ha;if(4>Kn)return so(gn,7,"Truncated header.");var rr=Ln[Bn+0]|Ln[Bn+1]<<8|Ln[Bn+2]<<16,ir=gn.Od;if(ir.Rb=!(1&rr),ir.td=rr>>1&7,ir.yd=rr>>4&1,ir.ub=rr>>5,3<ir.td)return so(gn,3,"Incorrect keyframe parameters.");if(!ir.yd)return so(gn,4,"Frame not displayable.");Bn+=3,Kn-=3;var or=gn.Kc;if(ir.Rb){if(7>Kn)return so(gn,7,"cannot parse picture header");if(!Oo(Ln,Bn,Kn))return so(gn,3,"Bad code word");or.c=16383&(Ln[Bn+4]<<8|Ln[Bn+3]),or.Td=Ln[Bn+4]>>6,or.i=16383&(Ln[Bn+6]<<8|Ln[Bn+5]),or.Ud=Ln[Bn+6]>>6,Bn+=7,Kn-=7,gn.za=or.c+15>>4,gn.Ub=or.i+15>>4,An.width=or.c,An.height=or.i,An.Da=0,An.j=0,An.v=0,An.va=An.width,An.o=An.height,An.da=0,An.ib=An.width,An.hb=An.height,An.U=An.width,An.T=An.height,nn((rr=gn.Pa).jb,0,255,rr.jb.length),_e((rr=gn.Qa)!=null),rr.Cb=0,rr.Bb=0,rr.Fb=1,nn(rr.Zb,0,0,rr.Zb.length),nn(rr.Lb,0,0,rr.Lb)}if(ir.ub>Kn)return so(gn,7,"bad partition length");ar(rr=gn.m,Ln,Bn,ir.ub),Bn+=ir.ub,Kn-=ir.ub,ir.Rb&&(or.Ld=sr(rr),or.Kd=sr(rr)),or=gn.Qa;var cr,Sr=gn.Pa;if(_e(rr!=null),_e(or!=null),or.Cb=sr(rr),or.Cb){if(or.Bb=sr(rr),sr(rr)){for(or.Fb=sr(rr),cr=0;4>cr;++cr)or.Zb[cr]=sr(rr)?dr(rr,7):0;for(cr=0;4>cr;++cr)or.Lb[cr]=sr(rr)?dr(rr,6):0}if(or.Bb)for(cr=0;3>cr;++cr)Sr.jb[cr]=sr(rr)?tr(rr,8):255}else or.Bb=0;if(rr.Ka)return so(gn,3,"cannot parse segment header");if((or=gn.ed).zd=sr(rr),or.Tb=tr(rr,6),or.wb=tr(rr,3),or.Pc=sr(rr),or.Pc&&sr(rr)){for(Sr=0;4>Sr;++Sr)sr(rr)&&(or.vd[Sr]=dr(rr,6));for(Sr=0;4>Sr;++Sr)sr(rr)&&(or.od[Sr]=dr(rr,6))}if(gn.L=or.Tb==0?0:or.zd?1:2,rr.Ka)return so(gn,3,"cannot parse filter header");var Fr=Kn;if(Kn=cr=Bn,Bn=cr+Fr,or=Fr,gn.Xb=(1<<tr(gn.m,2))-1,Fr<3*(Sr=gn.Xb))Ln=7;else{for(cr+=3*Sr,or-=3*Sr,Fr=0;Fr<Sr;++Fr){var Gr=Ln[Kn+0]|Ln[Kn+1]<<8|Ln[Kn+2]<<16;Gr>or&&(Gr=or),ar(gn.Jc[+Fr],Ln,cr,Gr),cr+=Gr,or-=Gr,Kn+=3}ar(gn.Jc[+Sr],Ln,cr,or),Ln=cr<Bn?0:5}if(Ln!=0)return so(gn,Ln,"cannot parse partitions");for(Ln=tr(cr=gn.m,7),Kn=sr(cr)?dr(cr,4):0,Bn=sr(cr)?dr(cr,4):0,or=sr(cr)?dr(cr,4):0,Sr=sr(cr)?dr(cr,4):0,cr=sr(cr)?dr(cr,4):0,Fr=gn.Qa,Gr=0;4>Gr;++Gr){if(Fr.Cb){var Br=Fr.Zb[Gr];Fr.Fb||(Br+=Ln)}else{if(0<Gr){gn.pb[Gr]=gn.pb[0];continue}Br=Ln}var Or=gn.pb[Gr];Or.Sc[0]=Jm[Io(Br+Kn,127)],Or.Sc[1]=C0[Io(Br+0,127)],Or.Eb[0]=2*Jm[Io(Br+Bn,127)],Or.Eb[1]=101581*C0[Io(Br+or,127)]>>16,8>Or.Eb[1]&&(Or.Eb[1]=8),Or.Qc[0]=Jm[Io(Br+Sr,117)],Or.Qc[1]=C0[Io(Br+cr,127)],Or.lc=Br+cr}if(!ir.Rb)return so(gn,4,"Not a key frame.");for(sr(rr),ir=gn.Pa,Ln=0;4>Ln;++Ln){for(Kn=0;8>Kn;++Kn)for(Bn=0;3>Bn;++Bn)for(or=0;11>or;++or)Sr=ur(rr,Zm[Ln][Kn][Bn][or])?tr(rr,8):q0[Ln][Kn][Bn][or],ir.Wc[Ln][Kn].Yb[Bn][or]=Sr;for(Kn=0;17>Kn;++Kn)ir.Xc[Ln][Kn]=ir.Wc[Ln][f1[Kn]]}return gn.kc=sr(rr),gn.kc&&(gn.Bd=tr(rr,8)),gn.cb=1}function Lu(gn,An,Ln,Bn,Kn,rr,ir){var or=An[Kn].Yb[Ln];for(Ln=0;16>Kn;++Kn){if(!ur(gn,or[Ln+0]))return Kn;for(;!ur(gn,or[Ln+1]);)if(or=An[++Kn].Yb[0],Ln=0,Kn==16)return 16;var cr=An[Kn+1].Yb;if(ur(gn,or[Ln+2])){var Sr=gn,Fr=0;if(ur(Sr,(Br=or)[(Gr=Ln)+3]))if(ur(Sr,Br[Gr+6])){for(or=0,Gr=2*(Fr=ur(Sr,Br[Gr+8]))+(Br=ur(Sr,Br[Gr+9+Fr])),Fr=0,Br=h1[Gr];Br[or];++or)Fr+=Fr+ur(Sr,Br[or]);Fr+=3+(8<<Gr)}else ur(Sr,Br[Gr+7])?(Fr=7+2*ur(Sr,165),Fr+=ur(Sr,145)):Fr=5+ur(Sr,159);else Fr=ur(Sr,Br[Gr+4])?3+ur(Sr,Br[Gr+5]):2;or=cr[2]}else Fr=1,or=cr[1];cr=ir+d1[Kn],0>(Sr=gn).b&&er(Sr);var Gr,Br=Sr.b,Or=(Gr=Sr.Ca>>1)-(Sr.I>>Br)>>31;--Sr.b,Sr.Ca+=Or,Sr.Ca|=1,Sr.I-=(Gr+1&Or)<<Br,rr[cr]=((Fr^Or)-Or)*Bn[(0<Kn)+0]}return 16}function Nu(gn){var An=gn.rb[gn.sb-1];An.la=0,An.Na=0,nn(gn.zc,0,0,gn.zc.length),gn.ja=0}function Ko(gn,An){if(gn==null)return 0;if(An==null)return so(gn,2,"NULL VP8Io parameter in VP8Decode().");if(!gn.cb&&!Ho(gn,An))return 0;if(_e(gn.cb),An.ac==null||An.ac(An)){An.ob&&(gn.L=0);var Ln=Lp[gn.L];if(gn.L==2?(gn.yb=0,gn.zb=0):(gn.yb=An.v-Ln>>4,gn.zb=An.j-Ln>>4,0>gn.yb&&(gn.yb=0),0>gn.zb&&(gn.zb=0)),gn.Va=An.o+15+Ln>>4,gn.Hb=An.va+15+Ln>>4,gn.Hb>gn.za&&(gn.Hb=gn.za),gn.Va>gn.Ub&&(gn.Va=gn.Ub),0<gn.L){var Bn=gn.ed;for(Ln=0;4>Ln;++Ln){var Kn;if(gn.Qa.Cb){var rr=gn.Qa.Lb[Ln];gn.Qa.Fb||(rr+=Bn.Tb)}else rr=Bn.Tb;for(Kn=0;1>=Kn;++Kn){var ir=gn.gd[Ln][Kn],or=rr;if(Bn.Pc&&(or+=Bn.vd[0],Kn&&(or+=Bn.od[0])),0<(or=0>or?0:63<or?63:or)){var cr=or;0<Bn.wb&&(cr=4<Bn.wb?cr>>2:cr>>1)>9-Bn.wb&&(cr=9-Bn.wb),1>cr&&(cr=1),ir.dd=cr,ir.tc=2*or+cr,ir.ld=40<=or?2:15<=or?1:0}else ir.tc=0;ir.La=Kn}}}Ln=0}else so(gn,6,"Frame setup failed"),Ln=gn.a;if(Ln=Ln==0){if(Ln){gn.$c=0,0<gn.Aa||(gn.Ic=e1);e:{Ln=gn.Ic,Bn=4*(cr=gn.za);var Sr=32*cr,Fr=cr+1,Gr=0<gn.L?cr*(0<gn.Aa?2:1):0,Br=(gn.Aa==2?2:1)*cr;if((ir=Bn+832+(Kn=3*(16*Ln+Lp[gn.L])/2*Sr)+(rr=gn.Fa!=null&&0<gn.Fa.length?gn.Kc.c*gn.Kc.i:0))!=ir)Ln=0;else{if(ir>gn.Vb){if(gn.Vb=0,gn.Ec=rn(ir),gn.Fc=0,gn.Ec==null){Ln=so(gn,1,"no memory during frame initialization.");break e}gn.Vb=ir}ir=gn.Ec,or=gn.Fc,gn.Ac=ir,gn.Bc=or,or+=Bn,gn.Gd=sn(Sr,zu),gn.Hd=0,gn.rb=sn(Fr+1,$p),gn.sb=1,gn.wa=Gr?sn(Gr,Tu):null,gn.Y=0,gn.D.Nb=0,gn.D.wa=gn.wa,gn.D.Y=gn.Y,0<gn.Aa&&(gn.D.Y+=cr),_e(!0),gn.oc=ir,gn.pc=or,or+=832,gn.ya=sn(Br,mm),gn.aa=0,gn.D.ya=gn.ya,gn.D.aa=gn.aa,gn.Aa==2&&(gn.D.aa+=cr),gn.R=16*cr,gn.B=8*cr,cr=(Sr=Lp[gn.L])*gn.R,Sr=Sr/2*gn.B,gn.sa=ir,gn.ta=or+cr,gn.qa=gn.sa,gn.ra=gn.ta+16*Ln*gn.R+Sr,gn.Ha=gn.qa,gn.Ia=gn.ra+8*Ln*gn.B+Sr,gn.$c=0,or+=Kn,gn.mb=rr?ir:null,gn.nb=rr?or:null,_e(or+rr<=gn.Fc+gn.Vb),Nu(gn),nn(gn.Ac,gn.Bc,0,Bn),Ln=1}}if(Ln){if(An.ka=0,An.y=gn.sa,An.O=gn.ta,An.f=gn.qa,An.N=gn.ra,An.ea=gn.Ha,An.Vd=gn.Ia,An.fa=gn.R,An.Rc=gn.B,An.F=null,An.J=0,!nm){for(Ln=-255;255>=Ln;++Ln)Wm[255+Ln]=0>Ln?-Ln:Ln;for(Ln=-1020;1020>=Ln;++Ln)Km[1020+Ln]=-128>Ln?-128:127<Ln?127:Ln;for(Ln=-112;112>=Ln;++Ln)wu[112+Ln]=-16>Ln?-16:15<Ln?15:Ln;for(Ln=-255;510>=Ln;++Ln)ru[255+Ln]=0>Ln?0:255<Ln?255:Ln;nm=1}yl=Vp,Al=Gl,tu=Um,cu=g0,_u=$m,Tp=ym,to=Xo,Xu=Xl,Qu=qu,Mu=Kp,up=yu,Bl=Dl,Cl=wp,Ms=Yp,js=Kl,qs=Ml,xo=Yl,nu=Wp,bu[0]=mu,bu[1]=yp,bu[2]=Vm,bu[3]=Sm,bu[4]=zm,bu[5]=po,bu[6]=Hm,bu[7]=_p,bu[8]=_m,bu[9]=y0,cp[0]=Hp,cp[1]=m0,cp[2]=Hu,cp[3]=rp,cp[4]=Ro,cp[5]=v0,cp[6]=Gp,$l[0]=sp,$l[1]=zp,$l[2]=S0,$l[3]=ip,$l[4]=Go,$l[5]=_0,$l[6]=Wl,Ln=1}else Ln=0}Ln&&(Ln=function(Or,ts){for(Or.M=0;Or.M<Or.Va;++Or.M){var Yr,Lr=Or.Jc[Or.M&Or.Xb],Dr=Or.m,Ir=Or;for(Yr=0;Yr<Ir.za;++Yr){var rs=Dr,es=Ir,Ss=es.Ac,ds=es.Bc+4*Yr,Ts=es.zc,fs=es.ya[es.aa+Yr];if(es.Qa.Bb?fs.$b=ur(rs,es.Pa.jb[0])?2+ur(rs,es.Pa.jb[2]):ur(rs,es.Pa.jb[1]):fs.$b=0,es.kc&&(fs.Ad=ur(rs,es.Bd)),fs.Za=!ur(rs,145)+0,fs.Za){var Qs=fs.Ob,ga=0;for(es=0;4>es;++es){var Xs,Ks=Ts[0+es];for(Xs=0;4>Xs;++Xs){Ks=W0[Ss[ds+Xs]][Ks];for(var no=E0[ur(rs,Ks[0])];0<no;)no=E0[2*no+ur(rs,Ks[no])];Ks=-no,Ss[ds+Xs]=Ks}tn(Qs,ga,Ss,ds,4),ga+=4,Ts[0+es]=Ks}}else Ks=ur(rs,156)?ur(rs,128)?1:3:ur(rs,163)?2:0,fs.Ob[0]=Ks,nn(Ss,ds,Ks,4),nn(Ts,0,Ks,4);fs.Dd=ur(rs,142)?ur(rs,114)?ur(rs,183)?1:3:2:0}if(Ir.m.Ka)return so(Or,7,"Premature end-of-partition0 encountered.");for(;Or.ja<Or.za;++Or.ja){if(Ir=Lr,rs=(Dr=Or).rb[Dr.sb-1],Ss=Dr.rb[Dr.sb+Dr.ja],Yr=Dr.ya[Dr.aa+Dr.ja],ds=Dr.kc?Yr.Ad:0)rs.la=Ss.la=0,Yr.Za||(rs.Na=Ss.Na=0),Yr.Hc=0,Yr.Gc=0,Yr.ia=0;else{var ba,Es;if(rs=Ss,Ss=Ir,ds=Dr.Pa.Xc,Ts=Dr.ya[Dr.aa+Dr.ja],fs=Dr.pb[Ts.$b],es=Ts.ad,Qs=0,ga=Dr.rb[Dr.sb-1],Ks=Xs=0,nn(es,Qs,0,384),Ts.Za)var xa=0,vo=ds[3];else{no=rn(16);var Ao=rs.Na+ga.Na;if(Ao=am(Ss,ds[1],Ao,fs.Eb,0,no,0),rs.Na=ga.Na=(0<Ao)+0,1<Ao)yl(no,0,es,Qs);else{var Tl=no[0]+3>>3;for(no=0;256>no;no+=16)es[Qs+no]=Tl}xa=1,vo=ds[0]}var Hs=15&rs.la,Vl=15&ga.la;for(no=0;4>no;++no){var Co=1&Vl;for(Tl=Es=0;4>Tl;++Tl)Hs=Hs>>1|(Co=(Ao=am(Ss,vo,Ao=Co+(1&Hs),fs.Sc,xa,es,Qs))>xa)<<7,Es=Es<<2|(3<Ao?3:1<Ao?2:es[Qs+0]!=0),Qs+=16;Hs>>=4,Vl=Vl>>1|Co<<7,Xs=(Xs<<8|Es)>>>0}for(vo=Hs,xa=Vl>>4,ba=0;4>ba;ba+=2){for(Es=0,Hs=rs.la>>4+ba,Vl=ga.la>>4+ba,no=0;2>no;++no){for(Co=1&Vl,Tl=0;2>Tl;++Tl)Ao=Co+(1&Hs),Hs=Hs>>1|(Co=0<(Ao=am(Ss,ds[2],Ao,fs.Qc,0,es,Qs)))<<3,Es=Es<<2|(3<Ao?3:1<Ao?2:es[Qs+0]!=0),Qs+=16;Hs>>=2,Vl=Vl>>1|Co<<5}Ks|=Es<<4*ba,vo|=Hs<<4<<ba,xa|=(240&Vl)<<ba}rs.la=vo,ga.la=xa,Ts.Hc=Xs,Ts.Gc=Ks,Ts.ia=43690&Ks?0:fs.ia,ds=!(Xs|Ks)}if(0<Dr.L&&(Dr.wa[Dr.Y+Dr.ja]=Dr.gd[Yr.$b][Yr.Za],Dr.wa[Dr.Y+Dr.ja].La|=!ds),Ir.Ka)return so(Or,7,"Premature end-of-file encountered.")}if(Nu(Or),Dr=ts,Ir=1,Yr=(Lr=Or).D,rs=0<Lr.L&&Lr.M>=Lr.zb&&Lr.M<=Lr.Va,Lr.Aa==0)e:{if(Yr.M=Lr.M,Yr.uc=rs,lu(Lr,Yr),Ir=1,Yr=(Es=Lr.D).Nb,rs=(Ks=Lp[Lr.L])*Lr.R,Ss=Ks/2*Lr.B,no=16*Yr*Lr.R,Tl=8*Yr*Lr.B,ds=Lr.sa,Ts=Lr.ta-rs+no,fs=Lr.qa,es=Lr.ra-Ss+Tl,Qs=Lr.Ha,ga=Lr.Ia-Ss+Tl,Vl=(Hs=Es.M)==0,Xs=Hs>=Lr.Va-1,Lr.Aa==2&&lu(Lr,Es),Es.uc)for(Co=(Ao=Lr).D.M,_e(Ao.D.uc),Es=Ao.yb;Es<Ao.Hb;++Es){xa=Es,vo=Co;var $o=(Vo=(lo=Ao).D).Nb;ba=lo.R;var Vo=Vo.wa[Vo.Y+xa],Sl=lo.sa,au=lo.ta+16*$o*ba+16*xa,xu=Vo.dd,Po=Vo.tc;if(Po!=0)if(_e(3<=Po),lo.L==1)0<xa&&qs(Sl,au,ba,Po+4),Vo.La&&nu(Sl,au,ba,Po),0<vo&&js(Sl,au,ba,Po+4),Vo.La&&xo(Sl,au,ba,Po);else{var du=lo.B,Du=lo.qa,Ju=lo.ra+8*$o*du+8*xa,Au=lo.Ha,lo=lo.Ia+8*$o*du+8*xa;$o=Vo.ld,0<xa&&(Xu(Sl,au,ba,Po+4,xu,$o),Mu(Du,Ju,Au,lo,du,Po+4,xu,$o)),Vo.La&&(Bl(Sl,au,ba,Po,xu,$o),Ms(Du,Ju,Au,lo,du,Po,xu,$o)),0<vo&&(to(Sl,au,ba,Po+4,xu,$o),Qu(Du,Ju,Au,lo,du,Po+4,xu,$o)),Vo.La&&(up(Sl,au,ba,Po,xu,$o),Cl(Du,Ju,Au,lo,du,Po,xu,$o))}}if(Lr.ia&&alert("todo:DitherRow"),Dr.put!=null){if(Es=16*Hs,Hs=16*(Hs+1),Vl?(Dr.y=Lr.sa,Dr.O=Lr.ta+no,Dr.f=Lr.qa,Dr.N=Lr.ra+Tl,Dr.ea=Lr.Ha,Dr.W=Lr.Ia+Tl):(Es-=Ks,Dr.y=ds,Dr.O=Ts,Dr.f=fs,Dr.N=es,Dr.ea=Qs,Dr.W=ga),Xs||(Hs-=Ks),Hs>Dr.o&&(Hs=Dr.o),Dr.F=null,Dr.J=null,Lr.Fa!=null&&0<Lr.Fa.length&&Es<Hs&&(Dr.J=Xp(Lr,Dr,Es,Hs-Es),Dr.F=Lr.mb,Dr.F==null&&Dr.F.length==0)){Ir=so(Lr,3,"Could not decode alpha data.");break e}Es<Dr.j&&(Ks=Dr.j-Es,Es=Dr.j,_e(!(1&Ks)),Dr.O+=Lr.R*Ks,Dr.N+=Lr.B*(Ks>>1),Dr.W+=Lr.B*(Ks>>1),Dr.F!=null&&(Dr.J+=Dr.width*Ks)),Es<Hs&&(Dr.O+=Dr.v,Dr.N+=Dr.v>>1,Dr.W+=Dr.v>>1,Dr.F!=null&&(Dr.J+=Dr.v),Dr.ka=Es-Dr.j,Dr.U=Dr.va-Dr.v,Dr.T=Hs-Es,Ir=Dr.put(Dr))}Yr+1!=Lr.Ic||Xs||(tn(Lr.sa,Lr.ta-rs,ds,Ts+16*Lr.R,rs),tn(Lr.qa,Lr.ra-Ss,fs,es+8*Lr.B,Ss),tn(Lr.Ha,Lr.Ia-Ss,Qs,ga+8*Lr.B,Ss))}if(!Ir)return so(Or,6,"Output aborted.")}return 1}(gn,An)),An.bc!=null&&An.bc(An),Ln&=1}return Ln?(gn.cb=0,Ln):0}function Fl(gn,An,Ln,Bn,Kn){Kn=gn[An+Ln+32*Bn]+(Kn>>3),gn[An+Ln+32*Bn]=-256&Kn?0>Kn?0:255:Kn}function vp(gn,An,Ln,Bn,Kn,rr){Fl(gn,An,0,Ln,Bn+Kn),Fl(gn,An,1,Ln,Bn+rr),Fl(gn,An,2,Ln,Bn-rr),Fl(gn,An,3,Ln,Bn-Kn)}function xl(gn){return(20091*gn>>16)+gn}function tp(gn,An,Ln,Bn){var Kn,rr=0,ir=rn(16);for(Kn=0;4>Kn;++Kn){var or=gn[An+0]+gn[An+8],cr=gn[An+0]-gn[An+8],Sr=(35468*gn[An+4]>>16)-xl(gn[An+12]),Fr=xl(gn[An+4])+(35468*gn[An+12]>>16);ir[rr+0]=or+Fr,ir[rr+1]=cr+Sr,ir[rr+2]=cr-Sr,ir[rr+3]=or-Fr,rr+=4,An++}for(Kn=rr=0;4>Kn;++Kn)or=(gn=ir[rr+0]+4)+ir[rr+8],cr=gn-ir[rr+8],Sr=(35468*ir[rr+4]>>16)-xl(ir[rr+12]),Fl(Ln,Bn,0,0,or+(Fr=xl(ir[rr+4])+(35468*ir[rr+12]>>16))),Fl(Ln,Bn,1,0,cr+Sr),Fl(Ln,Bn,2,0,cr-Sr),Fl(Ln,Bn,3,0,or-Fr),rr++,Bn+=32}function ym(gn,An,Ln,Bn){var Kn=gn[An+0]+4,rr=35468*gn[An+4]>>16,ir=xl(gn[An+4]),or=35468*gn[An+1]>>16;vp(Ln,Bn,0,Kn+ir,gn=xl(gn[An+1]),or),vp(Ln,Bn,1,Kn+rr,gn,or),vp(Ln,Bn,2,Kn-rr,gn,or),vp(Ln,Bn,3,Kn-ir,gn,or)}function Gl(gn,An,Ln,Bn,Kn){tp(gn,An,Ln,Bn),Kn&&tp(gn,An+16,Ln,Bn+4)}function Um(gn,An,Ln,Bn){Al(gn,An+0,Ln,Bn,1),Al(gn,An+32,Ln,Bn+128,1)}function g0(gn,An,Ln,Bn){var Kn;for(gn=gn[An+0]+4,Kn=0;4>Kn;++Kn)for(An=0;4>An;++An)Fl(Ln,Bn,An,Kn,gn)}function $m(gn,An,Ln,Bn){gn[An+0]&&cu(gn,An+0,Ln,Bn),gn[An+16]&&cu(gn,An+16,Ln,Bn+4),gn[An+32]&&cu(gn,An+32,Ln,Bn+128),gn[An+48]&&cu(gn,An+48,Ln,Bn+128+4)}function Vp(gn,An,Ln,Bn){var Kn,rr=rn(16);for(Kn=0;4>Kn;++Kn){var ir=gn[An+0+Kn]+gn[An+12+Kn],or=gn[An+4+Kn]+gn[An+8+Kn],cr=gn[An+4+Kn]-gn[An+8+Kn],Sr=gn[An+0+Kn]-gn[An+12+Kn];rr[0+Kn]=ir+or,rr[8+Kn]=ir-or,rr[4+Kn]=Sr+cr,rr[12+Kn]=Sr-cr}for(Kn=0;4>Kn;++Kn)ir=(gn=rr[0+4*Kn]+3)+rr[3+4*Kn],or=rr[1+4*Kn]+rr[2+4*Kn],cr=rr[1+4*Kn]-rr[2+4*Kn],Sr=gn-rr[3+4*Kn],Ln[Bn+0]=ir+or>>3,Ln[Bn+16]=Sr+cr>>3,Ln[Bn+32]=ir-or>>3,Ln[Bn+48]=Sr-cr>>3,Bn+=64}function np(gn,An,Ln){var Bn,Kn=An-32,rr=Ul,ir=255-gn[Kn-1];for(Bn=0;Bn<Ln;++Bn){var or,cr=rr,Sr=ir+gn[An-1];for(or=0;or<Ln;++or)gn[An+or]=cr[Sr+gn[Kn+or]];An+=32}}function yp(gn,An){np(gn,An,4)}function zp(gn,An){np(gn,An,8)}function m0(gn,An){np(gn,An,16)}function Hu(gn,An){var Ln;for(Ln=0;16>Ln;++Ln)tn(gn,An+32*Ln,gn,An-32,16)}function rp(gn,An){var Ln;for(Ln=16;0<Ln;--Ln)nn(gn,An,gn[An-1],16),An+=32}function Sp(gn,An,Ln){var Bn;for(Bn=0;16>Bn;++Bn)nn(An,Ln+32*Bn,gn,16)}function Hp(gn,An){var Ln,Bn=16;for(Ln=0;16>Ln;++Ln)Bn+=gn[An-1+32*Ln]+gn[An+Ln-32];Sp(Bn>>5,gn,An)}function Ro(gn,An){var Ln,Bn=8;for(Ln=0;16>Ln;++Ln)Bn+=gn[An-1+32*Ln];Sp(Bn>>4,gn,An)}function v0(gn,An){var Ln,Bn=8;for(Ln=0;16>Ln;++Ln)Bn+=gn[An+Ln-32];Sp(Bn>>4,gn,An)}function Gp(gn,An){Sp(128,gn,An)}function gs(gn,An,Ln){return gn+2*An+Ln+2>>2}function Vm(gn,An){var Ln,Bn=An-32;for(Bn=new Uint8Array([gs(gn[Bn-1],gn[Bn+0],gn[Bn+1]),gs(gn[Bn+0],gn[Bn+1],gn[Bn+2]),gs(gn[Bn+1],gn[Bn+2],gn[Bn+3]),gs(gn[Bn+2],gn[Bn+3],gn[Bn+4])]),Ln=0;4>Ln;++Ln)tn(gn,An+32*Ln,Bn,0,Bn.length)}function Sm(gn,An){var Ln=gn[An-1],Bn=gn[An-1+32],Kn=gn[An-1+64],rr=gn[An-1+96];br(gn,An+0,16843009*gs(gn[An-1-32],Ln,Bn)),br(gn,An+32,16843009*gs(Ln,Bn,Kn)),br(gn,An+64,16843009*gs(Bn,Kn,rr)),br(gn,An+96,16843009*gs(Kn,rr,rr))}function mu(gn,An){var Ln,Bn=4;for(Ln=0;4>Ln;++Ln)Bn+=gn[An+Ln-32]+gn[An-1+32*Ln];for(Bn>>=3,Ln=0;4>Ln;++Ln)nn(gn,An+32*Ln,Bn,4)}function zm(gn,An){var Ln=gn[An-1+0],Bn=gn[An-1+32],Kn=gn[An-1+64],rr=gn[An-1-32],ir=gn[An+0-32],or=gn[An+1-32],cr=gn[An+2-32],Sr=gn[An+3-32];gn[An+0+96]=gs(Bn,Kn,gn[An-1+96]),gn[An+1+96]=gn[An+0+64]=gs(Ln,Bn,Kn),gn[An+2+96]=gn[An+1+64]=gn[An+0+32]=gs(rr,Ln,Bn),gn[An+3+96]=gn[An+2+64]=gn[An+1+32]=gn[An+0+0]=gs(ir,rr,Ln),gn[An+3+64]=gn[An+2+32]=gn[An+1+0]=gs(or,ir,rr),gn[An+3+32]=gn[An+2+0]=gs(cr,or,ir),gn[An+3+0]=gs(Sr,cr,or)}function Hm(gn,An){var Ln=gn[An+1-32],Bn=gn[An+2-32],Kn=gn[An+3-32],rr=gn[An+4-32],ir=gn[An+5-32],or=gn[An+6-32],cr=gn[An+7-32];gn[An+0+0]=gs(gn[An+0-32],Ln,Bn),gn[An+1+0]=gn[An+0+32]=gs(Ln,Bn,Kn),gn[An+2+0]=gn[An+1+32]=gn[An+0+64]=gs(Bn,Kn,rr),gn[An+3+0]=gn[An+2+32]=gn[An+1+64]=gn[An+0+96]=gs(Kn,rr,ir),gn[An+3+32]=gn[An+2+64]=gn[An+1+96]=gs(rr,ir,or),gn[An+3+64]=gn[An+2+96]=gs(ir,or,cr),gn[An+3+96]=gs(or,cr,cr)}function po(gn,An){var Ln=gn[An-1+0],Bn=gn[An-1+32],Kn=gn[An-1+64],rr=gn[An-1-32],ir=gn[An+0-32],or=gn[An+1-32],cr=gn[An+2-32],Sr=gn[An+3-32];gn[An+0+0]=gn[An+1+64]=rr+ir+1>>1,gn[An+1+0]=gn[An+2+64]=ir+or+1>>1,gn[An+2+0]=gn[An+3+64]=or+cr+1>>1,gn[An+3+0]=cr+Sr+1>>1,gn[An+0+96]=gs(Kn,Bn,Ln),gn[An+0+64]=gs(Bn,Ln,rr),gn[An+0+32]=gn[An+1+96]=gs(Ln,rr,ir),gn[An+1+32]=gn[An+2+96]=gs(rr,ir,or),gn[An+2+32]=gn[An+3+96]=gs(ir,or,cr),gn[An+3+32]=gs(or,cr,Sr)}function _p(gn,An){var Ln=gn[An+0-32],Bn=gn[An+1-32],Kn=gn[An+2-32],rr=gn[An+3-32],ir=gn[An+4-32],or=gn[An+5-32],cr=gn[An+6-32],Sr=gn[An+7-32];gn[An+0+0]=Ln+Bn+1>>1,gn[An+1+0]=gn[An+0+64]=Bn+Kn+1>>1,gn[An+2+0]=gn[An+1+64]=Kn+rr+1>>1,gn[An+3+0]=gn[An+2+64]=rr+ir+1>>1,gn[An+0+32]=gs(Ln,Bn,Kn),gn[An+1+32]=gn[An+0+96]=gs(Bn,Kn,rr),gn[An+2+32]=gn[An+1+96]=gs(Kn,rr,ir),gn[An+3+32]=gn[An+2+96]=gs(rr,ir,or),gn[An+3+64]=gs(ir,or,cr),gn[An+3+96]=gs(or,cr,Sr)}function y0(gn,An){var Ln=gn[An-1+0],Bn=gn[An-1+32],Kn=gn[An-1+64],rr=gn[An-1+96];gn[An+0+0]=Ln+Bn+1>>1,gn[An+2+0]=gn[An+0+32]=Bn+Kn+1>>1,gn[An+2+32]=gn[An+0+64]=Kn+rr+1>>1,gn[An+1+0]=gs(Ln,Bn,Kn),gn[An+3+0]=gn[An+1+32]=gs(Bn,Kn,rr),gn[An+3+32]=gn[An+1+64]=gs(Kn,rr,rr),gn[An+3+64]=gn[An+2+64]=gn[An+0+96]=gn[An+1+96]=gn[An+2+96]=gn[An+3+96]=rr}function _m(gn,An){var Ln=gn[An-1+0],Bn=gn[An-1+32],Kn=gn[An-1+64],rr=gn[An-1+96],ir=gn[An-1-32],or=gn[An+0-32],cr=gn[An+1-32],Sr=gn[An+2-32];gn[An+0+0]=gn[An+2+32]=Ln+ir+1>>1,gn[An+0+32]=gn[An+2+64]=Bn+Ln+1>>1,gn[An+0+64]=gn[An+2+96]=Kn+Bn+1>>1,gn[An+0+96]=rr+Kn+1>>1,gn[An+3+0]=gs(or,cr,Sr),gn[An+2+0]=gs(ir,or,cr),gn[An+1+0]=gn[An+3+32]=gs(Ln,ir,or),gn[An+1+32]=gn[An+3+64]=gs(Bn,Ln,ir),gn[An+1+64]=gn[An+3+96]=gs(Kn,Bn,Ln),gn[An+1+96]=gs(rr,Kn,Bn)}function S0(gn,An){var Ln;for(Ln=0;8>Ln;++Ln)tn(gn,An+32*Ln,gn,An-32,8)}function ip(gn,An){var Ln;for(Ln=0;8>Ln;++Ln)nn(gn,An,gn[An-1],8),An+=32}function Yo(gn,An,Ln){var Bn;for(Bn=0;8>Bn;++Bn)nn(An,Ln+32*Bn,gn,8)}function sp(gn,An){var Ln,Bn=8;for(Ln=0;8>Ln;++Ln)Bn+=gn[An+Ln-32]+gn[An-1+32*Ln];Yo(Bn>>4,gn,An)}function _0(gn,An){var Ln,Bn=4;for(Ln=0;8>Ln;++Ln)Bn+=gn[An+Ln-32];Yo(Bn>>3,gn,An)}function Go(gn,An){var Ln,Bn=4;for(Ln=0;8>Ln;++Ln)Bn+=gn[An-1+32*Ln];Yo(Bn>>3,gn,An)}function Wl(gn,An){Yo(128,gn,An)}function Gu(gn,An,Ln){var Bn=gn[An-Ln],Kn=gn[An+0],rr=3*(Kn-Bn)+Am[1020+gn[An-2*Ln]-gn[An+Ln]],ir=rm[112+(rr+4>>3)];gn[An-Ln]=Ul[255+Bn+rm[112+(rr+3>>3)]],gn[An+0]=Ul[255+Kn-ir]}function qp(gn,An,Ln,Bn){var Kn=gn[An+0],rr=gn[An+Ln];return iu[255+gn[An-2*Ln]-gn[An-Ln]]>Bn||iu[255+rr-Kn]>Bn}function wm(gn,An,Ln,Bn){return 4*iu[255+gn[An-Ln]-gn[An+0]]+iu[255+gn[An-2*Ln]-gn[An+Ln]]<=Bn}function Gm(gn,An,Ln,Bn,Kn){var rr=gn[An-3*Ln],ir=gn[An-2*Ln],or=gn[An-Ln],cr=gn[An+0],Sr=gn[An+Ln],Fr=gn[An+2*Ln],Gr=gn[An+3*Ln];return 4*iu[255+or-cr]+iu[255+ir-Sr]>Bn?0:iu[255+gn[An-4*Ln]-rr]<=Kn&&iu[255+rr-ir]<=Kn&&iu[255+ir-or]<=Kn&&iu[255+Gr-Fr]<=Kn&&iu[255+Fr-Sr]<=Kn&&iu[255+Sr-cr]<=Kn}function Kl(gn,An,Ln,Bn){var Kn=2*Bn+1;for(Bn=0;16>Bn;++Bn)wm(gn,An+Bn,Ln,Kn)&&Gu(gn,An+Bn,Ln)}function Ml(gn,An,Ln,Bn){var Kn=2*Bn+1;for(Bn=0;16>Bn;++Bn)wm(gn,An+Bn*Ln,1,Kn)&&Gu(gn,An+Bn*Ln,1)}function Yl(gn,An,Ln,Bn){var Kn;for(Kn=3;0<Kn;--Kn)Kl(gn,An+=4*Ln,Ln,Bn)}function Wp(gn,An,Ln,Bn){var Kn;for(Kn=3;0<Kn;--Kn)Ml(gn,An+=4,Ln,Bn)}function vu(gn,An,Ln,Bn,Kn,rr,ir,or){for(rr=2*rr+1;0<Kn--;){if(Gm(gn,An,Ln,rr,ir))if(qp(gn,An,Ln,or))Gu(gn,An,Ln);else{var cr=gn,Sr=An,Fr=Ln,Gr=cr[Sr-2*Fr],Br=cr[Sr-Fr],Or=cr[Sr+0],ts=cr[Sr+Fr],Yr=cr[Sr+2*Fr],Lr=27*(Ir=Am[1020+3*(Or-Br)+Am[1020+Gr-ts]])+63>>7,Dr=18*Ir+63>>7,Ir=9*Ir+63>>7;cr[Sr-3*Fr]=Ul[255+cr[Sr-3*Fr]+Ir],cr[Sr-2*Fr]=Ul[255+Gr+Dr],cr[Sr-Fr]=Ul[255+Br+Lr],cr[Sr+0]=Ul[255+Or-Lr],cr[Sr+Fr]=Ul[255+ts-Dr],cr[Sr+2*Fr]=Ul[255+Yr-Ir]}An+=Bn}}function _o(gn,An,Ln,Bn,Kn,rr,ir,or){for(rr=2*rr+1;0<Kn--;){if(Gm(gn,An,Ln,rr,ir))if(qp(gn,An,Ln,or))Gu(gn,An,Ln);else{var cr=gn,Sr=An,Fr=Ln,Gr=cr[Sr-Fr],Br=cr[Sr+0],Or=cr[Sr+Fr],ts=rm[112+((Yr=3*(Br-Gr))+4>>3)],Yr=rm[112+(Yr+3>>3)],Lr=ts+1>>1;cr[Sr-2*Fr]=Ul[255+cr[Sr-2*Fr]+Lr],cr[Sr-Fr]=Ul[255+Gr+Yr],cr[Sr+0]=Ul[255+Br-ts],cr[Sr+Fr]=Ul[255+Or-Lr]}An+=Bn}}function Xo(gn,An,Ln,Bn,Kn,rr){vu(gn,An,Ln,1,16,Bn,Kn,rr)}function Xl(gn,An,Ln,Bn,Kn,rr){vu(gn,An,1,Ln,16,Bn,Kn,rr)}function yu(gn,An,Ln,Bn,Kn,rr){var ir;for(ir=3;0<ir;--ir)_o(gn,An+=4*Ln,Ln,1,16,Bn,Kn,rr)}function Dl(gn,An,Ln,Bn,Kn,rr){var ir;for(ir=3;0<ir;--ir)_o(gn,An+=4,1,Ln,16,Bn,Kn,rr)}function qu(gn,An,Ln,Bn,Kn,rr,ir,or){vu(gn,An,Kn,1,8,rr,ir,or),vu(Ln,Bn,Kn,1,8,rr,ir,or)}function Kp(gn,An,Ln,Bn,Kn,rr,ir,or){vu(gn,An,1,Kn,8,rr,ir,or),vu(Ln,Bn,1,Kn,8,rr,ir,or)}function wp(gn,An,Ln,Bn,Kn,rr,ir,or){_o(gn,An+4*Kn,Kn,1,8,rr,ir,or),_o(Ln,Bn+4*Kn,Kn,1,8,rr,ir,or)}function Yp(gn,An,Ln,Bn,Kn,rr,ir,or){_o(gn,An+4,1,Kn,8,rr,ir,or),_o(Ln,Bn+4,1,Kn,8,rr,ir,or)}function Bo(){this.ba=new cs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ls,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ap(){this.ua=0,this.Wa=new jn,this.vb=new jn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Yn,this.yc=new zn}function Ql(){this.xb=this.a=0,this.l=new na,this.ca=new cs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Mn,this.Pb=0,this.wd=new Mn,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ap,this.ab=0,this.gc=sn(4,ao),this.Oc=0}function bp(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function op(gn,An,Ln,Bn,Kn,rr,ir){for(gn=gn==null?0:gn[An+0],An=0;An<ir;++An)Kn[rr+An]=gn+Ln[Bn+An]&255,gn=Kn[rr+An]}function xp(gn,An,Ln,Bn,Kn,rr,ir){var or;if(gn==null)op(null,null,Ln,Bn,Kn,rr,ir);else for(or=0;or<ir;++or)Kn[rr+or]=gn[An+or]+Ln[Bn+or]&255}function Ru(gn,An,Ln,Bn,Kn,rr,ir){if(gn==null)op(null,null,Ln,Bn,Kn,rr,ir);else{var or,cr=gn[An+0],Sr=cr,Fr=cr;for(or=0;or<ir;++or)Sr=Fr+(cr=gn[An+or])-Sr,Fr=Ln[Bn+or]+(-256&Sr?0>Sr?0:255:Sr)&255,Sr=cr,Kn[rr+or]=Fr}}function Xp(gn,An,Ln,Bn){var Kn=An.width,rr=An.o;if(_e(gn!=null&&An!=null),0>Ln||0>=Bn||Ln+Bn>rr)return null;if(!gn.Cc){if(gn.ga==null){var ir;if(gn.ga=new bp,(ir=gn.ga==null)||(ir=An.width*An.o,_e(gn.Gb.length==0),gn.Gb=rn(ir),gn.Uc=0,gn.Gb==null?ir=0:(gn.mb=gn.Gb,gn.nb=gn.Uc,gn.rc=null,ir=1),ir=!ir),!ir){ir=gn.ga;var or=gn.Fa,cr=gn.P,Sr=gn.qc,Fr=gn.mb,Gr=gn.nb,Br=cr+1,Or=Sr-1,ts=ir.l;if(_e(or!=null&&Fr!=null&&An!=null),hp[0]=null,hp[1]=op,hp[2]=xp,hp[3]=Ru,ir.ca=Fr,ir.tb=Gr,ir.c=An.width,ir.i=An.height,_e(0<ir.c&&0<ir.i),1>=Sr)An=0;else if(ir.$a=or[cr+0]>>0&3,ir.Z=or[cr+0]>>2&3,ir.Lc=or[cr+0]>>4&3,cr=or[cr+0]>>6&3,0>ir.$a||1<ir.$a||4<=ir.Z||1<ir.Lc||cr)An=0;else if(ts.put=zs,ts.ac=Ls,ts.bc=Fs,ts.ma=ir,ts.width=An.width,ts.height=An.height,ts.Da=An.Da,ts.v=An.v,ts.va=An.va,ts.j=An.j,ts.o=An.o,ir.$a)e:{_e(ir.$a==1),An=ou();t:for(;;){if(An==null){An=0;break e}if(_e(ir!=null),ir.mc=An,An.c=ir.c,An.i=ir.i,An.l=ir.l,An.l.ma=ir,An.l.width=ir.c,An.l.height=ir.i,An.a=0,Jn(An.m,or,Br,Or),!Pu(ir.c,ir.i,1,An,null)||(An.ab==1&&An.gc[0].hc==3&&Lo(An.s)?(ir.ic=1,or=An.c*An.i,An.Ta=null,An.Ua=0,An.V=rn(or),An.Ba=0,An.V==null?(An.a=1,An=0):An=1):(ir.ic=0,An=mp(An,ir.c)),!An))break t;An=1;break e}ir.mc=null,An=0}else An=Or>=ir.c*ir.i;ir=!An}if(ir)return null;gn.ga.Lc!=1?gn.Ga=0:Bn=rr-Ln}_e(gn.ga!=null),_e(Ln+Bn<=rr);e:{if(An=(or=gn.ga).c,rr=or.l.o,or.$a==0){if(Br=gn.rc,Or=gn.Vc,ts=gn.Fa,cr=gn.P+1+Ln*An,Sr=gn.mb,Fr=gn.nb+Ln*An,_e(cr<=gn.P+gn.qc),or.Z!=0)for(_e(hp[or.Z]!=null),ir=0;ir<Bn;++ir)hp[or.Z](Br,Or,ts,cr,Sr,Fr,An),Br=Sr,Or=Fr,Fr+=An,cr+=An;else for(ir=0;ir<Bn;++ir)tn(Sr,Fr,ts,cr,An),Br=Sr,Or=Fr,Fr+=An,cr+=An;gn.rc=Br,gn.Vc=Or}else{if(_e(or.mc!=null),An=Ln+Bn,_e((ir=or.mc)!=null),_e(An<=ir.i),ir.C>=An)An=1;else if(or.ic||Vr(),or.ic){or=ir.V,Br=ir.Ba,Or=ir.c;var Yr=ir.i,Lr=(ts=1,cr=ir.$/Or,Sr=ir.$%Or,Fr=ir.m,Gr=ir.s,ir.$),Dr=Or*Yr,Ir=Or*An,rs=Gr.wc,es=Lr<Ir?Zs(Gr,Sr,cr):null;_e(Lr<=Dr),_e(An<=Yr),_e(Lo(Gr));t:for(;;){for(;!Fr.h&&Lr<Ir;){if(Sr&rs||(es=Zs(Gr,Sr,cr)),_e(es!=null),qn(Fr),256>(Yr=Js(es.G[0],es.H[0],Fr)))or[Br+Lr]=Yr,++Lr,++Sr>=Or&&(Sr=0,++cr<=An&&!(cr%16)&&zo(ir,cr));else{if(!(280>Yr)){ts=0;break t}Yr=Bs(Yr-256,Fr);var Ss,ds=Js(es.G[4],es.H[4],Fr);if(qn(Fr),!(Lr>=(ds=oo(Or,ds=Bs(ds,Fr)))&&Dr-Lr>=Yr)){ts=0;break t}for(Ss=0;Ss<Yr;++Ss)or[Br+Lr+Ss]=or[Br+Lr+Ss-ds];for(Lr+=Yr,Sr+=Yr;Sr>=Or;)Sr-=Or,++cr<=An&&!(cr%16)&&zo(ir,cr);Lr<Ir&&Sr&rs&&(es=Zs(Gr,Sr,cr))}_e(Fr.h==Nn(Fr))}zo(ir,cr>An?An:cr);break t}!ts||Fr.h&&Lr<Dr?(ts=0,ir.a=Fr.h?5:3):ir.$=Lr,An=ts}else An=Rl(ir,ir.V,ir.Ba,ir.c,ir.i,An,Ip);if(!An){Bn=0;break e}}Ln+Bn>=rr&&(gn.Cc=1),Bn=1}if(!Bn)return null;if(gn.Cc&&((Bn=gn.ga)!=null&&(Bn.mc=null),gn.ga=null,0<gn.Ga))return alert("todo:WebPDequantizeLevels"),null}return gn.nb+Ln*Kn}function Tn(gn,An,Ln,Bn,Kn,rr){for(;0<Kn--;){var ir,or=gn,cr=An+(Ln?1:0),Sr=gn,Fr=An+(Ln?0:3);for(ir=0;ir<Bn;++ir){var Gr=Sr[Fr+4*ir];Gr!=255&&(Gr*=32897,or[cr+4*ir+0]=or[cr+4*ir+0]*Gr>>23,or[cr+4*ir+1]=or[cr+4*ir+1]*Gr>>23,or[cr+4*ir+2]=or[cr+4*ir+2]*Gr>>23)}An+=rr}}function Qn(gn,An,Ln,Bn,Kn){for(;0<Bn--;){var rr;for(rr=0;rr<Ln;++rr){var ir=gn[An+2*rr+0],or=15&(Sr=gn[An+2*rr+1]),cr=4369*or,Sr=(240&Sr|Sr>>4)*cr>>16;gn[An+2*rr+0]=(240&ir|ir>>4)*cr>>16&240|(15&ir|ir<<4)*cr>>16>>4&15,gn[An+2*rr+1]=240&Sr|or}An+=Kn}}function wr(gn,An,Ln,Bn,Kn,rr,ir,or){var cr,Sr,Fr=255;for(Sr=0;Sr<Kn;++Sr){for(cr=0;cr<Bn;++cr){var Gr=gn[An+cr];rr[ir+4*cr]=Gr,Fr&=Gr}An+=Ln,ir+=or}return Fr!=255}function Nr(gn,An,Ln,Bn,Kn){var rr;for(rr=0;rr<Kn;++rr)Ln[Bn+rr]=gn[An+rr]>>8}function Vr(){hu=Tn,tm=Qn,jo=wr,qm=Nr}function Qr(gn,An,Ln){Dn[gn]=function(Bn,Kn,rr,ir,or,cr,Sr,Fr,Gr,Br,Or,ts,Yr,Lr,Dr,Ir,rs){var es,Ss=rs-1>>1,ds=or[cr+0]|Sr[Fr+0]<<16,Ts=Gr[Br+0]|Or[ts+0]<<16;_e(Bn!=null);var fs=3*ds+Ts+131074>>2;for(An(Bn[Kn+0],255&fs,fs>>16,Yr,Lr),rr!=null&&(fs=3*Ts+ds+131074>>2,An(rr[ir+0],255&fs,fs>>16,Dr,Ir)),es=1;es<=Ss;++es){var Qs=or[cr+es]|Sr[Fr+es]<<16,ga=Gr[Br+es]|Or[ts+es]<<16,Xs=ds+Qs+Ts+ga+524296,Ks=Xs+2*(Qs+Ts)>>3;fs=Ks+ds>>1,ds=(Xs=Xs+2*(ds+ga)>>3)+Qs>>1,An(Bn[Kn+2*es-1],255&fs,fs>>16,Yr,Lr+(2*es-1)*Ln),An(Bn[Kn+2*es-0],255&ds,ds>>16,Yr,Lr+(2*es-0)*Ln),rr!=null&&(fs=Xs+Ts>>1,ds=Ks+ga>>1,An(rr[ir+2*es-1],255&fs,fs>>16,Dr,Ir+(2*es-1)*Ln),An(rr[ir+2*es+0],255&ds,ds>>16,Dr,Ir+(2*es+0)*Ln)),ds=Qs,Ts=ga}1&rs||(fs=3*ds+Ts+131074>>2,An(Bn[Kn+rs-1],255&fs,fs>>16,Yr,Lr+(rs-1)*Ln),rr!=null&&(fs=3*Ts+ds+131074>>2,An(rr[ir+rs-1],255&fs,fs>>16,Dr,Ir+(rs-1)*Ln)))}}function os(){su[Cm]=K0,su[Em]=T0,su[w0]=Y0,su[Pm]=k0,su[Tm]=X0,su[Ym]=El,su[im]=Pl,su[Xm]=T0,su[sm]=k0,su[kp]=X0,su[Qm]=El}function hs(gn){return gn&~N0?0>gn?0:255:gn>>L0}function Ps(gn,An){return hs((19077*gn>>8)+(26149*An>>8)-14234)}function Ds(gn,An,Ln){return hs((19077*gn>>8)-(6419*An>>8)-(13320*Ln>>8)+8708)}function Is(gn,An){return hs((19077*gn>>8)+(33050*An>>8)-17685)}function Ys(gn,An,Ln,Bn,Kn){Bn[Kn+0]=Ps(gn,Ln),Bn[Kn+1]=Ds(gn,An,Ln),Bn[Kn+2]=Is(gn,An)}function co(gn,An,Ln,Bn,Kn){Bn[Kn+0]=Is(gn,An),Bn[Kn+1]=Ds(gn,An,Ln),Bn[Kn+2]=Ps(gn,Ln)}function go(gn,An,Ln,Bn,Kn){var rr=Ds(gn,An,Ln);An=rr<<3&224|Is(gn,An)>>3,Bn[Kn+0]=248&Ps(gn,Ln)|rr>>5,Bn[Kn+1]=An}function wo(gn,An,Ln,Bn,Kn){var rr=240&Is(gn,An)|15;Bn[Kn+0]=240&Ps(gn,Ln)|Ds(gn,An,Ln)>>4,Bn[Kn+1]=rr}function Uo(gn,An,Ln,Bn,Kn){Bn[Kn+0]=255,Ys(gn,An,Ln,Bn,Kn+1)}function mo(gn,An,Ln,Bn,Kn){co(gn,An,Ln,Bn,Kn),Bn[Kn+3]=255}function bo(gn,An,Ln,Bn,Kn){Ys(gn,An,Ln,Bn,Kn),Bn[Kn+3]=255}function Io(gn,An){return 0>gn?0:gn>An?An:gn}function Su(gn,An,Ln){Dn[gn]=function(Bn,Kn,rr,ir,or,cr,Sr,Fr,Gr){for(var Br=Fr+(-2&Gr)*Ln;Fr!=Br;)An(Bn[Kn+0],rr[ir+0],or[cr+0],Sr,Fr),An(Bn[Kn+1],rr[ir+0],or[cr+0],Sr,Fr+Ln),Kn+=2,++ir,++cr,Fr+=2*Ln;1&Gr&&An(Bn[Kn+0],rr[ir+0],or[cr+0],Sr,Fr)}}function bm(gn,An,Ln){return Ln==0?gn==0?An==0?6:5:An==0?4:0:Ln}function Ol(gn,An,Ln,Bn,Kn){switch(gn>>>30){case 3:Al(An,Ln,Bn,Kn,0);break;case 2:Tp(An,Ln,Bn,Kn);break;case 1:cu(An,Ln,Bn,Kn)}}function lu(gn,An){var Ln,Bn,Kn=An.M,rr=An.Nb,ir=gn.oc,or=gn.pc+40,cr=gn.oc,Sr=gn.pc+584,Fr=gn.oc,Gr=gn.pc+600;for(Ln=0;16>Ln;++Ln)ir[or+32*Ln-1]=129;for(Ln=0;8>Ln;++Ln)cr[Sr+32*Ln-1]=129,Fr[Gr+32*Ln-1]=129;for(0<Kn?ir[or-1-32]=cr[Sr-1-32]=Fr[Gr-1-32]=129:(nn(ir,or-32-1,127,21),nn(cr,Sr-32-1,127,9),nn(Fr,Gr-32-1,127,9)),Bn=0;Bn<gn.za;++Bn){var Br=An.ya[An.aa+Bn];if(0<Bn){for(Ln=-1;16>Ln;++Ln)tn(ir,or+32*Ln-4,ir,or+32*Ln+12,4);for(Ln=-1;8>Ln;++Ln)tn(cr,Sr+32*Ln-4,cr,Sr+32*Ln+4,4),tn(Fr,Gr+32*Ln-4,Fr,Gr+32*Ln+4,4)}var Or=gn.Gd,ts=gn.Hd+Bn,Yr=Br.ad,Lr=Br.Hc;if(0<Kn&&(tn(ir,or-32,Or[ts].y,0,16),tn(cr,Sr-32,Or[ts].f,0,8),tn(Fr,Gr-32,Or[ts].ea,0,8)),Br.Za){var Dr=ir,Ir=or-32+16;for(0<Kn&&(Bn>=gn.za-1?nn(Dr,Ir,Or[ts].y[15],4):tn(Dr,Ir,Or[ts+1].y,0,4)),Ln=0;4>Ln;Ln++)Dr[Ir+128+Ln]=Dr[Ir+256+Ln]=Dr[Ir+384+Ln]=Dr[Ir+0+Ln];for(Ln=0;16>Ln;++Ln,Lr<<=2)Dr=ir,Ir=or+n0[Ln],bu[Br.Ob[Ln]](Dr,Ir),Ol(Lr,Yr,16*+Ln,Dr,Ir)}else if(Dr=bm(Bn,Kn,Br.Ob[0]),cp[Dr](ir,or),Lr!=0)for(Ln=0;16>Ln;++Ln,Lr<<=2)Ol(Lr,Yr,16*+Ln,ir,or+n0[Ln]);for(Ln=Br.Gc,Dr=bm(Bn,Kn,Br.Dd),$l[Dr](cr,Sr),$l[Dr](Fr,Gr),Lr=Yr,Dr=cr,Ir=Sr,255&(Br=Ln>>0)&&(170&Br?tu(Lr,256,Dr,Ir):_u(Lr,256,Dr,Ir)),Br=Fr,Lr=Gr,255&(Ln>>=8)&&(170&Ln?tu(Yr,320,Br,Lr):_u(Yr,320,Br,Lr)),Kn<gn.Ub-1&&(tn(Or[ts].y,0,ir,or+480,16),tn(Or[ts].f,0,cr,Sr+224,8),tn(Or[ts].ea,0,Fr,Gr+224,8)),Ln=8*rr*gn.B,Or=gn.sa,ts=gn.ta+16*Bn+16*rr*gn.R,Yr=gn.qa,Br=gn.ra+8*Bn+Ln,Lr=gn.Ha,Dr=gn.Ia+8*Bn+Ln,Ln=0;16>Ln;++Ln)tn(Or,ts+Ln*gn.R,ir,or+32*Ln,16);for(Ln=0;8>Ln;++Ln)tn(Yr,Br+Ln*gn.B,cr,Sr+32*Ln,8),tn(Lr,Dr+Ln*gn.B,Fr,Gr+32*Ln,8)}}function lp(gn,An,Ln,Bn,Kn,rr,ir,or,cr){var Sr=[0],Fr=[0],Gr=0,Br=cr!=null?cr.kd:0,Or=cr!=null?cr:new Qo;if(gn==null||12>Ln)return 7;Or.data=gn,Or.w=An,Or.ha=Ln,An=[An],Ln=[Ln],Or.gb=[Or.gb];e:{var ts=An,Yr=Ln,Lr=Or.gb;if(_e(gn!=null),_e(Yr!=null),_e(Lr!=null),Lr[0]=0,12<=Yr[0]&&!en(gn,ts[0],"RIFF")){if(en(gn,ts[0]+8,"WEBP")){Lr=3;break e}var Dr=Pr(gn,ts[0]+4);if(12>Dr||4294967286<Dr){Lr=3;break e}if(Br&&Dr>Yr[0]-8){Lr=7;break e}Lr[0]=Dr,ts[0]+=12,Yr[0]-=12}Lr=0}if(Lr!=0)return Lr;for(Dr=0<Or.gb[0],Ln=Ln[0];;){e:{var Ir=gn;Yr=An,Lr=Ln;var rs=Sr,es=Fr,Ss=ts=[0];if((fs=Gr=[Gr])[0]=0,8>Lr[0])Lr=7;else{if(!en(Ir,Yr[0],"VP8X")){if(Pr(Ir,Yr[0]+4)!=10){Lr=3;break e}if(18>Lr[0]){Lr=7;break e}var ds=Pr(Ir,Yr[0]+8),Ts=1+Er(Ir,Yr[0]+12);if(2147483648<=Ts*(Ir=1+Er(Ir,Yr[0]+15))){Lr=3;break e}Ss!=null&&(Ss[0]=ds),rs!=null&&(rs[0]=Ts),es!=null&&(es[0]=Ir),Yr[0]+=18,Lr[0]-=18,fs[0]=1}Lr=0}}if(Gr=Gr[0],ts=ts[0],Lr!=0)return Lr;if(Yr=!!(2&ts),!Dr&&Gr)return 3;if(rr!=null&&(rr[0]=!!(16&ts)),ir!=null&&(ir[0]=Yr),or!=null&&(or[0]=0),ir=Sr[0],ts=Fr[0],Gr&&Yr&&cr==null){Lr=0;break}if(4>Ln){Lr=7;break}if(Dr&&Gr||!Dr&&!Gr&&!en(gn,An[0],"ALPH")){Ln=[Ln],Or.na=[Or.na],Or.P=[Or.P],Or.Sa=[Or.Sa];e:{ds=gn,Lr=An,Dr=Ln;var fs=Or.gb;rs=Or.na,es=Or.P,Ss=Or.Sa,Ts=22,_e(ds!=null),_e(Dr!=null),Ir=Lr[0];var Qs=Dr[0];for(_e(rs!=null),_e(Ss!=null),rs[0]=null,es[0]=null,Ss[0]=0;;){if(Lr[0]=Ir,Dr[0]=Qs,8>Qs){Lr=7;break e}var ga=Pr(ds,Ir+4);if(4294967286<ga){Lr=3;break e}var Xs=8+ga+1&-2;if(Ts+=Xs,0<fs&&Ts>fs){Lr=3;break e}if(!en(ds,Ir,"VP8 ")||!en(ds,Ir,"VP8L")){Lr=0;break e}if(Qs[0]<Xs){Lr=7;break e}en(ds,Ir,"ALPH")||(rs[0]=ds,es[0]=Ir+8,Ss[0]=ga),Ir+=Xs,Qs-=Xs}}if(Ln=Ln[0],Or.na=Or.na[0],Or.P=Or.P[0],Or.Sa=Or.Sa[0],Lr!=0)break}Ln=[Ln],Or.Ja=[Or.Ja],Or.xa=[Or.xa];e:if(fs=gn,Lr=An,Dr=Ln,rs=Or.gb[0],es=Or.Ja,Ss=Or.xa,ds=Lr[0],Ir=!en(fs,ds,"VP8 "),Ts=!en(fs,ds,"VP8L"),_e(fs!=null),_e(Dr!=null),_e(es!=null),_e(Ss!=null),8>Dr[0])Lr=7;else{if(Ir||Ts){if(fs=Pr(fs,ds+4),12<=rs&&fs>rs-12){Lr=3;break e}if(Br&&fs>Dr[0]-8){Lr=7;break e}es[0]=fs,Lr[0]+=8,Dr[0]-=8,Ss[0]=Ts}else Ss[0]=5<=Dr[0]&&fs[ds+0]==47&&!(fs[ds+4]>>5),es[0]=Dr[0];Lr=0}if(Ln=Ln[0],Or.Ja=Or.Ja[0],Or.xa=Or.xa[0],An=An[0],Lr!=0)break;if(4294967286<Or.Ja)return 3;if(or==null||Yr||(or[0]=Or.xa?2:1),ir=[ir],ts=[ts],Or.xa){if(5>Ln){Lr=7;break}or=ir,Br=ts,Yr=rr,gn==null||5>Ln?gn=0:5<=Ln&&gn[An+0]==47&&!(gn[An+4]>>5)?(Dr=[0],fs=[0],rs=[0],Jn(es=new Mn,gn,An,Ln),ws(es,Dr,fs,rs)?(or!=null&&(or[0]=Dr[0]),Br!=null&&(Br[0]=fs[0]),Yr!=null&&(Yr[0]=rs[0]),gn=1):gn=0):gn=0}else{if(10>Ln){Lr=7;break}or=ts,gn==null||10>Ln||!Oo(gn,An+3,Ln-3)?gn=0:(Br=gn[An+0]|gn[An+1]<<8|gn[An+2]<<16,Yr=16383&(gn[An+7]<<8|gn[An+6]),gn=16383&(gn[An+9]<<8|gn[An+8]),1&Br||3<(Br>>1&7)||!(Br>>4&1)||Br>>5>=Or.Ja||!Yr||!gn?gn=0:(ir&&(ir[0]=Yr),or&&(or[0]=gn),gn=1))}if(!gn||(ir=ir[0],ts=ts[0],Gr&&(Sr[0]!=ir||Fr[0]!=ts)))return 3;cr!=null&&(cr[0]=Or,cr.offset=An-cr.w,_e(4294967286>An-cr.w),_e(cr.offset==cr.ha-Ln));break}return Lr==0||Lr==7&&Gr&&cr==null?(rr!=null&&(rr[0]|=Or.na!=null&&0<Or.na.length),Bn!=null&&(Bn[0]=ir),Kn!=null&&(Kn[0]=ts),0):Lr}function Qp(gn,An,Ln){var Bn=An.width,Kn=An.height,rr=0,ir=0,or=Bn,cr=Kn;if(An.Da=gn!=null&&0<gn.Da,An.Da&&(or=gn.cd,cr=gn.bd,rr=gn.v,ir=gn.j,11>Ln||(rr&=-2,ir&=-2),0>rr||0>ir||0>=or||0>=cr||rr+or>Bn||ir+cr>Kn))return 0;if(An.v=rr,An.j=ir,An.va=rr+or,An.o=ir+cr,An.U=or,An.T=cr,An.da=gn!=null&&0<gn.da,An.da){if(!fr(or,cr,Ln=[gn.ib],rr=[gn.hb]))return 0;An.ib=Ln[0],An.hb=rr[0]}return An.ob=gn!=null&&gn.ob,An.Kb=gn==null||!gn.Sd,An.da&&(An.ob=An.ib<3*Bn/4&&An.hb<3*Kn/4,An.Kb=0),1}function Jl(gn){if(gn==null)return 2;if(11>gn.S){var An=gn.f.RGBA;An.fb+=(gn.height-1)*An.A,An.A=-An.A}else An=gn.f.kb,gn=gn.height,An.O+=(gn-1)*An.fa,An.fa=-An.fa,An.N+=(gn-1>>1)*An.Ab,An.Ab=-An.Ab,An.W+=(gn-1>>1)*An.Db,An.Db=-An.Db,An.F!=null&&(An.J+=(gn-1)*An.lb,An.lb=-An.lb);return 0}function Zl(gn,An,Ln,Bn){if(Bn==null||0>=gn||0>=An)return 2;if(Ln!=null){if(Ln.Da){var Kn=Ln.cd,rr=Ln.bd,ir=-2&Ln.v,or=-2&Ln.j;if(0>ir||0>or||0>=Kn||0>=rr||ir+Kn>gn||or+rr>An)return 2;gn=Kn,An=rr}if(Ln.da){if(!fr(gn,An,Kn=[Ln.ib],rr=[Ln.hb]))return 2;gn=Kn[0],An=rr[0]}}Bn.width=gn,Bn.height=An;e:{var cr=Bn.width,Sr=Bn.height;if(gn=Bn.S,0>=cr||0>=Sr||!(gn>=Cm&&13>gn))gn=2;else{if(0>=Bn.Rd&&Bn.sd==null){ir=rr=Kn=An=0;var Fr=(or=cr*r0[gn])*Sr;if(11>gn||(rr=(Sr+1)/2*(An=(cr+1)/2),gn==12&&(ir=(Kn=cr)*Sr)),(Sr=rn(Fr+2*rr+ir))==null){gn=1;break e}Bn.sd=Sr,11>gn?((cr=Bn.f.RGBA).eb=Sr,cr.fb=0,cr.A=or,cr.size=Fr):((cr=Bn.f.kb).y=Sr,cr.O=0,cr.fa=or,cr.Fd=Fr,cr.f=Sr,cr.N=0+Fr,cr.Ab=An,cr.Cd=rr,cr.ea=Sr,cr.W=0+Fr+rr,cr.Db=An,cr.Ed=rr,gn==12&&(cr.F=Sr,cr.J=0+Fr+2*rr),cr.Tc=ir,cr.lb=Kn)}if(An=1,Kn=Bn.S,rr=Bn.width,ir=Bn.height,Kn>=Cm&&13>Kn)if(11>Kn)gn=Bn.f.RGBA,An&=(or=Math.abs(gn.A))*(ir-1)+rr<=gn.size,An&=or>=rr*r0[Kn],An&=gn.eb!=null;else{gn=Bn.f.kb,or=(rr+1)/2,Fr=(ir+1)/2,cr=Math.abs(gn.fa),Sr=Math.abs(gn.Ab);var Gr=Math.abs(gn.Db),Br=Math.abs(gn.lb),Or=Br*(ir-1)+rr;An&=cr*(ir-1)+rr<=gn.Fd,An&=Sr*(Fr-1)+or<=gn.Cd,An=(An&=Gr*(Fr-1)+or<=gn.Ed)&cr>=rr&Sr>=or&Gr>=or,An&=gn.y!=null,An&=gn.f!=null,An&=gn.ea!=null,Kn==12&&(An&=Br>=rr,An&=Or<=gn.Tc,An&=gn.F!=null)}else An=0;gn=An?0:2}}return gn!=0||Ln!=null&&Ln.fd&&(gn=Jl(Bn)),gn}var qo=64,Ap=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wu=24,Cp=32,Jp=8,Jo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pr("Predictor0","PredictorAdd0"),Dn.Predictor0=function(){return 4278190080},Dn.Predictor1=function(gn){return gn},Dn.Predictor2=function(gn,An,Ln){return An[Ln+0]},Dn.Predictor3=function(gn,An,Ln){return An[Ln+1]},Dn.Predictor4=function(gn,An,Ln){return An[Ln-1]},Dn.Predictor5=function(gn,An,Ln){return xr(xr(gn,An[Ln+1]),An[Ln+0])},Dn.Predictor6=function(gn,An,Ln){return xr(gn,An[Ln-1])},Dn.Predictor7=function(gn,An,Ln){return xr(gn,An[Ln+0])},Dn.Predictor8=function(gn,An,Ln){return xr(An[Ln-1],An[Ln+0])},Dn.Predictor9=function(gn,An,Ln){return xr(An[Ln+0],An[Ln+1])},Dn.Predictor10=function(gn,An,Ln){return xr(xr(gn,An[Ln-1]),xr(An[Ln+0],An[Ln+1]))},Dn.Predictor11=function(gn,An,Ln){var Bn=An[Ln+0];return 0>=Rr(Bn>>24&255,gn>>24&255,(An=An[Ln-1])>>24&255)+Rr(Bn>>16&255,gn>>16&255,An>>16&255)+Rr(Bn>>8&255,gn>>8&255,An>>8&255)+Rr(255&Bn,255&gn,255&An)?Bn:gn},Dn.Predictor12=function(gn,An,Ln){var Bn=An[Ln+0];return(Ur((gn>>24&255)+(Bn>>24&255)-((An=An[Ln-1])>>24&255))<<24|Ur((gn>>16&255)+(Bn>>16&255)-(An>>16&255))<<16|Ur((gn>>8&255)+(Bn>>8&255)-(An>>8&255))<<8|Ur((255&gn)+(255&Bn)-(255&An)))>>>0},Dn.Predictor13=function(gn,An,Ln){var Bn=An[Ln-1];return(lr((gn=xr(gn,An[Ln+0]))>>24&255,Bn>>24&255)<<24|lr(gn>>16&255,Bn>>16&255)<<16|lr(gn>>8&255,Bn>>8&255)<<8|lr(gn>>0&255,Bn>>0&255))>>>0};var Zp=Dn.PredictorAdd0;Dn.PredictorAdd1=zr,pr("Predictor2","PredictorAdd2"),pr("Predictor3","PredictorAdd3"),pr("Predictor4","PredictorAdd4"),pr("Predictor5","PredictorAdd5"),pr("Predictor6","PredictorAdd6"),pr("Predictor7","PredictorAdd7"),pr("Predictor8","PredictorAdd8"),pr("Predictor9","PredictorAdd9"),pr("Predictor10","PredictorAdd10"),pr("Predictor11","PredictorAdd11"),pr("Predictor12","PredictorAdd12"),pr("Predictor13","PredictorAdd13");var _g=Dn.PredictorAdd2;ns("ColorIndexInverseTransform","MapARGB","32b",function(gn){return gn>>8&255},function(gn){return gn}),ns("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(gn){return gn},function(gn){return gn>>8&255});var xm,uu=Dn.ColorIndexInverseTransform,Ep=Dn.MapARGB,Pp=Dn.VP8LColorIndexInverseTransformAlpha,em=Dn.MapAlpha,Ku=Dn.VP8LPredictorsAdd=[];Ku.length=16,(Dn.VP8LPredictors=[]).length=16,(Dn.VP8LPredictorsAdd_C=[]).length=16,(Dn.VP8LPredictors_C=[]).length=16;var eu,Zo,Yu,Il,Fo,Fu,yl,Al,Tp,tu,cu,_u,to,Xu,Qu,Mu,up,Bl,Cl,Ms,js,qs,xo,nu,hu,tm,jo,qm,Wm=rn(511),Km=rn(2041),wu=rn(225),ru=rn(767),nm=0,Am=Km,rm=wu,Ul=ru,iu=Wm,Cm=0,Em=1,w0=2,Pm=3,Tm=4,Ym=5,im=6,Xm=7,sm=8,kp=9,Qm=10,b0=[2,3,7],$0=[3,3,11],x0=[280,256,256,256,40],V0=[0,1,1,1,0],z0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],A0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],H0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],G0=8,Jm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],C0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],am=null,h1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],d1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],E0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],W0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],f1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cp=[],bu=[],$l=[],P0=1,e0=2,hp=[],su=[];Qr("UpsampleRgbLinePair",Ys,3),Qr("UpsampleBgrLinePair",co,3),Qr("UpsampleRgbaLinePair",bo,4),Qr("UpsampleBgraLinePair",mo,4),Qr("UpsampleArgbLinePair",Uo,4),Qr("UpsampleRgba4444LinePair",wo,2),Qr("UpsampleRgb565LinePair",go,2);var K0=Dn.UpsampleRgbLinePair,Y0=Dn.UpsampleBgrLinePair,T0=Dn.UpsampleRgbaLinePair,k0=Dn.UpsampleBgraLinePair,X0=Dn.UpsampleArgbLinePair,El=Dn.UpsampleRgba4444LinePair,Pl=Dn.UpsampleRgb565LinePair,km=16,Lm=1<<km-1,om=-227,t0=482,L0=6,N0=(256<<L0)-1,R0=0,F0=rn(256),Q0=rn(256),J0=rn(256),M0=rn(256),D0=rn(t0-om),Z0=rn(t0-om);Su("YuvToRgbRow",Ys,3),Su("YuvToBgrRow",co,3),Su("YuvToRgbaRow",bo,4),Su("YuvToBgraRow",mo,4),Su("YuvToArgbRow",Uo,4),Su("YuvToRgba4444Row",wo,2),Su("YuvToRgb565Row",go,2);var n0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lp=[0,2,8],p1=[8,7,6,4,4,2,2,2,1,1,1,1],e1=1;this.WebPDecodeRGBA=function(gn,An,Ln,Bn,Kn){var rr=Em,ir=new Bo,or=new cs;ir.ba=or,or.S=rr,or.width=[or.width],or.height=[or.height];var cr=or.width,Sr=or.height,Fr=new xs;if(Fr==null||gn==null)var Gr=2;else _e(Fr!=null),Gr=lp(gn,An,Ln,Fr.width,Fr.height,Fr.Pd,Fr.Qd,Fr.format,null);if(Gr!=0?cr=0:(cr!=null&&(cr[0]=Fr.width[0]),Sr!=null&&(Sr[0]=Fr.height[0]),cr=1),cr){or.width=or.width[0],or.height=or.height[0],Bn!=null&&(Bn[0]=or.width),Kn!=null&&(Kn[0]=or.height);e:{if(Bn=new na,(Kn=new Qo).data=gn,Kn.w=An,Kn.ha=Ln,Kn.kd=1,An=[0],_e(Kn!=null),((gn=lp(Kn.data,Kn.w,Kn.ha,null,null,null,An,null,Kn))==0||gn==7)&&An[0]&&(gn=4),(An=gn)==0){if(_e(ir!=null),Bn.data=Kn.data,Bn.w=Kn.w+Kn.offset,Bn.ha=Kn.ha-Kn.offset,Bn.put=zs,Bn.ac=Ls,Bn.bc=Fs,Bn.ma=ir,Kn.xa){if((gn=ou())==null){ir=1;break e}if(function(Br,Or){var ts=[0],Yr=[0],Lr=[0];t:for(;;){if(Br==null)return 0;if(Or==null)return Br.a=2,0;if(Br.l=Or,Br.a=0,Jn(Br.m,Or.data,Or.w,Or.ha),!ws(Br.m,ts,Yr,Lr)){Br.a=3;break t}if(Br.xb=e0,Or.width=ts[0],Or.height=Yr[0],!Pu(ts[0],Yr[0],1,Br,null))break t;return 1}return _e(Br.a!=0),0}(gn,Bn)){if(Bn=(An=Zl(Bn.width,Bn.height,ir.Oa,ir.ba))==0){t:{Bn=gn;n:for(;;){if(Bn==null){Bn=0;break t}if(_e(Bn.s.yc!=null),_e(Bn.s.Ya!=null),_e(0<Bn.s.Wb),_e((Ln=Bn.l)!=null),_e((Kn=Ln.ma)!=null),Bn.xb!=0){if(Bn.ca=Kn.ba,Bn.tb=Kn.tb,_e(Bn.ca!=null),!Qp(Kn.Oa,Ln,Pm)){Bn.a=2;break n}if(!mp(Bn,Ln.width)||Ln.da)break n;if((Ln.da||gr(Bn.ca.S))&&Vr(),11>Bn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Bn.ca.f.kb.F!=null&&Vr()),Bn.Pb&&0<Bn.s.ua&&Bn.s.vb.X==null&&!$n(Bn.s.vb,Bn.s.Wa.Xa)){Bn.a=1;break n}Bn.xb=0}if(!Rl(Bn,Bn.V,Bn.Ba,Bn.c,Bn.i,Ln.o,ro))break n;Kn.Dc=Bn.Ma,Bn=1;break t}_e(Bn.a!=0),Bn=0}Bn=!Bn}Bn&&(An=gn.a)}else An=gn.a}else{if((gn=new io)==null){ir=1;break e}if(gn.Fa=Kn.na,gn.P=Kn.P,gn.qc=Kn.Sa,Ho(gn,Bn)){if((An=Zl(Bn.width,Bn.height,ir.Oa,ir.ba))==0){if(gn.Aa=0,Ln=ir.Oa,_e((Kn=gn)!=null),Ln!=null){if(0<(cr=0>(cr=Ln.Md)?0:100<cr?255:255*cr/100)){for(Sr=Fr=0;4>Sr;++Sr)12>(Gr=Kn.pb[Sr]).lc&&(Gr.ia=cr*p1[0>Gr.lc?0:Gr.lc]>>3),Fr|=Gr.ia;Fr&&(alert("todo:VP8InitRandom"),Kn.ia=1)}Kn.Ga=Ln.Id,100<Kn.Ga?Kn.Ga=100:0>Kn.Ga&&(Kn.Ga=0)}Ko(gn,Bn)||(An=gn.a)}}else An=gn.a}An==0&&ir.Oa!=null&&ir.Oa.fd&&(An=Jl(ir.ba))}ir=An}rr=ir!=0?null:11>rr?or.f.RGBA.eb:or.f.kb.y}else rr=null;return rr};var r0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function cn(Dn,Wn){for(var Vn="",On=0;On<4;On++)Vn+=String.fromCharCode(Dn[Wn++]);return Vn}function dn(Dn,Wn){return(Dn[Wn+0]<<0|Dn[Wn+1]<<8|Dn[Wn+2]<<16)>>>0}function mn(Dn,Wn){return(Dn[Wn+0]<<0|Dn[Wn+1]<<8|Dn[Wn+2]<<16|Dn[Wn+3]<<24)>>>0}new on;var pn=[0],fn=[0],yn=[],bn=new on,wn=St,vn=function(Dn,Wn){var Vn={},On=0,zn=!1,nr=0,Yn=0;if(Vn.frames=[],!function(Fn,Nn,Un,qn){for(var er=0;er<qn;er++)if(Fn[Nn+er]!=Un.charCodeAt(er))return!0;return!1}(Dn,Wn,"RIFF",4)){var ar,tr;for(mn(Dn,Wn+=4),Wn+=8;Wn<Dn.length;){var dr=cn(Dn,Wn),Jn=mn(Dn,Wn+=4);Wn+=4;var hr=Jn+(1&Jn);switch(dr){case"VP8 ":case"VP8L":Vn.frames[On]===void 0&&(Vn.frames[On]={}),(Mn=Vn.frames[On]).src_off=zn?Yn:Wn-8,Mn.src_size=nr+Jn+8,On++,zn&&(zn=!1,nr=0,Yn=0);break;case"VP8X":(Mn=Vn.header={}).feature_flags=Dn[Wn];var yr=Wn+4;Mn.canvas_width=1+dn(Dn,yr),yr+=3,Mn.canvas_height=1+dn(Dn,yr),yr+=3;break;case"ALPH":zn=!0,nr=hr+8,Yn=Wn-8;break;case"ANIM":(Mn=Vn.header).bgcolor=mn(Dn,Wn),yr=Wn+4,Mn.loop_count=(ar=Dn)[(tr=yr)+0]<<0|ar[tr+1]<<8,yr+=2;break;case"ANMF":var Mr,Mn;(Mn=Vn.frames[On]={}).offset_x=2*dn(Dn,Wn),Wn+=3,Mn.offset_y=2*dn(Dn,Wn),Wn+=3,Mn.width=1+dn(Dn,Wn),Wn+=3,Mn.height=1+dn(Dn,Wn),Wn+=3,Mn.duration=dn(Dn,Wn),Wn+=3,Mr=Dn[Wn++],Mn.dispose=1&Mr,Mn.blend=Mr>>1&1}dr!="ANMF"&&(Wn+=hr)}return Vn}}(wn,0);vn.response=wn,vn.rgbaoutput=!0,vn.dataurl=!1;var Sn=vn.header?vn.header:null,xn=vn.frames?vn.frames:null;if(Sn){Sn.loop_counter=Sn.loop_count,pn=[Sn.canvas_height],fn=[Sn.canvas_width];for(var En=0;En<xn.length&&xn[En].blend!=0;En++);}var Cn=xn[0],kn=bn.WebPDecodeRGBA(wn,Cn.src_off,Cn.src_size,fn,pn);Cn.rgba=kn,Cn.imgwidth=fn[0],Cn.imgheight=pn[0];for(var In=0;In<fn[0]*pn[0]*4;In++)yn[In]=kn[In];return this.width=fn,this.height=pn,this.data=yn,this}(function(St){var _e=function(){return typeof zlibSync=="function"},en=function(pn,fn,yn,bn){var wn=4,vn=sn;switch(bn){case St.image_compression.FAST:wn=1,vn=rn;break;case St.image_compression.MEDIUM:wn=6,vn=an;break;case St.image_compression.SLOW:wn=9,vn=on}pn=tn(pn,fn,yn,vn);var Sn=zlibSync(pn,{level:wn});return St.__addimage__.arrayBufferToBinaryString(Sn)},tn=function(pn,fn,yn,bn){for(var wn,vn,Sn,xn=pn.length/fn,En=new Uint8Array(pn.length+xn),Cn=dn(),kn=0;kn<xn;kn+=1){if(Sn=kn*fn,wn=pn.subarray(Sn,Sn+fn),bn)En.set(bn(wn,yn,vn),Sn+kn);else{for(var In,Dn=Cn.length,Wn=[];In<Dn;In+=1)Wn[In]=Cn[In](wn,yn,vn);var Vn=mn(Wn.concat());En.set(Wn[Vn],Sn+kn)}vn=wn}return En},nn=function(pn){var fn=Array.apply([],pn);return fn.unshift(0),fn},rn=function(pn,fn){var yn,bn=[],wn=pn.length;bn[0]=1;for(var vn=0;vn<wn;vn+=1)yn=pn[vn-fn]||0,bn[vn+1]=pn[vn]-yn+256&255;return bn},sn=function(pn,fn,yn){var bn,wn=[],vn=pn.length;wn[0]=2;for(var Sn=0;Sn<vn;Sn+=1)bn=yn&&yn[Sn]||0,wn[Sn+1]=pn[Sn]-bn+256&255;return wn},an=function(pn,fn,yn){var bn,wn,vn=[],Sn=pn.length;vn[0]=3;for(var xn=0;xn<Sn;xn+=1)bn=pn[xn-fn]||0,wn=yn&&yn[xn]||0,vn[xn+1]=pn[xn]+256-(bn+wn>>>1)&255;return vn},on=function(pn,fn,yn){var bn,wn,vn,Sn,xn=[],En=pn.length;xn[0]=4;for(var Cn=0;Cn<En;Cn+=1)bn=pn[Cn-fn]||0,wn=yn&&yn[Cn]||0,vn=yn&&yn[Cn-fn]||0,Sn=cn(bn,wn,vn),xn[Cn+1]=pn[Cn]-Sn+256&255;return xn},cn=function(pn,fn,yn){if(pn===fn&&fn===yn)return pn;var bn=Math.abs(fn-yn),wn=Math.abs(pn-yn),vn=Math.abs(pn+fn-yn-yn);return bn<=wn&&bn<=vn?pn:wn<=vn?fn:yn},dn=function(){return[nn,rn,sn,an,on]},mn=function(pn){var fn=pn.map(function(yn){return yn.reduce(function(bn,wn){return bn+Math.abs(wn)},0)});return fn.indexOf(Math.min.apply(null,fn))};St.processPNG=function(pn,fn,yn,bn){var wn,vn,Sn,xn,En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar=this.decode.FLATE_DECODE,tr="";if(this.__addimage__.isArrayBuffer(pn)&&(pn=new Uint8Array(pn)),this.__addimage__.isArrayBufferView(pn)){if(pn=(Sn=new Kt(pn)).imgData,vn=Sn.bits,wn=Sn.colorSpace,En=Sn.colors,[4,6].indexOf(Sn.colorType)!==-1){if(Sn.bits===8){Dn=(In=Sn.pixelBitlength==32?new Uint32Array(Sn.decodePixels().buffer):Sn.pixelBitlength==16?new Uint16Array(Sn.decodePixels().buffer):new Uint8Array(Sn.decodePixels().buffer)).length,Vn=new Uint8Array(Dn*Sn.colors),Wn=new Uint8Array(Dn);var dr,Jn=Sn.pixelBitlength-Sn.bits;for(nr=0,Yn=0;nr<Dn;nr++){for(zn=In[nr],dr=0;dr<Jn;)Vn[Yn++]=zn>>>dr&255,dr+=Sn.bits;Wn[nr]=zn>>>dr&255}}if(Sn.bits===16){Dn=(In=new Uint32Array(Sn.decodePixels().buffer)).length,Vn=new Uint8Array(Dn*(32/Sn.pixelBitlength)*Sn.colors),Wn=new Uint8Array(Dn*(32/Sn.pixelBitlength)),On=Sn.colors>1,nr=0,Yn=0;for(var hr=0;nr<Dn;)zn=In[nr++],Vn[Yn++]=zn>>>0&255,On&&(Vn[Yn++]=zn>>>16&255,zn=In[nr++],Vn[Yn++]=zn>>>0&255),Wn[hr++]=zn>>>16&255;vn=8}bn!==St.image_compression.NONE&&_e()?(pn=en(Vn,Sn.width*Sn.colors,Sn.colors,bn),kn=en(Wn,Sn.width,1,bn)):(pn=Vn,kn=Wn,ar=void 0)}if(Sn.colorType===3&&(wn=this.color_spaces.INDEXED,Cn=Sn.palette,Sn.transparency.indexed)){var yr=Sn.transparency.indexed,Mr=0;for(nr=0,Dn=yr.length;nr<Dn;++nr)Mr+=yr[nr];if((Mr/=255)===Dn-1&&yr.indexOf(0)!==-1)xn=[yr.indexOf(0)];else if(Mr!==Dn){for(In=Sn.decodePixels(),Wn=new Uint8Array(In.length),nr=0,Dn=In.length;nr<Dn;nr++)Wn[nr]=yr[In[nr]];kn=en(Wn,Sn.width,1)}}var Mn=function(Fn){var Nn;switch(Fn){case St.image_compression.FAST:Nn=11;break;case St.image_compression.MEDIUM:Nn=13;break;case St.image_compression.SLOW:Nn=14;break;default:Nn=12}return Nn}(bn);return ar===this.decode.FLATE_DECODE&&(tr="/Predictor "+Mn+" "),tr+="/Colors "+En+" /BitsPerComponent "+vn+" /Columns "+Sn.width,(this.__addimage__.isArrayBuffer(pn)||this.__addimage__.isArrayBufferView(pn))&&(pn=this.__addimage__.arrayBufferToBinaryString(pn)),(kn&&this.__addimage__.isArrayBuffer(kn)||this.__addimage__.isArrayBufferView(kn))&&(kn=this.__addimage__.arrayBufferToBinaryString(kn)),{alias:yn,data:pn,index:fn,filter:ar,decodeParameters:tr,transparency:xn,palette:Cn,sMask:kn,predictor:Mn,width:Sn.width,height:Sn.height,bitsPerComponent:vn,colorSpace:wn}}}})(E.API),function(St){St.processGIF89A=function(_e,en,tn,nn){var rn=new Zt(_e),sn=rn.width,an=rn.height,on=[];rn.decodeAndBlitFrameRGBA(0,on);var cn={data:on,width:sn,height:an},dn=new Qt(100).encode(cn,100);return St.processJPEG.call(this,dn,en,tn,nn)},St.processGIF87A=St.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var St=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(St);for(var _e=0;_e<St;_e++){var en=this.datav.getUint8(this.pos++,!0),tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0),rn=this.datav.getUint8(this.pos++,!0);this.palette[_e]={red:nn,green:tn,blue:en,quad:rn}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var St="bit"+this.bitPP,_e=this.width*this.height*4;this.data=new Uint8Array(_e),this[St]()}catch(en){a.log("bit decode error:"+en)}},te.prototype.bit1=function(){var St,_e=Math.ceil(this.width/8),en=_e%4;for(St=this.height-1;St>=0;St--){for(var tn=this.bottom_up?St:this.height-1-St,nn=0;nn<_e;nn++)for(var rn=this.datav.getUint8(this.pos++,!0),sn=tn*this.width*4+8*nn*4,an=0;an<8&&8*nn+an<this.width;an++){var on=this.palette[rn>>7-an&1];this.data[sn+4*an]=on.blue,this.data[sn+4*an+1]=on.green,this.data[sn+4*an+2]=on.red,this.data[sn+4*an+3]=255}en!==0&&(this.pos+=4-en)}},te.prototype.bit4=function(){for(var St=Math.ceil(this.width/2),_e=St%4,en=this.height-1;en>=0;en--){for(var tn=this.bottom_up?en:this.height-1-en,nn=0;nn<St;nn++){var rn=this.datav.getUint8(this.pos++,!0),sn=tn*this.width*4+2*nn*4,an=rn>>4,on=15&rn,cn=this.palette[an];if(this.data[sn]=cn.blue,this.data[sn+1]=cn.green,this.data[sn+2]=cn.red,this.data[sn+3]=255,2*nn+1>=this.width)break;cn=this.palette[on],this.data[sn+4]=cn.blue,this.data[sn+4+1]=cn.green,this.data[sn+4+2]=cn.red,this.data[sn+4+3]=255}_e!==0&&(this.pos+=4-_e)}},te.prototype.bit8=function(){for(var St=this.width%4,_e=this.height-1;_e>=0;_e--){for(var en=this.bottom_up?_e:this.height-1-_e,tn=0;tn<this.width;tn++){var nn=this.datav.getUint8(this.pos++,!0),rn=en*this.width*4+4*tn;if(nn<this.palette.length){var sn=this.palette[nn];this.data[rn]=sn.red,this.data[rn+1]=sn.green,this.data[rn+2]=sn.blue,this.data[rn+3]=255}else this.data[rn]=255,this.data[rn+1]=255,this.data[rn+2]=255,this.data[rn+3]=255}St!==0&&(this.pos+=4-St)}},te.prototype.bit15=function(){for(var St=this.width%3,_e=parseInt("11111",2),en=this.height-1;en>=0;en--){for(var tn=this.bottom_up?en:this.height-1-en,nn=0;nn<this.width;nn++){var rn=this.datav.getUint16(this.pos,!0);this.pos+=2;var sn=(rn&_e)/_e*255|0,an=(rn>>5&_e)/_e*255|0,on=(rn>>10&_e)/_e*255|0,cn=rn>>15?255:0,dn=tn*this.width*4+4*nn;this.data[dn]=on,this.data[dn+1]=an,this.data[dn+2]=sn,this.data[dn+3]=cn}this.pos+=St}},te.prototype.bit16=function(){for(var St=this.width%3,_e=parseInt("11111",2),en=parseInt("111111",2),tn=this.height-1;tn>=0;tn--){for(var nn=this.bottom_up?tn:this.height-1-tn,rn=0;rn<this.width;rn++){var sn=this.datav.getUint16(this.pos,!0);this.pos+=2;var an=(sn&_e)/_e*255|0,on=(sn>>5&en)/en*255|0,cn=(sn>>11)/_e*255|0,dn=nn*this.width*4+4*rn;this.data[dn]=cn,this.data[dn+1]=on,this.data[dn+2]=an,this.data[dn+3]=255}this.pos+=St}},te.prototype.bit24=function(){for(var St=this.height-1;St>=0;St--){for(var _e=this.bottom_up?St:this.height-1-St,en=0;en<this.width;en++){var tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0),rn=this.datav.getUint8(this.pos++,!0),sn=_e*this.width*4+4*en;this.data[sn]=rn,this.data[sn+1]=nn,this.data[sn+2]=tn,this.data[sn+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var St=this.height-1;St>=0;St--)for(var _e=this.bottom_up?St:this.height-1-St,en=0;en<this.width;en++){var tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0),rn=this.datav.getUint8(this.pos++,!0),sn=this.datav.getUint8(this.pos++,!0),an=_e*this.width*4+4*en;this.data[an]=rn,this.data[an+1]=nn,this.data[an+2]=tn,this.data[an+3]=sn}},te.prototype.getData=function(){return this.data},function(St){St.processBMP=function(_e,en,tn,nn){var rn=new te(_e,!1),sn=rn.width,an=rn.height,on={data:rn.getData(),width:sn,height:an},cn=new Qt(100).encode(on,100);return St.processJPEG.call(this,cn,en,tn,nn)}}(E.API),ee.prototype.getData=function(){return this.data},function(St){St.processWEBP=function(_e,en,tn,nn){var rn=new ee(_e),sn=rn.width,an=rn.height,on={data:rn.getData(),width:sn,height:an},cn=new Qt(100).encode(on,100);return St.processJPEG.call(this,cn,en,tn,nn)}}(E.API),E.API.processRGBA=function(St,_e,en){for(var tn=St.data,nn=tn.length,rn=new Uint8Array(nn/4*3),sn=new Uint8Array(nn/4),an=0,on=0,cn=0;cn<nn;cn+=4){var dn=tn[cn],mn=tn[cn+1],pn=tn[cn+2],fn=tn[cn+3];rn[an++]=dn,rn[an++]=mn,rn[an++]=pn,sn[on++]=fn}var yn=this.__addimage__.arrayBufferToBinaryString(rn);return{alpha:this.__addimage__.arrayBufferToBinaryString(sn),data:yn,index:_e,alias:en,colorSpace:"DeviceRGB",bitsPerComponent:8,width:St.width,height:St.height}},E.API.setLanguage=function(St){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[St]!==void 0&&(this.internal.languageSettings.languageCode=St,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(St,_e){var en,tn,nn=(_e=_e||{}).font||this.internal.getFont(),rn=_e.fontSize||this.internal.getFontSize(),sn=_e.charSpace||this.internal.getCharSpace(),an=_e.widths?_e.widths:nn.metadata.Unicode.widths,on=an.fof?an.fof:1,cn=_e.kerning?_e.kerning:nn.metadata.Unicode.kerning,dn=cn.fof?cn.fof:1,mn=_e.doKerning!==!1,pn=0,fn=St.length,yn=0,bn=an[0]||on,wn=[];for(en=0;en<fn;en++)tn=St.charCodeAt(en),typeof nn.metadata.widthOfString=="function"?wn.push((nn.metadata.widthOfGlyph(nn.metadata.characterToGlyph(tn))+sn*(1e3/rn)||0)/1e3):(pn=mn&&_typeof(cn[tn])==="object"&&!isNaN(parseInt(cn[tn][yn],10))?cn[tn][yn]/dn:0,wn.push((an[tn]||bn)/on+pn)),yn=tn;return wn},Yt=Vt.getStringUnitWidth=function(St,_e){var en=(_e=_e||{}).fontSize||this.internal.getFontSize(),tn=_e.font||this.internal.getFont(),nn=_e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(St=Vt.processArabic(St)),typeof tn.metadata.widthOfString=="function"?tn.metadata.widthOfString(St,en,nn)/en:Gt.apply(this,arguments).reduce(function(rn,sn){return rn+sn},0)},Jt=function(St,_e,en,tn){for(var nn=[],rn=0,sn=St.length,an=0;rn!==sn&&an+_e[rn]<en;)an+=_e[rn],rn++;nn.push(St.slice(0,rn));var on=rn;for(an=0;rn!==sn;)an+_e[rn]>tn&&(nn.push(St.slice(on,rn)),an=0,on=rn),an+=_e[rn],rn++;return on!==rn&&nn.push(St.slice(on,rn)),nn},Xt=function(St,_e,en){en||(en={});var tn,nn,rn,sn,an,on,cn,dn=[],mn=[dn],pn=en.textIndent||0,fn=0,yn=0,bn=St.split(" "),wn=Gt.apply(this,[" ",en])[0];if(on=en.lineIndent===-1?bn[0].length+2:en.lineIndent||0){var vn=Array(on).join(" "),Sn=[];bn.map(function(En){(En=En.split(/\s*\n/)).length>1?Sn=Sn.concat(En.map(function(Cn,kn){return(kn&&Cn.length?`
`:"")+Cn})):Sn.push(En[0])}),bn=Sn,on=Yt.apply(this,[vn,en])}for(rn=0,sn=bn.length;rn<sn;rn++){var xn=0;if(tn=bn[rn],on&&tn[0]==`
`&&(tn=tn.substr(1),xn=1),pn+fn+(yn=(nn=Gt.apply(this,[tn,en])).reduce(function(En,Cn){return En+Cn},0))>_e||xn){if(yn>_e){for(an=Jt.apply(this,[tn,nn,_e-(pn+fn),_e]),dn.push(an.shift()),dn=[an.pop()];an.length;)mn.push([an.shift()]);yn=nn.slice(tn.length-(dn[0]?dn[0].length:0)).reduce(function(En,Cn){return En+Cn},0)}else dn=[tn];mn.push(dn),pn=yn+on,fn=wn}else dn.push(tn),pn+=fn+yn,fn=wn}return cn=on?function(En,Cn){return(Cn?vn:"")+En.join(" ")}:function(En){return En.join(" ")},mn.map(cn)},Vt.splitTextToSize=function(St,_e,en){var tn,nn=(en=en||{}).fontSize||this.internal.getFontSize(),rn=function(dn){if(dn.widths&&dn.kerning)return{widths:dn.widths,kerning:dn.kerning};var mn=this.internal.getFont(dn.fontName,dn.fontStyle);return mn.metadata.Unicode?{widths:mn.metadata.Unicode.widths||{0:1},kerning:mn.metadata.Unicode.kerning||{}}:{font:mn.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,en);tn=Array.isArray(St)?St:String(St).split(/\r?\n/);var sn=1*this.internal.scaleFactor*_e/nn;rn.textIndent=en.textIndent?1*en.textIndent*this.internal.scaleFactor/nn:0,rn.lineIndent=en.lineIndent;var an,on,cn=[];for(an=0,on=tn.length;an<on;an++)cn=cn.concat(Xt.apply(this,[tn[an],sn,rn]));return cn},function(St){St.__fontmetrics__=St.__fontmetrics__||{};for(var _e="klmnopqrstuvwxyz",en={},tn={},nn=0;nn<_e.length;nn++)en[_e[nn]]="0123456789abcdef"[nn],tn["0123456789abcdef"[nn]]=_e[nn];var rn=function(mn){return"0x"+parseInt(mn,10).toString(16)},sn=St.__fontmetrics__.compress=function(mn){var pn,fn,yn,bn,wn=["{"];for(var vn in mn){if(pn=mn[vn],isNaN(parseInt(vn,10))?fn="'"+vn+"'":(vn=parseInt(vn,10),fn=(fn=rn(vn).slice(2)).slice(0,-1)+tn[fn.slice(-1)]),typeof pn=="number")pn<0?(yn=rn(pn).slice(3),bn="-"):(yn=rn(pn).slice(2),bn=""),yn=bn+yn.slice(0,-1)+tn[yn.slice(-1)];else{if(_typeof(pn)!=="object")throw new Error("Don't know what to do with value type "+_typeof(pn)+".");yn=sn(pn)}wn.push(fn+yn)}return wn.push("}"),wn.join("")},an=St.__fontmetrics__.uncompress=function(mn){if(typeof mn!="string")throw new Error("Invalid argument passed to uncompress.");for(var pn,fn,yn,bn,wn={},vn=1,Sn=wn,xn=[],En="",Cn="",kn=mn.length-1,In=1;In<kn;In+=1)(bn=mn[In])=="'"?pn?(yn=pn.join(""),pn=void 0):pn=[]:pn?pn.push(bn):bn=="{"?(xn.push([Sn,yn]),Sn={},yn=void 0):bn=="}"?((fn=xn.pop())[0][fn[1]]=Sn,yn=void 0,Sn=fn[0]):bn=="-"?vn=-1:yn===void 0?en.hasOwnProperty(bn)?(En+=en[bn],yn=parseInt(En,16)*vn,vn=1,En=""):En+=bn:en.hasOwnProperty(bn)?(Cn+=en[bn],Sn[yn]=parseInt(Cn,16)*vn,vn=1,yn=void 0,Cn=""):Cn+=bn;return wn},on={codePages:["WinAnsiEncoding"],WinAnsiEncoding:an("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},cn={Unicode:{Courier:on,"Courier-Bold":on,"Courier-BoldOblique":on,"Courier-Oblique":on,Helvetica:on,"Helvetica-Bold":on,"Helvetica-BoldOblique":on,"Helvetica-Oblique":on,"Times-Roman":on,"Times-Bold":on,"Times-BoldItalic":on,"Times-Italic":on}},dn={Unicode:{"Courier-Oblique":an("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":an("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":an("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:an("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":an("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":an("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:an("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:an("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":an("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:an("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":an("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":an("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":an("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":an("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};St.events.push(["addFont",function(mn){var pn=mn.font,fn=dn.Unicode[pn.postScriptName];fn&&(pn.metadata.Unicode={},pn.metadata.Unicode.widths=fn.widths,pn.metadata.Unicode.kerning=fn.kerning);var yn=cn.Unicode[pn.postScriptName];yn&&(pn.metadata.Unicode.encoding=yn,pn.encoding=yn.codePages[0])}])}(E.API),function(St){var _e=function(en){for(var tn=en.length,nn=new Uint8Array(tn),rn=0;rn<tn;rn++)nn[rn]=en.charCodeAt(rn);return nn};St.API.events.push(["addFont",function(en){var tn=void 0,nn=en.font,rn=en.instance;if(!nn.isStandardFont){if(rn===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+nn.postScriptName+"').");if(typeof(tn=rn.existsFileInVFS(nn.postScriptName)===!1?rn.loadFile(nn.postScriptName):rn.getFileFromVFS(nn.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+nn.postScriptName+"').");(function(sn,an){an=/^\x00\x01\x00\x00/.test(an)?_e(an):_e(u(an)),sn.metadata=St.API.TTFFont.open(an),sn.metadata.Unicode=sn.metadata.Unicode||{encoding:{},kerning:{},widths:[]},sn.metadata.glyIdsUsed=[0]})(nn,tn)}}])}(E),function(St){function _e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.b2bb53aa.js"),[])).catch(function(en){return Promise.reject(new Error("Could not load canvg: "+en))}).then(function(en){return en.default?en.default:en})}E.API.addSvgAsImage=function(en,tn,nn,rn,sn,an,on,cn){if(isNaN(tn)||isNaN(nn))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(rn)||isNaN(sn))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var dn=document.createElement("canvas");dn.width=rn,dn.height=sn;var mn=dn.getContext("2d");mn.fillStyle="#fff",mn.fillRect(0,0,dn.width,dn.height);var pn={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},fn=this;return _e().then(function(yn){return yn.fromString(mn,en,pn)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(yn){return yn.render(pn)}).then(function(){fn.addImage(dn.toDataURL("image/jpeg",1),tn,nn,rn,sn,on,cn)})}}(),E.API.putTotalPages=function(St){var _e,en=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(_e=new RegExp(St,"g"),en=this.internal.getNumberOfPages()):(_e=new RegExp(this.pdfEscape16(St,this.internal.getFont()),"g"),en=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var tn=1;tn<=this.internal.getNumberOfPages();tn++)for(var nn=0;nn<this.internal.pages[tn].length;nn++)this.internal.pages[tn][nn]=this.internal.pages[tn][nn].replace(_e,en);return this},E.API.viewerPreferences=function(St,_e){var en;St=St||{},_e=_e||!1;var tn,nn,rn,sn={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},an=Object.keys(sn),on=[],cn=0,dn=0,mn=0;function pn(yn,bn){var wn,vn=!1;for(wn=0;wn<yn.length;wn+=1)yn[wn]===bn&&(vn=!0);return vn}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(sn)),this.internal.viewerpreferences.isSubscribed=!1),en=this.internal.viewerpreferences.configuration,St==="reset"||_e===!0){var fn=an.length;for(mn=0;mn<fn;mn+=1)en[an[mn]].value=en[an[mn]].defaultValue,en[an[mn]].explicitSet=!1}if(_typeof(St)==="object"){for(nn in St)if(rn=St[nn],pn(an,nn)&&rn!==void 0){if(en[nn].type==="boolean"&&typeof rn=="boolean")en[nn].value=rn;else if(en[nn].type==="name"&&pn(en[nn].valueSet,rn))en[nn].value=rn;else if(en[nn].type==="integer"&&Number.isInteger(rn))en[nn].value=rn;else if(en[nn].type==="array"){for(cn=0;cn<rn.length;cn+=1)if(tn=!0,rn[cn].length===1&&typeof rn[cn][0]=="number")on.push(String(rn[cn]-1));else if(rn[cn].length>1){for(dn=0;dn<rn[cn].length;dn+=1)typeof rn[cn][dn]!="number"&&(tn=!1);tn===!0&&on.push([rn[cn][0]-1,rn[cn][1]-1].join(" "))}en[nn].value="["+on.join(" ")+"]"}else en[nn].value=en[nn].defaultValue;en[nn].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var yn,bn=[];for(yn in en)en[yn].explicitSet===!0&&(en[yn].type==="name"?bn.push("/"+yn+" /"+en[yn].value):bn.push("/"+yn+" "+en[yn].value));bn.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+bn.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=en,this},function(St){var _e=function(){var tn='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',nn=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),rn=unescape(encodeURIComponent(tn)),sn=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),an=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),on=unescape(encodeURIComponent("</x:xmpmeta>")),cn=rn.length+sn.length+an.length+nn.length+on.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+cn+" >>"),this.internal.write("stream"),this.internal.write(nn+rn+sn+an+on),this.internal.write("endstream"),this.internal.write("endobj")},en=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};St.addMetadata=function(tn,nn){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:tn,namespaceuri:nn||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",en),this.internal.events.subscribe("postPutResources",_e)),this}}(E.API),function(St){var _e=St.API,en=_e.pdfEscape16=function(rn,sn){for(var an,on=sn.metadata.Unicode.widths,cn=["","0","00","000","0000"],dn=[""],mn=0,pn=rn.length;mn<pn;++mn){if(an=sn.metadata.characterToGlyph(rn.charCodeAt(mn)),sn.metadata.glyIdsUsed.push(an),sn.metadata.toUnicode[an]=rn.charCodeAt(mn),on.indexOf(an)==-1&&(on.push(an),on.push([parseInt(sn.metadata.widthOfGlyph(an),10)])),an=="0")return dn.join("");an=an.toString(16),dn.push(cn[4-an.length],an)}return dn.join("")},tn=function(rn){var sn,an,on,cn,dn,mn,pn;for(dn=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,on=[],mn=0,pn=(an=Object.keys(rn).sort(function(fn,yn){return fn-yn})).length;mn<pn;mn++)sn=an[mn],on.length>=100&&(dn+=`
`+on.length+` beginbfchar
`+on.join(`
`)+`
endbfchar`,on=[]),rn[sn]!==void 0&&rn[sn]!==null&&typeof rn[sn].toString=="function"&&(cn=("0000"+rn[sn].toString(16)).slice(-4),sn=("0000"+(+sn).toString(16)).slice(-4),on.push("<"+sn+"><"+cn+">"));return on.length&&(dn+=`
`+on.length+` beginbfchar
`+on.join(`
`)+`
endbfchar
`),dn+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};_e.events.push(["putFont",function(rn){(function(sn){var an=sn.font,on=sn.out,cn=sn.newObject,dn=sn.putStream;if(an.metadata instanceof St.API.TTFFont&&an.encoding==="Identity-H"){for(var mn=an.metadata.Unicode.widths,pn=an.metadata.subset.encode(an.metadata.glyIdsUsed,1),fn="",yn=0;yn<pn.length;yn++)fn+=String.fromCharCode(pn[yn]);var bn=cn();dn({data:fn,addLength1:!0,objectId:bn}),on("endobj");var wn=cn();dn({data:tn(an.metadata.toUnicode),addLength1:!0,objectId:wn}),on("endobj");var vn=cn();on("<<"),on("/Type /FontDescriptor"),on("/FontName /"+F(an.fontName)),on("/FontFile2 "+bn+" 0 R"),on("/FontBBox "+St.API.PDFObject.convert(an.metadata.bbox)),on("/Flags "+an.metadata.flags),on("/StemV "+an.metadata.stemV),on("/ItalicAngle "+an.metadata.italicAngle),on("/Ascent "+an.metadata.ascender),on("/Descent "+an.metadata.decender),on("/CapHeight "+an.metadata.capHeight),on(">>"),on("endobj");var Sn=cn();on("<<"),on("/Type /Font"),on("/BaseFont /"+F(an.fontName)),on("/FontDescriptor "+vn+" 0 R"),on("/W "+St.API.PDFObject.convert(mn)),on("/CIDToGIDMap /Identity"),on("/DW 1000"),on("/Subtype /CIDFontType2"),on("/CIDSystemInfo"),on("<<"),on("/Supplement 0"),on("/Registry (Adobe)"),on("/Ordering ("+an.encoding+")"),on(">>"),on(">>"),on("endobj"),an.objectNumber=cn(),on("<<"),on("/Type /Font"),on("/Subtype /Type0"),on("/ToUnicode "+wn+" 0 R"),on("/BaseFont /"+F(an.fontName)),on("/Encoding /"+an.encoding),on("/DescendantFonts ["+Sn+" 0 R]"),on(">>"),on("endobj"),an.isAlreadyPutted=!0}})(rn)}]),_e.events.push(["putFont",function(rn){(function(sn){var an=sn.font,on=sn.out,cn=sn.newObject,dn=sn.putStream;if(an.metadata instanceof St.API.TTFFont&&an.encoding==="WinAnsiEncoding"){for(var mn=an.metadata.rawData,pn="",fn=0;fn<mn.length;fn++)pn+=String.fromCharCode(mn[fn]);var yn=cn();dn({data:pn,addLength1:!0,objectId:yn}),on("endobj");var bn=cn();dn({data:tn(an.metadata.toUnicode),addLength1:!0,objectId:bn}),on("endobj");var wn=cn();on("<<"),on("/Descent "+an.metadata.decender),on("/CapHeight "+an.metadata.capHeight),on("/StemV "+an.metadata.stemV),on("/Type /FontDescriptor"),on("/FontFile2 "+yn+" 0 R"),on("/Flags 96"),on("/FontBBox "+St.API.PDFObject.convert(an.metadata.bbox)),on("/FontName /"+F(an.fontName)),on("/ItalicAngle "+an.metadata.italicAngle),on("/Ascent "+an.metadata.ascender),on(">>"),on("endobj"),an.objectNumber=cn();for(var vn=0;vn<an.metadata.hmtx.widths.length;vn++)an.metadata.hmtx.widths[vn]=parseInt(an.metadata.hmtx.widths[vn]*(1e3/an.metadata.head.unitsPerEm));on("<</Subtype/TrueType/Type/Font/ToUnicode "+bn+" 0 R/BaseFont/"+F(an.fontName)+"/FontDescriptor "+wn+" 0 R/Encoding/"+an.encoding+" /FirstChar 29 /LastChar 255 /Widths "+St.API.PDFObject.convert(an.metadata.hmtx.widths)+">>"),on("endobj"),an.isAlreadyPutted=!0}})(rn)}]);var nn=function(rn){var sn,an=rn.text||"",on=rn.x,cn=rn.y,dn=rn.options||{},mn=rn.mutex||{},pn=mn.pdfEscape,fn=mn.activeFontKey,yn=mn.fonts,bn=fn,wn="",vn=0,Sn="",xn=yn[bn].encoding;if(yn[bn].encoding!=="Identity-H")return{text:an,x:on,y:cn,options:dn,mutex:mn};for(Sn=an,bn=fn,Array.isArray(an)&&(Sn=an[0]),vn=0;vn<Sn.length;vn+=1)yn[bn].metadata.hasOwnProperty("cmap")&&(sn=yn[bn].metadata.cmap.unicode.codeMap[Sn[vn].charCodeAt(0)]),sn||Sn[vn].charCodeAt(0)<256&&yn[bn].metadata.hasOwnProperty("Unicode")?wn+=Sn[vn]:wn+="";var En="";return parseInt(bn.slice(1))<14||xn==="WinAnsiEncoding"?En=pn(wn,bn).split("").map(function(Cn){return Cn.charCodeAt(0).toString(16)}).join(""):xn==="Identity-H"&&(En=en(wn,yn[bn])),mn.isHex=!0,{text:En,x:on,y:cn,options:dn,mutex:mn}};_e.events.push(["postProcessText",function(rn){var sn=rn.text||"",an=[],on={text:sn,x:rn.x,y:rn.y,options:rn.options,mutex:rn.mutex};if(Array.isArray(sn)){var cn=0;for(cn=0;cn<sn.length;cn+=1)Array.isArray(sn[cn])&&sn[cn].length===3?an.push([nn(Object.assign({},on,{text:sn[cn][0]})).text,sn[cn][1],sn[cn][2]]):an.push(nn(Object.assign({},on,{text:sn[cn]})).text);rn.text=an}else rn.text=nn(Object.assign({},on,{text:sn})).text}])}(E),function(St){var _e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};St.existsFileInVFS=function(en){return _e.call(this),this.internal.vFS[en]!==void 0},St.addFileToVFS=function(en,tn){return _e.call(this),this.internal.vFS[en]=tn,this},St.getFileFromVFS=function(en){return _e.call(this),this.internal.vFS[en]!==void 0?this.internal.vFS[en]:null}}(E.API),function(St){St.__bidiEngine__=St.prototype.__bidiEngine__=function(tn){var nn,rn,sn,an,on,cn,dn,mn=_e,pn=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fn=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],yn={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},bn={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},wn=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],vn=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Sn=!1,xn=0;this.__bidiEngine__={};var En=function(On){var zn=On.charCodeAt(),nr=zn>>8,Yn=bn[nr];return Yn!==void 0?mn[256*Yn+(255&zn)]:nr===252||nr===253?"AL":vn.test(nr)?"L":nr===8?"R":"N"},Cn=function(On){for(var zn,nr=0;nr<On.length;nr++){if((zn=En(On.charAt(nr)))==="L")return!1;if(zn==="R")return!0}return!1},kn=function(On,zn,nr,Yn){var ar,tr,dr,Jn,hr=zn[Yn];switch(hr){case"L":case"R":Sn=!1;break;case"N":case"AN":break;case"EN":Sn&&(hr="AN");break;case"AL":Sn=!0,hr="R";break;case"WS":hr="N";break;case"CS":Yn<1||Yn+1>=zn.length||(ar=nr[Yn-1])!=="EN"&&ar!=="AN"||(tr=zn[Yn+1])!=="EN"&&tr!=="AN"?hr="N":Sn&&(tr="AN"),hr=tr===ar?tr:"N";break;case"ES":hr=(ar=Yn>0?nr[Yn-1]:"B")==="EN"&&Yn+1<zn.length&&zn[Yn+1]==="EN"?"EN":"N";break;case"ET":if(Yn>0&&nr[Yn-1]==="EN"){hr="EN";break}if(Sn){hr="N";break}for(dr=Yn+1,Jn=zn.length;dr<Jn&&zn[dr]==="ET";)dr++;hr=dr<Jn&&zn[dr]==="EN"?"EN":"N";break;case"NSM":if(sn&&!an){for(Jn=zn.length,dr=Yn+1;dr<Jn&&zn[dr]==="NSM";)dr++;if(dr<Jn){var yr=On[Yn],Mr=yr>=1425&&yr<=2303||yr===64286;if(ar=zn[dr],Mr&&(ar==="R"||ar==="AL")){hr="R";break}}}hr=Yn<1||(ar=zn[Yn-1])==="B"?"N":nr[Yn-1];break;case"B":Sn=!1,nn=!0,hr=xn;break;case"S":rn=!0,hr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Sn=!1;break;case"BN":hr="N"}return hr},In=function(On,zn,nr){var Yn=On.split("");return nr&&Dn(Yn,nr,{hiLevel:xn}),Yn.reverse(),zn&&zn.reverse(),Yn.join("")},Dn=function(On,zn,nr){var Yn,ar,tr,dr,Jn,hr=-1,yr=On.length,Mr=0,Mn=[],Fn=xn?fn:pn,Nn=[];for(Sn=!1,nn=!1,rn=!1,ar=0;ar<yr;ar++)Nn[ar]=En(On[ar]);for(tr=0;tr<yr;tr++){if(Jn=Mr,Mn[tr]=kn(On,Nn,Mn,tr),Yn=240&(Mr=Fn[Jn][yn[Mn[tr]]]),Mr&=15,zn[tr]=dr=Fn[Mr][5],Yn>0)if(Yn===16){for(ar=hr;ar<tr;ar++)zn[ar]=1;hr=-1}else hr=-1;if(Fn[Mr][6])hr===-1&&(hr=tr);else if(hr>-1){for(ar=hr;ar<tr;ar++)zn[ar]=dr;hr=-1}Nn[tr]==="B"&&(zn[tr]=0),nr.hiLevel|=dr}rn&&function(Un,qn,er){for(var sr=0;sr<er;sr++)if(Un[sr]==="S"){qn[sr]=xn;for(var ur=sr-1;ur>=0&&Un[ur]==="WS";ur--)qn[ur]=xn}}(Nn,zn,yr)},Wn=function(On,zn,nr,Yn,ar){if(!(ar.hiLevel<On)){if(On===1&&xn===1&&!nn)return zn.reverse(),void(nr&&nr.reverse());for(var tr,dr,Jn,hr,yr=zn.length,Mr=0;Mr<yr;){if(Yn[Mr]>=On){for(Jn=Mr+1;Jn<yr&&Yn[Jn]>=On;)Jn++;for(hr=Mr,dr=Jn-1;hr<dr;hr++,dr--)tr=zn[hr],zn[hr]=zn[dr],zn[dr]=tr,nr&&(tr=nr[hr],nr[hr]=nr[dr],nr[dr]=tr);Mr=Jn}Mr++}}},Vn=function(On,zn,nr){var Yn=On.split(""),ar={hiLevel:xn};return nr||(nr=[]),Dn(Yn,nr,ar),function(tr,dr,Jn){if(Jn.hiLevel!==0&&dn)for(var hr,yr=0;yr<tr.length;yr++)dr[yr]===1&&(hr=wn.indexOf(tr[yr]))>=0&&(tr[yr]=wn[hr+1])}(Yn,nr,ar),Wn(2,Yn,zn,nr,ar),Wn(1,Yn,zn,nr,ar),Yn.join("")};return this.__bidiEngine__.doBidiReorder=function(On,zn,nr){if(function(ar,tr){if(tr)for(var dr=0;dr<ar.length;dr++)tr[dr]=dr;an===void 0&&(an=Cn(ar)),cn===void 0&&(cn=Cn(ar))}(On,zn),sn||!on||cn)if(sn&&on&&an^cn)xn=an?1:0,On=In(On,zn,nr);else if(!sn&&on&&cn)xn=an?1:0,On=Vn(On,zn,nr),On=In(On,zn);else if(!sn||an||on||cn){if(sn&&!on&&an^cn)On=In(On,zn),an?(xn=0,On=Vn(On,zn,nr)):(xn=1,On=Vn(On,zn,nr),On=In(On,zn));else if(sn&&an&&!on&&cn)xn=1,On=Vn(On,zn,nr),On=In(On,zn);else if(!sn&&!on&&an^cn){var Yn=dn;an?(xn=1,On=Vn(On,zn,nr),xn=0,dn=!1,On=Vn(On,zn,nr),dn=Yn):(xn=0,On=Vn(On,zn,nr),On=In(On,zn),xn=1,dn=!1,On=Vn(On,zn,nr),dn=Yn,On=In(On,zn))}}else xn=0,On=Vn(On,zn,nr);else xn=an?1:0,On=Vn(On,zn,nr);return On},this.__bidiEngine__.setOptions=function(On){On&&(sn=On.isInputVisual,on=On.isOutputVisual,an=On.isInputRtl,cn=On.isOutputRtl,dn=On.isSymmetricSwapping)},this.__bidiEngine__.setOptions(tn),this.__bidiEngine__};var _e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],en=new St.__bidiEngine__({isInputVisual:!0});St.API.events.push(["postProcessText",function(tn){var nn=tn.text,rn=(tn.x,tn.y,tn.options||{}),sn=(tn.mutex,rn.lang,[]);if(rn.isInputVisual=typeof rn.isInputVisual!="boolean"||rn.isInputVisual,en.setOptions(rn),Object.prototype.toString.call(nn)==="[object Array]"){var an=0;for(sn=[],an=0;an<nn.length;an+=1)Object.prototype.toString.call(nn[an])==="[object Array]"?sn.push([en.doBidiReorder(nn[an][0]),nn[an][1],nn[an][2]]):sn.push([en.doBidiReorder(nn[an])]);tn.text=sn}else tn.text=en.doBidiReorder(nn);en.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function St(_e){var en;if(this.rawData=_e,en=this.contents=new ne(_e),this.contents.pos=4,en.readString(4)==="ttcf")throw new Error("TTCF not supported.");en.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return St.open=function(_e){return new St(_e)},St.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},St.prototype.registerTTF=function(){var _e,en,tn,nn,rn;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var sn,an,on,cn;for(cn=[],sn=0,an=(on=this.bbox).length;sn<an;sn++)_e=on[sn],cn.push(Math.round(_e*this.scaleFactor));return cn}.call(this),this.stemV=0,this.post.exists?(tn=255&(nn=this.post.italic_angle),(32768&(en=nn>>16))!=0&&(en=-(1+(65535^en))),this.italicAngle=+(en+"."+tn)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(rn=this.familyClass)===1||rn===2||rn===3||rn===4||rn===5||rn===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},St.prototype.characterToGlyph=function(_e){var en;return((en=this.cmap.unicode)!=null?en.codeMap[_e]:void 0)||0},St.prototype.widthOfGlyph=function(_e){var en;return en=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(_e).advance*en},St.prototype.widthOfString=function(_e,en,tn){var nn,rn,sn,an;for(sn=0,rn=0,an=(_e=""+_e).length;0<=an?rn<an:rn>an;rn=0<=an?++rn:--rn)nn=_e.charCodeAt(rn),sn+=this.widthOfGlyph(this.characterToGlyph(nn))+tn*(1e3/en)||0;return sn*(en/1e3)},St.prototype.lineHeight=function(_e,en){var tn;return en==null&&(en=!1),tn=en?this.lineGap:0,(this.ascender+tn-this.decender)/1e3*_e},St}();var re,ne=function(){function St(_e){this.data=_e!=null?_e:[],this.pos=0,this.length=this.data.length}return St.prototype.readByte=function(){return this.data[this.pos++]},St.prototype.writeByte=function(_e){return this.data[this.pos++]=_e},St.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},St.prototype.writeUInt32=function(_e){return this.writeByte(_e>>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},St.prototype.readInt32=function(){var _e;return(_e=this.readUInt32())>=2147483648?_e-4294967296:_e},St.prototype.writeInt32=function(_e){return _e<0&&(_e+=4294967296),this.writeUInt32(_e)},St.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},St.prototype.writeUInt16=function(_e){return this.writeByte(_e>>8&255),this.writeByte(255&_e)},St.prototype.readInt16=function(){var _e;return(_e=this.readUInt16())>=32768?_e-65536:_e},St.prototype.writeInt16=function(_e){return _e<0&&(_e+=65536),this.writeUInt16(_e)},St.prototype.readString=function(_e){var en,tn;for(tn=[],en=0;0<=_e?en<_e:en>_e;en=0<=_e?++en:--en)tn[en]=String.fromCharCode(this.readByte());return tn.join("")},St.prototype.writeString=function(_e){var en,tn,nn;for(nn=[],en=0,tn=_e.length;0<=tn?en<tn:en>tn;en=0<=tn?++en:--en)nn.push(this.writeByte(_e.charCodeAt(en)));return nn},St.prototype.readShort=function(){return this.readInt16()},St.prototype.writeShort=function(_e){return this.writeInt16(_e)},St.prototype.readLongLong=function(){var _e,en,tn,nn,rn,sn,an,on;return _e=this.readByte(),en=this.readByte(),tn=this.readByte(),nn=this.readByte(),rn=this.readByte(),sn=this.readByte(),an=this.readByte(),on=this.readByte(),128&_e?-1*(72057594037927940*(255^_e)+281474976710656*(255^en)+1099511627776*(255^tn)+4294967296*(255^nn)+16777216*(255^rn)+65536*(255^sn)+256*(255^an)+(255^on)+1):72057594037927940*_e+281474976710656*en+1099511627776*tn+4294967296*nn+16777216*rn+65536*sn+256*an+on},St.prototype.writeLongLong=function(_e){var en,tn;return en=Math.floor(_e/4294967296),tn=4294967295&_e,this.writeByte(en>>24&255),this.writeByte(en>>16&255),this.writeByte(en>>8&255),this.writeByte(255&en),this.writeByte(tn>>24&255),this.writeByte(tn>>16&255),this.writeByte(tn>>8&255),this.writeByte(255&tn)},St.prototype.readInt=function(){return this.readInt32()},St.prototype.writeInt=function(_e){return this.writeInt32(_e)},St.prototype.read=function(_e){var en,tn;for(en=[],tn=0;0<=_e?tn<_e:tn>_e;tn=0<=_e?++tn:--tn)en.push(this.readByte());return en},St.prototype.write=function(_e){var en,tn,nn,rn;for(rn=[],tn=0,nn=_e.length;tn<nn;tn++)en=_e[tn],rn.push(this.writeByte(en));return rn},St}(),ie=function(){var St;function _e(en){var tn,nn,rn;for(this.scalarType=en.readInt(),this.tableCount=en.readShort(),this.searchRange=en.readShort(),this.entrySelector=en.readShort(),this.rangeShift=en.readShort(),this.tables={},nn=0,rn=this.tableCount;0<=rn?nn<rn:nn>rn;nn=0<=rn?++nn:--nn)tn={tag:en.readString(4),checksum:en.readInt(),offset:en.readInt(),length:en.readInt()},this.tables[tn.tag]=tn}return _e.prototype.encode=function(en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn,yn,bn;for(bn in fn=Object.keys(en).length,on=Math.log(2),mn=16*Math.floor(Math.log(fn)/on),sn=Math.floor(mn/on),dn=16*fn-mn,(nn=new ne).writeInt(this.scalarType),nn.writeShort(fn),nn.writeShort(mn),nn.writeShort(sn),nn.writeShort(dn),rn=16*fn,cn=nn.pos+rn,an=null,yn=[],en)for(pn=en[bn],nn.writeString(bn),nn.writeInt(St(pn)),nn.writeInt(cn),nn.writeInt(pn.length),yn=yn.concat(pn),bn==="head"&&(an=cn),cn+=pn.length;cn%4;)yn.push(0),cn++;return nn.write(yn),tn=2981146554-St(nn.data),nn.pos=an+8,nn.writeUInt32(tn),nn.data},St=function(en){var tn,nn,rn,sn;for(en=ve.call(en);en.length%4;)en.push(0);for(rn=new ne(en),nn=0,tn=0,sn=en.length;tn<sn;tn=tn+=4)nn+=rn.readUInt32();return 4294967295&nn},_e}(),ae={}.hasOwnProperty,oe=function(St,_e){for(var en in _e)ae.call(_e,en)&&(St[en]=_e[en]);function tn(){this.constructor=St}return tn.prototype=_e.prototype,St.prototype=new tn,St.__super__=_e.prototype,St};re=function(){function St(_e){var en;this.file=_e,en=this.file.directory.tables[this.tag],this.exists=!!en,en&&(this.offset=en.offset,this.length=en.length,this.parse(this.file.contents))}return St.prototype.parse=function(){},St.prototype.encode=function(){},St.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},St}();var se=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="head",_e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.revision=en.readInt(),this.checkSumAdjustment=en.readInt(),this.magicNumber=en.readInt(),this.flags=en.readShort(),this.unitsPerEm=en.readShort(),this.created=en.readLongLong(),this.modified=en.readLongLong(),this.xMin=en.readShort(),this.yMin=en.readShort(),this.xMax=en.readShort(),this.yMax=en.readShort(),this.macStyle=en.readShort(),this.lowestRecPPEM=en.readShort(),this.fontDirectionHint=en.readShort(),this.indexToLocFormat=en.readShort(),this.glyphDataFormat=en.readShort()},_e.prototype.encode=function(en){var tn;return(tn=new ne).writeInt(this.version),tn.writeInt(this.revision),tn.writeInt(this.checkSumAdjustment),tn.writeInt(this.magicNumber),tn.writeShort(this.flags),tn.writeShort(this.unitsPerEm),tn.writeLongLong(this.created),tn.writeLongLong(this.modified),tn.writeShort(this.xMin),tn.writeShort(this.yMin),tn.writeShort(this.xMax),tn.writeShort(this.yMax),tn.writeShort(this.macStyle),tn.writeShort(this.lowestRecPPEM),tn.writeShort(this.fontDirectionHint),tn.writeShort(en),tn.writeShort(this.glyphDataFormat),tn.data},_e}(),ce=function(){function St(_e,en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn,Sn,xn;switch(this.platformID=_e.readUInt16(),this.encodingID=_e.readShort(),this.offset=en+_e.readInt(),mn=_e.pos,_e.pos=this.offset,this.format=_e.readUInt16(),this.length=_e.readUInt16(),this.language=_e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(on=0;on<256;++on)this.codeMap[on]=_e.readByte();break;case 4:for(fn=_e.readUInt16(),pn=fn/2,_e.pos+=6,rn=function(){var En,Cn;for(Cn=[],on=En=0;0<=pn?En<pn:En>pn;on=0<=pn?++En:--En)Cn.push(_e.readUInt16());return Cn}(),_e.pos+=2,bn=function(){var En,Cn;for(Cn=[],on=En=0;0<=pn?En<pn:En>pn;on=0<=pn?++En:--En)Cn.push(_e.readUInt16());return Cn}(),cn=function(){var En,Cn;for(Cn=[],on=En=0;0<=pn?En<pn:En>pn;on=0<=pn?++En:--En)Cn.push(_e.readUInt16());return Cn}(),dn=function(){var En,Cn;for(Cn=[],on=En=0;0<=pn?En<pn:En>pn;on=0<=pn?++En:--En)Cn.push(_e.readUInt16());return Cn}(),nn=(this.length-_e.pos+this.offset)/2,an=function(){var En,Cn;for(Cn=[],on=En=0;0<=nn?En<nn:En>nn;on=0<=nn?++En:--En)Cn.push(_e.readUInt16());return Cn}(),on=vn=0,xn=rn.length;vn<xn;on=++vn)for(wn=rn[on],tn=Sn=yn=bn[on];yn<=wn?Sn<=wn:Sn>=wn;tn=yn<=wn?++Sn:--Sn)dn[on]===0?sn=tn+cn[on]:(sn=an[dn[on]/2+(tn-yn)-(pn-on)]||0)!==0&&(sn+=cn[on]),this.codeMap[tn]=65535&sn}_e.pos=mn}return St.encode=function(_e,en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn,Sn,xn,En,Cn,kn,In,Dn,Wn,Vn,On,zn,nr,Yn,ar,tr,dr,Jn,hr,yr,Mr,Mn,Fn,Nn,Un,qn,er,sr,ur,br,kr,Er;switch(Yn=new ne,sn=Object.keys(_e).sort(function(Pr,$n){return Pr-$n}),en){case"macroman":for(bn=0,wn=function(){var Pr=[];for(yn=0;yn<256;++yn)Pr.push(0);return Pr}(),Sn={0:0},rn={},ar=0,hr=sn.length;ar<hr;ar++)Sn[ur=_e[nn=sn[ar]]]==null&&(Sn[ur]=++bn),rn[nn]={old:_e[nn],new:Sn[_e[nn]]},wn[nn]=Sn[_e[nn]];return Yn.writeUInt16(1),Yn.writeUInt16(0),Yn.writeUInt32(12),Yn.writeUInt16(0),Yn.writeUInt16(262),Yn.writeUInt16(0),Yn.write(wn),{charMap:rn,subtable:Yn.data,maxGlyphID:bn+1};case"unicode":for(zn=[],mn=[],xn=0,Sn={},tn={},vn=cn=null,tr=0,yr=sn.length;tr<yr;tr++)Sn[Cn=_e[nn=sn[tr]]]==null&&(Sn[Cn]=++xn),tn[nn]={old:Cn,new:Sn[Cn]},an=Sn[Cn]-nn,vn!=null&&an===cn||(vn&&mn.push(vn),zn.push(nn),cn=an),vn=nn;for(vn&&mn.push(vn),mn.push(65535),zn.push(65535),Vn=2*(Wn=zn.length),Dn=2*Math.pow(Math.log(Wn)/Math.LN2,2),pn=Math.log(Dn/2)/Math.LN2,In=2*Wn-Dn,on=[],kn=[],fn=[],yn=dr=0,Mr=zn.length;dr<Mr;yn=++dr){if(On=zn[yn],dn=mn[yn],On===65535){on.push(0),kn.push(0);break}if(On-(nr=tn[On].new)>=32768)for(on.push(0),kn.push(2*(fn.length+Wn-yn)),nn=Jn=On;On<=dn?Jn<=dn:Jn>=dn;nn=On<=dn?++Jn:--Jn)fn.push(tn[nn].new);else on.push(nr-On),kn.push(0)}for(Yn.writeUInt16(3),Yn.writeUInt16(1),Yn.writeUInt32(12),Yn.writeUInt16(4),Yn.writeUInt16(16+8*Wn+2*fn.length),Yn.writeUInt16(0),Yn.writeUInt16(Vn),Yn.writeUInt16(Dn),Yn.writeUInt16(pn),Yn.writeUInt16(In),er=0,Mn=mn.length;er<Mn;er++)nn=mn[er],Yn.writeUInt16(nn);for(Yn.writeUInt16(0),sr=0,Fn=zn.length;sr<Fn;sr++)nn=zn[sr],Yn.writeUInt16(nn);for(br=0,Nn=on.length;br<Nn;br++)an=on[br],Yn.writeUInt16(an);for(kr=0,Un=kn.length;kr<Un;kr++)En=kn[kr],Yn.writeUInt16(En);for(Er=0,qn=fn.length;Er<qn;Er++)bn=fn[Er],Yn.writeUInt16(bn);return{charMap:tn,subtable:Yn.data,maxGlyphID:xn+1}}},St}(),ue=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="cmap",_e.prototype.parse=function(en){var tn,nn,rn;for(en.pos=this.offset,this.version=en.readUInt16(),rn=en.readUInt16(),this.tables=[],this.unicode=null,nn=0;0<=rn?nn<rn:nn>rn;nn=0<=rn?++nn:--nn)tn=new ce(en,this.offset),this.tables.push(tn),tn.isUnicode&&this.unicode==null&&(this.unicode=tn);return!0},_e.encode=function(en,tn){var nn,rn;return tn==null&&(tn="macroman"),nn=ce.encode(en,tn),(rn=new ne).writeUInt16(0),rn.writeUInt16(1),nn.table=rn.data.concat(nn.subtable),nn},_e}(),he=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="hhea",_e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.ascender=en.readShort(),this.decender=en.readShort(),this.lineGap=en.readShort(),this.advanceWidthMax=en.readShort(),this.minLeftSideBearing=en.readShort(),this.minRightSideBearing=en.readShort(),this.xMaxExtent=en.readShort(),this.caretSlopeRise=en.readShort(),this.caretSlopeRun=en.readShort(),this.caretOffset=en.readShort(),en.pos+=8,this.metricDataFormat=en.readShort(),this.numberOfMetrics=en.readUInt16()},_e}(),le=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="OS/2",_e.prototype.parse=function(en){if(en.pos=this.offset,this.version=en.readUInt16(),this.averageCharWidth=en.readShort(),this.weightClass=en.readUInt16(),this.widthClass=en.readUInt16(),this.type=en.readShort(),this.ySubscriptXSize=en.readShort(),this.ySubscriptYSize=en.readShort(),this.ySubscriptXOffset=en.readShort(),this.ySubscriptYOffset=en.readShort(),this.ySuperscriptXSize=en.readShort(),this.ySuperscriptYSize=en.readShort(),this.ySuperscriptXOffset=en.readShort(),this.ySuperscriptYOffset=en.readShort(),this.yStrikeoutSize=en.readShort(),this.yStrikeoutPosition=en.readShort(),this.familyClass=en.readShort(),this.panose=function(){var tn,nn;for(nn=[],tn=0;tn<10;++tn)nn.push(en.readByte());return nn}(),this.charRange=function(){var tn,nn;for(nn=[],tn=0;tn<4;++tn)nn.push(en.readInt());return nn}(),this.vendorID=en.readString(4),this.selection=en.readShort(),this.firstCharIndex=en.readShort(),this.lastCharIndex=en.readShort(),this.version>0&&(this.ascent=en.readShort(),this.descent=en.readShort(),this.lineGap=en.readShort(),this.winAscent=en.readShort(),this.winDescent=en.readShort(),this.codePageRange=function(){var tn,nn;for(nn=[],tn=0;tn<2;tn=++tn)nn.push(en.readInt());return nn}(),this.version>1))return this.xHeight=en.readShort(),this.capHeight=en.readShort(),this.defaultChar=en.readShort(),this.breakChar=en.readShort(),this.maxContext=en.readShort()},_e}(),fe=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="post",_e.prototype.parse=function(en){var tn,nn,rn;switch(en.pos=this.offset,this.format=en.readInt(),this.italicAngle=en.readInt(),this.underlinePosition=en.readShort(),this.underlineThickness=en.readShort(),this.isFixedPitch=en.readInt(),this.minMemType42=en.readInt(),this.maxMemType42=en.readInt(),this.minMemType1=en.readInt(),this.maxMemType1=en.readInt(),this.format){case 65536:break;case 131072:var sn;for(nn=en.readUInt16(),this.glyphNameIndex=[],sn=0;0<=nn?sn<nn:sn>nn;sn=0<=nn?++sn:--sn)this.glyphNameIndex.push(en.readUInt16());for(this.names=[],rn=[];en.pos<this.offset+this.length;)tn=en.readByte(),rn.push(this.names.push(en.readString(tn)));return rn;case 151552:return nn=en.readUInt16(),this.offsets=en.read(nn);case 196608:break;case 262144:return this.map=function(){var an,on,cn;for(cn=[],sn=an=0,on=this.file.maxp.numGlyphs;0<=on?an<on:an>on;sn=0<=on?++an:--an)cn.push(en.readUInt32());return cn}.call(this)}},_e}(),de=function(St,_e){this.raw=St,this.length=St.length,this.platformID=_e.platformID,this.encodingID=_e.encodingID,this.languageID=_e.languageID},pe=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="name",_e.prototype.parse=function(en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn;for(en.pos=this.offset,en.readShort(),tn=en.readShort(),on=en.readShort(),nn=[],sn=0;0<=tn?sn<tn:sn>tn;sn=0<=tn?++sn:--sn)nn.push({platformID:en.readShort(),encodingID:en.readShort(),languageID:en.readShort(),nameID:en.readShort(),length:en.readShort(),offset:this.offset+on+en.readShort()});for(cn={},sn=mn=0,pn=nn.length;mn<pn;sn=++mn)rn=nn[sn],en.pos=rn.offset,dn=en.readString(rn.length),an=new de(dn,rn),cn[fn=rn.nameID]==null&&(cn[fn]=[]),cn[rn.nameID].push(an);this.strings=cn,this.copyright=cn[0],this.fontFamily=cn[1],this.fontSubfamily=cn[2],this.uniqueSubfamily=cn[3],this.fontName=cn[4],this.version=cn[5];try{this.postscriptName=cn[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=cn[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=cn[7],this.manufacturer=cn[8],this.designer=cn[9],this.description=cn[10],this.vendorUrl=cn[11],this.designerUrl=cn[12],this.license=cn[13],this.licenseUrl=cn[14],this.preferredFamily=cn[15],this.preferredSubfamily=cn[17],this.compatibleFull=cn[18],this.sampleText=cn[19]},_e}(),ge=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="maxp",_e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.numGlyphs=en.readUInt16(),this.maxPoints=en.readUInt16(),this.maxContours=en.readUInt16(),this.maxCompositePoints=en.readUInt16(),this.maxComponentContours=en.readUInt16(),this.maxZones=en.readUInt16(),this.maxTwilightPoints=en.readUInt16(),this.maxStorage=en.readUInt16(),this.maxFunctionDefs=en.readUInt16(),this.maxInstructionDefs=en.readUInt16(),this.maxStackElements=en.readUInt16(),this.maxSizeOfInstructions=en.readUInt16(),this.maxComponentElements=en.readUInt16(),this.maxComponentDepth=en.readUInt16()},_e}(),me=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="hmtx",_e.prototype.parse=function(en){var tn,nn,rn,sn,an,on,cn;for(en.pos=this.offset,this.metrics=[],tn=0,on=this.file.hhea.numberOfMetrics;0<=on?tn<on:tn>on;tn=0<=on?++tn:--tn)this.metrics.push({advance:en.readUInt16(),lsb:en.readInt16()});for(rn=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var dn,mn;for(mn=[],tn=dn=0;0<=rn?dn<rn:dn>rn;tn=0<=rn?++dn:--dn)mn.push(en.readInt16());return mn}(),this.widths=function(){var dn,mn,pn,fn;for(fn=[],dn=0,mn=(pn=this.metrics).length;dn<mn;dn++)sn=pn[dn],fn.push(sn.advance);return fn}.call(this),nn=this.widths[this.widths.length-1],cn=[],tn=an=0;0<=rn?an<rn:an>rn;tn=0<=rn?++an:--an)cn.push(this.widths.push(nn));return cn},_e.prototype.forGlyph=function(en){return en in this.metrics?this.metrics[en]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[en-this.metrics.length]}},_e}(),ve=[].slice,be=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="glyf",_e.prototype.parse=function(){return this.cache={}},_e.prototype.glyphFor=function(en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn;return en in this.cache?this.cache[en]:(sn=this.file.loca,tn=this.file.contents,nn=sn.indexOf(en),(rn=sn.lengthOf(en))===0?this.cache[en]=null:(tn.pos=this.offset+nn,an=(on=new ne(tn.read(rn))).readShort(),dn=on.readShort(),pn=on.readShort(),cn=on.readShort(),mn=on.readShort(),this.cache[en]=an===-1?new we(on,dn,pn,cn,mn):new ye(on,an,dn,pn,cn,mn),this.cache[en]))},_e.prototype.encode=function(en,tn,nn){var rn,sn,an,on,cn;for(an=[],sn=[],on=0,cn=tn.length;on<cn;on++)rn=en[tn[on]],sn.push(an.length),rn&&(an=an.concat(rn.encode(nn)));return sn.push(an.length),{table:an,offsets:sn}},_e}(),ye=function(){function St(_e,en,tn,nn,rn,sn){this.raw=_e,this.numberOfContours=en,this.xMin=tn,this.yMin=nn,this.xMax=rn,this.yMax=sn,this.compound=!1}return St.prototype.encode=function(){return this.raw.data},St}(),we=function(){function St(_e,en,tn,nn,rn){var sn,an;for(this.raw=_e,this.xMin=en,this.yMin=tn,this.xMax=nn,this.yMax=rn,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],sn=this.raw;an=sn.readShort(),this.glyphOffsets.push(sn.pos),this.glyphIDs.push(sn.readUInt16()),32&an;)sn.pos+=1&an?4:2,128&an?sn.pos+=8:64&an?sn.pos+=4:8&an&&(sn.pos+=2)}return St.prototype.encode=function(){var _e,en,tn;for(en=new ne(ve.call(this.raw.data)),_e=0,tn=this.glyphIDs.length;_e<tn;++_e)en.pos=this.glyphOffsets[_e];return en.data},St}(),Ne=function(St){function _e(){return _e.__super__.constructor.apply(this,arguments)}return oe(_e,re),_e.prototype.tag="loca",_e.prototype.parse=function(en){var tn,nn;return en.pos=this.offset,tn=this.file.head.indexToLocFormat,this.offsets=tn===0?function(){var rn,sn;for(sn=[],nn=0,rn=this.length;nn<rn;nn+=2)sn.push(2*en.readUInt16());return sn}.call(this):function(){var rn,sn;for(sn=[],nn=0,rn=this.length;nn<rn;nn+=4)sn.push(en.readUInt32());return sn}.call(this)},_e.prototype.indexOf=function(en){return this.offsets[en]},_e.prototype.lengthOf=function(en){return this.offsets[en+1]-this.offsets[en]},_e.prototype.encode=function(en,tn){for(var nn=new Uint32Array(this.offsets.length),rn=0,sn=0,an=0;an<nn.length;++an)if(nn[an]=rn,sn<tn.length&&tn[sn]==an){++sn,nn[an]=rn;var on=this.offsets[an],cn=this.offsets[an+1]-on;cn>0&&(rn+=cn)}for(var dn=new Array(4*nn.length),mn=0;mn<nn.length;++mn)dn[4*mn+3]=255&nn[mn],dn[4*mn+2]=(65280&nn[mn])>>8,dn[4*mn+1]=(16711680&nn[mn])>>16,dn[4*mn]=(4278190080&nn[mn])>>24;return dn},_e}(),Le=function(){function St(_e){this.font=_e,this.subset={},this.unicodes={},this.next=33}return St.prototype.generateCmap=function(){var _e,en,tn,nn,rn;for(en in nn=this.font.cmap.tables[0].codeMap,_e={},rn=this.subset)tn=rn[en],_e[en]=nn[tn];return _e},St.prototype.glyphsFor=function(_e){var en,tn,nn,rn,sn,an,on;for(nn={},sn=0,an=_e.length;sn<an;sn++)nn[rn=_e[sn]]=this.font.glyf.glyphFor(rn);for(rn in en=[],nn)(tn=nn[rn])!=null&&tn.compound&&en.push.apply(en,tn.glyphIDs);if(en.length>0)for(rn in on=this.glyphsFor(en))tn=on[rn],nn[rn]=tn;return nn},St.prototype.encode=function(_e,en){var tn,nn,rn,sn,an,on,cn,dn,mn,pn,fn,yn,bn,wn,vn;for(nn in tn=ue.encode(this.generateCmap(),"unicode"),sn=this.glyphsFor(_e),fn={0:0},vn=tn.charMap)fn[(on=vn[nn]).old]=on.new;for(yn in pn=tn.maxGlyphID,sn)yn in fn||(fn[yn]=pn++);return dn=function(Sn){var xn,En;for(xn in En={},Sn)En[Sn[xn]]=xn;return En}(fn),mn=Object.keys(dn).sort(function(Sn,xn){return Sn-xn}),bn=function(){var Sn,xn,En;for(En=[],Sn=0,xn=mn.length;Sn<xn;Sn++)an=mn[Sn],En.push(dn[an]);return En}(),rn=this.font.glyf.encode(sn,bn,fn),cn=this.font.loca.encode(rn.offsets,bn),wn={cmap:this.font.cmap.raw(),glyf:rn.table,loca:cn,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(en)},this.font.os2.exists&&(wn["OS/2"]=this.font.os2.raw()),this.font.directory.encode(wn)},St}();E.API.PDFObject=function(){var St;function _e(){}return St=function(en,tn){return(Array(tn+1).join("0")+en).slice(-tn)},_e.convert=function(en){var tn,nn,rn,sn;if(Array.isArray(en))return"["+function(){var an,on,cn;for(cn=[],an=0,on=en.length;an<on;an++)tn=en[an],cn.push(_e.convert(tn));return cn}().join(" ")+"]";if(typeof en=="string")return"/"+en;if(en!=null&&en.isString)return"("+en+")";if(en instanceof Date)return"(D:"+St(en.getUTCFullYear(),4)+St(en.getUTCMonth(),2)+St(en.getUTCDate(),2)+St(en.getUTCHours(),2)+St(en.getUTCMinutes(),2)+St(en.getUTCSeconds(),2)+"Z)";if({}.toString.call(en)==="[object Object]"){for(nn in rn=["<<"],en)sn=en[nn],rn.push("/"+nn+" "+_e.convert(sn));return rn.push(">>"),rn.join(`
`)}return""+en},_e}();const Final=()=>{const St=useBaseFileStore();return jsx("div",{className:"grid h-screen place-items-center bg-primary-selected bg-opacity-20",children:jsxs("div",{className:"flex items-center gap-10",children:[jsx("div",{children:jsx("img",{src:imageFinal,alt:"finish"})}),jsxs("div",{children:[jsx("h3",{className:"mb-10 text-2xl font-bold text-primary",children:"\u606D\u559C\u60A8\uFF01\u6A94\u6848\u5DF2\u5C31\u7DD2"}),jsx("button",{onClick:()=>{if(!St.finalData)return;const en=new E,tn=en.internal.pageSize.width,nn=en.internal.pageSize.height;en.addImage(St.finalData,"png",0,0,tn,nn),en.save("download.pdf")},className:"h-12 w-64 rounded bg-primary text-white shadow",children:"\u4E0B\u8F09\u6A94\u6848"})]})]})})},router=createBrowserRouter([{path:"/",element:jsx(App,{}),children:[{index:!0,element:jsx(UploadFile,{})},{path:"edit",element:jsx(Edit,{})},{path:"final",element:jsx(Final,{})}]}]);client.createRoot(document.getElementById("root")).render(jsx(React$1.StrictMode,{children:jsx(RouterProvider,{router})}));export{commonjsGlobal as c};
